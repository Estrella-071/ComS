(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ix={exports:{}},Ed={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x6=Symbol.for("react.transitional.element"),_6=Symbol.for("react.fragment");function Nx(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:x6,type:e,key:a,ref:t!==void 0?t:null,props:n}}Ed.Fragment=_6;Ed.jsx=Nx;Ed.jsxs=Nx;Ix.exports=Ed;var u=Ix.exports,Mx={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf=Symbol.for("react.transitional.element"),T6=Symbol.for("react.portal"),k6=Symbol.for("react.fragment"),A6=Symbol.for("react.strict_mode"),S6=Symbol.for("react.profiler"),C6=Symbol.for("react.consumer"),E6=Symbol.for("react.context"),I6=Symbol.for("react.forward_ref"),N6=Symbol.for("react.suspense"),M6=Symbol.for("react.memo"),zx=Symbol.for("react.lazy"),z6=Symbol.for("react.activity"),k1=Symbol.iterator;function $6(e){return e===null||typeof e!="object"?null:(e=k1&&e[k1]||e["@@iterator"],typeof e=="function"?e:null)}var $x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rx=Object.assign,Dx={};function as(e,t,n){this.props=e,this.context=t,this.refs=Dx,this.updater=n||$x}as.prototype.isReactComponent={};as.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};as.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ox(){}Ox.prototype=as.prototype;function Kf(e,t,n){this.props=e,this.context=t,this.refs=Dx,this.updater=n||$x}var Qf=Kf.prototype=new Ox;Qf.constructor=Kf;Rx(Qf,as.prototype);Qf.isPureReactComponent=!0;var A1=Array.isArray;function ep(){}var it={H:null,A:null,T:null,S:null},Px=Object.prototype.hasOwnProperty;function Jf(e,t,n){var a=n.ref;return{$$typeof:Yf,type:e,key:t,ref:a!==void 0?a:null,props:n}}function R6(e,t){return Jf(e.type,t,e.props)}function Zf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yf}function D6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var S1=/\/+/g;function yu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?D6(""+e.key):t.toString(36)}function O6(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(ep,ep):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function io(e,t,n,a,i){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(r){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Yf:case T6:o=!0;break;case zx:return o=e._init,io(o(e._payload),t,n,a,i)}}if(o)return i=i(e),o=a===""?"."+yu(e,0):a,A1(i)?(n="",o!=null&&(n=o.replace(S1,"$&/")+"/"),io(i,t,n,"",function(c){return c})):i!=null&&(Zf(i)&&(i=R6(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(S1,"$&/")+"/")+o)),t.push(i)),1;o=0;var s=a===""?".":a+":";if(A1(e))for(var l=0;l<e.length;l++)a=e[l],r=s+yu(a,l),o+=io(a,t,n,r,i);else if(l=$6(e),typeof l=="function")for(e=l.call(e),l=0;!(a=e.next()).done;)a=a.value,r=s+yu(a,l++),o+=io(a,t,n,r,i);else if(r==="object"){if(typeof e.then=="function")return io(O6(e),t,n,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function wc(e,t,n){if(e==null)return e;var a=[],i=0;return io(e,a,"","",function(r){return t.call(n,r,i++)}),a}function P6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var C1=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},L6={map:wc,forEach:function(e,t,n){wc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wc(e,function(){t++}),t},toArray:function(e){return wc(e,function(t){return t})||[]},only:function(e){if(!Zf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Activity=z6;ve.Children=L6;ve.Component=as;ve.Fragment=k6;ve.Profiler=S6;ve.PureComponent=Kf;ve.StrictMode=A6;ve.Suspense=N6;ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it;ve.__COMPILER_RUNTIME={__proto__:null,c:function(e){return it.H.useMemoCache(e)}};ve.cache=function(e){return function(){return e.apply(null,arguments)}};ve.cacheSignal=function(){return null};ve.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=Rx({},e.props),i=e.key;if(t!=null)for(r in t.key!==void 0&&(i=""+t.key),t)!Px.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(a[r]=t[r]);var r=arguments.length-2;if(r===1)a.children=n;else if(1<r){for(var o=Array(r),s=0;s<r;s++)o[s]=arguments[s+2];a.children=o}return Jf(e.type,i,a)};ve.createContext=function(e){return e={$$typeof:E6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:C6,_context:e},e};ve.createElement=function(e,t,n){var a,i={},r=null;if(t!=null)for(a in t.key!==void 0&&(r=""+t.key),t)Px.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(i[a]=t[a]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)i[a]===void 0&&(i[a]=o[a]);return Jf(e,r,i)};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:I6,render:e}};ve.isValidElement=Zf;ve.lazy=function(e){return{$$typeof:zx,_payload:{_status:-1,_result:e},_init:P6}};ve.memo=function(e,t){return{$$typeof:M6,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=it.T,n={};it.T=n;try{var a=e(),i=it.S;i!==null&&i(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(ep,C1)}catch(r){C1(r)}finally{t!==null&&n.types!==null&&(t.types=n.types),it.T=t}};ve.unstable_useCacheRefresh=function(){return it.H.useCacheRefresh()};ve.use=function(e){return it.H.use(e)};ve.useActionState=function(e,t,n){return it.H.useActionState(e,t,n)};ve.useCallback=function(e,t){return it.H.useCallback(e,t)};ve.useContext=function(e){return it.H.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e,t){return it.H.useDeferredValue(e,t)};ve.useEffect=function(e,t){return it.H.useEffect(e,t)};ve.useEffectEvent=function(e){return it.H.useEffectEvent(e)};ve.useId=function(){return it.H.useId()};ve.useImperativeHandle=function(e,t,n){return it.H.useImperativeHandle(e,t,n)};ve.useInsertionEffect=function(e,t){return it.H.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return it.H.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return it.H.useMemo(e,t)};ve.useOptimistic=function(e,t){return it.H.useOptimistic(e,t)};ve.useReducer=function(e,t,n){return it.H.useReducer(e,t,n)};ve.useRef=function(e){return it.H.useRef(e)};ve.useState=function(e){return it.H.useState(e)};ve.useSyncExternalStore=function(e,t,n){return it.H.useSyncExternalStore(e,t,n)};ve.useTransition=function(){return it.H.useTransition()};ve.version="19.2.3";Mx.exports=ve;var N=Mx.exports;const Io=Vl(N);var Lx={exports:{}},Id={},Bx={exports:{}},Fx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,L){var B=$.length;$.push(L);e:for(;0<B;){var V=B-1>>>1,E=$[V];if(0<i(E,L))$[V]=L,$[B]=E,B=V;else break e}}function n($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var L=$[0],B=$.pop();if(B!==L){$[0]=B;e:for(var V=0,E=$.length,re=E>>>1;V<re;){var le=2*(V+1)-1,O=$[le],pe=le+1,ye=$[pe];if(0>i(O,B))pe<E&&0>i(ye,O)?($[V]=ye,$[pe]=B,V=pe):($[V]=O,$[le]=B,V=le);else if(pe<E&&0>i(ye,B))$[V]=ye,$[pe]=B,V=pe;else break e}}return L}function i($,L){var B=$.sortIndex-L.sortIndex;return B!==0?B:$.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],h=1,d=null,m=3,p=!1,b=!1,y=!1,T=!1,g=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function _($){for(var L=n(c);L!==null;){if(L.callback===null)a(c);else if(L.startTime<=$)a(c),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(c)}}function C($){if(y=!1,_($),!b)if(n(l)!==null)b=!0,A||(A=!0,H());else{var L=n(c);L!==null&&j(C,L.startTime-$)}}var A=!1,M=-1,I=5,R=-1;function z(){return T?!0:!(e.unstable_now()-R<I)}function F(){if(T=!1,A){var $=e.unstable_now();R=$;var L=!0;try{e:{b=!1,y&&(y=!1,w(M),M=-1),p=!0;var B=m;try{t:{for(_($),d=n(l);d!==null&&!(d.expirationTime>$&&z());){var V=d.callback;if(typeof V=="function"){d.callback=null,m=d.priorityLevel;var E=V(d.expirationTime<=$);if($=e.unstable_now(),typeof E=="function"){d.callback=E,_($),L=!0;break t}d===n(l)&&a(l),_($)}else a(l);d=n(l)}if(d!==null)L=!0;else{var re=n(c);re!==null&&j(C,re.startTime-$),L=!1}}break e}finally{d=null,m=B,p=!1}L=void 0}}finally{L?H():A=!1}}}var H;if(typeof x=="function")H=function(){x(F)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,G=X.port2;X.port1.onmessage=F,H=function(){G.postMessage(null)}}else H=function(){g(F,0)};function j($,L){M=g(function(){$(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function($){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var B=m;m=L;try{return $()}finally{m=B}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function($,L){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var B=m;m=$;try{return L()}finally{m=B}},e.unstable_scheduleCallback=function($,L,B){var V=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?V+B:V):B=V,$){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=B+E,$={id:h++,callback:L,priorityLevel:$,startTime:B,expirationTime:E,sortIndex:-1},B>V?($.sortIndex=B,t(c,$),n(l)===null&&$===n(c)&&(y?(w(M),M=-1):y=!0,j(C,B-V))):($.sortIndex=E,t(l,$),b||p||(b=!0,A||(A=!0,H()))),$},e.unstable_shouldYield=z,e.unstable_wrapCallback=function($){var L=m;return function(){var B=m;m=L;try{return $.apply(this,arguments)}finally{m=B}}}})(Fx);Bx.exports=Fx;var B6=Bx.exports,jx={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F6=N;function Ux(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ui(){}var Jt={d:{f:ui,r:function(){throw Error(Ux(522))},D:ui,C:ui,L:ui,m:ui,X:ui,S:ui,M:ui},p:0,findDOMNode:null},j6=Symbol.for("react.portal");function U6(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j6,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Vs=F6.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Nd(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Jt;tn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Ux(299));return U6(e,t,null,n)};tn.flushSync=function(e){var t=Vs.T,n=Jt.p;try{if(Vs.T=null,Jt.p=2,e)return e()}finally{Vs.T=t,Jt.p=n,Jt.d.f()}};tn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Jt.d.C(e,t))};tn.prefetchDNS=function(e){typeof e=="string"&&Jt.d.D(e)};tn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=Nd(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Jt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:r}):n==="script"&&Jt.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};tn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Nd(t.as,t.crossOrigin);Jt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Jt.d.M(e)};tn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=Nd(n,t.crossOrigin);Jt.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};tn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Nd(t.as,t.crossOrigin);Jt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Jt.d.m(e)};tn.requestFormReset=function(e){Jt.d.r(e)};tn.unstable_batchedUpdates=function(e,t){return e(t)};tn.useFormState=function(e,t,n){return Vs.H.useFormState(e,t,n)};tn.useFormStatus=function(){return Vs.H.useHostTransitionStatus()};tn.version="19.2.3";function qx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qx)}catch(e){console.error(e)}}qx(),jx.exports=tn;var q6=jx.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rt=B6,Hx=N,H6=q6;function K(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Wx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vx(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function E1(e){if(Xl(e)!==e)throw Error(K(188))}function W6(e){var t=e.alternate;if(!t){if(t=Xl(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return E1(i),e;if(r===a)return E1(i),t;r=r.sibling}throw Error(K(188))}if(n.return!==a.return)n=i,a=r;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,a=r;break}if(s===a){o=!0,a=i,n=r;break}s=s.sibling}if(!o){for(s=r.child;s;){if(s===n){o=!0,n=r,a=i;break}if(s===a){o=!0,a=r,n=i;break}s=s.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==a)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function Xx(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Xx(e),t!==null)return t;e=e.sibling}return null}var rt=Object.assign,G6=Symbol.for("react.element"),vc=Symbol.for("react.transitional.element"),Ls=Symbol.for("react.portal"),ho=Symbol.for("react.fragment"),Yx=Symbol.for("react.strict_mode"),tp=Symbol.for("react.profiler"),Kx=Symbol.for("react.consumer"),Ga=Symbol.for("react.context"),e0=Symbol.for("react.forward_ref"),np=Symbol.for("react.suspense"),ap=Symbol.for("react.suspense_list"),t0=Symbol.for("react.memo"),wi=Symbol.for("react.lazy"),ip=Symbol.for("react.activity"),V6=Symbol.for("react.memo_cache_sentinel"),I1=Symbol.iterator;function ks(e){return e===null||typeof e!="object"?null:(e=I1&&e[I1]||e["@@iterator"],typeof e=="function"?e:null)}var X6=Symbol.for("react.client.reference");function rp(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===X6?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ho:return"Fragment";case tp:return"Profiler";case Yx:return"StrictMode";case np:return"Suspense";case ap:return"SuspenseList";case ip:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ls:return"Portal";case Ga:return e.displayName||"Context";case Kx:return(e._context.displayName||"Context")+".Consumer";case e0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case t0:return t=e.displayName||null,t!==null?t:rp(e.type)||"Memo";case wi:t=e._payload,e=e._init;try{return rp(e(t))}catch{}}return null}var Bs=Array.isArray,be=Hx.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Le=H6.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vr={pending:!1,data:null,method:null,action:null},op=[],uo=-1;function Ca(e){return{current:e}}function Bt(e){0>uo||(e.current=op[uo],op[uo]=null,uo--)}function Ze(e,t){uo++,op[uo]=e.current,e.current=t}var Ta=Ca(null),gl=Ca(null),Ri=Ca(null),Rh=Ca(null);function Dh(e,t){switch(Ze(Ri,t),Ze(gl,e),Ze(Ta,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Db(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Db(t),e=g4(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Bt(Ta),Ze(Ta,e)}function Fo(){Bt(Ta),Bt(gl),Bt(Ri)}function sp(e){e.memoizedState!==null&&Ze(Rh,e);var t=Ta.current,n=g4(t,e.type);t!==n&&(Ze(gl,e),Ze(Ta,n))}function Oh(e){gl.current===e&&(Bt(Ta),Bt(gl)),Rh.current===e&&(Bt(Rh),Cl._currentValue=vr)}var wu,N1;function cr(e){if(wu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wu=t&&t[1]||"",N1=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wu+e+N1}var vu=!1;function xu(e,t){if(!e||vu)return"";vu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(p){var m=p}Reflect.construct(e,[],d)}else{try{d.call()}catch(p){m=p}e.call(d.prototype)}}else{try{throw Error()}catch(p){m=p}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(p){if(p&&m&&typeof p.stack=="string")return[p.stack,m.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),o=r[0],s=r[1];if(o&&s){var l=o.split(`
`),c=s.split(`
`);for(i=a=0;a<l.length&&!l[a].includes("DetermineComponentFrameRoot");)a++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(a===l.length||i===c.length)for(a=l.length-1,i=c.length-1;1<=a&&0<=i&&l[a]!==c[i];)i--;for(;1<=a&&0<=i;a--,i--)if(l[a]!==c[i]){if(a!==1||i!==1)do if(a--,i--,0>i||l[a]!==c[i]){var h=`
`+l[a].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=a&&0<=i);break}}}finally{vu=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?cr(n):""}function Y6(e,t){switch(e.tag){case 26:case 27:case 5:return cr(e.type);case 16:return cr("Lazy");case 13:return e.child!==t&&t!==null?cr("Suspense Fallback"):cr("Suspense");case 19:return cr("SuspenseList");case 0:case 15:return xu(e.type,!1);case 11:return xu(e.type.render,!1);case 1:return xu(e.type,!0);case 31:return cr("Activity");default:return""}}function M1(e){try{var t="",n=null;do t+=Y6(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var lp=Object.prototype.hasOwnProperty,n0=Rt.unstable_scheduleCallback,_u=Rt.unstable_cancelCallback,K6=Rt.unstable_shouldYield,Q6=Rt.unstable_requestPaint,Sn=Rt.unstable_now,J6=Rt.unstable_getCurrentPriorityLevel,Qx=Rt.unstable_ImmediatePriority,Jx=Rt.unstable_UserBlockingPriority,Ph=Rt.unstable_NormalPriority,Z6=Rt.unstable_LowPriority,Zx=Rt.unstable_IdlePriority,eA=Rt.log,tA=Rt.unstable_setDisableYieldValue,Yl=null,Cn=null;function Ci(e){if(typeof eA=="function"&&tA(e),Cn&&typeof Cn.setStrictMode=="function")try{Cn.setStrictMode(Yl,e)}catch{}}var En=Math.clz32?Math.clz32:iA,nA=Math.log,aA=Math.LN2;function iA(e){return e>>>=0,e===0?32:31-(nA(e)/aA|0)|0}var xc=256,_c=262144,Tc=4194304;function hr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Md(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=a&134217727;return s!==0?(a=s&~r,a!==0?i=hr(a):(o&=s,o!==0?i=hr(o):n||(n=s&~e,n!==0&&(i=hr(n))))):(s=a&~r,s!==0?i=hr(s):o!==0?i=hr(o):n||(n=a&~e,n!==0&&(i=hr(n)))),i===0?0:t!==0&&t!==i&&!(t&r)&&(r=i&-i,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:i}function Kl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function rA(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e2(){var e=Tc;return Tc<<=1,!(Tc&62914560)&&(Tc=4194304),e}function Tu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ql(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function oA(e,t,n,a,i,r){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var h=31-En(n),d=1<<h;s[h]=0,l[h]=-1;var m=c[h];if(m!==null)for(c[h]=null,h=0;h<m.length;h++){var p=m[h];p!==null&&(p.lane&=-536870913)}n&=~d}a!==0&&t2(e,a,0),r!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=r&~(o&~t))}function t2(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-En(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function n2(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-En(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function a2(e,t){var n=t&-t;return n=n&42?1:a0(n),n&(e.suspendedLanes|t)?0:n}function a0(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function i0(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function i2(){var e=Le.p;return e!==0?e:(e=window.event,e===void 0?32:C4(e.type))}function z1(e,t){var n=Le.p;try{return Le.p=e,t()}finally{Le.p=n}}var Qi=Math.random().toString(36).slice(2),jt="__reactFiber$"+Qi,fn="__reactProps$"+Qi,is="__reactContainer$"+Qi,cp="__reactEvents$"+Qi,sA="__reactListeners$"+Qi,lA="__reactHandles$"+Qi,$1="__reactResources$"+Qi,Jl="__reactMarker$"+Qi;function r0(e){delete e[jt],delete e[fn],delete e[cp],delete e[sA],delete e[lA]}function mo(e){var t=e[jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[is]||n[jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fb(e);e!==null;){if(n=e[jt])return n;e=Fb(e)}return t}e=n,n=e.parentNode}return null}function rs(e){if(e=e[jt]||e[is]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Fs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(K(33))}function No(e){var t=e[$1];return t||(t=e[$1]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Lt(e){e[Jl]=!0}var r2=new Set,o2={};function Pr(e,t){jo(e,t),jo(e+"Capture",t)}function jo(e,t){for(o2[e]=t,e=0;e<t.length;e++)r2.add(t[e])}var cA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),R1={},D1={};function hA(e){return lp.call(D1,e)?!0:lp.call(R1,e)?!1:cA.test(e)?D1[e]=!0:(R1[e]=!0,!1)}function lh(e,t,n){if(hA(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function kc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Oa(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function jn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function s2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dA(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,r.call(this,o)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hp(e){if(!e._valueTracker){var t=s2(e)?"checked":"value";e._valueTracker=dA(e,t,""+e[t])}}function l2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=s2(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Lh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var uA=/[\n"\\]/g;function Wn(e){return e.replace(uA,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function dp(e,t,n,a,i,r,o,s){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+jn(t)):e.value!==""+jn(t)&&(e.value=""+jn(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?up(e,o,jn(t)):n!=null?up(e,o,jn(n)):a!=null&&e.removeAttribute("value"),i==null&&r!=null&&(e.defaultChecked=!!r),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.name=""+jn(s):e.removeAttribute("name")}function c2(e,t,n,a,i,r,o,s){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){hp(e);return}n=n!=null?""+jn(n):"",t=t!=null?""+jn(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=s?e.checked:!!a,e.defaultChecked=!!a,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),hp(e)}function up(e,t,n){t==="number"&&Lh(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Mo(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+jn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function h2(e,t,n){if(t!=null&&(t=""+jn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+jn(n):""}function d2(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(K(92));if(Bs(a)){if(1<a.length)throw Error(K(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=jn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),hp(e)}function Uo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function O1(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||mA.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function u2(e,t,n){if(t!=null&&typeof t!="object")throw Error(K(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&O1(e,i,a)}else for(var r in t)t.hasOwnProperty(r)&&O1(e,r,t[r])}function o0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ch(e){return fA.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Va(){}var mp=null;function s0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var po=null,zo=null;function P1(e){var t=rs(e);if(t&&(e=t.stateNode)){var n=e[fn]||null;e:switch(e=t.stateNode,t.type){case"input":if(dp(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Wn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[fn]||null;if(!i)throw Error(K(90));dp(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&l2(a)}break e;case"textarea":h2(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Mo(e,!!n.multiple,t,!1)}}}var ku=!1;function m2(e,t,n){if(ku)return e(t,n);ku=!0;try{var a=e(t);return a}finally{if(ku=!1,(po!==null||zo!==null)&&(qd(),po&&(t=po,e=zo,zo=po=null,P1(t),e)))for(t=0;t<e.length;t++)P1(e[t])}}function bl(e,t){var n=e.stateNode;if(n===null)return null;var a=n[fn]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pp=!1;if(ei)try{var As={};Object.defineProperty(As,"passive",{get:function(){pp=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{pp=!1}var Ei=null,l0=null,hh=null;function p2(){if(hh)return hh;var e,t=l0,n=t.length,a,i="value"in Ei?Ei.value:Ei.textContent,r=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(a=1;a<=o&&t[n-a]===i[r-a];a++);return hh=i.slice(e,1<a?1-a:void 0)}function dh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ac(){return!0}function L1(){return!1}function gn(e){function t(n,a,i,r,o){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(r):r[s]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Ac:L1,this.isPropagationStopped=L1,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ac)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ac)},persist:function(){},isPersistent:Ac}),t}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zd=gn(Lr),Zl=rt({},Lr,{view:0,detail:0}),gA=gn(Zl),Au,Su,Ss,$d=rt({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ss&&(Ss&&e.type==="mousemove"?(Au=e.screenX-Ss.screenX,Su=e.screenY-Ss.screenY):Su=Au=0,Ss=e),Au)},movementY:function(e){return"movementY"in e?e.movementY:Su}}),B1=gn($d),bA=rt({},$d,{dataTransfer:0}),yA=gn(bA),wA=rt({},Zl,{relatedTarget:0}),Cu=gn(wA),vA=rt({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),xA=gn(vA),_A=rt({},Lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TA=gn(_A),kA=rt({},Lr,{data:0}),F1=gn(kA),AA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CA[e])?!!t[e]:!1}function c0(){return EA}var IA=rt({},Zl,{key:function(e){if(e.key){var t=AA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c0,charCode:function(e){return e.type==="keypress"?dh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NA=gn(IA),MA=rt({},$d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j1=gn(MA),zA=rt({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c0}),$A=gn(zA),RA=rt({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),DA=gn(RA),OA=rt({},$d,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PA=gn(OA),LA=rt({},Lr,{newState:0,oldState:0}),BA=gn(LA),FA=[9,13,27,32],h0=ei&&"CompositionEvent"in window,Xs=null;ei&&"documentMode"in document&&(Xs=document.documentMode);var jA=ei&&"TextEvent"in window&&!Xs,f2=ei&&(!h0||Xs&&8<Xs&&11>=Xs),U1=" ",q1=!1;function g2(e,t){switch(e){case"keyup":return FA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fo=!1;function UA(e,t){switch(e){case"compositionend":return b2(t);case"keypress":return t.which!==32?null:(q1=!0,U1);case"textInput":return e=t.data,e===U1&&q1?null:e;default:return null}}function qA(e,t){if(fo)return e==="compositionend"||!h0&&g2(e,t)?(e=p2(),hh=l0=Ei=null,fo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return f2&&t.locale!=="ko"?null:t.data;default:return null}}var HA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!HA[e.type]:t==="textarea"}function y2(e,t,n,a){po?zo?zo.push(a):zo=[a]:po=a,t=nd(t,"onChange"),0<t.length&&(n=new zd("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ys=null,yl=null;function WA(e){m4(e,0)}function Rd(e){var t=Fs(e);if(l2(t))return e}function W1(e,t){if(e==="change")return t}var w2=!1;if(ei){var Eu;if(ei){var Iu="oninput"in document;if(!Iu){var G1=document.createElement("div");G1.setAttribute("oninput","return;"),Iu=typeof G1.oninput=="function"}Eu=Iu}else Eu=!1;w2=Eu&&(!document.documentMode||9<document.documentMode)}function V1(){Ys&&(Ys.detachEvent("onpropertychange",v2),yl=Ys=null)}function v2(e){if(e.propertyName==="value"&&Rd(yl)){var t=[];y2(t,yl,e,s0(e)),m2(WA,t)}}function GA(e,t,n){e==="focusin"?(V1(),Ys=t,yl=n,Ys.attachEvent("onpropertychange",v2)):e==="focusout"&&V1()}function VA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rd(yl)}function XA(e,t){if(e==="click")return Rd(t)}function YA(e,t){if(e==="input"||e==="change")return Rd(t)}function KA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zn=typeof Object.is=="function"?Object.is:KA;function wl(e,t){if(zn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!lp.call(t,i)||!zn(e[i],t[i]))return!1}return!0}function X1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Y1(e,t){var n=X1(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=X1(n)}}function x2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?x2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _2(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Lh(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Lh(e.document)}return t}function d0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var QA=ei&&"documentMode"in document&&11>=document.documentMode,go=null,fp=null,Ks=null,gp=!1;function K1(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gp||go==null||go!==Lh(a)||(a=go,"selectionStart"in a&&d0(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ks&&wl(Ks,a)||(Ks=a,a=nd(fp,"onSelect"),0<a.length&&(t=new zd("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=go)))}function ir(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bo={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},Nu={},T2={};ei&&(T2=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function Br(e){if(Nu[e])return Nu[e];if(!bo[e])return e;var t=bo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in T2)return Nu[e]=t[n];return e}var k2=Br("animationend"),A2=Br("animationiteration"),S2=Br("animationstart"),JA=Br("transitionrun"),ZA=Br("transitionstart"),eS=Br("transitioncancel"),C2=Br("transitionend"),E2=new Map,bp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bp.push("scrollEnd");function pa(e,t){E2.set(e,t),Pr(t,[e])}var Bh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Fn=[],yo=0,u0=0;function Dd(){for(var e=yo,t=u0=yo=0;t<e;){var n=Fn[t];Fn[t++]=null;var a=Fn[t];Fn[t++]=null;var i=Fn[t];Fn[t++]=null;var r=Fn[t];if(Fn[t++]=null,a!==null&&i!==null){var o=a.pending;o===null?i.next=i:(i.next=o.next,o.next=i),a.pending=i}r!==0&&I2(n,i,r)}}function Od(e,t,n,a){Fn[yo++]=e,Fn[yo++]=t,Fn[yo++]=n,Fn[yo++]=a,u0|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function m0(e,t,n,a){return Od(e,t,n,a),Fh(e)}function Fr(e,t){return Od(e,null,null,t),Fh(e)}function I2(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,r=e.return;r!==null;)r.childLanes|=n,a=r.alternate,a!==null&&(a.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(i=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,i&&t!==null&&(i=31-En(n),e=r.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),r):null}function Fh(e){if(50<rl)throw rl=0,Lp=null,Error(K(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var wo={};function tS(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,t,n,a){return new tS(e,t,n,a)}function p0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ya(e,t){var n=e.alternate;return n===null?(n=Tn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function N2(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function uh(e,t,n,a,i,r){var o=0;if(a=e,typeof e=="function")p0(e)&&(o=1);else if(typeof e=="string")o=o7(e,n,Ta.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ip:return e=Tn(31,n,t,i),e.elementType=ip,e.lanes=r,e;case ho:return xr(n.children,i,r,t);case Yx:o=8,i|=24;break;case tp:return e=Tn(12,n,t,i|2),e.elementType=tp,e.lanes=r,e;case np:return e=Tn(13,n,t,i),e.elementType=np,e.lanes=r,e;case ap:return e=Tn(19,n,t,i),e.elementType=ap,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ga:o=10;break e;case Kx:o=9;break e;case e0:o=11;break e;case t0:o=14;break e;case wi:o=16,a=null;break e}o=29,n=Error(K(130,e===null?"null":typeof e,"")),a=null}return t=Tn(o,n,t,i),t.elementType=e,t.type=a,t.lanes=r,t}function xr(e,t,n,a){return e=Tn(7,e,a,t),e.lanes=n,e}function Mu(e,t,n){return e=Tn(6,e,null,t),e.lanes=n,e}function M2(e){var t=Tn(18,null,null,0);return t.stateNode=e,t}function zu(e,t,n){return t=Tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Q1=new WeakMap;function Gn(e,t){if(typeof e=="object"&&e!==null){var n=Q1.get(e);return n!==void 0?n:(t={value:e,source:t,stack:M1(t)},Q1.set(e,t),t)}return{value:e,source:t,stack:M1(t)}}var vo=[],xo=0,jh=null,vl=0,Un=[],qn=0,qi=null,ya=1,wa="";function Ua(e,t){vo[xo++]=vl,vo[xo++]=jh,jh=e,vl=t}function z2(e,t,n){Un[qn++]=ya,Un[qn++]=wa,Un[qn++]=qi,qi=e;var a=ya;e=wa;var i=32-En(a)-1;a&=~(1<<i),n+=1;var r=32-En(t)+i;if(30<r){var o=i-i%5;r=(a&(1<<o)-1).toString(32),a>>=o,i-=o,ya=1<<32-En(t)+i|n<<i|a,wa=r+e}else ya=1<<r|n<<i|a,wa=e}function f0(e){e.return!==null&&(Ua(e,1),z2(e,1,0))}function g0(e){for(;e===jh;)jh=vo[--xo],vo[xo]=null,vl=vo[--xo],vo[xo]=null;for(;e===qi;)qi=Un[--qn],Un[qn]=null,wa=Un[--qn],Un[qn]=null,ya=Un[--qn],Un[qn]=null}function $2(e,t){Un[qn++]=ya,Un[qn++]=wa,Un[qn++]=qi,ya=t.id,wa=t.overflow,qi=e}var Ut=null,at=null,ze=!1,Di=null,Vn=!1,yp=Error(K(519));function Hi(e){var t=Error(K(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xl(Gn(t,e)),yp}function J1(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[jt]=e,t[fn]=a,n){case"dialog":Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":case"embed":Ce("load",t);break;case"video":case"audio":for(n=0;n<Al.length;n++)Ce(Al[n],t);break;case"source":Ce("error",t);break;case"img":case"image":case"link":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"input":Ce("invalid",t),c2(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ce("invalid",t);break;case"textarea":Ce("invalid",t),d2(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||f4(t.textContent,n)?(a.popover!=null&&(Ce("beforetoggle",t),Ce("toggle",t)),a.onScroll!=null&&Ce("scroll",t),a.onScrollEnd!=null&&Ce("scrollend",t),a.onClick!=null&&(t.onclick=Va),t=!0):t=!1,t||Hi(e,!0)}function Z1(e){for(Ut=e.return;Ut;)switch(Ut.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Ut=Ut.return}}function Qr(e){if(e!==Ut)return!1;if(!ze)return Z1(e),ze=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||qp(e.type,e.memoizedProps)),n=!n),n&&at&&Hi(e),Z1(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));at=Bb(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));at=Bb(e)}else t===27?(t=at,Ji(e.type)?(e=Vp,Vp=null,at=e):at=t):at=Ut?Qn(e.stateNode.nextSibling):null;return!0}function Ir(){at=Ut=null,ze=!1}function $u(){var e=Di;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Di=null),e}function xl(e){Di===null?Di=[e]:Di.push(e)}var wp=Ca(null),jr=null,Xa=null;function Ti(e,t,n){Ze(wp,t._currentValue),t._currentValue=n}function Ka(e){e._currentValue=wp.current,Bt(wp)}function vp(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function xp(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var r=i.dependencies;if(r!==null){var o=i.child;r=r.firstContext;e:for(;r!==null;){var s=r;r=i;for(var l=0;l<t.length;l++)if(s.context===t[l]){r.lanes|=n,s=r.alternate,s!==null&&(s.lanes|=n),vp(r.return,n,e),a||(o=null);break e}r=s.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,r=o.alternate,r!==null&&(r.lanes|=n),vp(o,n,e),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function os(e,t,n,a){e=null;for(var i=t,r=!1;i!==null;){if(!r){if(i.flags&524288)r=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(K(387));if(o=o.memoizedProps,o!==null){var s=i.type;zn(i.pendingProps.value,o.value)||(e!==null?e.push(s):e=[s])}}else if(i===Rh.current){if(o=i.alternate,o===null)throw Error(K(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Cl):e=[Cl])}i=i.return}e!==null&&xp(t,e,n,a),t.flags|=262144}function Uh(e){for(e=e.firstContext;e!==null;){if(!zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Nr(e){jr=e,Xa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return R2(jr,e)}function Sc(e,t){return jr===null&&Nr(e),R2(e,t)}function R2(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Xa===null){if(e===null)throw Error(K(308));Xa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Xa=Xa.next=t;return n}var nS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},aS=Rt.unstable_scheduleCallback,iS=Rt.unstable_NormalPriority,Et={$$typeof:Ga,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function b0(){return{controller:new nS,data:new Map,refCount:0}}function ec(e){e.refCount--,e.refCount===0&&aS(iS,function(){e.controller.abort()})}var Qs=null,_p=0,qo=0,$o=null;function rS(e,t){if(Qs===null){var n=Qs=[];_p=0,qo=U0(),$o={status:"pending",value:void 0,then:function(a){n.push(a)}}}return _p++,t.then(eb,eb),t}function eb(){if(--_p===0&&Qs!==null){$o!==null&&($o.status="fulfilled");var e=Qs;Qs=null,qo=0,$o=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function oS(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var tb=be.S;be.S=function(e,t){X_=Sn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&rS(e,t),tb!==null&&tb(e,t)};var _r=Ca(null);function y0(){var e=_r.current;return e!==null?e:Xe.pooledCache}function mh(e,t){t===null?Ze(_r,_r.current):Ze(_r,t.pool)}function D2(){var e=y0();return e===null?null:{parent:Et._currentValue,pool:e}}var ss=Error(K(460)),w0=Error(K(474)),Pd=Error(K(542)),qh={then:function(){}};function nb(e){return e=e.status,e==="fulfilled"||e==="rejected"}function O2(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Va,Va),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ib(e),e;default:if(typeof t.status=="string")t.then(Va,Va);else{if(e=Xe,e!==null&&100<e.shellSuspendCounter)throw Error(K(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ib(e),e}throw Tr=t,ss}}function dr(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Tr=n,ss):n}}var Tr=null;function ab(){if(Tr===null)throw Error(K(459));var e=Tr;return Tr=null,e}function ib(e){if(e===ss||e===Pd)throw Error(K(483))}var Ro=null,_l=0;function Cc(e){var t=_l;return _l+=1,Ro===null&&(Ro=[]),O2(Ro,e,t)}function Cs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ec(e,t){throw t.$$typeof===G6?Error(K(525)):(e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function P2(e){function t(g,w){if(e){var x=g.deletions;x===null?(g.deletions=[w],g.flags|=16):x.push(w)}}function n(g,w){if(!e)return null;for(;w!==null;)t(g,w),w=w.sibling;return null}function a(g){for(var w=new Map;g!==null;)g.key!==null?w.set(g.key,g):w.set(g.index,g),g=g.sibling;return w}function i(g,w){return g=Ya(g,w),g.index=0,g.sibling=null,g}function r(g,w,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<w?(g.flags|=67108866,w):x):(g.flags|=67108866,w)):(g.flags|=1048576,w)}function o(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function s(g,w,x,_){return w===null||w.tag!==6?(w=Mu(x,g.mode,_),w.return=g,w):(w=i(w,x),w.return=g,w)}function l(g,w,x,_){var C=x.type;return C===ho?h(g,w,x.props.children,_,x.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===wi&&dr(C)===w.type)?(w=i(w,x.props),Cs(w,x),w.return=g,w):(w=uh(x.type,x.key,x.props,null,g.mode,_),Cs(w,x),w.return=g,w)}function c(g,w,x,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=zu(x,g.mode,_),w.return=g,w):(w=i(w,x.children||[]),w.return=g,w)}function h(g,w,x,_,C){return w===null||w.tag!==7?(w=xr(x,g.mode,_,C),w.return=g,w):(w=i(w,x),w.return=g,w)}function d(g,w,x){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Mu(""+w,g.mode,x),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vc:return x=uh(w.type,w.key,w.props,null,g.mode,x),Cs(x,w),x.return=g,x;case Ls:return w=zu(w,g.mode,x),w.return=g,w;case wi:return w=dr(w),d(g,w,x)}if(Bs(w)||ks(w))return w=xr(w,g.mode,x,null),w.return=g,w;if(typeof w.then=="function")return d(g,Cc(w),x);if(w.$$typeof===Ga)return d(g,Sc(g,w),x);Ec(g,w)}return null}function m(g,w,x,_){var C=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return C!==null?null:s(g,w,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case vc:return x.key===C?l(g,w,x,_):null;case Ls:return x.key===C?c(g,w,x,_):null;case wi:return x=dr(x),m(g,w,x,_)}if(Bs(x)||ks(x))return C!==null?null:h(g,w,x,_,null);if(typeof x.then=="function")return m(g,w,Cc(x),_);if(x.$$typeof===Ga)return m(g,w,Sc(g,x),_);Ec(g,x)}return null}function p(g,w,x,_,C){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return g=g.get(x)||null,s(w,g,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vc:return g=g.get(_.key===null?x:_.key)||null,l(w,g,_,C);case Ls:return g=g.get(_.key===null?x:_.key)||null,c(w,g,_,C);case wi:return _=dr(_),p(g,w,x,_,C)}if(Bs(_)||ks(_))return g=g.get(x)||null,h(w,g,_,C,null);if(typeof _.then=="function")return p(g,w,x,Cc(_),C);if(_.$$typeof===Ga)return p(g,w,x,Sc(w,_),C);Ec(w,_)}return null}function b(g,w,x,_){for(var C=null,A=null,M=w,I=w=0,R=null;M!==null&&I<x.length;I++){M.index>I?(R=M,M=null):R=M.sibling;var z=m(g,M,x[I],_);if(z===null){M===null&&(M=R);break}e&&M&&z.alternate===null&&t(g,M),w=r(z,w,I),A===null?C=z:A.sibling=z,A=z,M=R}if(I===x.length)return n(g,M),ze&&Ua(g,I),C;if(M===null){for(;I<x.length;I++)M=d(g,x[I],_),M!==null&&(w=r(M,w,I),A===null?C=M:A.sibling=M,A=M);return ze&&Ua(g,I),C}for(M=a(M);I<x.length;I++)R=p(M,g,I,x[I],_),R!==null&&(e&&R.alternate!==null&&M.delete(R.key===null?I:R.key),w=r(R,w,I),A===null?C=R:A.sibling=R,A=R);return e&&M.forEach(function(F){return t(g,F)}),ze&&Ua(g,I),C}function y(g,w,x,_){if(x==null)throw Error(K(151));for(var C=null,A=null,M=w,I=w=0,R=null,z=x.next();M!==null&&!z.done;I++,z=x.next()){M.index>I?(R=M,M=null):R=M.sibling;var F=m(g,M,z.value,_);if(F===null){M===null&&(M=R);break}e&&M&&F.alternate===null&&t(g,M),w=r(F,w,I),A===null?C=F:A.sibling=F,A=F,M=R}if(z.done)return n(g,M),ze&&Ua(g,I),C;if(M===null){for(;!z.done;I++,z=x.next())z=d(g,z.value,_),z!==null&&(w=r(z,w,I),A===null?C=z:A.sibling=z,A=z);return ze&&Ua(g,I),C}for(M=a(M);!z.done;I++,z=x.next())z=p(M,g,I,z.value,_),z!==null&&(e&&z.alternate!==null&&M.delete(z.key===null?I:z.key),w=r(z,w,I),A===null?C=z:A.sibling=z,A=z);return e&&M.forEach(function(H){return t(g,H)}),ze&&Ua(g,I),C}function T(g,w,x,_){if(typeof x=="object"&&x!==null&&x.type===ho&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case vc:e:{for(var C=x.key;w!==null;){if(w.key===C){if(C=x.type,C===ho){if(w.tag===7){n(g,w.sibling),_=i(w,x.props.children),_.return=g,g=_;break e}}else if(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===wi&&dr(C)===w.type){n(g,w.sibling),_=i(w,x.props),Cs(_,x),_.return=g,g=_;break e}n(g,w);break}else t(g,w);w=w.sibling}x.type===ho?(_=xr(x.props.children,g.mode,_,x.key),_.return=g,g=_):(_=uh(x.type,x.key,x.props,null,g.mode,_),Cs(_,x),_.return=g,g=_)}return o(g);case Ls:e:{for(C=x.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(g,w.sibling),_=i(w,x.children||[]),_.return=g,g=_;break e}else{n(g,w);break}else t(g,w);w=w.sibling}_=zu(x,g.mode,_),_.return=g,g=_}return o(g);case wi:return x=dr(x),T(g,w,x,_)}if(Bs(x))return b(g,w,x,_);if(ks(x)){if(C=ks(x),typeof C!="function")throw Error(K(150));return x=C.call(x),y(g,w,x,_)}if(typeof x.then=="function")return T(g,w,Cc(x),_);if(x.$$typeof===Ga)return T(g,w,Sc(g,x),_);Ec(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,w!==null&&w.tag===6?(n(g,w.sibling),_=i(w,x),_.return=g,g=_):(n(g,w),_=Mu(x,g.mode,_),_.return=g,g=_),o(g)):n(g,w)}return function(g,w,x,_){try{_l=0;var C=T(g,w,x,_);return Ro=null,C}catch(M){if(M===ss||M===Pd)throw M;var A=Tn(29,M,null,g.mode);return A.lanes=_,A.return=g,A}finally{}}}var Mr=P2(!0),L2=P2(!1),vi=!1;function v0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pi(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Pe&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Fh(e),I2(e,null,n),t}return Od(e,a,t,n),Fh(e)}function Js(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,n2(e,n)}}function Ru(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?i=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?i=r=t:r=r.next=t}else i=r=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var kp=!1;function Zs(){if(kp){var e=$o;if(e!==null)throw e}}function el(e,t,n,a){kp=!1;var i=e.updateQueue;vi=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var h=e.alternate;h!==null&&(h=h.updateQueue,s=h.lastBaseUpdate,s!==o&&(s===null?h.firstBaseUpdate=c:s.next=c,h.lastBaseUpdate=l))}if(r!==null){var d=i.baseState;o=0,h=c=l=null,s=r;do{var m=s.lane&-536870913,p=m!==s.lane;if(p?(Me&m)===m:(a&m)===m){m!==0&&m===qo&&(kp=!0),h!==null&&(h=h.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var b=e,y=s;m=t;var T=n;switch(y.tag){case 1:if(b=y.payload,typeof b=="function"){d=b.call(T,d,m);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,m=typeof b=="function"?b.call(T,d,m):b,m==null)break e;d=rt({},d,m);break e;case 2:vi=!0}}m=s.callback,m!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[m]:p.push(m))}else p={lane:m,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(c=h=p,l=d):h=h.next=p,o|=m;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,r===null&&(i.shared.lanes=0),Gi|=o,e.lanes=o,e.memoizedState=d}}function B2(e,t){if(typeof e!="function")throw Error(K(191,e));e.call(t)}function F2(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)B2(n[e],t)}var Ho=Ca(null),Hh=Ca(0);function rb(e,t){e=ii,Ze(Hh,e),Ze(Ho,t),ii=e|t.baseLanes}function Ap(){Ze(Hh,ii),Ze(Ho,Ho.current)}function x0(){ii=Hh.current,Bt(Ho),Bt(Hh)}var $n=Ca(null),Kn=null;function ki(e){var t=e.alternate;Ze(yt,yt.current&1),Ze($n,e),Kn===null&&(t===null||Ho.current!==null||t.memoizedState!==null)&&(Kn=e)}function Sp(e){Ze(yt,yt.current),Ze($n,e),Kn===null&&(Kn=e)}function j2(e){e.tag===22?(Ze(yt,yt.current),Ze($n,e),Kn===null&&(Kn=e)):Ai()}function Ai(){Ze(yt,yt.current),Ze($n,$n.current)}function _n(e){Bt($n),Kn===e&&(Kn=null),Bt(yt)}var yt=Ca(0);function Wh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Wp(n)||Gp(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=0,xe=null,Ge=null,St=null,Gh=!1,Do=!1,zr=!1,Vh=0,Tl=0,Oo=null,sS=0;function ut(){throw Error(K(321))}function _0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zn(e[n],t[n]))return!1;return!0}function T0(e,t,n,a,i,r){return ti=r,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,be.H=e===null||e.memoizedState===null?y_:R0,zr=!1,r=n(a,i),zr=!1,Do&&(r=q2(t,n,a,i)),U2(e),r}function U2(e){be.H=kl;var t=Ge!==null&&Ge.next!==null;if(ti=0,St=Ge=xe=null,Gh=!1,Tl=0,Oo=null,t)throw Error(K(300));e===null||It||(e=e.dependencies,e!==null&&Uh(e)&&(It=!0))}function q2(e,t,n,a){xe=e;var i=0;do{if(Do&&(Oo=null),Tl=0,Do=!1,25<=i)throw Error(K(301));if(i+=1,St=Ge=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}be.H=w_,r=t(n,a)}while(Do);return r}function lS(){var e=be.H,t=e.useState()[0];return t=typeof t.then=="function"?tc(t):t,e=e.useState()[0],(Ge!==null?Ge.memoizedState:null)!==e&&(xe.flags|=1024),t}function k0(){var e=Vh!==0;return Vh=0,e}function A0(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function S0(e){if(Gh){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Gh=!1}ti=0,St=Ge=xe=null,Do=!1,Tl=Vh=0,Oo=null}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?xe.memoizedState=St=e:St=St.next=e,St}function vt(){if(Ge===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=St===null?xe.memoizedState:St.next;if(t!==null)St=t,Ge=e;else{if(e===null)throw xe.alternate===null?Error(K(467)):Error(K(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},St===null?xe.memoizedState=St=e:St=St.next=e}return St}function Ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(e){var t=Tl;return Tl+=1,Oo===null&&(Oo=[]),e=O2(Oo,e,t),t=xe,(St===null?t.memoizedState:St.next)===null&&(t=t.alternate,be.H=t===null||t.memoizedState===null?y_:R0),e}function Bd(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tc(e);if(e.$$typeof===Ga)return qt(e)}throw Error(K(438,String(e)))}function C0(e){var t=null,n=xe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=xe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ld(),xe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=V6;return t.index++,n}function ni(e,t){return typeof t=="function"?t(e):t}function ph(e){var t=vt();return E0(t,Ge,e)}function E0(e,t,n){var a=e.queue;if(a===null)throw Error(K(311));a.lastRenderedReducer=n;var i=e.baseQueue,r=a.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}t.baseQueue=i=r,a.pending=null}if(r=e.baseState,i===null)e.memoizedState=r;else{t=i.next;var s=o=null,l=null,c=t,h=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(Me&d)===d:(ti&d)===d){var m=c.revertLane;if(m===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===qo&&(h=!0);else if((ti&m)===m){c=c.next,m===qo&&(h=!0);continue}else d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(s=l=d,o=r):l=l.next=d,xe.lanes|=m,Gi|=m;d=c.action,zr&&n(r,d),r=c.hasEagerState?c.eagerState:n(r,d)}else m={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(s=l=m,o=r):l=l.next=m,xe.lanes|=d,Gi|=d;c=c.next}while(c!==null&&c!==t);if(l===null?o=r:l.next=s,!zn(r,e.memoizedState)&&(It=!0,h&&(n=$o,n!==null)))throw n;e.memoizedState=r,e.baseState=o,e.baseQueue=l,a.lastRenderedState=r}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Du(e){var t=vt(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,r=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do r=e(r,o.action),o=o.next;while(o!==i);zn(r,t.memoizedState)||(It=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function H2(e,t,n){var a=xe,i=vt(),r=ze;if(r){if(n===void 0)throw Error(K(407));n=n()}else n=t();var o=!zn((Ge||i).memoizedState,n);if(o&&(i.memoizedState=n,It=!0),i=i.queue,I0(V2.bind(null,a,i,e),[e]),i.getSnapshot!==t||o||St!==null&&St.memoizedState.tag&1){if(a.flags|=2048,Wo(9,{destroy:void 0},G2.bind(null,a,i,n,t),null),Xe===null)throw Error(K(349));r||ti&127||W2(a,t,n)}return n}function W2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t=Ld(),xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function G2(e,t,n,a){t.value=n,t.getSnapshot=a,X2(t)&&Y2(e)}function V2(e,t,n){return n(function(){X2(t)&&Y2(e)})}function X2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zn(e,n)}catch{return!0}}function Y2(e){var t=Fr(e,2);t!==null&&mn(t,e,2)}function Cp(e){var t=Yt();if(typeof e=="function"){var n=e;if(e=n(),zr){Ci(!0);try{n()}finally{Ci(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:e},t}function K2(e,t,n,a){return e.baseState=n,E0(e,Ge,typeof a=="function"?a:ni)}function cS(e,t,n,a,i){if(jd(e))throw Error(K(485));if(e=t.action,e!==null){var r={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){r.listeners.push(o)}};be.T!==null?n(!0):r.isTransition=!1,a(r),n=t.pending,n===null?(r.next=t.pending=r,Q2(t,r)):(r.next=n.next,t.pending=n.next=r)}}function Q2(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var r=be.T,o={};be.T=o;try{var s=n(i,a),l=be.S;l!==null&&l(o,s),ob(e,t,s)}catch(c){Ep(e,t,c)}finally{r!==null&&o.types!==null&&(r.types=o.types),be.T=r}}else try{r=n(i,a),ob(e,t,r)}catch(c){Ep(e,t,c)}}function ob(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){sb(e,t,a)},function(a){return Ep(e,t,a)}):sb(e,t,n)}function sb(e,t,n){t.status="fulfilled",t.value=n,J2(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Q2(e,n)))}function Ep(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,J2(t),t=t.next;while(t!==a)}e.action=null}function J2(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Z2(e,t){return t}function lb(e,t){if(ze){var n=Xe.formState;if(n!==null){e:{var a=xe;if(ze){if(at){t:{for(var i=at,r=Vn;i.nodeType!==8;){if(!r){i=null;break t}if(i=Qn(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){at=Qn(i.nextSibling),a=i.data==="F!";break e}}Hi(a)}a=!1}a&&(t=n[0])}}return n=Yt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Z2,lastRenderedState:t},n.queue=a,n=f_.bind(null,xe,a),a.dispatch=n,a=Cp(!1),r=$0.bind(null,xe,!1,a.queue),a=Yt(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=cS.bind(null,xe,i,r,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function cb(e){var t=vt();return e_(t,Ge,e)}function e_(e,t,n){if(t=E0(e,t,Z2)[0],e=ph(ni)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=tc(t)}catch(o){throw o===ss?Pd:o}else a=t;t=vt();var i=t.queue,r=i.dispatch;return n!==t.memoizedState&&(xe.flags|=2048,Wo(9,{destroy:void 0},hS.bind(null,i,n),null)),[a,r,e]}function hS(e,t){e.action=t}function hb(e){var t=vt(),n=Ge;if(n!==null)return e_(t,n,e);vt(),t=t.memoizedState,n=vt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Wo(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=xe.updateQueue,t===null&&(t=Ld(),xe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function t_(){return vt().memoizedState}function fh(e,t,n,a){var i=Yt();xe.flags|=e,i.memoizedState=Wo(1|t,{destroy:void 0},n,a===void 0?null:a)}function Fd(e,t,n,a){var i=vt();a=a===void 0?null:a;var r=i.memoizedState.inst;Ge!==null&&a!==null&&_0(a,Ge.memoizedState.deps)?i.memoizedState=Wo(t,r,n,a):(xe.flags|=e,i.memoizedState=Wo(1|t,r,n,a))}function db(e,t){fh(8390656,8,e,t)}function I0(e,t){Fd(2048,8,e,t)}function dS(e){xe.flags|=4;var t=xe.updateQueue;if(t===null)t=Ld(),xe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function n_(e){var t=vt().memoizedState;return dS({ref:t,nextImpl:e}),function(){if(Pe&2)throw Error(K(440));return t.impl.apply(void 0,arguments)}}function a_(e,t){return Fd(4,2,e,t)}function i_(e,t){return Fd(4,4,e,t)}function r_(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function o_(e,t,n){n=n!=null?n.concat([e]):null,Fd(4,4,r_.bind(null,t,e),n)}function N0(){}function s_(e,t){var n=vt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&_0(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function l_(e,t){var n=vt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&_0(t,a[1]))return a[0];if(a=e(),zr){Ci(!0);try{e()}finally{Ci(!1)}}return n.memoizedState=[a,t],a}function M0(e,t,n){return n===void 0||ti&1073741824&&!(Me&261930)?e.memoizedState=t:(e.memoizedState=n,e=K_(),xe.lanes|=e,Gi|=e,n)}function c_(e,t,n,a){return zn(n,t)?n:Ho.current!==null?(e=M0(e,n,a),zn(e,t)||(It=!0),e):!(ti&42)||ti&1073741824&&!(Me&261930)?(It=!0,e.memoizedState=n):(e=K_(),xe.lanes|=e,Gi|=e,t)}function h_(e,t,n,a,i){var r=Le.p;Le.p=r!==0&&8>r?r:8;var o=be.T,s={};be.T=s,$0(e,!1,t,n);try{var l=i(),c=be.S;if(c!==null&&c(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=oS(l,a);tl(e,t,h,In(e))}else tl(e,t,a,In(e))}catch(d){tl(e,t,{then:function(){},status:"rejected",reason:d},In())}finally{Le.p=r,o!==null&&s.types!==null&&(o.types=s.types),be.T=o}}function uS(){}function Ip(e,t,n,a){if(e.tag!==5)throw Error(K(476));var i=d_(e).queue;h_(e,i,t,vr,n===null?uS:function(){return u_(e),n(a)})}function d_(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:vr,baseState:vr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:vr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function u_(e){var t=d_(e);t.next===null&&(t=e.alternate.memoizedState),tl(e,t.next.queue,{},In())}function z0(){return qt(Cl)}function m_(){return vt().memoizedState}function p_(){return vt().memoizedState}function mS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=In();e=Oi(n);var a=Pi(t,e,n);a!==null&&(mn(a,t,n),Js(a,t,n)),t={cache:b0()},e.payload=t;return}t=t.return}}function pS(e,t,n){var a=In();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},jd(e)?g_(t,n):(n=m0(e,t,n,a),n!==null&&(mn(n,e,a),b_(n,t,a)))}function f_(e,t,n){var a=In();tl(e,t,n,a)}function tl(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(jd(e))g_(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var o=t.lastRenderedState,s=r(o,n);if(i.hasEagerState=!0,i.eagerState=s,zn(s,o))return Od(e,t,i,0),Xe===null&&Dd(),!1}catch{}finally{}if(n=m0(e,t,i,a),n!==null)return mn(n,e,a),b_(n,t,a),!0}return!1}function $0(e,t,n,a){if(a={lane:2,revertLane:U0(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},jd(e)){if(t)throw Error(K(479))}else t=m0(e,n,a,2),t!==null&&mn(t,e,2)}function jd(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function g_(e,t){Do=Gh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function b_(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,n2(e,n)}}var kl={readContext:qt,use:Bd,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};kl.useEffectEvent=ut;var y_={readContext:qt,use:Bd,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:db,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,fh(4194308,4,r_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fh(4194308,4,e,t)},useInsertionEffect:function(e,t){fh(4,2,e,t)},useMemo:function(e,t){var n=Yt();t=t===void 0?null:t;var a=e();if(zr){Ci(!0);try{e()}finally{Ci(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Yt();if(n!==void 0){var i=n(t);if(zr){Ci(!0);try{n(t)}finally{Ci(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=pS.bind(null,xe,e),[a.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:function(e){e=Cp(e);var t=e.queue,n=f_.bind(null,xe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:N0,useDeferredValue:function(e,t){var n=Yt();return M0(n,e,t)},useTransition:function(){var e=Cp(!1);return e=h_.bind(null,xe,e.queue,!0,!1),Yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=xe,i=Yt();if(ze){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),Xe===null)throw Error(K(349));Me&127||W2(a,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,db(V2.bind(null,a,r,e),[e]),a.flags|=2048,Wo(9,{destroy:void 0},G2.bind(null,a,r,n,t),null),n},useId:function(){var e=Yt(),t=Xe.identifierPrefix;if(ze){var n=wa,a=ya;n=(a&~(1<<32-En(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Vh++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=sS++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:z0,useFormState:lb,useActionState:lb,useOptimistic:function(e){var t=Yt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=$0.bind(null,xe,!0,n),n.dispatch=t,[e,t]},useMemoCache:C0,useCacheRefresh:function(){return Yt().memoizedState=mS.bind(null,xe)},useEffectEvent:function(e){var t=Yt(),n={impl:e};return t.memoizedState=n,function(){if(Pe&2)throw Error(K(440));return n.impl.apply(void 0,arguments)}}},R0={readContext:qt,use:Bd,useCallback:s_,useContext:qt,useEffect:I0,useImperativeHandle:o_,useInsertionEffect:a_,useLayoutEffect:i_,useMemo:l_,useReducer:ph,useRef:t_,useState:function(){return ph(ni)},useDebugValue:N0,useDeferredValue:function(e,t){var n=vt();return c_(n,Ge.memoizedState,e,t)},useTransition:function(){var e=ph(ni)[0],t=vt().memoizedState;return[typeof e=="boolean"?e:tc(e),t]},useSyncExternalStore:H2,useId:m_,useHostTransitionStatus:z0,useFormState:cb,useActionState:cb,useOptimistic:function(e,t){var n=vt();return K2(n,Ge,e,t)},useMemoCache:C0,useCacheRefresh:p_};R0.useEffectEvent=n_;var w_={readContext:qt,use:Bd,useCallback:s_,useContext:qt,useEffect:I0,useImperativeHandle:o_,useInsertionEffect:a_,useLayoutEffect:i_,useMemo:l_,useReducer:Du,useRef:t_,useState:function(){return Du(ni)},useDebugValue:N0,useDeferredValue:function(e,t){var n=vt();return Ge===null?M0(n,e,t):c_(n,Ge.memoizedState,e,t)},useTransition:function(){var e=Du(ni)[0],t=vt().memoizedState;return[typeof e=="boolean"?e:tc(e),t]},useSyncExternalStore:H2,useId:m_,useHostTransitionStatus:z0,useFormState:hb,useActionState:hb,useOptimistic:function(e,t){var n=vt();return Ge!==null?K2(n,Ge,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:C0,useCacheRefresh:p_};w_.useEffectEvent=n_;function Ou(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:rt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Np={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=In(),i=Oi(a);i.payload=t,n!=null&&(i.callback=n),t=Pi(e,i,a),t!==null&&(mn(t,e,a),Js(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=In(),i=Oi(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Pi(e,i,a),t!==null&&(mn(t,e,a),Js(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=In(),a=Oi(n);a.tag=2,t!=null&&(a.callback=t),t=Pi(e,a,n),t!==null&&(mn(t,e,n),Js(t,e,n))}};function ub(e,t,n,a,i,r,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,o):t.prototype&&t.prototype.isPureReactComponent?!wl(n,a)||!wl(i,r):!0}function mb(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Np.enqueueReplaceState(t,t.state,null)}function $r(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=rt({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function v_(e){Bh(e)}function x_(e){console.error(e)}function __(e){Bh(e)}function Xh(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function pb(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Mp(e,t,n){return n=Oi(n),n.tag=3,n.payload={element:null},n.callback=function(){Xh(e,t)},n}function T_(e){return e=Oi(e),e.tag=3,e}function k_(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=a.value;e.payload=function(){return i(r)},e.callback=function(){pb(t,n,a)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){pb(t,n,a),typeof i!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var s=a.stack;this.componentDidCatch(a.value,{componentStack:s!==null?s:""})})}function fS(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&os(t,n,i,!0),n=$n.current,n!==null){switch(n.tag){case 31:case 13:return Kn===null?Zh():n.alternate===null&&pt===0&&(pt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===qh?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Vu(e,a,i)),!1;case 22:return n.flags|=65536,a===qh?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Vu(e,a,i)),!1}throw Error(K(435,n.tag))}return Vu(e,a,i),Zh(),!1}if(ze)return t=$n.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==yp&&(e=Error(K(422),{cause:a}),xl(Gn(e,n)))):(a!==yp&&(t=Error(K(423),{cause:a}),xl(Gn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Gn(a,n),i=Mp(e.stateNode,a,i),Ru(e,i),pt!==4&&(pt=2)),!1;var r=Error(K(520),{cause:a});if(r=Gn(r,n),il===null?il=[r]:il.push(r),pt!==4&&(pt=2),t===null)return!0;a=Gn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=Mp(n.stateNode,a,e),Ru(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Li===null||!Li.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,i=T_(i),k_(i,e,n,a),Ru(n,i),!1}n=n.return}while(n!==null);return!1}var D0=Error(K(461)),It=!1;function Ft(e,t,n,a){t.child=e===null?L2(t,null,n,a):Mr(t,e.child,n,a)}function fb(e,t,n,a,i){n=n.render;var r=t.ref;if("ref"in a){var o={};for(var s in a)s!=="ref"&&(o[s]=a[s])}else o=a;return Nr(t),a=T0(e,t,n,o,r,i),s=k0(),e!==null&&!It?(A0(e,t,i),ai(e,t,i)):(ze&&s&&f0(t),t.flags|=1,Ft(e,t,a,i),t.child)}function gb(e,t,n,a,i){if(e===null){var r=n.type;return typeof r=="function"&&!p0(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,A_(e,t,r,a,i)):(e=uh(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!O0(e,i)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:wl,n(o,a)&&e.ref===t.ref)return ai(e,t,i)}return t.flags|=1,e=Ya(r,a),e.ref=t.ref,e.return=t,t.child=e}function A_(e,t,n,a,i){if(e!==null){var r=e.memoizedProps;if(wl(r,a)&&e.ref===t.ref)if(It=!1,t.pendingProps=a=r,O0(e,i))e.flags&131072&&(It=!0);else return t.lanes=e.lanes,ai(e,t,i)}return zp(e,t,n,a,i)}function S_(e,t,n,a){var i=a.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~r}else a=0,t.child=null;return bb(e,t,r,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&mh(t,r!==null?r.cachePool:null),r!==null?rb(t,r):Ap(),j2(t);else return a=t.lanes=536870912,bb(e,t,r!==null?r.baseLanes|n:n,n,a)}else r!==null?(mh(t,r.cachePool),rb(t,r),Ai(),t.memoizedState=null):(e!==null&&mh(t,null),Ap(),Ai());return Ft(e,t,i,n),t.child}function js(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bb(e,t,n,a,i){var r=y0();return r=r===null?null:{parent:Et._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&mh(t,null),Ap(),j2(t),e!==null&&os(e,t,a,!0),t.childLanes=i,null}function gh(e,t){return t=Yh({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function yb(e,t,n){return Mr(t,e.child,null,n),e=gh(t,t.pendingProps),e.flags|=2,_n(t),t.memoizedState=null,e}function gS(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ze){if(a.mode==="hidden")return e=gh(t,a),t.lanes=536870912,js(null,e);if(Sp(t),(e=at)?(e=y4(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:qi!==null?{id:ya,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},n=M2(e),n.return=t,t.child=n,Ut=t,at=null)):e=null,e===null)throw Hi(t);return t.lanes=536870912,null}return gh(t,a)}var r=e.memoizedState;if(r!==null){var o=r.dehydrated;if(Sp(t),i)if(t.flags&256)t.flags&=-257,t=yb(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(K(558));else if(It||os(e,t,n,!1),i=(n&e.childLanes)!==0,It||i){if(a=Xe,a!==null&&(o=a2(a,n),o!==0&&o!==r.retryLane))throw r.retryLane=o,Fr(e,o),mn(a,e,o),D0;Zh(),t=yb(e,t,n)}else e=r.treeContext,at=Qn(o.nextSibling),Ut=t,ze=!0,Di=null,Vn=!1,e!==null&&$2(t,e),t=gh(t,a),t.flags|=4096;return t}return e=Ya(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function bh(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(K(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function zp(e,t,n,a,i){return Nr(t),n=T0(e,t,n,a,void 0,i),a=k0(),e!==null&&!It?(A0(e,t,i),ai(e,t,i)):(ze&&a&&f0(t),t.flags|=1,Ft(e,t,n,i),t.child)}function wb(e,t,n,a,i,r){return Nr(t),t.updateQueue=null,n=q2(t,a,n,i),U2(e),a=k0(),e!==null&&!It?(A0(e,t,r),ai(e,t,r)):(ze&&a&&f0(t),t.flags|=1,Ft(e,t,n,r),t.child)}function vb(e,t,n,a,i){if(Nr(t),t.stateNode===null){var r=wo,o=n.contextType;typeof o=="object"&&o!==null&&(r=qt(o)),r=new n(a,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Np,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=a,r.state=t.memoizedState,r.refs={},v0(t),o=n.contextType,r.context=typeof o=="object"&&o!==null?qt(o):wo,r.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(Ou(t,n,o,a),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(o=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),o!==r.state&&Np.enqueueReplaceState(r,r.state,null),el(t,a,r,i),Zs(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){r=t.stateNode;var s=t.memoizedProps,l=$r(n,s);r.props=l;var c=r.context,h=n.contextType;o=wo,typeof h=="object"&&h!==null&&(o=qt(h));var d=n.getDerivedStateFromProps;h=typeof d=="function"||typeof r.getSnapshotBeforeUpdate=="function",s=t.pendingProps!==s,h||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(s||c!==o)&&mb(t,r,a,o),vi=!1;var m=t.memoizedState;r.state=m,el(t,a,r,i),Zs(),c=t.memoizedState,s||m!==c||vi?(typeof d=="function"&&(Ou(t,n,d,a),c=t.memoizedState),(l=vi||ub(t,n,l,a,m,c,o))?(h||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),r.props=a,r.state=c,r.context=o,a=l):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,Tp(e,t),o=t.memoizedProps,h=$r(n,o),r.props=h,d=t.pendingProps,m=r.context,c=n.contextType,l=wo,typeof c=="object"&&c!==null&&(l=qt(c)),s=n.getDerivedStateFromProps,(c=typeof s=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o!==d||m!==l)&&mb(t,r,a,l),vi=!1,m=t.memoizedState,r.state=m,el(t,a,r,i),Zs();var p=t.memoizedState;o!==d||m!==p||vi||e!==null&&e.dependencies!==null&&Uh(e.dependencies)?(typeof s=="function"&&(Ou(t,n,s,a),p=t.memoizedState),(h=vi||ub(t,n,h,a,m,p,l)||e!==null&&e.dependencies!==null&&Uh(e.dependencies))?(c||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,p,l),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,p,l)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),r.props=a,r.state=p,r.context=l,a=h):(typeof r.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,bh(e,t),a=(t.flags&128)!==0,r||a?(r=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&a?(t.child=Mr(t,e.child,null,i),t.child=Mr(t,null,n,i)):Ft(e,t,n,i),t.memoizedState=r.state,e=t.child):e=ai(e,t,i),e}function xb(e,t,n,a){return Ir(),t.flags|=256,Ft(e,t,n,a),t.child}var Pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lu(e){return{baseLanes:e,cachePool:D2()}}function Bu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=An),e}function C_(e,t,n){var a=t.pendingProps,i=!1,r=(t.flags&128)!==0,o;if((o=r)||(o=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),o&&(i=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(ze){if(i?ki(t):Ai(),(e=at)?(e=y4(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:qi!==null?{id:ya,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},n=M2(e),n.return=t,t.child=n,Ut=t,at=null)):e=null,e===null)throw Hi(t);return Gp(e)?t.lanes=32:t.lanes=536870912,null}var s=a.children;return a=a.fallback,i?(Ai(),i=t.mode,s=Yh({mode:"hidden",children:s},i),a=xr(a,i,n,null),s.return=t,a.return=t,s.sibling=a,t.child=s,a=t.child,a.memoizedState=Lu(n),a.childLanes=Bu(e,o,n),t.memoizedState=Pu,js(null,a)):(ki(t),$p(t,s))}var l=e.memoizedState;if(l!==null&&(s=l.dehydrated,s!==null)){if(r)t.flags&256?(ki(t),t.flags&=-257,t=Fu(e,t,n)):t.memoizedState!==null?(Ai(),t.child=e.child,t.flags|=128,t=null):(Ai(),s=a.fallback,i=t.mode,a=Yh({mode:"visible",children:a.children},i),s=xr(s,i,n,null),s.flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,Mr(t,e.child,null,n),a=t.child,a.memoizedState=Lu(n),a.childLanes=Bu(e,o,n),t.memoizedState=Pu,t=js(null,a));else if(ki(t),Gp(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var c=o.dgst;o=c,a=Error(K(419)),a.stack="",a.digest=o,xl({value:a,source:null,stack:null}),t=Fu(e,t,n)}else if(It||os(e,t,n,!1),o=(n&e.childLanes)!==0,It||o){if(o=Xe,o!==null&&(a=a2(o,n),a!==0&&a!==l.retryLane))throw l.retryLane=a,Fr(e,a),mn(o,e,a),D0;Wp(s)||Zh(),t=Fu(e,t,n)}else Wp(s)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,at=Qn(s.nextSibling),Ut=t,ze=!0,Di=null,Vn=!1,e!==null&&$2(t,e),t=$p(t,a.children),t.flags|=4096);return t}return i?(Ai(),s=a.fallback,i=t.mode,l=e.child,c=l.sibling,a=Ya(l,{mode:"hidden",children:a.children}),a.subtreeFlags=l.subtreeFlags&65011712,c!==null?s=Ya(c,s):(s=xr(s,i,n,null),s.flags|=2),s.return=t,a.return=t,a.sibling=s,t.child=a,js(null,a),a=t.child,s=e.child.memoizedState,s===null?s=Lu(n):(i=s.cachePool,i!==null?(l=Et._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=D2(),s={baseLanes:s.baseLanes|n,cachePool:i}),a.memoizedState=s,a.childLanes=Bu(e,o,n),t.memoizedState=Pu,js(e.child,a)):(ki(t),n=e.child,e=n.sibling,n=Ya(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function $p(e,t){return t=Yh({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Yh(e,t){return e=Tn(22,e,null,t),e.lanes=0,e}function Fu(e,t,n){return Mr(t,e.child,null,n),e=$p(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _b(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),vp(e.return,t,n)}function ju(e,t,n,a,i,r){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=n,o.tailMode=i,o.treeForkCount=r)}function E_(e,t,n){var a=t.pendingProps,i=a.revealOrder,r=a.tail;a=a.children;var o=yt.current,s=(o&2)!==0;if(s?(o=o&1|2,t.flags|=128):o&=1,Ze(yt,o),Ft(e,t,a,n),a=ze?vl:0,!s&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_b(e,n,t);else if(e.tag===19)_b(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Wh(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ju(t,!1,i,n,r,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Wh(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ju(t,!0,n,null,r,a);break;case"together":ju(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ai(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gi|=t.lanes,!(n&t.childLanes))if(e!==null){if(os(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=Ya(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ya(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function O0(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Uh(e)))}function bS(e,t,n){switch(t.tag){case 3:Dh(t,t.stateNode.containerInfo),Ti(t,Et,e.memoizedState.cache),Ir();break;case 27:case 5:sp(t);break;case 4:Dh(t,t.stateNode.containerInfo);break;case 10:Ti(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Sp(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ki(t),t.flags|=128,null):n&t.child.childLanes?C_(e,t,n):(ki(t),e=ai(e,t,n),e!==null?e.sibling:null);ki(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(os(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return E_(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(yt,yt.current),a)break;return null;case 22:return t.lanes=0,S_(e,t,n,t.pendingProps);case 24:Ti(t,Et,e.memoizedState.cache)}return ai(e,t,n)}function I_(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)It=!0;else{if(!O0(e,n)&&!(t.flags&128))return It=!1,bS(e,t,n);It=!!(e.flags&131072)}else It=!1,ze&&t.flags&1048576&&z2(t,vl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=dr(t.elementType),t.type=e,typeof e=="function")p0(e)?(a=$r(e,a),t.tag=1,t=vb(null,t,e,a,n)):(t.tag=0,t=zp(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===e0){t.tag=11,t=fb(null,t,e,a,n);break e}else if(i===t0){t.tag=14,t=gb(null,t,e,a,n);break e}}throw t=rp(e)||e,Error(K(306,t,""))}}return t;case 0:return zp(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=$r(a,t.pendingProps),vb(e,t,a,i,n);case 3:e:{if(Dh(t,t.stateNode.containerInfo),e===null)throw Error(K(387));a=t.pendingProps;var r=t.memoizedState;i=r.element,Tp(e,t),el(t,a,null,n);var o=t.memoizedState;if(a=o.cache,Ti(t,Et,a),a!==r.cache&&xp(t,[Et],n,!0),Zs(),a=o.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=xb(e,t,a,n);break e}else if(a!==i){i=Gn(Error(K(424)),t),xl(i),t=xb(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(at=Qn(e.firstChild),Ut=t,ze=!0,Di=null,Vn=!0,n=L2(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ir(),a===i){t=ai(e,t,n);break e}Ft(e,t,a,n)}t=t.child}return t;case 26:return bh(e,t),e===null?(n=Ub(t.type,null,t.pendingProps,null))?t.memoizedState=n:ze||(n=t.type,e=t.pendingProps,a=ad(Ri.current).createElement(n),a[jt]=t,a[fn]=e,Ht(a,n,e),Lt(a),t.stateNode=a):t.memoizedState=Ub(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return sp(t),e===null&&ze&&(a=t.stateNode=w4(t.type,t.pendingProps,Ri.current),Ut=t,Vn=!0,i=at,Ji(t.type)?(Vp=i,at=Qn(a.firstChild)):at=i),Ft(e,t,t.pendingProps.children,n),bh(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ze&&((i=a=at)&&(a=VS(a,t.type,t.pendingProps,Vn),a!==null?(t.stateNode=a,Ut=t,at=Qn(a.firstChild),Vn=!1,i=!0):i=!1),i||Hi(t)),sp(t),i=t.type,r=t.pendingProps,o=e!==null?e.memoizedProps:null,a=r.children,qp(i,r)?a=null:o!==null&&qp(i,o)&&(t.flags|=32),t.memoizedState!==null&&(i=T0(e,t,lS,null,null,n),Cl._currentValue=i),bh(e,t),Ft(e,t,a,n),t.child;case 6:return e===null&&ze&&((e=n=at)&&(n=XS(n,t.pendingProps,Vn),n!==null?(t.stateNode=n,Ut=t,at=null,e=!0):e=!1),e||Hi(t)),null;case 13:return C_(e,t,n);case 4:return Dh(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Mr(t,null,a,n):Ft(e,t,a,n),t.child;case 11:return fb(e,t,t.type,t.pendingProps,n);case 7:return Ft(e,t,t.pendingProps,n),t.child;case 8:return Ft(e,t,t.pendingProps.children,n),t.child;case 12:return Ft(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Ti(t,t.type,a.value),Ft(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Nr(t),i=qt(i),a=a(i),t.flags|=1,Ft(e,t,a,n),t.child;case 14:return gb(e,t,t.type,t.pendingProps,n);case 15:return A_(e,t,t.type,t.pendingProps,n);case 19:return E_(e,t,n);case 31:return gS(e,t,n);case 22:return S_(e,t,n,t.pendingProps);case 24:return Nr(t),a=qt(Et),e===null?(i=y0(),i===null&&(i=Xe,r=b0(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=n),i=r),t.memoizedState={parent:a,cache:i},v0(t),Ti(t,Et,i)):(e.lanes&n&&(Tp(e,t),el(t,null,null,n),Zs()),i=e.memoizedState,r=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Ti(t,Et,a)):(a=r.cache,Ti(t,Et,a),a!==i.cache&&xp(t,[Et],n,!0))),Ft(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(K(156,t.tag))}function Pa(e){e.flags|=4}function Uu(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Z_())e.flags|=8192;else throw Tr=qh,w0}else e.flags&=-16777217}function Tb(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!_4(t))if(Z_())e.flags|=8192;else throw Tr=qh,w0}function Ic(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?e2():536870912,e.lanes|=t,Go|=t)}function Es(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function yS(e,t,n){var a=t.pendingProps;switch(g0(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return tt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ka(Et),Fo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qr(t)?Pa(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$u())),tt(t),null;case 26:var i=t.type,r=t.memoizedState;return e===null?(Pa(t),r!==null?(tt(t),Tb(t,r)):(tt(t),Uu(t,i,null,a,n))):r?r!==e.memoizedState?(Pa(t),tt(t),Tb(t,r)):(tt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Pa(t),tt(t),Uu(t,i,e,a,n)),null;case 27:if(Oh(t),n=Ri.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Pa(t);else{if(!a){if(t.stateNode===null)throw Error(K(166));return tt(t),null}e=Ta.current,Qr(t)?J1(t):(e=w4(i,a,n),t.stateNode=e,Pa(t))}return tt(t),null;case 5:if(Oh(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Pa(t);else{if(!a){if(t.stateNode===null)throw Error(K(166));return tt(t),null}if(r=Ta.current,Qr(t))J1(t);else{var o=ad(Ri.current);switch(r){case 1:r=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=o.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof a.is=="string"?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?r.multiple=!0:a.size&&(r.size=a.size);break;default:r=typeof a.is=="string"?o.createElement(i,{is:a.is}):o.createElement(i)}}r[jt]=t,r[fn]=a;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)r.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=r;e:switch(Ht(r,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Pa(t)}}return tt(t),Uu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Pa(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(K(166));if(e=Ri.current,Qr(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Ut,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[jt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||f4(e.nodeValue,n)),e||Hi(t,!0)}else e=ad(e).createTextNode(a),e[jt]=t,t.stateNode=e}return tt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Qr(t),n!==null){if(e===null){if(!a)throw Error(K(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(557));e[jt]=t}else Ir(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tt(t),e=!1}else n=$u(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(_n(t),t):(_n(t),null);if(t.flags&128)throw Error(K(558))}return tt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Qr(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(K(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[jt]=t}else Ir(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tt(t),i=!1}else i=$u(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(_n(t),t):(_n(t),null)}return _n(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ic(t,t.updateQueue),tt(t),null);case 4:return Fo(),e===null&&q0(t.stateNode.containerInfo),tt(t),null;case 10:return Ka(t.type),tt(t),null;case 19:if(Bt(yt),a=t.memoizedState,a===null)return tt(t),null;if(i=(t.flags&128)!==0,r=a.rendering,r===null)if(i)Es(a,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=Wh(e),r!==null){for(t.flags|=128,Es(a,!1),e=r.updateQueue,t.updateQueue=e,Ic(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)N2(n,e),n=n.sibling;return Ze(yt,yt.current&1|2),ze&&Ua(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Sn()>Qh&&(t.flags|=128,i=!0,Es(a,!1),t.lanes=4194304)}else{if(!i)if(e=Wh(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Ic(t,e),Es(a,!0),a.tail===null&&a.tailMode==="hidden"&&!r.alternate&&!ze)return tt(t),null}else 2*Sn()-a.renderingStartTime>Qh&&n!==536870912&&(t.flags|=128,i=!0,Es(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(e=a.last,e!==null?e.sibling=r:t.child=r,a.last=r)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Sn(),e.sibling=null,n=yt.current,Ze(yt,i?n&1|2:n&1),ze&&Ua(t,a.treeForkCount),e):(tt(t),null);case 22:case 23:return _n(t),x0(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),n=t.updateQueue,n!==null&&Ic(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Bt(_r),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ka(Et),tt(t),null;case 25:return null;case 30:return null}throw Error(K(156,t.tag))}function wS(e,t){switch(g0(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ka(Et),Fo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Oh(t),null;case 31:if(t.memoizedState!==null){if(_n(t),t.alternate===null)throw Error(K(340));Ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(_n(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));Ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Bt(yt),null;case 4:return Fo(),null;case 10:return Ka(t.type),null;case 22:case 23:return _n(t),x0(),e!==null&&Bt(_r),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ka(Et),null;case 25:return null;default:return null}}function N_(e,t){switch(g0(t),t.tag){case 3:Ka(Et),Fo();break;case 26:case 27:case 5:Oh(t);break;case 4:Fo();break;case 31:t.memoizedState!==null&&_n(t);break;case 13:_n(t);break;case 19:Bt(yt);break;case 10:Ka(t.type);break;case 22:case 23:_n(t),x0(),e!==null&&Bt(_r);break;case 24:Ka(Et)}}function nc(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var r=n.create,o=n.inst;a=r(),o.destroy=a}n=n.next}while(n!==i)}}catch(s){Ue(t,t.return,s)}}function Wi(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var r=i.next;a=r;do{if((a.tag&e)===e){var o=a.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(h){Ue(i,l,h)}}}a=a.next}while(a!==r)}}catch(h){Ue(t,t.return,h)}}function M_(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{F2(t,n)}catch(a){Ue(e,e.return,a)}}}function z_(e,t,n){n.props=$r(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Ue(e,t,a)}}function nl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){Ue(e,t,i)}}function va(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){Ue(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ue(e,t,i)}else n.current=null}function $_(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){Ue(e,e.return,i)}}function qu(e,t,n){try{var a=e.stateNode;jS(a,e.type,n,t),a[fn]=t}catch(i){Ue(e,e.return,i)}}function R_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ji(e.type)||e.tag===4}function Hu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||R_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ji(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rp(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Va));else if(a!==4&&(a===27&&Ji(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Rp(e,t,n),e=e.sibling;e!==null;)Rp(e,t,n),e=e.sibling}function Kh(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Ji(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Kh(e,t,n),e=e.sibling;e!==null;)Kh(e,t,n),e=e.sibling}function D_(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ht(t,a,n),t[jt]=e,t[fn]=n}catch(r){Ue(e,e.return,r)}}var Wa=!1,Ct=!1,Wu=!1,kb=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function vS(e,t){if(e=e.containerInfo,jp=sd,e=_2(e),d0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,h=0,d=e,m=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==r||a!==0&&d.nodeType!==3||(l=o+a),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)m=d,d=p;for(;;){if(d===e)break t;if(m===n&&++c===i&&(s=o),m===r&&++h===a&&(l=o),(p=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Up={focusedElem:e,selectionRange:n},sd=!1,Pt=t;Pt!==null;)if(t=Pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pt=e;else for(;Pt!==null;){switch(t=Pt,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,i=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var b=$r(n.type,i);e=a.getSnapshotBeforeUpdate(b,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(y){Ue(n,n.return,y)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Hp(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(K(163))}if(e=t.sibling,e!==null){e.return=t.return,Pt=e;break}Pt=t.return}}function O_(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Ba(e,n),a&4&&nc(5,n);break;case 1:if(Ba(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(o){Ue(n,n.return,o)}else{var i=$r(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Ue(n,n.return,o)}}a&64&&M_(n),a&512&&nl(n,n.return);break;case 3:if(Ba(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{F2(e,t)}catch(o){Ue(n,n.return,o)}}break;case 27:t===null&&a&4&&D_(n);case 26:case 5:Ba(e,n),t===null&&a&4&&$_(n),a&512&&nl(n,n.return);break;case 12:Ba(e,n);break;case 31:Ba(e,n),a&4&&B_(e,n);break;case 13:Ba(e,n),a&4&&F_(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=IS.bind(null,n),YS(e,n))));break;case 22:if(a=n.memoizedState!==null||Wa,!a){t=t!==null&&t.memoizedState!==null||Ct,i=Wa;var r=Ct;Wa=a,(Ct=t)&&!r?ja(e,n,(n.subtreeFlags&8772)!==0):Ba(e,n),Wa=i,Ct=r}break;case 30:break;default:Ba(e,n)}}function P_(e){var t=e.alternate;t!==null&&(e.alternate=null,P_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&r0(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ot=null,sn=!1;function La(e,t,n){for(n=n.child;n!==null;)L_(e,t,n),n=n.sibling}function L_(e,t,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Yl,n)}catch{}switch(n.tag){case 26:Ct||va(n,t),La(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ct||va(n,t);var a=ot,i=sn;Ji(n.type)&&(ot=n.stateNode,sn=!1),La(e,t,n),ol(n.stateNode),ot=a,sn=i;break;case 5:Ct||va(n,t);case 6:if(a=ot,i=sn,ot=null,La(e,t,n),ot=a,sn=i,ot!==null)if(sn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(n.stateNode)}catch(r){Ue(n,t,r)}else try{ot.removeChild(n.stateNode)}catch(r){Ue(n,t,r)}break;case 18:ot!==null&&(sn?(e=ot,Pb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ko(e)):Pb(ot,n.stateNode));break;case 4:a=ot,i=sn,ot=n.stateNode.containerInfo,sn=!0,La(e,t,n),ot=a,sn=i;break;case 0:case 11:case 14:case 15:Wi(2,n,t),Ct||Wi(4,n,t),La(e,t,n);break;case 1:Ct||(va(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&z_(n,t,a)),La(e,t,n);break;case 21:La(e,t,n);break;case 22:Ct=(a=Ct)||n.memoizedState!==null,La(e,t,n),Ct=a;break;default:La(e,t,n)}}function B_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ko(e)}catch(n){Ue(t,t.return,n)}}}function F_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ko(e)}catch(n){Ue(t,t.return,n)}}function xS(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new kb),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new kb),t;default:throw Error(K(435,e.tag))}}function Nc(e,t){var n=xS(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=NS.bind(null,e,a);a.then(i,i)}})}function an(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],r=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(Ji(s.type)){ot=s.stateNode,sn=!1;break e}break;case 5:ot=s.stateNode,sn=!1;break e;case 3:case 4:ot=s.stateNode.containerInfo,sn=!0;break e}s=s.return}if(ot===null)throw Error(K(160));L_(r,o,i),ot=null,sn=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)j_(t,e),t=t.sibling}var sa=null;function j_(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(t,e),rn(e),a&4&&(Wi(3,e,e.return),nc(3,e),Wi(5,e,e.return));break;case 1:an(t,e),rn(e),a&512&&(Ct||n===null||va(n,n.return)),a&64&&Wa&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=sa;if(an(t,e),rn(e),a&512&&(Ct||n===null||va(n,n.return)),a&4){var r=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":r=i.getElementsByTagName("title")[0],(!r||r[Jl]||r[jt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(a),i.head.insertBefore(r,i.querySelector("head > title"))),Ht(r,a,n),r[jt]=e,Lt(r),a=r;break e;case"link":var o=Hb("link","href",i).get(a+(n.href||""));if(o){for(var s=0;s<o.length;s++)if(r=o[s],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(s,1);break t}}r=i.createElement(a),Ht(r,a,n),i.head.appendChild(r);break;case"meta":if(o=Hb("meta","content",i).get(a+(n.content||""))){for(s=0;s<o.length;s++)if(r=o[s],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(s,1);break t}}r=i.createElement(a),Ht(r,a,n),i.head.appendChild(r);break;default:throw Error(K(468,a))}r[jt]=e,Lt(r),a=r}e.stateNode=a}else Wb(i,e.type,e.stateNode);else e.stateNode=qb(i,a,e.memoizedProps);else r!==a?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,a===null?Wb(i,e.type,e.stateNode):qb(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&qu(e,e.memoizedProps,n.memoizedProps)}break;case 27:an(t,e),rn(e),a&512&&(Ct||n===null||va(n,n.return)),n!==null&&a&4&&qu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(an(t,e),rn(e),a&512&&(Ct||n===null||va(n,n.return)),e.flags&32){i=e.stateNode;try{Uo(i,"")}catch(b){Ue(e,e.return,b)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,qu(e,i,n!==null?n.memoizedProps:i)),a&1024&&(Wu=!0);break;case 6:if(an(t,e),rn(e),a&4){if(e.stateNode===null)throw Error(K(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(b){Ue(e,e.return,b)}}break;case 3:if(vh=null,i=sa,sa=id(t.containerInfo),an(t,e),sa=i,rn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ko(t.containerInfo)}catch(b){Ue(e,e.return,b)}Wu&&(Wu=!1,U_(e));break;case 4:a=sa,sa=id(e.stateNode.containerInfo),an(t,e),rn(e),sa=a;break;case 12:an(t,e),rn(e);break;case 31:an(t,e),rn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Nc(e,a)));break;case 13:an(t,e),rn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ud=Sn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Nc(e,a)));break;case 22:i=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=Wa,h=Ct;if(Wa=c||i,Ct=h||l,an(t,e),Ct=h,Wa=c,rn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||l||Wa||Ct||ur(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(r=l.stateNode,i)o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=l.stateNode;var d=l.memoizedProps.style,m=d!=null&&d.hasOwnProperty("display")?d.display:null;s.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(b){Ue(l,l.return,b)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(b){Ue(l,l.return,b)}}}else if(t.tag===18){if(n===null){l=t;try{var p=l.stateNode;i?Lb(p,!0):Lb(l.stateNode,!1)}catch(b){Ue(l,l.return,b)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Nc(e,n))));break;case 19:an(t,e),rn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Nc(e,a)));break;case 30:break;case 21:break;default:an(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(R_(a)){n=a;break}a=a.return}if(n==null)throw Error(K(160));switch(n.tag){case 27:var i=n.stateNode,r=Hu(e);Kh(e,r,i);break;case 5:var o=n.stateNode;n.flags&32&&(Uo(o,""),n.flags&=-33);var s=Hu(e);Kh(e,s,o);break;case 3:case 4:var l=n.stateNode.containerInfo,c=Hu(e);Rp(e,c,l);break;default:throw Error(K(161))}}catch(h){Ue(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function U_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;U_(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ba(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)O_(e,t.alternate,t),t=t.sibling}function ur(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Wi(4,t,t.return),ur(t);break;case 1:va(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&z_(t,t.return,n),ur(t);break;case 27:ol(t.stateNode);case 26:case 5:va(t,t.return),ur(t);break;case 22:t.memoizedState===null&&ur(t);break;case 30:ur(t);break;default:ur(t)}e=e.sibling}}function ja(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,r=t,o=r.flags;switch(r.tag){case 0:case 11:case 15:ja(i,r,n),nc(4,r);break;case 1:if(ja(i,r,n),a=r,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){Ue(a,a.return,c)}if(a=r,i=a.updateQueue,i!==null){var s=a.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)B2(l[i],s)}catch(c){Ue(a,a.return,c)}}n&&o&64&&M_(r),nl(r,r.return);break;case 27:D_(r);case 26:case 5:ja(i,r,n),n&&a===null&&o&4&&$_(r),nl(r,r.return);break;case 12:ja(i,r,n);break;case 31:ja(i,r,n),n&&o&4&&B_(i,r);break;case 13:ja(i,r,n),n&&o&4&&F_(i,r);break;case 22:r.memoizedState===null&&ja(i,r,n),nl(r,r.return);break;case 30:break;default:ja(i,r,n)}t=t.sibling}}function P0(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ec(n))}function L0(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ec(e))}function aa(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)q_(e,t,n,a),t=t.sibling}function q_(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:aa(e,t,n,a),i&2048&&nc(9,t);break;case 1:aa(e,t,n,a);break;case 3:aa(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ec(e)));break;case 12:if(i&2048){aa(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,o=r.id,s=r.onPostCommit;typeof s=="function"&&s(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Ue(t,t.return,l)}}else aa(e,t,n,a);break;case 31:aa(e,t,n,a);break;case 13:aa(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,o=t.alternate,t.memoizedState!==null?r._visibility&2?aa(e,t,n,a):al(e,t):r._visibility&2?aa(e,t,n,a):(r._visibility|=2,ro(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&P0(o,t);break;case 24:aa(e,t,n,a),i&2048&&L0(t.alternate,t);break;default:aa(e,t,n,a)}}function ro(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,o=t,s=n,l=a,c=o.flags;switch(o.tag){case 0:case 11:case 15:ro(r,o,s,l,i),nc(8,o);break;case 23:break;case 22:var h=o.stateNode;o.memoizedState!==null?h._visibility&2?ro(r,o,s,l,i):al(r,o):(h._visibility|=2,ro(r,o,s,l,i)),i&&c&2048&&P0(o.alternate,o);break;case 24:ro(r,o,s,l,i),i&&c&2048&&L0(o.alternate,o);break;default:ro(r,o,s,l,i)}t=t.sibling}}function al(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:al(n,a),i&2048&&P0(a.alternate,a);break;case 24:al(n,a),i&2048&&L0(a.alternate,a);break;default:al(n,a)}t=t.sibling}}var Us=8192;function Jr(e,t,n){if(e.subtreeFlags&Us)for(e=e.child;e!==null;)H_(e,t,n),e=e.sibling}function H_(e,t,n){switch(e.tag){case 26:Jr(e,t,n),e.flags&Us&&e.memoizedState!==null&&s7(n,sa,e.memoizedState,e.memoizedProps);break;case 5:Jr(e,t,n);break;case 3:case 4:var a=sa;sa=id(e.stateNode.containerInfo),Jr(e,t,n),sa=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Us,Us=16777216,Jr(e,t,n),Us=a):Jr(e,t,n));break;default:Jr(e,t,n)}}function W_(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Is(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Pt=a,V_(a,e)}W_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)G_(e),e=e.sibling}function G_(e){switch(e.tag){case 0:case 11:case 15:Is(e),e.flags&2048&&Wi(9,e,e.return);break;case 3:Is(e);break;case 12:Is(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,yh(e)):Is(e);break;default:Is(e)}}function yh(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Pt=a,V_(a,e)}W_(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Wi(8,t,t.return),yh(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,yh(t));break;default:yh(t)}e=e.sibling}}function V_(e,t){for(;Pt!==null;){var n=Pt;switch(n.tag){case 0:case 11:case 15:Wi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ec(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Pt=a;else e:for(n=e;Pt!==null;){a=Pt;var i=a.sibling,r=a.return;if(P_(a),a===n){Pt=null;break e}if(i!==null){i.return=r,Pt=i;break e}Pt=r}}}var _S={getCacheForType:function(e){var t=qt(Et),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return qt(Et).controller.signal}},TS=typeof WeakMap=="function"?WeakMap:Map,Pe=0,Xe=null,Ee=null,Me=0,je=0,xn=null,Ii=!1,ls=!1,B0=!1,ii=0,pt=0,Gi=0,kr=0,F0=0,An=0,Go=0,il=null,cn=null,Dp=!1,Ud=0,X_=0,Qh=1/0,Jh=null,Li=null,$t=0,Bi=null,Vo=null,Qa=0,Op=0,Pp=null,Y_=null,rl=0,Lp=null;function In(){return Pe&2&&Me!==0?Me&-Me:be.T!==null?U0():i2()}function K_(){if(An===0)if(!(Me&536870912)||ze){var e=_c;_c<<=1,!(_c&3932160)&&(_c=262144),An=e}else An=536870912;return e=$n.current,e!==null&&(e.flags|=32),An}function mn(e,t,n){(e===Xe&&(je===2||je===9)||e.cancelPendingCommit!==null)&&(Xo(e,0),Ni(e,Me,An,!1)),Ql(e,n),(!(Pe&2)||e!==Xe)&&(e===Xe&&(!(Pe&2)&&(kr|=n),pt===4&&Ni(e,Me,An,!1)),Ea(e))}function Q_(e,t,n){if(Pe&6)throw Error(K(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Kl(e,t),i=a?SS(e,t):Gu(e,t,!0),r=a;do{if(i===0){ls&&!a&&Ni(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!kS(n)){i=Gu(e,t,!1),r=!1;continue}if(i===2){if(r=t,e.errorRecoveryDisabledLanes&r)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var s=e;i=il;var l=s.current.memoizedState.isDehydrated;if(l&&(Xo(s,o).flags|=256),o=Gu(s,o,!1),o!==2){if(B0&&!l){s.errorRecoveryDisabledLanes|=r,kr|=r,i=4;break e}r=cn,cn=i,r!==null&&(cn===null?cn=r:cn.push.apply(cn,r))}i=o}if(r=!1,i!==2)continue}}if(i===1){Xo(e,0),Ni(e,t,0,!0);break}e:{switch(a=e,r=i,r){case 0:case 1:throw Error(K(345));case 4:if((t&4194048)!==t)break;case 6:Ni(a,t,An,!Ii);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(K(329))}if((t&62914560)===t&&(i=Ud+300-Sn(),10<i)){if(Ni(a,t,An,!Ii),Md(a,0,!0)!==0)break e;Qa=t,a.timeoutHandle=b4(Ab.bind(null,a,n,cn,Jh,Dp,t,An,kr,Go,Ii,r,"Throttled",-0,0),i);break e}Ab(a,n,cn,Jh,Dp,t,An,kr,Go,Ii,r,null,-0,0)}}break}while(!0);Ea(e)}function Ab(e,t,n,a,i,r,o,s,l,c,h,d,m,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Va},H_(t,r,d);var b=(r&62914560)===r?Ud-Sn():(r&4194048)===r?X_-Sn():0;if(b=l7(d,b),b!==null){Qa=r,e.cancelPendingCommit=b(Cb.bind(null,e,t,r,n,a,i,o,s,l,h,d,null,m,p)),Ni(e,r,o,!c);return}}Cb(e,t,r,n,a,i,o,s,l)}function kS(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],r=i.getSnapshot;i=i.value;try{if(!zn(r(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ni(e,t,n,a){t&=~F0,t&=~kr,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var r=31-En(i),o=1<<r;a[r]=-1,i&=~o}n!==0&&t2(e,n,t)}function qd(){return Pe&6?!0:(ac(0),!1)}function j0(){if(Ee!==null){if(je===0)var e=Ee.return;else e=Ee,Xa=jr=null,S0(e),Ro=null,_l=0,e=Ee;for(;e!==null;)N_(e.alternate,e),e=e.return;Ee=null}}function Xo(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,HS(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Qa=0,j0(),Xe=e,Ee=n=Ya(e.current,null),Me=t,je=0,xn=null,Ii=!1,ls=Kl(e,t),B0=!1,Go=An=F0=kr=Gi=pt=0,cn=il=null,Dp=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-En(a),r=1<<i;t|=e[i],a&=~r}return ii=t,Dd(),n}function J_(e,t){xe=null,be.H=kl,t===ss||t===Pd?(t=ab(),je=3):t===w0?(t=ab(),je=4):je=t===D0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,xn=t,Ee===null&&(pt=1,Xh(e,Gn(t,e.current)))}function Z_(){var e=$n.current;return e===null?!0:(Me&4194048)===Me?Kn===null:(Me&62914560)===Me||Me&536870912?e===Kn:!1}function e4(){var e=be.H;return be.H=kl,e===null?kl:e}function t4(){var e=be.A;return be.A=_S,e}function Zh(){pt=4,Ii||(Me&4194048)!==Me&&$n.current!==null||(ls=!0),!(Gi&134217727)&&!(kr&134217727)||Xe===null||Ni(Xe,Me,An,!1)}function Gu(e,t,n){var a=Pe;Pe|=2;var i=e4(),r=t4();(Xe!==e||Me!==t)&&(Jh=null,Xo(e,t)),t=!1;var o=pt;e:do try{if(je!==0&&Ee!==null){var s=Ee,l=xn;switch(je){case 8:j0(),o=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(t=!0);var c=je;if(je=0,xn=null,_o(e,s,l,c),n&&ls){o=0;break e}break;default:c=je,je=0,xn=null,_o(e,s,l,c)}}AS(),o=pt;break}catch(h){J_(e,h)}while(!0);return t&&e.shellSuspendCounter++,Xa=jr=null,Pe=a,be.H=i,be.A=r,Ee===null&&(Xe=null,Me=0,Dd()),o}function AS(){for(;Ee!==null;)n4(Ee)}function SS(e,t){var n=Pe;Pe|=2;var a=e4(),i=t4();Xe!==e||Me!==t?(Jh=null,Qh=Sn()+500,Xo(e,t)):ls=Kl(e,t);e:do try{if(je!==0&&Ee!==null){t=Ee;var r=xn;t:switch(je){case 1:je=0,xn=null,_o(e,t,r,1);break;case 2:case 9:if(nb(r)){je=0,xn=null,Sb(t);break}t=function(){je!==2&&je!==9||Xe!==e||(je=7),Ea(e)},r.then(t,t);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:nb(r)?(je=0,xn=null,Sb(t)):(je=0,xn=null,_o(e,t,r,7));break;case 5:var o=null;switch(Ee.tag){case 26:o=Ee.memoizedState;case 5:case 27:var s=Ee;if(o?_4(o):s.stateNode.complete){je=0,xn=null;var l=s.sibling;if(l!==null)Ee=l;else{var c=s.return;c!==null?(Ee=c,Hd(c)):Ee=null}break t}}je=0,xn=null,_o(e,t,r,5);break;case 6:je=0,xn=null,_o(e,t,r,6);break;case 8:j0(),pt=6;break e;default:throw Error(K(462))}}CS();break}catch(h){J_(e,h)}while(!0);return Xa=jr=null,be.H=a,be.A=i,Pe=n,Ee!==null?0:(Xe=null,Me=0,Dd(),pt)}function CS(){for(;Ee!==null&&!K6();)n4(Ee)}function n4(e){var t=I_(e.alternate,e,ii);e.memoizedProps=e.pendingProps,t===null?Hd(e):Ee=t}function Sb(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=wb(n,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=wb(n,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:S0(t);default:N_(n,t),t=Ee=N2(t,ii),t=I_(n,t,ii)}e.memoizedProps=e.pendingProps,t===null?Hd(e):Ee=t}function _o(e,t,n,a){Xa=jr=null,S0(t),Ro=null,_l=0;var i=t.return;try{if(fS(e,i,t,n,Me)){pt=1,Xh(e,Gn(n,e.current)),Ee=null;return}}catch(r){if(i!==null)throw Ee=i,r;pt=1,Xh(e,Gn(n,e.current)),Ee=null;return}t.flags&32768?(ze||a===1?e=!0:ls||Me&536870912?e=!1:(Ii=e=!0,(a===2||a===9||a===3||a===6)&&(a=$n.current,a!==null&&a.tag===13&&(a.flags|=16384))),a4(t,e)):Hd(t)}function Hd(e){var t=e;do{if(t.flags&32768){a4(t,Ii);return}e=t.return;var n=yS(t.alternate,t,ii);if(n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);pt===0&&(pt=5)}function a4(e,t){do{var n=wS(e.alternate,e);if(n!==null){n.flags&=32767,Ee=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=n}while(e!==null);pt=6,Ee=null}function Cb(e,t,n,a,i,r,o,s,l){e.cancelPendingCommit=null;do Wd();while($t!==0);if(Pe&6)throw Error(K(327));if(t!==null){if(t===e.current)throw Error(K(177));if(r=t.lanes|t.childLanes,r|=u0,oA(e,n,r,o,s,l),e===Xe&&(Ee=Xe=null,Me=0),Vo=t,Bi=e,Qa=n,Op=r,Pp=i,Y_=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,MS(Ph,function(){return l4(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=be.T,be.T=null,i=Le.p,Le.p=2,o=Pe,Pe|=4;try{vS(e,t,n)}finally{Pe=o,Le.p=i,be.T=a}}$t=1,i4(),r4(),o4()}}function i4(){if($t===1){$t=0;var e=Bi,t=Vo,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=be.T,be.T=null;var a=Le.p;Le.p=2;var i=Pe;Pe|=4;try{j_(t,e);var r=Up,o=_2(e.containerInfo),s=r.focusedElem,l=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&x2(s.ownerDocument.documentElement,s)){if(l!==null&&d0(s)){var c=l.start,h=l.end;if(h===void 0&&(h=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(h,s.value.length);else{var d=s.ownerDocument||document,m=d&&d.defaultView||window;if(m.getSelection){var p=m.getSelection(),b=s.textContent.length,y=Math.min(l.start,b),T=l.end===void 0?y:Math.min(l.end,b);!p.extend&&y>T&&(o=T,T=y,y=o);var g=Y1(s,y),w=Y1(s,T);if(g&&w&&(p.rangeCount!==1||p.anchorNode!==g.node||p.anchorOffset!==g.offset||p.focusNode!==w.node||p.focusOffset!==w.offset)){var x=d.createRange();x.setStart(g.node,g.offset),p.removeAllRanges(),y>T?(p.addRange(x),p.extend(w.node,w.offset)):(x.setEnd(w.node,w.offset),p.addRange(x))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<d.length;s++){var _=d[s];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}sd=!!jp,Up=jp=null}finally{Pe=i,Le.p=a,be.T=n}}e.current=t,$t=2}}function r4(){if($t===2){$t=0;var e=Bi,t=Vo,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=be.T,be.T=null;var a=Le.p;Le.p=2;var i=Pe;Pe|=4;try{O_(e,t.alternate,t)}finally{Pe=i,Le.p=a,be.T=n}}$t=3}}function o4(){if($t===4||$t===3){$t=0,Q6();var e=Bi,t=Vo,n=Qa,a=Y_;t.subtreeFlags&10256||t.flags&10256?$t=5:($t=0,Vo=Bi=null,s4(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Li=null),i0(n),t=t.stateNode,Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Yl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=be.T,i=Le.p,Le.p=2,be.T=null;try{for(var r=e.onRecoverableError,o=0;o<a.length;o++){var s=a[o];r(s.value,{componentStack:s.stack})}}finally{be.T=t,Le.p=i}}Qa&3&&Wd(),Ea(e),i=e.pendingLanes,n&261930&&i&42?e===Lp?rl++:(rl=0,Lp=e):rl=0,ac(0)}}function s4(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ec(t)))}function Wd(){return i4(),r4(),o4(),l4()}function l4(){if($t!==5)return!1;var e=Bi,t=Op;Op=0;var n=i0(Qa),a=be.T,i=Le.p;try{Le.p=32>n?32:n,be.T=null,n=Pp,Pp=null;var r=Bi,o=Qa;if($t=0,Vo=Bi=null,Qa=0,Pe&6)throw Error(K(331));var s=Pe;if(Pe|=4,G_(r.current),q_(r,r.current,o,n),Pe=s,ac(0,!1),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Yl,r)}catch{}return!0}finally{Le.p=i,be.T=a,s4(e,t)}}function Eb(e,t,n){t=Gn(n,t),t=Mp(e.stateNode,t,2),e=Pi(e,t,2),e!==null&&(Ql(e,2),Ea(e))}function Ue(e,t,n){if(e.tag===3)Eb(e,e,n);else for(;t!==null;){if(t.tag===3){Eb(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Li===null||!Li.has(a))){e=Gn(n,e),n=T_(2),a=Pi(t,n,2),a!==null&&(k_(n,a,t,e),Ql(a,2),Ea(a));break}}t=t.return}}function Vu(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new TS;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(B0=!0,i.add(n),e=ES.bind(null,e,t,n),t.then(e,e))}function ES(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Xe===e&&(Me&n)===n&&(pt===4||pt===3&&(Me&62914560)===Me&&300>Sn()-Ud?!(Pe&2)&&Xo(e,0):F0|=n,Go===Me&&(Go=0)),Ea(e)}function c4(e,t){t===0&&(t=e2()),e=Fr(e,t),e!==null&&(Ql(e,t),Ea(e))}function IS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),c4(e,n)}function NS(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(K(314))}a!==null&&a.delete(t),c4(e,n)}function MS(e,t){return n0(e,t)}var ed=null,oo=null,Bp=!1,td=!1,Xu=!1,Mi=0;function Ea(e){e!==oo&&e.next===null&&(oo===null?ed=oo=e:oo=oo.next=e),td=!0,Bp||(Bp=!0,$S())}function ac(e,t){if(!Xu&&td){Xu=!0;do for(var n=!1,a=ed;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var r=0;else{var o=a.suspendedLanes,s=a.pingedLanes;r=(1<<31-En(42|e)+1)-1,r&=i&~(o&~s),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Ib(a,r))}else r=Me,r=Md(a,a===Xe?r:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(r&3)||Kl(a,r)||(n=!0,Ib(a,r));a=a.next}while(n);Xu=!1}}function zS(){h4()}function h4(){td=Bp=!1;var e=0;Mi!==0&&qS()&&(e=Mi);for(var t=Sn(),n=null,a=ed;a!==null;){var i=a.next,r=d4(a,t);r===0?(a.next=null,n===null?ed=i:n.next=i,i===null&&(oo=n)):(n=a,(e!==0||r&3)&&(td=!0)),a=i}$t!==0&&$t!==5||ac(e),Mi!==0&&(Mi=0)}function d4(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var o=31-En(r),s=1<<o,l=i[o];l===-1?(!(s&n)||s&a)&&(i[o]=rA(s,t)):l<=t&&(e.expiredLanes|=s),r&=~s}if(t=Xe,n=Me,n=Md(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(je===2||je===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&_u(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Kl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&_u(a),i0(n)){case 2:case 8:n=Jx;break;case 32:n=Ph;break;case 268435456:n=Zx;break;default:n=Ph}return a=u4.bind(null,e),n=n0(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&_u(a),e.callbackPriority=2,e.callbackNode=null,2}function u4(e,t){if($t!==0&&$t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Wd()&&e.callbackNode!==n)return null;var a=Me;return a=Md(e,e===Xe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Q_(e,a,t),d4(e,Sn()),e.callbackNode!=null&&e.callbackNode===n?u4.bind(null,e):null)}function Ib(e,t){if(Wd())return null;Q_(e,t,!0)}function $S(){WS(function(){Pe&6?n0(Qx,zS):h4()})}function U0(){if(Mi===0){var e=qo;e===0&&(e=xc,xc<<=1,!(xc&261888)&&(xc=256)),Mi=e}return Mi}function Nb(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ch(""+e)}function Mb(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function RS(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var r=Nb((i[fn]||null).action),o=a.submitter;o&&(t=(t=o[fn]||null)?Nb(t.formAction):o.getAttribute("formAction"),t!==null&&(r=t,o=null));var s=new zd("action","action",null,a,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Mi!==0){var l=o?Mb(i,o):new FormData(i);Ip(n,{pending:!0,data:l,method:i.method,action:r},null,l)}}else typeof r=="function"&&(s.preventDefault(),l=o?Mb(i,o):new FormData(i),Ip(n,{pending:!0,data:l,method:i.method,action:r},r,l))},currentTarget:i}]})}}for(var Yu=0;Yu<bp.length;Yu++){var Ku=bp[Yu],DS=Ku.toLowerCase(),OS=Ku[0].toUpperCase()+Ku.slice(1);pa(DS,"on"+OS)}pa(k2,"onAnimationEnd");pa(A2,"onAnimationIteration");pa(S2,"onAnimationStart");pa("dblclick","onDoubleClick");pa("focusin","onFocus");pa("focusout","onBlur");pa(JA,"onTransitionRun");pa(ZA,"onTransitionStart");pa(eS,"onTransitionCancel");pa(C2,"onTransitionEnd");jo("onMouseEnter",["mouseout","mouseover"]);jo("onMouseLeave",["mouseout","mouseover"]);jo("onPointerEnter",["pointerout","pointerover"]);jo("onPointerLeave",["pointerout","pointerover"]);Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function m4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var o=a.length-1;0<=o;o--){var s=a[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==r&&i.isPropagationStopped())break e;r=s,i.currentTarget=c;try{r(i)}catch(h){Bh(h)}i.currentTarget=null,r=l}else for(o=0;o<a.length;o++){if(s=a[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==r&&i.isPropagationStopped())break e;r=s,i.currentTarget=c;try{r(i)}catch(h){Bh(h)}i.currentTarget=null,r=l}}}}function Ce(e,t){var n=t[cp];n===void 0&&(n=t[cp]=new Set);var a=e+"__bubble";n.has(a)||(p4(t,e,2,!1),n.add(a))}function Qu(e,t,n){var a=0;t&&(a|=4),p4(n,e,a,t)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function q0(e){if(!e[Mc]){e[Mc]=!0,r2.forEach(function(n){n!=="selectionchange"&&(PS.has(n)||Qu(n,!1,e),Qu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mc]||(t[Mc]=!0,Qu("selectionchange",!1,t))}}function p4(e,t,n,a){switch(C4(t)){case 2:var i=d7;break;case 8:i=u7;break;default:i=V0}n=i.bind(null,t,n,e),i=void 0,!pp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ju(e,t,n,a,i){var r=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var s=a.stateNode.containerInfo;if(s===i)break;if(o===4)for(o=a.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;s!==null;){if(o=mo(s),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){a=r=o;continue e}s=s.parentNode}}a=a.return}m2(function(){var c=r,h=s0(n),d=[];e:{var m=E2.get(e);if(m!==void 0){var p=zd,b=e;switch(e){case"keypress":if(dh(n)===0)break e;case"keydown":case"keyup":p=NA;break;case"focusin":b="focus",p=Cu;break;case"focusout":b="blur",p=Cu;break;case"beforeblur":case"afterblur":p=Cu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=B1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=$A;break;case k2:case A2:case S2:p=xA;break;case C2:p=DA;break;case"scroll":case"scrollend":p=gA;break;case"wheel":p=PA;break;case"copy":case"cut":case"paste":p=TA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=j1;break;case"toggle":case"beforetoggle":p=BA}var y=(t&4)!==0,T=!y&&(e==="scroll"||e==="scrollend"),g=y?m!==null?m+"Capture":null:m;y=[];for(var w=c,x;w!==null;){var _=w;if(x=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||x===null||g===null||(_=bl(w,g),_!=null&&y.push(Sl(w,_,x))),T)break;w=w.return}0<y.length&&(m=new p(m,b,null,n,h),d.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==mp&&(b=n.relatedTarget||n.fromElement)&&(mo(b)||b[is]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(b=n.relatedTarget||n.toElement,p=c,b=b?mo(b):null,b!==null&&(T=Xl(b),y=b.tag,b!==T||y!==5&&y!==27&&y!==6)&&(b=null)):(p=null,b=c),p!==b)){if(y=B1,_="onMouseLeave",g="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=j1,_="onPointerLeave",g="onPointerEnter",w="pointer"),T=p==null?m:Fs(p),x=b==null?m:Fs(b),m=new y(_,w+"leave",p,n,h),m.target=T,m.relatedTarget=x,_=null,mo(h)===c&&(y=new y(g,w+"enter",b,n,h),y.target=x,y.relatedTarget=T,_=y),T=_,p&&b)t:{for(y=LS,g=p,w=b,x=0,_=g;_;_=y(_))x++;_=0;for(var C=w;C;C=y(C))_++;for(;0<x-_;)g=y(g),x--;for(;0<_-x;)w=y(w),_--;for(;x--;){if(g===w||w!==null&&g===w.alternate){y=g;break t}g=y(g),w=y(w)}y=null}else y=null;p!==null&&zb(d,m,p,y,!1),b!==null&&T!==null&&zb(d,T,b,y,!0)}}e:{if(m=c?Fs(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var A=W1;else if(H1(m))if(w2)A=YA;else{A=VA;var M=GA}else p=m.nodeName,!p||p.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?c&&o0(c.elementType)&&(A=W1):A=XA;if(A&&(A=A(e,c))){y2(d,A,n,h);break e}M&&M(e,m,c),e==="focusout"&&c&&m.type==="number"&&c.memoizedProps.value!=null&&up(m,"number",m.value)}switch(M=c?Fs(c):window,e){case"focusin":(H1(M)||M.contentEditable==="true")&&(go=M,fp=c,Ks=null);break;case"focusout":Ks=fp=go=null;break;case"mousedown":gp=!0;break;case"contextmenu":case"mouseup":case"dragend":gp=!1,K1(d,n,h);break;case"selectionchange":if(QA)break;case"keydown":case"keyup":K1(d,n,h)}var I;if(h0)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else fo?g2(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(f2&&n.locale!=="ko"&&(fo||R!=="onCompositionStart"?R==="onCompositionEnd"&&fo&&(I=p2()):(Ei=h,l0="value"in Ei?Ei.value:Ei.textContent,fo=!0)),M=nd(c,R),0<M.length&&(R=new F1(R,e,null,n,h),d.push({event:R,listeners:M}),I?R.data=I:(I=b2(n),I!==null&&(R.data=I)))),(I=jA?UA(e,n):qA(e,n))&&(R=nd(c,"onBeforeInput"),0<R.length&&(M=new F1("onBeforeInput","beforeinput",null,n,h),d.push({event:M,listeners:R}),M.data=I)),RS(d,e,c,n,h)}m4(d,t)})}function Sl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nd(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=bl(e,n),i!=null&&a.unshift(Sl(e,i,r)),i=bl(e,t),i!=null&&a.push(Sl(e,i,r))),e.tag===3)return a;e=e.return}return[]}function LS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zb(e,t,n,a,i){for(var r=t._reactName,o=[];n!==null&&n!==a;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,l!==null&&l===a)break;s!==5&&s!==26&&s!==27||c===null||(l=c,i?(c=bl(n,r),c!=null&&o.unshift(Sl(n,c,l))):i||(c=bl(n,r),c!=null&&o.push(Sl(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var BS=/\r\n?/g,FS=/\u0000|\uFFFD/g;function $b(e){return(typeof e=="string"?e:""+e).replace(BS,`
`).replace(FS,"")}function f4(e,t){return t=$b(t),$b(e)===t}function We(e,t,n,a,i,r){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Uo(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Uo(e,""+a);break;case"className":kc(e,"class",a);break;case"tabIndex":kc(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":kc(e,n,a);break;case"style":u2(e,a,r);break;case"data":if(t!=="object"){kc(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ch(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&We(e,t,"name",i.name,i,null),We(e,t,"formEncType",i.formEncType,i,null),We(e,t,"formMethod",i.formMethod,i,null),We(e,t,"formTarget",i.formTarget,i,null)):(We(e,t,"encType",i.encType,i,null),We(e,t,"method",i.method,i,null),We(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ch(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Va);break;case"onScroll":a!=null&&Ce("scroll",e);break;case"onScrollEnd":a!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(K(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(K(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=ch(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),lh(e,"popover",a);break;case"xlinkActuate":Oa(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Oa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Oa(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Oa(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Oa(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Oa(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Oa(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Oa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Oa(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":lh(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=pA.get(n)||n,lh(e,n,a))}}function Fp(e,t,n,a,i,r){switch(n){case"style":u2(e,a,r);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(K(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(K(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Uo(e,a):(typeof a=="number"||typeof a=="bigint")&&Uo(e,""+a);break;case"onScroll":a!=null&&Ce("scroll",e);break;case"onScrollEnd":a!=null&&Ce("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!o2.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),r=e[fn]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,i),typeof a=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):lh(e,n,a)}}}function Ht(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var a=!1,i=!1,r;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(o!=null)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(K(137,t));default:We(e,t,r,o,n,null)}}i&&We(e,t,"srcSet",n.srcSet,n,null),a&&We(e,t,"src",n.src,n,null);return;case"input":Ce("invalid",e);var s=r=o=i=null,l=null,c=null;for(a in n)if(n.hasOwnProperty(a)){var h=n[a];if(h!=null)switch(a){case"name":i=h;break;case"type":o=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":r=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(K(137,t));break;default:We(e,t,a,h,n,null)}}c2(e,r,s,l,c,o,i,!1);return;case"select":Ce("invalid",e),a=o=r=null;for(i in n)if(n.hasOwnProperty(i)&&(s=n[i],s!=null))switch(i){case"value":r=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:We(e,t,i,s,n,null)}t=r,n=o,e.multiple=!!a,t!=null?Mo(e,!!a,t,!1):n!=null&&Mo(e,!!a,n,!0);return;case"textarea":Ce("invalid",e),r=i=a=null;for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"value":a=s;break;case"defaultValue":i=s;break;case"children":r=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(K(91));break;default:We(e,t,o,s,n,null)}d2(e,a,i,r);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(a=n[l],a!=null))switch(l){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:We(e,t,l,a,n,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(a=0;a<Al.length;a++)Ce(Al[a],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(a=n[c],a!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(K(137,t));default:We(e,t,c,a,n,null)}return;default:if(o0(t)){for(h in n)n.hasOwnProperty(h)&&(a=n[h],a!==void 0&&Fp(e,t,h,a,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(a=n[s],a!=null&&We(e,t,s,a,n,null))}function jS(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,o=null,s=null,l=null,c=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&d!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=d;default:a.hasOwnProperty(p)||We(e,t,p,null,a,d)}}for(var m in a){var p=a[m];if(d=n[m],a.hasOwnProperty(m)&&(p!=null||d!=null))switch(m){case"type":r=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":o=p;break;case"defaultValue":s=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(K(137,t));break;default:p!==d&&We(e,t,m,p,a,d)}}dp(e,o,s,l,c,h,r,i);return;case"select":p=o=s=m=null;for(r in n)if(l=n[r],n.hasOwnProperty(r)&&l!=null)switch(r){case"value":break;case"multiple":p=l;default:a.hasOwnProperty(r)||We(e,t,r,null,a,l)}for(i in a)if(r=a[i],l=n[i],a.hasOwnProperty(i)&&(r!=null||l!=null))switch(i){case"value":m=r;break;case"defaultValue":s=r;break;case"multiple":o=r;default:r!==l&&We(e,t,i,r,a,l)}t=s,n=o,a=p,m!=null?Mo(e,!!n,m,!1):!!a!=!!n&&(t!=null?Mo(e,!!n,t,!0):Mo(e,!!n,n?[]:"",!1));return;case"textarea":p=m=null;for(s in n)if(i=n[s],n.hasOwnProperty(s)&&i!=null&&!a.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:We(e,t,s,null,a,i)}for(o in a)if(i=a[o],r=n[o],a.hasOwnProperty(o)&&(i!=null||r!=null))switch(o){case"value":m=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(K(91));break;default:i!==r&&We(e,t,o,i,a,r)}h2(e,m,p);return;case"option":for(var b in n)if(m=n[b],n.hasOwnProperty(b)&&m!=null&&!a.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:We(e,t,b,null,a,m)}for(l in a)if(m=a[l],p=n[l],a.hasOwnProperty(l)&&m!==p&&(m!=null||p!=null))switch(l){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:We(e,t,l,m,a,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)m=n[y],n.hasOwnProperty(y)&&m!=null&&!a.hasOwnProperty(y)&&We(e,t,y,null,a,m);for(c in a)if(m=a[c],p=n[c],a.hasOwnProperty(c)&&m!==p&&(m!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(K(137,t));break;default:We(e,t,c,m,a,p)}return;default:if(o0(t)){for(var T in n)m=n[T],n.hasOwnProperty(T)&&m!==void 0&&!a.hasOwnProperty(T)&&Fp(e,t,T,void 0,a,m);for(h in a)m=a[h],p=n[h],!a.hasOwnProperty(h)||m===p||m===void 0&&p===void 0||Fp(e,t,h,m,a,p);return}}for(var g in n)m=n[g],n.hasOwnProperty(g)&&m!=null&&!a.hasOwnProperty(g)&&We(e,t,g,null,a,m);for(d in a)m=a[d],p=n[d],!a.hasOwnProperty(d)||m===p||m==null&&p==null||We(e,t,d,m,a,p)}function Rb(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function US(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],r=i.transferSize,o=i.initiatorType,s=i.duration;if(r&&s&&Rb(o)){for(o=0,s=i.responseEnd,a+=1;a<n.length;a++){var l=n[a],c=l.startTime;if(c>s)break;var h=l.transferSize,d=l.initiatorType;h&&Rb(d)&&(l=l.responseEnd,o+=h*(l<s?1:(s-c)/(l-c)))}if(--a,t+=8*(r+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var jp=null,Up=null;function ad(e){return e.nodeType===9?e:e.ownerDocument}function Db(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g4(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function qp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zu=null;function qS(){var e=window.event;return e&&e.type==="popstate"?e===Zu?!1:(Zu=e,!0):(Zu=null,!1)}var b4=typeof setTimeout=="function"?setTimeout:void 0,HS=typeof clearTimeout=="function"?clearTimeout:void 0,Ob=typeof Promise=="function"?Promise:void 0,WS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ob<"u"?function(e){return Ob.resolve(null).then(e).catch(GS)}:b4;function GS(e){setTimeout(function(){throw e})}function Ji(e){return e==="head"}function Pb(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Ko(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")ol(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ol(n);for(var r=n.firstChild;r;){var o=r.nextSibling,s=r.nodeName;r[Jl]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=o}}else n==="body"&&ol(e.ownerDocument.body);n=i}while(n);Ko(t)}function Lb(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function Hp(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hp(n),r0(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function VS(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Jl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function XS(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qn(e.nextSibling),e===null))return null;return e}function y4(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Qn(e.nextSibling),e===null))return null;return e}function Wp(e){return e.data==="$?"||e.data==="$~"}function Gp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function YS(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Vp=null;function Bb(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Qn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Fb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function w4(e,t,n){switch(t=ad(n),e){case"html":if(e=t.documentElement,!e)throw Error(K(452));return e;case"head":if(e=t.head,!e)throw Error(K(453));return e;case"body":if(e=t.body,!e)throw Error(K(454));return e;default:throw Error(K(451))}}function ol(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);r0(e)}var Zn=new Map,jb=new Set;function id(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ci=Le.d;Le.d={f:KS,r:QS,D:JS,C:ZS,L:e7,m:t7,X:a7,S:n7,M:i7};function KS(){var e=ci.f(),t=qd();return e||t}function QS(e){var t=rs(e);t!==null&&t.tag===5&&t.type==="form"?u_(t):ci.r(e)}var cs=typeof document>"u"?null:document;function v4(e,t,n){var a=cs;if(a&&typeof t=="string"&&t){var i=Wn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),jb.has(i)||(jb.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Ht(t,"link",e),Lt(t),a.head.appendChild(t)))}}function JS(e){ci.D(e),v4("dns-prefetch",e,null)}function ZS(e,t){ci.C(e,t),v4("preconnect",e,t)}function e7(e,t,n){ci.L(e,t,n);var a=cs;if(a&&e&&t){var i='link[rel="preload"][as="'+Wn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Wn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Wn(n.imageSizes)+'"]')):i+='[href="'+Wn(e)+'"]';var r=i;switch(t){case"style":r=Yo(e);break;case"script":r=hs(e)}Zn.has(r)||(e=rt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Zn.set(r,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(ic(r))||t==="script"&&a.querySelector(rc(r))||(t=a.createElement("link"),Ht(t,"link",e),Lt(t),a.head.appendChild(t)))}}function t7(e,t){ci.m(e,t);var n=cs;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Wn(a)+'"][href="'+Wn(e)+'"]',r=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=hs(e)}if(!Zn.has(r)&&(e=rt({rel:"modulepreload",href:e},t),Zn.set(r,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(rc(r)))return}a=n.createElement("link"),Ht(a,"link",e),Lt(a),n.head.appendChild(a)}}}function n7(e,t,n){ci.S(e,t,n);var a=cs;if(a&&e){var i=No(a).hoistableStyles,r=Yo(e);t=t||"default";var o=i.get(r);if(!o){var s={loading:0,preload:null};if(o=a.querySelector(ic(r)))s.loading=5;else{e=rt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Zn.get(r))&&H0(e,n);var l=o=a.createElement("link");Lt(l),Ht(l,"link",e),l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,wh(o,t,a)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(r,o)}}}function a7(e,t){ci.X(e,t);var n=cs;if(n&&e){var a=No(n).hoistableScripts,i=hs(e),r=a.get(i);r||(r=n.querySelector(rc(i)),r||(e=rt({src:e,async:!0},t),(t=Zn.get(i))&&W0(e,t),r=n.createElement("script"),Lt(r),Ht(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function i7(e,t){ci.M(e,t);var n=cs;if(n&&e){var a=No(n).hoistableScripts,i=hs(e),r=a.get(i);r||(r=n.querySelector(rc(i)),r||(e=rt({src:e,async:!0,type:"module"},t),(t=Zn.get(i))&&W0(e,t),r=n.createElement("script"),Lt(r),Ht(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function Ub(e,t,n,a){var i=(i=Ri.current)?id(i):null;if(!i)throw Error(K(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Yo(n.href),n=No(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Yo(n.href);var r=No(i).hoistableStyles,o=r.get(e);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,o),(r=i.querySelector(ic(e)))&&!r._p&&(o.instance=r,o.state.loading=5),Zn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Zn.set(e,n),r||r7(i,e,n,o.state))),t&&a===null)throw Error(K(528,""));return o}if(t&&a!==null)throw Error(K(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=hs(n),n=No(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(K(444,e))}}function Yo(e){return'href="'+Wn(e)+'"'}function ic(e){return'link[rel="stylesheet"]['+e+"]"}function x4(e){return rt({},e,{"data-precedence":e.precedence,precedence:null})}function r7(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Ht(t,"link",n),Lt(t),e.head.appendChild(t))}function hs(e){return'[src="'+Wn(e)+'"]'}function rc(e){return"script[async]"+e}function qb(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Wn(n.href)+'"]');if(a)return t.instance=a,Lt(a),a;var i=rt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Lt(a),Ht(a,"style",i),wh(a,n.precedence,e),t.instance=a;case"stylesheet":i=Yo(n.href);var r=e.querySelector(ic(i));if(r)return t.state.loading|=4,t.instance=r,Lt(r),r;a=x4(n),(i=Zn.get(i))&&H0(a,i),r=(e.ownerDocument||e).createElement("link"),Lt(r);var o=r;return o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Ht(r,"link",a),t.state.loading|=4,wh(r,n.precedence,e),t.instance=r;case"script":return r=hs(n.src),(i=e.querySelector(rc(r)))?(t.instance=i,Lt(i),i):(a=n,(i=Zn.get(r))&&(a=rt({},n),W0(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Lt(i),Ht(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(K(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,wh(a,n.precedence,e));return t.instance}function wh(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,r=i,o=0;o<a.length;o++){var s=a[o];if(s.dataset.precedence===t)r=s;else if(r!==i)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function H0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function W0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var vh=null;function Hb(e,t,n){if(vh===null){var a=new Map,i=vh=new Map;i.set(n,a)}else i=vh,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var r=n[i];if(!(r[Jl]||r[jt]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var o=r.getAttribute(t)||"";o=e+o;var s=a.get(o);s?s.push(r):a.set(o,[r])}}return a}function Wb(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function o7(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _4(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function s7(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Yo(a.href),r=t.querySelector(ic(i));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=rd.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,Lt(r);return}r=t.ownerDocument||t,a=x4(a),(i=Zn.get(i))&&H0(a,i),r=r.createElement("link"),Lt(r);var o=r;o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Ht(r,"link",a),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=rd.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var em=0;function l7(e,t){return e.stylesheets&&e.count===0&&xh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&xh(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&em===0&&(em=62500*US());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xh(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>em?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function rd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var od=null;function xh(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,od=new Map,t.forEach(c7,e),od=null,rd.call(e))}function c7(e,t){if(!(t.state.loading&4)){var n=od.get(e);if(n)var a=n.get(null);else{n=new Map,od.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var o=i[r];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),a=o)}a&&n.set(null,a)}i=t.instance,o=i.getAttribute("data-precedence"),r=n.get(o)||a,r===a&&n.set(null,i),n.set(o,i),this.count++,a=rd.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),r?r.parentNode.insertBefore(i,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Cl={$$typeof:Ga,Provider:null,Consumer:null,_currentValue:vr,_currentValue2:vr,_threadCount:0};function h7(e,t,n,a,i,r,o,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tu(0),this.hiddenUpdates=Tu(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function T4(e,t,n,a,i,r,o,s,l,c,h,d){return e=new h7(e,t,n,o,l,c,h,d,s),t=1,r===!0&&(t|=24),r=Tn(3,null,null,t),e.current=r,r.stateNode=e,t=b0(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},v0(r),e}function k4(e){return e?(e=wo,e):wo}function A4(e,t,n,a,i,r){i=k4(i),a.context===null?a.context=i:a.pendingContext=i,a=Oi(t),a.payload={element:n},r=r===void 0?null:r,r!==null&&(a.callback=r),n=Pi(e,a,t),n!==null&&(mn(n,e,t),Js(n,e,t))}function Gb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function G0(e,t){Gb(e,t),(e=e.alternate)&&Gb(e,t)}function S4(e){if(e.tag===13||e.tag===31){var t=Fr(e,67108864);t!==null&&mn(t,e,67108864),G0(e,67108864)}}function Vb(e){if(e.tag===13||e.tag===31){var t=In();t=a0(t);var n=Fr(e,t);n!==null&&mn(n,e,t),G0(e,t)}}var sd=!0;function d7(e,t,n,a){var i=be.T;be.T=null;var r=Le.p;try{Le.p=2,V0(e,t,n,a)}finally{Le.p=r,be.T=i}}function u7(e,t,n,a){var i=be.T;be.T=null;var r=Le.p;try{Le.p=8,V0(e,t,n,a)}finally{Le.p=r,be.T=i}}function V0(e,t,n,a){if(sd){var i=Xp(a);if(i===null)Ju(e,t,a,ld,n),Xb(e,a);else if(p7(i,e,t,n,a))a.stopPropagation();else if(Xb(e,a),t&4&&-1<m7.indexOf(e)){for(;i!==null;){var r=rs(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var o=hr(r.pendingLanes);if(o!==0){var s=r;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-En(o);s.entanglements[1]|=l,o&=~l}Ea(r),!(Pe&6)&&(Qh=Sn()+500,ac(0))}}break;case 31:case 13:s=Fr(r,2),s!==null&&mn(s,r,2),qd(),G0(r,2)}if(r=Xp(a),r===null&&Ju(e,t,a,ld,n),r===i)break;i=r}i!==null&&a.stopPropagation()}else Ju(e,t,a,null,n)}}function Xp(e){return e=s0(e),X0(e)}var ld=null;function X0(e){if(ld=null,e=mo(e),e!==null){var t=Xl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Gx(t),e!==null)return e;e=null}else if(n===31){if(e=Vx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ld=e,null}function C4(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(J6()){case Qx:return 2;case Jx:return 8;case Ph:case Z6:return 32;case Zx:return 268435456;default:return 32}default:return 32}}var Yp=!1,Fi=null,ji=null,Ui=null,El=new Map,Il=new Map,Si=[],m7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xb(e,t){switch(e){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":El.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(t.pointerId)}}function Ns(e,t,n,a,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[i]},t!==null&&(t=rs(t),t!==null&&S4(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function p7(e,t,n,a,i){switch(t){case"focusin":return Fi=Ns(Fi,e,t,n,a,i),!0;case"dragenter":return ji=Ns(ji,e,t,n,a,i),!0;case"mouseover":return Ui=Ns(Ui,e,t,n,a,i),!0;case"pointerover":var r=i.pointerId;return El.set(r,Ns(El.get(r)||null,e,t,n,a,i)),!0;case"gotpointercapture":return r=i.pointerId,Il.set(r,Ns(Il.get(r)||null,e,t,n,a,i)),!0}return!1}function E4(e){var t=mo(e.target);if(t!==null){var n=Xl(t);if(n!==null){if(t=n.tag,t===13){if(t=Gx(n),t!==null){e.blockedOn=t,z1(e.priority,function(){Vb(n)});return}}else if(t===31){if(t=Vx(n),t!==null){e.blockedOn=t,z1(e.priority,function(){Vb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _h(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xp(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);mp=a,n.target.dispatchEvent(a),mp=null}else return t=rs(n),t!==null&&S4(t),e.blockedOn=n,!1;t.shift()}return!0}function Yb(e,t,n){_h(e)&&n.delete(t)}function f7(){Yp=!1,Fi!==null&&_h(Fi)&&(Fi=null),ji!==null&&_h(ji)&&(ji=null),Ui!==null&&_h(Ui)&&(Ui=null),El.forEach(Yb),Il.forEach(Yb)}function zc(e,t){e.blockedOn===t&&(e.blockedOn=null,Yp||(Yp=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,f7)))}var $c=null;function Kb(e){$c!==e&&($c=e,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,function(){$c===e&&($c=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(X0(a||n)===null)continue;break}var r=rs(n);r!==null&&(e.splice(t,3),t-=3,Ip(r,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Ko(e){function t(l){return zc(l,e)}Fi!==null&&zc(Fi,e),ji!==null&&zc(ji,e),Ui!==null&&zc(Ui,e),El.forEach(t),Il.forEach(t);for(var n=0;n<Si.length;n++){var a=Si[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Si.length&&(n=Si[0],n.blockedOn===null);)E4(n),n.blockedOn===null&&Si.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],r=n[a+1],o=i[fn]||null;if(typeof r=="function")o||Kb(n);else if(o){var s=null;if(r&&r.hasAttribute("formAction")){if(i=r,o=r[fn]||null)s=o.formAction;else if(X0(i)!==null)continue}else s=o.action;typeof s=="function"?n[a+1]=s:(n.splice(a,3),a-=3),Kb(n)}}}function I4(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(o){return i=o})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Y0(e){this._internalRoot=e}Gd.prototype.render=Y0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));var n=t.current,a=In();A4(n,a,e,t,null,null)};Gd.prototype.unmount=Y0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;A4(e.current,2,null,e,null,null),qd(),t[is]=null}};function Gd(e){this._internalRoot=e}Gd.prototype.unstable_scheduleHydration=function(e){if(e){var t=i2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Si.length&&t!==0&&t<Si[n].priority;n++);Si.splice(n,0,e),n===0&&E4(e)}};var Qb=Hx.version;if(Qb!=="19.2.3")throw Error(K(527,Qb,"19.2.3"));Le.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=W6(t),e=e!==null?Xx(e):null,e=e===null?null:e.stateNode,e};var g7={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:be,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Yl=Rc.inject(g7),Cn=Rc}catch{}}Id.createRoot=function(e,t){if(!Wx(e))throw Error(K(299));var n=!1,a="",i=v_,r=x_,o=__;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=T4(e,1,!1,null,null,n,a,null,i,r,o,I4),e[is]=t.current,q0(e),new Y0(t)};Id.hydrateRoot=function(e,t,n){if(!Wx(e))throw Error(K(299));var a=!1,i="",r=v_,o=x_,s=__,l=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),t=T4(e,1,!0,t,n??null,a,i,l,r,o,s,I4),t.context=k4(null),n=t.current,a=In(),a=a0(a),i=Oi(a),i.callback=null,Pi(n,i,a),n=a,t.current.lanes=n,Ql(t,n),Ea(t),e[is]=t.current,q0(e),new Gd(t)};Id.version="19.2.3";function N4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N4)}catch(e){console.error(e)}}N4(),Lx.exports=Id;var b7=Lx.exports;const y7=Vl(b7),K0=N.createContext({});function Ur(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const Q0=typeof window<"u",oc=Q0?N.useLayoutEffect:N.useEffect,Vd=N.createContext(null);function J0(e,t){e.indexOf(t)===-1&&e.push(t)}function Xd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Aa=(e,t,n)=>n>t?t:n<e?e:n;let Nl=()=>{};const ri={},M4=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function z4(e){return typeof e=="object"&&e!==null}const $4=e=>/^0[^.\s]+$/u.test(e);function Z0(e){let t;return()=>(t===void 0&&(t=e()),t)}const pn=e=>e,w7=(e,t)=>n=>t(e(n)),sc=(...e)=>e.reduce(w7),Rr=(e,t,n)=>{const a=t-e;return a===0?1:(n-e)/a};class eg{constructor(){this.subscriptions=[]}add(t){return J0(this.subscriptions,t),()=>Xd(this.subscriptions,t)}notify(t,n,a){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,a);else for(let r=0;r<i;r++){const o=this.subscriptions[r];o&&o(t,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const da=e=>e*1e3,Xn=e=>e/1e3;function tg(e,t){return t?e*(1e3/t):0}const v7=(e,t,n)=>{const a=t-e;return((n-e)%a+a)%a+e},R4=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,x7=1e-7,_7=12;function T7(e,t,n,a,i){let r,o,s=0;do o=t+(n-t)/2,r=R4(o,a,i)-e,r>0?n=o:t=o;while(Math.abs(r)>x7&&++s<_7);return o}function lc(e,t,n,a){if(e===t&&n===a)return pn;const i=r=>T7(r,0,1,e,n);return r=>r===0||r===1?r:R4(i(r),t,a)}const D4=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,O4=e=>t=>1-e(1-t),P4=lc(.33,1.53,.69,.99),ng=O4(P4),L4=D4(ng),B4=e=>(e*=2)<1?.5*ng(e):.5*(2-Math.pow(2,-10*(e-1))),ag=e=>1-Math.sin(Math.acos(e)),F4=O4(ag),j4=D4(ag),k7=lc(.42,0,1,1),A7=lc(0,0,.58,1),U4=lc(.42,0,.58,1),q4=e=>Array.isArray(e)&&typeof e[0]!="number";function H4(e,t){return q4(e)?e[v7(0,e.length,t)]:e}const W4=e=>Array.isArray(e)&&typeof e[0]=="number",S7={linear:pn,easeIn:k7,easeInOut:U4,easeOut:A7,circIn:ag,circInOut:j4,circOut:F4,backIn:ng,backInOut:L4,backOut:P4,anticipate:B4},C7=e=>typeof e=="string",Jb=e=>{if(W4(e)){Nl(e.length===4);const[t,n,a,i]=e;return lc(t,n,a,i)}else if(C7(e))return S7[e];return e},Dc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function E7(e,t){let n=new Set,a=new Set,i=!1,r=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function l(h){o.has(h)&&(c.schedule(h),e()),h(s)}const c={schedule:(h,d=!1,m=!1)=>{const b=m&&i?n:a;return d&&o.add(h),b.has(h)||b.add(h),h},cancel:h=>{a.delete(h),o.delete(h)},process:h=>{if(s=h,i){r=!0;return}i=!0,[n,a]=[a,n],n.forEach(l),n.clear(),i=!1,r&&(r=!1,c.process(h))}};return c}const I7=40;function G4(e,t){let n=!1,a=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,o=Dc.reduce((x,_)=>(x[_]=E7(r),x),{}),{setup:s,read:l,resolveKeyframes:c,preUpdate:h,update:d,preRender:m,render:p,postRender:b}=o,y=()=>{const x=ri.useManualTiming?i.timestamp:performance.now();n=!1,ri.useManualTiming||(i.delta=a?1e3/60:Math.max(Math.min(x-i.timestamp,I7),1)),i.timestamp=x,i.isProcessing=!0,s.process(i),l.process(i),c.process(i),h.process(i),d.process(i),m.process(i),p.process(i),b.process(i),i.isProcessing=!1,n&&t&&(a=!1,e(y))},T=()=>{n=!0,a=!0,i.isProcessing||e(y)};return{schedule:Dc.reduce((x,_)=>{const C=o[_];return x[_]=(A,M=!1,I=!1)=>(n||T(),C.schedule(A,M,I)),x},{}),cancel:x=>{for(let _=0;_<Dc.length;_++)o[Dc[_]].cancel(x)},state:i,steps:o}}const{schedule:Fe,cancel:ma,state:Ot,steps:tm}=G4(typeof requestAnimationFrame<"u"?requestAnimationFrame:pn,!0);let Th;function N7(){Th=void 0}const un={now:()=>(Th===void 0&&un.set(Ot.isProcessing||ri.useManualTiming?Ot.timestamp:performance.now()),Th),set:e=>{Th=e,queueMicrotask(N7)}},V4=e=>t=>typeof t=="string"&&t.startsWith(e),X4=V4("--"),M7=V4("var(--"),ig=e=>M7(e)?z7.test(e.split("/*")[0].trim()):!1,z7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ds={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ml={...ds,transform:e=>Aa(0,1,e)},Oc={...ds,default:1},sl=e=>Math.round(e*1e5)/1e5,rg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $7(e){return e==null}const R7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,og=(e,t)=>n=>!!(typeof n=="string"&&R7.test(n)&&n.startsWith(e)||t&&!$7(n)&&Object.prototype.hasOwnProperty.call(n,t)),Y4=(e,t,n)=>a=>{if(typeof a!="string")return a;const[i,r,o,s]=a.match(rg);return{[e]:parseFloat(i),[t]:parseFloat(r),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},D7=e=>Aa(0,255,e),nm={...ds,transform:e=>Math.round(D7(e))},br={test:og("rgb","red"),parse:Y4("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:a=1})=>"rgba("+nm.transform(e)+", "+nm.transform(t)+", "+nm.transform(n)+", "+sl(Ml.transform(a))+")"};function O7(e){let t="",n="",a="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),a=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),a=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,a+=a,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:i?parseInt(i,16)/255:1}}const Kp={test:og("#"),parse:O7,transform:br.transform},cc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),gi=cc("deg"),ka=cc("%"),ge=cc("px"),P7=cc("vh"),L7=cc("vw"),Zb={...ka,parse:e=>ka.parse(e)/100,transform:e=>ka.transform(e*100)},To={test:og("hsl","hue"),parse:Y4("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:a=1})=>"hsla("+Math.round(e)+", "+ka.transform(sl(t))+", "+ka.transform(sl(n))+", "+sl(Ml.transform(a))+")"},At={test:e=>br.test(e)||Kp.test(e)||To.test(e),parse:e=>br.test(e)?br.parse(e):To.test(e)?To.parse(e):Kp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?br.transform(e):To.transform(e),getAnimatableNone:e=>{const t=At.parse(e);return t.alpha=0,At.transform(t)}},B7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function F7(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(rg))==null?void 0:t.length)||0)+(((n=e.match(B7))==null?void 0:n.length)||0)>0}const K4="number",Q4="color",j7="var",U7="var(",ey="${}",q7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zl(e){const t=e.toString(),n=[],a={color:[],number:[],var:[]},i=[];let r=0;const s=t.replace(q7,l=>(At.test(l)?(a.color.push(r),i.push(Q4),n.push(At.parse(l))):l.startsWith(U7)?(a.var.push(r),i.push(j7),n.push(l)):(a.number.push(r),i.push(K4),n.push(parseFloat(l))),++r,ey)).split(ey);return{values:n,split:s,indexes:a,types:i}}function J4(e){return zl(e).values}function Z4(e){const{split:t,types:n}=zl(e),a=t.length;return i=>{let r="";for(let o=0;o<a;o++)if(r+=t[o],i[o]!==void 0){const s=n[o];s===K4?r+=sl(i[o]):s===Q4?r+=At.transform(i[o]):r+=i[o]}return r}}const H7=e=>typeof e=="number"?0:At.test(e)?At.getAnimatableNone(e):e;function W7(e){const t=J4(e);return Z4(e)(t.map(H7))}const Vi={test:F7,parse:J4,createTransformer:Z4,getAnimatableNone:W7};function am(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function G7({hue:e,saturation:t,lightness:n,alpha:a}){e/=360,t/=100,n/=100;let i=0,r=0,o=0;if(!t)i=r=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;i=am(l,s,e+1/3),r=am(l,s,e),o=am(l,s,e-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:a}}function cd(e,t){return n=>n>0?t:e}const st=(e,t,n)=>e+(t-e)*n,im=(e,t,n)=>{const a=e*e,i=n*(t*t-a)+a;return i<0?0:Math.sqrt(i)},V7=[Kp,br,To],X7=e=>V7.find(t=>t.test(e));function ty(e){const t=X7(e);if(!t)return!1;let n=t.parse(e);return t===To&&(n=G7(n)),n}const ny=(e,t)=>{const n=ty(e),a=ty(t);if(!n||!a)return cd(e,t);const i={...n};return r=>(i.red=im(n.red,a.red,r),i.green=im(n.green,a.green,r),i.blue=im(n.blue,a.blue,r),i.alpha=st(n.alpha,a.alpha,r),br.transform(i))},Qp=new Set(["none","hidden"]);function Y7(e,t){return Qp.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function K7(e,t){return n=>st(e,t,n)}function sg(e){return typeof e=="number"?K7:typeof e=="string"?ig(e)?cd:At.test(e)?ny:Z7:Array.isArray(e)?e3:typeof e=="object"?At.test(e)?ny:Q7:cd}function e3(e,t){const n=[...e],a=n.length,i=e.map((r,o)=>sg(r)(r,t[o]));return r=>{for(let o=0;o<a;o++)n[o]=i[o](r);return n}}function Q7(e,t){const n={...e,...t},a={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(a[i]=sg(e[i])(e[i],t[i]));return i=>{for(const r in a)n[r]=a[r](i);return n}}function J7(e,t){const n=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const r=t.types[i],o=e.indexes[r][a[r]],s=e.values[o]??0;n[i]=s,a[r]++}return n}const Z7=(e,t)=>{const n=Vi.createTransformer(t),a=zl(e),i=zl(t);return a.indexes.var.length===i.indexes.var.length&&a.indexes.color.length===i.indexes.color.length&&a.indexes.number.length>=i.indexes.number.length?Qp.has(e)&&!i.values.length||Qp.has(t)&&!a.values.length?Y7(e,t):sc(e3(J7(a,i),i.values),n):cd(e,t)};function t3(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?st(e,t,n):sg(e)(e,t)}const e8=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Fe.update(t,n),stop:()=>ma(t),now:()=>Ot.isProcessing?Ot.timestamp:un.now()}},n3=(e,t,n=10)=>{let a="";const i=Math.max(Math.round(t/n),2);for(let r=0;r<i;r++)a+=Math.round(e(r/(i-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},hd=2e4;function lg(e){let t=0;const n=50;let a=e.next(t);for(;!a.done&&t<hd;)t+=n,a=e.next(t);return t>=hd?1/0:t}function a3(e,t=100,n){const a=n({...e,keyframes:[0,t]}),i=Math.min(lg(a),hd);return{type:"keyframes",ease:r=>a.next(i*r).value/t,duration:Xn(i)}}const t8=5;function i3(e,t,n){const a=Math.max(t-t8,0);return tg(n-e(a),t-a)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rm=.001;function n8({duration:e=mt.duration,bounce:t=mt.bounce,velocity:n=mt.velocity,mass:a=mt.mass}){let i,r,o=1-t;o=Aa(mt.minDamping,mt.maxDamping,o),e=Aa(mt.minDuration,mt.maxDuration,Xn(e)),o<1?(i=c=>{const h=c*o,d=h*e,m=h-n,p=Jp(c,o),b=Math.exp(-d);return rm-m/p*b},r=c=>{const d=c*o*e,m=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,b=Math.exp(-d),y=Jp(Math.pow(c,2),o);return(-i(c)+rm>0?-1:1)*((m-p)*b)/y}):(i=c=>{const h=Math.exp(-c*e),d=(c-n)*e+1;return-rm+h*d},r=c=>{const h=Math.exp(-c*e),d=(n-c)*(e*e);return h*d});const s=5/e,l=i8(i,r,s);if(e=da(e),isNaN(l))return{stiffness:mt.stiffness,damping:mt.damping,duration:e};{const c=Math.pow(l,2)*a;return{stiffness:c,damping:o*2*Math.sqrt(a*c),duration:e}}}const a8=12;function i8(e,t,n){let a=n;for(let i=1;i<a8;i++)a=a-e(a)/t(a);return a}function Jp(e,t){return e*Math.sqrt(1-t*t)}const r8=["duration","bounce"],o8=["stiffness","damping","mass"];function ay(e,t){return t.some(n=>e[n]!==void 0)}function s8(e){let t={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...e};if(!ay(e,o8)&&ay(e,r8))if(e.visualDuration){const n=e.visualDuration,a=2*Math.PI/(n*1.2),i=a*a,r=2*Aa(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:mt.mass,stiffness:i,damping:r}}else{const n=n8(e);t={...t,...n,mass:mt.mass},t.isResolvedFromDuration=!0}return t}function $l(e=mt.visualDuration,t=mt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:i}=n;const r=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:r},{stiffness:l,damping:c,mass:h,duration:d,velocity:m,isResolvedFromDuration:p}=s8({...n,velocity:-Xn(n.velocity||0)}),b=m||0,y=c/(2*Math.sqrt(l*h)),T=o-r,g=Xn(Math.sqrt(l/h)),w=Math.abs(T)<5;a||(a=w?mt.restSpeed.granular:mt.restSpeed.default),i||(i=w?mt.restDelta.granular:mt.restDelta.default);let x;if(y<1){const C=Jp(g,y);x=A=>{const M=Math.exp(-y*g*A);return o-M*((b+y*g*T)/C*Math.sin(C*A)+T*Math.cos(C*A))}}else if(y===1)x=C=>o-Math.exp(-g*C)*(T+(b+g*T)*C);else{const C=g*Math.sqrt(y*y-1);x=A=>{const M=Math.exp(-y*g*A),I=Math.min(C*A,300);return o-M*((b+y*g*T)*Math.sinh(I)+C*T*Math.cosh(I))/C}}const _={calculatedDuration:p&&d||null,next:C=>{const A=x(C);if(p)s.done=C>=d;else{let M=C===0?b:0;y<1&&(M=C===0?da(b):i3(x,C,A));const I=Math.abs(M)<=a,R=Math.abs(o-A)<=i;s.done=I&&R}return s.value=s.done?o:A,s},toString:()=>{const C=Math.min(lg(_),hd),A=n3(M=>_.next(C*M).value,C,30);return C+"ms "+A},toTransition:()=>{}};return _}$l.applyToOptions=e=>{const t=a3(e,100,$l);return e.ease=t.ease,e.duration=da(t.duration),e.type="keyframes",e};function Zp({keyframes:e,velocity:t=0,power:n=.8,timeConstant:a=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:h}){const d=e[0],m={done:!1,value:d},p=I=>s!==void 0&&I<s||l!==void 0&&I>l,b=I=>s===void 0?l:l===void 0||Math.abs(s-I)<Math.abs(l-I)?s:l;let y=n*t;const T=d+y,g=o===void 0?T:o(T);g!==T&&(y=g-d);const w=I=>-y*Math.exp(-I/a),x=I=>g+w(I),_=I=>{const R=w(I),z=x(I);m.done=Math.abs(R)<=c,m.value=m.done?g:z};let C,A;const M=I=>{p(m.value)&&(C=I,A=$l({keyframes:[m.value,b(m.value)],velocity:i3(x,I,m.value),damping:i,stiffness:r,restDelta:c,restSpeed:h}))};return M(0),{calculatedDuration:null,next:I=>{let R=!1;return!A&&C===void 0&&(R=!0,_(I),M(I)),C!==void 0&&I>=C?A.next(I-C):(!R&&_(I),m)}}}function l8(e,t,n){const a=[],i=n||ri.mix||t3,r=e.length-1;for(let o=0;o<r;o++){let s=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||pn:t;s=sc(l,s)}a.push(s)}return a}function cg(e,t,{clamp:n=!0,ease:a,mixer:i}={}){const r=e.length;if(Nl(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=l8(t,a,i),l=s.length,c=h=>{if(o&&h<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(h<e[d+1]);d++);const m=Rr(e[d],e[d+1],h);return s[d](m)};return n?h=>c(Aa(e[0],e[r-1],h)):c}function r3(e,t){const n=e[e.length-1];for(let a=1;a<=t;a++){const i=Rr(0,t,a);e.push(st(n,1,i))}}function hg(e){const t=[0];return r3(t,e.length-1),t}function c8(e,t){return e.map(n=>n*t)}function h8(e,t){return e.map(()=>t||U4).splice(0,e.length-1)}function ll({duration:e=300,keyframes:t,times:n,ease:a="easeInOut"}){const i=q4(a)?a.map(Jb):Jb(a),r={done:!1,value:t[0]},o=c8(n&&n.length===t.length?n:hg(t),e),s=cg(o,t,{ease:Array.isArray(i)?i:h8(t,i)});return{calculatedDuration:e,next:l=>(r.value=s(l),r.done=l>=e,r)}}const d8=e=>e!==null;function dg(e,{repeat:t,repeatType:n="loop"},a,i=1){const r=e.filter(d8),s=i<0||t&&n!=="loop"&&t%2===1?0:r.length-1;return!s||a===void 0?r[s]:a}const u8={decay:Zp,inertia:Zp,tween:ll,keyframes:ll,spring:$l};function o3(e){typeof e.type=="string"&&(e.type=u8[e.type])}class ug{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const m8=e=>e/100;class Yd extends ug{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,i;const{motionValue:n}=this.options;n&&n.updatedAt!==un.now()&&this.tick(un.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(a=this.options).onStop)==null||i.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;o3(t);const{type:n=ll,repeat:a=0,repeatDelay:i=0,repeatType:r,velocity:o=0}=t;let{keyframes:s}=t;const l=n||ll;l!==ll&&typeof s[0]!="number"&&(this.mixKeyframes=sc(m8,t3(s[0],s[1])),s=[0,100]);const c=l({...t,keyframes:s});r==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...s].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=lg(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(a+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:a,totalDuration:i,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:s,calculatedDuration:l}=this;if(this.startTime===null)return a.next(0);const{delay:c=0,keyframes:h,repeat:d,repeatType:m,repeatDelay:p,type:b,onUpdate:y,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,_=a;if(d){const I=Math.min(this.currentTime,i)/s;let R=Math.floor(I),z=I%1;!z&&I>=1&&(z=1),z===1&&R--,R=Math.min(R,d+1),!!(R%2)&&(m==="reverse"?(z=1-z,p&&(z-=p/s)):m==="mirror"&&(_=o)),x=Aa(0,1,z)*s}const C=w?{done:!1,value:h[0]}:_.next(x);r&&(C.value=r(C.value));let{done:A}=C;!w&&l!==null&&(A=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return M&&b!==Zp&&(C.value=dg(h,this.options,T,this.speed)),y&&y(C.value),M&&this.finish(),C}then(t,n){return this.finished.then(t,n)}get duration(){return Xn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(this.currentTime)}set time(t){var n;t=da(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(un.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Xn(this.currentTime))}play(){var i,r;if(this.isStopped)return;const{driver:t=e8,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(r=(i=this.options).onPlay)==null||r.call(i);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=n??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(un.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function p8(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const yr=e=>e*180/Math.PI,ef=e=>{const t=yr(Math.atan2(e[1],e[0]));return tf(t)},f8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ef,rotateZ:ef,skewX:e=>yr(Math.atan(e[1])),skewY:e=>yr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},tf=e=>(e=e%360,e<0&&(e+=360),e),iy=ef,ry=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),oy=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),g8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ry,scaleY:oy,scale:e=>(ry(e)+oy(e))/2,rotateX:e=>tf(yr(Math.atan2(e[6],e[5]))),rotateY:e=>tf(yr(Math.atan2(-e[2],e[0]))),rotateZ:iy,rotate:iy,skewX:e=>yr(Math.atan(e[4])),skewY:e=>yr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function nf(e){return e.includes("scale")?1:0}function af(e,t){if(!e||e==="none")return nf(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,i;if(n)a=g8,i=n;else{const s=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=f8,i=s}if(!i)return nf(t);const r=a[t],o=i[1].split(",").map(y8);return typeof r=="function"?r(o):o[r]}const b8=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return af(n,t)};function y8(e){return parseFloat(e.trim())}const us=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ms=new Set(us),sy=e=>e===ds||e===ge,w8=new Set(["x","y","z"]),v8=us.filter(e=>!w8.has(e));function x8(e){const t=[];return v8.forEach(n=>{const a=e.getValue(n);a!==void 0&&(t.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),t}const Ar={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>af(t,"x"),y:(e,{transform:t})=>af(t,"y")};Ar.translateX=Ar.x;Ar.translateY=Ar.y;const Sr=new Set;let rf=!1,of=!1,sf=!1;function s3(){if(of){const e=Array.from(Sr).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),n=new Map;t.forEach(a=>{const i=x8(a);i.length&&(n.set(a,i),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const i=n.get(a);i&&i.forEach(([r,o])=>{var s;(s=a.getValue(r))==null||s.set(o)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}of=!1,rf=!1,Sr.forEach(e=>e.complete(sf)),Sr.clear()}function l3(){Sr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(of=!0)})}function _8(){sf=!0,l3(),s3(),sf=!1}class mg{constructor(t,n,a,i,r,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=a,this.motionValue=i,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Sr.add(this),rf||(rf=!0,Fe.read(l3),Fe.resolveKeyframes(s3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:a,motionValue:i}=this;if(t[0]===null){const r=i==null?void 0:i.get(),o=t[t.length-1];if(r!==void 0)t[0]=r;else if(a&&n){const s=a.readValue(n,o);s!=null&&(t[0]=s)}t[0]===void 0&&(t[0]=o),i&&r===void 0&&i.set(t[0])}p8(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Sr.delete(this)}cancel(){this.state==="scheduled"&&(Sr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const T8=e=>e.startsWith("--");function k8(e,t,n){T8(t)?e.style.setProperty(t,n):e.style[t]=n}const c3=Z0(()=>window.ScrollTimeline!==void 0),A8={};function S8(e,t){const n=Z0(e);return()=>A8[t]??n()}const h3=S8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qs=([e,t,n,a])=>`cubic-bezier(${e}, ${t}, ${n}, ${a})`,ly={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qs([0,.65,.55,1]),circOut:qs([.55,0,1,.45]),backIn:qs([.31,.01,.66,-.59]),backOut:qs([.33,1.53,.69,.99])};function d3(e,t){if(e)return typeof e=="function"?h3()?n3(e,t):"ease-out":W4(e)?qs(e):Array.isArray(e)?e.map(n=>d3(n,t)||ly.easeOut):ly[e]}function C8(e,t,n,{delay:a=0,duration:i=300,repeat:r=0,repeatType:o="loop",ease:s="easeOut",times:l}={},c=void 0){const h={[t]:n};l&&(h.offset=l);const d=d3(s,i);Array.isArray(d)&&(h.easing=d);const m={delay:a,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"};return c&&(m.pseudoElement=c),e.animate(h,m)}function pg(e){return typeof e=="function"&&"applyToOptions"in e}function E8({type:e,...t}){return pg(e)&&h3()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class I8 extends ug{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:a,keyframes:i,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:s,onComplete:l}=t;this.isPseudoElement=!!r,this.allowFlatten=o,this.options=t,Nl(typeof t.type!="string");const c=E8(t);this.animation=C8(n,a,i,c,r),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const h=dg(i,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(h):k8(n,a,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,a;const t=((a=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:a.call(n).duration)||0;return Xn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=da(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&c3()?(this.animation.timeline=t,pn):n(this)}}const u3={anticipate:B4,backInOut:L4,circInOut:j4};function N8(e){return e in u3}function M8(e){typeof e.ease=="string"&&N8(e.ease)&&(e.ease=u3[e.ease])}const cy=10;class z8 extends I8{constructor(t){M8(t),o3(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:a,onComplete:i,element:r,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const s=new Yd({...o,autoplay:!1}),l=da(this.finishedTime??this.time);n.setWithVelocity(s.sample(l-cy).value,s.sample(l).value,cy),s.stop()}}const hy=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Vi.test(e)||e==="0")&&!e.startsWith("url("));function $8(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function R8(e,t,n,a){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],o=hy(i,t),s=hy(r,t);return!o||!s?!1:$8(e)||(n==="spring"||pg(n))&&a}function lf(e){e.duration=0,e.type="keyframes"}const D8=new Set(["opacity","clipPath","filter","transform"]),O8=Z0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function P8(e){var h;const{motionValue:t,name:n,repeatDelay:a,repeatType:i,damping:r,type:o}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return O8()&&n&&D8.has(n)&&(n!=="transform"||!c)&&!l&&!a&&i!=="mirror"&&r!==0&&o!=="inertia"}const L8=40;class B8 extends ug{constructor({autoplay:t=!0,delay:n=0,type:a="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o="loop",keyframes:s,name:l,motionValue:c,element:h,...d}){var b;super(),this.stop=()=>{var y,T;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=un.now();const m={autoplay:t,delay:n,type:a,repeat:i,repeatDelay:r,repeatType:o,name:l,motionValue:c,element:h,...d},p=(h==null?void 0:h.KeyframeResolver)||mg;this.keyframeResolver=new p(s,(y,T,g)=>this.onKeyframesResolved(y,T,m,!g),l,c,h),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,n,a,i){this.keyframeResolver=void 0;const{name:r,type:o,velocity:s,delay:l,isHandoff:c,onUpdate:h}=a;this.resolvedAt=un.now(),R8(t,r,o,s)||((ri.instantAnimations||!l)&&(h==null||h(dg(t,a,n))),t[0]=t[t.length-1],lf(a),a.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>L8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:t},p=!c&&P8(m)?new z8({...m,element:m.motionValue.owner.current}):new Yd(m);p.finished.then(()=>this.notifyFinished()).catch(pn),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),_8()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class F8{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let a=0;a<this.animations.length;a++)this.animations[a][t]=n}attachTimeline(t){const n=this.animations.map(a=>a.attachTimeline(t));return()=>{n.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return dy(this.animations,"duration")}get iterationDuration(){return dy(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function dy(e,t){let n=0;for(let a=0;a<e.length;a++){const i=e[a][t];i!==null&&i>n&&(n=i)}return n}class j8 extends F8{then(t,n){return this.finished.finally(t).then(()=>{})}}const U8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function q8(e){const t=U8.exec(e);if(!t)return[,];const[,n,a,i]=t;return[`--${n??a}`,i]}function m3(e,t,n=1){const[a,i]=q8(e);if(!a)return;const r=window.getComputedStyle(t).getPropertyValue(a);if(r){const o=r.trim();return M4(o)?parseFloat(o):o}return ig(i)?m3(i,t,n+1):i}function fg(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const p3=new Set(["width","height","top","left","right","bottom",...us]),H8={test:e=>e==="auto",parse:e=>e},f3=e=>t=>t.test(e),g3=[ds,ge,ka,gi,L7,P7,H8],uy=e=>g3.find(f3(e));function W8(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||$4(e):!0}const G8=new Set(["brightness","contrast","saturate","opacity"]);function V8(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=n.match(rg)||[];if(!a)return e;const i=n.replace(a,"");let r=G8.has(t)?1:0;return a!==n&&(r*=100),t+"("+r+i+")"}const X8=/\b([a-z-]*)\(.*?\)/gu,cf={...Vi,getAnimatableNone:e=>{const t=e.match(X8);return t?t.map(V8).join(" "):e}},my={...ds,transform:Math.round},Y8={rotate:gi,rotateX:gi,rotateY:gi,rotateZ:gi,scale:Oc,scaleX:Oc,scaleY:Oc,scaleZ:Oc,skew:gi,skewX:gi,skewY:gi,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:Ml,originX:Zb,originY:Zb,originZ:ge},gg={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge,...Y8,zIndex:my,fillOpacity:Ml,strokeOpacity:Ml,numOctaves:my},K8={...gg,color:At,backgroundColor:At,outlineColor:At,fill:At,stroke:At,borderColor:At,borderTopColor:At,borderRightColor:At,borderBottomColor:At,borderLeftColor:At,filter:cf,WebkitFilter:cf},b3=e=>K8[e];function y3(e,t){let n=b3(e);return n!==cf&&(n=Vi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Q8=new Set(["auto","none","0"]);function J8(e,t,n){let a=0,i;for(;a<e.length&&!i;){const r=e[a];typeof r=="string"&&!Q8.has(r)&&zl(r).values.length&&(i=e[a]),a++}if(i&&n)for(const r of t)e[r]=y3(n,i)}class Z8 extends mg{constructor(t,n,a,i,r){super(t,n,a,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),ig(c))){const h=m3(c,n.current);h!==void 0&&(t[l]=h),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!p3.has(a)||t.length!==2)return;const[i,r]=t,o=uy(i),s=uy(r);if(o!==s)if(sy(o)&&sy(s))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Ar[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,a=[];for(let i=0;i<t.length;i++)(t[i]===null||W8(t[i]))&&a.push(i);a.length&&J8(t,a,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ar[a](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(a,i).jump(i,!1)}measureEndState(){var s;const{element:t,name:n,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const r=a.length-1,o=a[r];a[r]=Ar[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(s=this.removedTransforms)!=null&&s.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function bg(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const i=(n==null?void 0:n[e])??a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const w3=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function yg(e){return z4(e)&&"offsetHeight"in e}const py=30,eC=e=>!isNaN(parseFloat(e)),cl={current:void 0};class tC{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var r;const i=un.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=un.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=eC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new eg);const a=this.events[t].add(n);return t==="change"?()=>{a(),Fe.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return cl.current&&cl.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=un.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>py)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,py);return tg(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ha(e,t){return new tC(e,t)}const{schedule:wg}=G4(queueMicrotask,!1),oa={x:!1,y:!1};function v3(){return oa.x||oa.y}function nC(e){return e==="x"||e==="y"?oa[e]?null:(oa[e]=!0,()=>{oa[e]=!1}):oa.x||oa.y?null:(oa.x=oa.y=!0,()=>{oa.x=oa.y=!1})}function x3(e,t){const n=bg(e),a=new AbortController,i={passive:!0,...t,signal:a.signal};return[n,i,()=>a.abort()]}function fy(e){return!(e.pointerType==="touch"||v3())}function aC(e,t,n={}){const[a,i,r]=x3(e,n),o=s=>{if(!fy(s))return;const{target:l}=s,c=t(l,s);if(typeof c!="function"||!l)return;const h=d=>{fy(d)&&(c(d),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return a.forEach(s=>{s.addEventListener("pointerenter",o,i)}),r}const _3=(e,t)=>t?e===t?!0:_3(e,t.parentElement):!1,vg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,iC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rC(e){return iC.has(e.tagName)||e.tabIndex!==-1}const kh=new WeakSet;function gy(e){return t=>{t.key==="Enter"&&e(t)}}function om(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const oC=(e,t)=>{const n=e.currentTarget;if(!n)return;const a=gy(()=>{if(kh.has(n))return;om(n,"down");const i=gy(()=>{om(n,"up")}),r=()=>om(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",r,t)});n.addEventListener("keydown",a,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",a),t)};function by(e){return vg(e)&&!v3()}function sC(e,t,n={}){const[a,i,r]=x3(e,n),o=s=>{const l=s.currentTarget;if(!by(s))return;kh.add(l);const c=t(l,s),h=(p,b)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",m),kh.has(l)&&kh.delete(l),by(p)&&typeof c=="function"&&c(p,{success:b})},d=p=>{h(p,l===window||l===document||n.useGlobalTarget||_3(l,p.target))},m=p=>{h(p,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",m,i)};return a.forEach(s=>{(n.useGlobalTarget?window:s).addEventListener("pointerdown",o,i),yg(s)&&(s.addEventListener("focus",c=>oC(c,i)),!rC(s)&&!s.hasAttribute("tabindex")&&(s.tabIndex=0))}),r}function Kd(e){return z4(e)&&"ownerSVGElement"in e}const Ah=new WeakMap;let bi;const T3=(e,t,n)=>(a,i)=>i&&i[0]?i[0][e+"Size"]:Kd(a)&&"getBBox"in a?a.getBBox()[t]:a[n],lC=T3("inline","width","offsetWidth"),cC=T3("block","height","offsetHeight");function hC({target:e,borderBoxSize:t}){var n;(n=Ah.get(e))==null||n.forEach(a=>{a(e,{get width(){return lC(e,t)},get height(){return cC(e,t)}})})}function dC(e){e.forEach(hC)}function uC(){typeof ResizeObserver>"u"||(bi=new ResizeObserver(dC))}function mC(e,t){bi||uC();const n=bg(e);return n.forEach(a=>{let i=Ah.get(a);i||(i=new Set,Ah.set(a,i)),i.add(t),bi==null||bi.observe(a)}),()=>{n.forEach(a=>{const i=Ah.get(a);i==null||i.delete(t),i!=null&&i.size||bi==null||bi.unobserve(a)})}}const Sh=new Set;let ko;function pC(){ko=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Sh.forEach(t=>t(e))},window.addEventListener("resize",ko)}function fC(e){return Sh.add(e),ko||pC(),()=>{Sh.delete(e),!Sh.size&&typeof ko=="function"&&(window.removeEventListener("resize",ko),ko=void 0)}}function gC(e,t){return typeof e=="function"?fC(e):mC(e,t)}function k3(e,t){let n;const a=()=>{const{currentTime:i}=t,o=(i===null?0:i.value)/100;n!==o&&e(o),n=o};return Fe.preUpdate(a,!0),()=>ma(a)}function A3(e){return Kd(e)&&e.tagName==="svg"}function bC(...e){const t=!Array.isArray(e[0]),n=t?0:-1,a=e[0+n],i=e[1+n],r=e[2+n],o=e[3+n],s=cg(i,r,o);return t?s(a):s}const Nt=e=>!!(e&&e.getVelocity);function yC(e,t,n){const a=e.get();let i=null,r=a,o;const s=typeof a=="string"?a.replace(/[\d.-]/g,""):void 0,l=()=>{i&&(i.stop(),i=null)},c=()=>{l(),i=new Yd({keyframes:[wy(e.get()),wy(r)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:o})};if(e.attach((h,d)=>{r=h,o=m=>d(yy(m,s)),Fe.postRender(c)},l),Nt(t)){const h=t.on("change",m=>e.set(yy(m,s))),d=e.on("destroy",h);return()=>{h(),d()}}return l}function yy(e,t){return t?e+t:e}function wy(e){return typeof e=="number"?e:parseFloat(e)}const wC=[...g3,At,Vi],vC=e=>wC.find(f3(e)),hc=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function vy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xC(...e){return t=>{let n=!1;const a=e.map(i=>{const r=vy(i,t);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let i=0;i<a.length;i++){const r=a[i];typeof r=="function"?r():vy(e[i],null)}}}}function _C(...e){return N.useCallback(xC(...e),e)}class TC extends N.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const a=n.offsetParent,i=yg(a)&&a.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=i-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function kC({children:e,isPresent:t,anchorX:n,root:a}){const i=N.useId(),r=N.useRef(null),o=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=N.useContext(hc),l=_C(r,e==null?void 0:e.ref);return N.useInsertionEffect(()=>{const{width:c,height:h,top:d,left:m,right:p}=o.current;if(t||!r.current||!c||!h)return;const b=n==="left"?`left: ${m}`:`right: ${p}`;r.current.dataset.motionPopId=i;const y=document.createElement("style");s&&(y.nonce=s);const T=a??document.head;return T.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${b}px !important;
            top: ${d}px !important;
          }
        `),()=>{T.contains(y)&&T.removeChild(y)}},[t]),u.jsx(TC,{isPresent:t,childRef:r,sizeRef:o,children:N.cloneElement(e,{ref:l})})}const AC=({children:e,initial:t,isPresent:n,onExitComplete:a,custom:i,presenceAffectsLayout:r,mode:o,anchorX:s,root:l})=>{const c=Ur(SC),h=N.useId();let d=!0,m=N.useMemo(()=>(d=!1,{id:h,initial:t,isPresent:n,custom:i,onExitComplete:p=>{c.set(p,!0);for(const b of c.values())if(!b)return;a&&a()},register:p=>(c.set(p,!1),()=>c.delete(p))}),[n,c,a]);return r&&d&&(m={...m}),N.useMemo(()=>{c.forEach((p,b)=>c.set(b,!1))},[n]),N.useEffect(()=>{!n&&!c.size&&a&&a()},[n]),o==="popLayout"&&(e=u.jsx(kC,{isPresent:n,anchorX:s,root:l,children:e})),u.jsx(Vd.Provider,{value:m,children:e})};function SC(){return new Map}function S3(e=!0){const t=N.useContext(Vd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:a,register:i}=t,r=N.useId();N.useEffect(()=>{if(e)return i(r)},[e]);const o=N.useCallback(()=>e&&a&&a(r),[r,a,e]);return!n&&a?[!1,o]:[!0]}const Pc=e=>e.key||"";function xy(e){const t=[];return N.Children.forEach(e,n=>{N.isValidElement(n)&&t.push(n)}),t}const Re=({children:e,custom:t,initial:n=!0,onExitComplete:a,presenceAffectsLayout:i=!0,mode:r="sync",propagate:o=!1,anchorX:s="left",root:l})=>{const[c,h]=S3(o),d=N.useMemo(()=>xy(e),[e]),m=o&&!c?[]:d.map(Pc),p=N.useRef(!0),b=N.useRef(d),y=Ur(()=>new Map),[T,g]=N.useState(d),[w,x]=N.useState(d);oc(()=>{p.current=!1,b.current=d;for(let A=0;A<w.length;A++){const M=Pc(w[A]);m.includes(M)?y.delete(M):y.get(M)!==!0&&y.set(M,!1)}},[w,m.length,m.join("-")]);const _=[];if(d!==T){let A=[...d];for(let M=0;M<w.length;M++){const I=w[M],R=Pc(I);m.includes(R)||(A.splice(M,0,I),_.push(I))}return r==="wait"&&_.length&&(A=_),x(xy(A)),g(d),null}const{forceRender:C}=N.useContext(K0);return u.jsx(u.Fragment,{children:w.map(A=>{const M=Pc(A),I=o&&!c?!1:d===w||m.includes(M),R=()=>{if(y.has(M))y.set(M,!0);else return;let z=!0;y.forEach(F=>{F||(z=!1)}),z&&(C==null||C(),x(b.current),o&&(h==null||h()),a&&a())};return u.jsx(AC,{isPresent:I,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:r,root:l,onExitComplete:I?void 0:R,anchorX:s,children:A},M)})})},C3=N.createContext({strict:!1}),_y={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qo={};for(const e in _y)Qo[e]={isEnabled:t=>_y[e].some(n=>!!t[n])};function CC(e){for(const t in e)Qo[t]={...Qo[t],...e[t]}}const EC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||EC.has(e)}let E3=e=>!dd(e);function IC(e){typeof e=="function"&&(E3=t=>t.startsWith("on")?!dd(t):e(t))}try{IC(require("@emotion/is-prop-valid").default)}catch{}function NC(e,t,n){const a={};for(const i in e)i==="values"&&typeof e.values=="object"||(E3(i)||n===!0&&dd(i)||!t&&!dd(i)||e.draggable&&i.startsWith("onDrag"))&&(a[i]=e[i]);return a}const Qd=N.createContext({});function Jd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Rl(e){return typeof e=="string"||Array.isArray(e)}const xg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_g=["initial",...xg];function Zd(e){return Jd(e.animate)||_g.some(t=>Rl(e[t]))}function I3(e){return!!(Zd(e)||e.variants)}function MC(e,t){if(Zd(e)){const{initial:n,animate:a}=e;return{initial:n===!1||Rl(n)?n:void 0,animate:Rl(a)?a:void 0}}return e.inherit!==!1?t:{}}function zC(e){const{initial:t,animate:n}=MC(e,N.useContext(Qd));return N.useMemo(()=>({initial:t,animate:n}),[Ty(t),Ty(n)])}function Ty(e){return Array.isArray(e)?e.join(" "):e}function ky(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ms={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ge.test(e))e=parseFloat(e);else return e;const n=ky(e,t.target.x),a=ky(e,t.target.y);return`${n}% ${a}%`}},$C={correct:(e,{treeScale:t,projectionDelta:n})=>{const a=e,i=Vi.parse(e);if(i.length>5)return a;const r=Vi.createTransformer(e),o=typeof i[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=s,i[1+o]/=l;const c=st(s,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),r(i)}},hf={borderRadius:{...Ms,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ms,borderTopRightRadius:Ms,borderBottomLeftRadius:Ms,borderBottomRightRadius:Ms,boxShadow:$C};function N3(e,{layout:t,layoutId:n}){return ms.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!hf[e]||e==="opacity")}const RC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DC=us.length;function OC(e,t,n){let a="",i=!0;for(let r=0;r<DC;r++){const o=us[r],s=e[o];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(o.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||n){const c=w3(s,gg[o]);if(!l){i=!1;const h=RC[o]||o;a+=`${h}(${c}) `}n&&(t[o]=c)}}return a=a.trim(),n?a=n(t,i?"":a):i&&(a="none"),a}function Tg(e,t,n){const{style:a,vars:i,transformOrigin:r}=e;let o=!1,s=!1;for(const l in t){const c=t[l];if(ms.has(l)){o=!0;continue}else if(X4(l)){i[l]=c;continue}else{const h=w3(c,gg[l]);l.startsWith("origin")?(s=!0,r[l]=h):a[l]=h}}if(t.transform||(o||n?a.transform=OC(t,e.transform,n):a.transform&&(a.transform="none")),s){const{originX:l="50%",originY:c="50%",originZ:h=0}=r;a.transformOrigin=`${l} ${c} ${h}`}}const kg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function M3(e,t,n){for(const a in t)!Nt(t[a])&&!N3(a,n)&&(e[a]=t[a])}function PC({transformTemplate:e},t){return N.useMemo(()=>{const n=kg();return Tg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function LC(e,t){const n=e.style||{},a={};return M3(a,n,e),Object.assign(a,PC(e,t)),a}function BC(e,t){const n={},a=LC(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const FC={offset:"stroke-dashoffset",array:"stroke-dasharray"},jC={offset:"strokeDashoffset",array:"strokeDasharray"};function UC(e,t,n=1,a=0,i=!0){e.pathLength=1;const r=i?FC:jC;e[r.offset]=ge.transform(-a);const o=ge.transform(t),s=ge.transform(n);e[r.array]=`${o} ${s}`}function z3(e,{attrX:t,attrY:n,attrScale:a,pathLength:i,pathSpacing:r=1,pathOffset:o=0,...s},l,c,h){if(Tg(e,s,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:m}=e;d.transform&&(m.transform=d.transform,delete d.transform),(m.transform||d.transformOrigin)&&(m.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),m.transform&&(m.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),a!==void 0&&(d.scale=a),i!==void 0&&UC(d,i,r,o,!1)}const $3=()=>({...kg(),attrs:{}}),R3=e=>typeof e=="string"&&e.toLowerCase()==="svg";function qC(e,t,n,a){const i=N.useMemo(()=>{const r=$3();return z3(r,t,R3(a),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};M3(r,e.style,e),i.style={...r,...i.style}}return i}const HC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ag(e){return typeof e!="string"||e.includes("-")?!1:!!(HC.indexOf(e)>-1||/[A-Z]/u.test(e))}function WC(e,t,n,{latestValues:a},i,r=!1){const s=(Ag(e)?qC:BC)(t,a,i,e),l=NC(t,typeof e=="string",r),c=e!==N.Fragment?{...l,...s,ref:n}:{},{children:h}=t,d=N.useMemo(()=>Nt(h)?h.get():h,[h]);return N.createElement(e,{...c,children:d})}function Ay(e){const t=[{},{}];return e==null||e.values.forEach((n,a)=>{t[0][a]=n.get(),t[1][a]=n.getVelocity()}),t}function Sg(e,t,n,a){if(typeof t=="function"){const[i,r]=Ay(a);t=t(n!==void 0?n:e.custom,i,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,r]=Ay(a);t=t(n!==void 0?n:e.custom,i,r)}return t}function Ch(e){return Nt(e)?e.get():e}function GC({scrapeMotionValuesFromProps:e,createRenderState:t},n,a,i){return{latestValues:VC(n,a,i,e),renderState:t()}}function VC(e,t,n,a){const i={},r=a(e,{});for(const m in r)i[m]=Ch(r[m]);let{initial:o,animate:s}=e;const l=Zd(e),c=I3(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?s:o;if(d&&typeof d!="boolean"&&!Jd(d)){const m=Array.isArray(d)?d:[d];for(let p=0;p<m.length;p++){const b=Sg(e,m[p]);if(b){const{transitionEnd:y,transition:T,...g}=b;for(const w in g){let x=g[w];if(Array.isArray(x)){const _=h?x.length-1:0;x=x[_]}x!==null&&(i[w]=x)}for(const w in y)i[w]=y[w]}}}return i}const D3=e=>(t,n)=>{const a=N.useContext(Qd),i=N.useContext(Vd),r=()=>GC(e,t,a,i);return n?r():Ur(r)};function Cg(e,t,n){var r;const{style:a}=e,i={};for(const o in a)(Nt(a[o])||t.style&&Nt(t.style[o])||N3(o,e)||((r=n==null?void 0:n.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(i[o]=a[o]);return i}const XC=D3({scrapeMotionValuesFromProps:Cg,createRenderState:kg});function O3(e,t,n){const a=Cg(e,t,n);for(const i in e)if(Nt(e[i])||Nt(t[i])){const r=us.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;a[r]=e[i]}return a}const YC=D3({scrapeMotionValuesFromProps:O3,createRenderState:$3}),KC=Symbol.for("motionComponentSymbol");function Ao(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function QC(e,t,n){return N.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),n&&(typeof n=="function"?n(a):Ao(n)&&(n.current=a))},[t])}const Eg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JC="framerAppearId",P3="data-"+Eg(JC),L3=N.createContext({});function ZC(e,t,n,a,i){var y,T;const{visualElement:r}=N.useContext(Qd),o=N.useContext(C3),s=N.useContext(Vd),l=N.useContext(hc).reducedMotion,c=N.useRef(null);a=a||o.renderer,!c.current&&a&&(c.current=a(e,{visualState:t,parent:r,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:l}));const h=c.current,d=N.useContext(L3);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&eE(c.current,n,i,d);const m=N.useRef(!1);N.useInsertionEffect(()=>{h&&m.current&&h.update(n,s)});const p=n[P3],b=N.useRef(!!p&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,p))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,p)));return oc(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),b.current&&h.animationState&&h.animationState.animateChanges())}),N.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,p)}),b.current=!1),h.enteringChildren=void 0)}),h}function eE(e,t,n,a){const{layoutId:i,layout:r,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:c,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:B3(e.parent)),e.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!o||s&&Ao(s),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:a,crossfade:h,layoutScroll:l,layoutRoot:c})}function B3(e){if(e)return e.options.allowProjection!==!1?e.projection:B3(e.parent)}function sm(e,{forwardMotionProps:t=!1}={},n,a){n&&CC(n);const i=Ag(e)?YC:XC;function r(s,l){let c;const h={...N.useContext(hc),...s,layoutId:tE(s)},{isStatic:d}=h,m=zC(s),p=i(s,d);if(!d&&Q0){nE();const b=aE(h);c=b.MeasureLayout,m.visualElement=ZC(e,p,h,a,b.ProjectionNode)}return u.jsxs(Qd.Provider,{value:m,children:[c&&m.visualElement?u.jsx(c,{visualElement:m.visualElement,...h}):null,WC(e,s,QC(p,m.visualElement,l),p,d,t)]})}r.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=N.forwardRef(r);return o[KC]=e,o}function tE({layoutId:e}){const t=N.useContext(K0).id;return t&&e!==void 0?t+"-"+e:e}function nE(e,t){N.useContext(C3).strict}function aE(e){const{drag:t,layout:n}=Qo;if(!t&&!n)return{};const a={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function iE(e,t){if(typeof Proxy>"u")return sm;const n=new Map,a=(r,o)=>sm(r,o,e,t),i=(r,o)=>a(r,o);return new Proxy(i,{get:(r,o)=>o==="create"?a:(n.has(o)||n.set(o,sm(o,void 0,e,t)),n.get(o))})}function F3({top:e,left:t,right:n,bottom:a}){return{x:{min:t,max:n},y:{min:e,max:a}}}function rE({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function oE(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}function lm(e){return e===void 0||e===1}function df({scale:e,scaleX:t,scaleY:n}){return!lm(e)||!lm(t)||!lm(n)}function mr(e){return df(e)||j3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function j3(e){return Sy(e.x)||Sy(e.y)}function Sy(e){return e&&e!=="0%"}function ud(e,t,n){const a=e-n,i=t*a;return n+i}function Cy(e,t,n,a,i){return i!==void 0&&(e=ud(e,i,a)),ud(e,n,a)+t}function uf(e,t=0,n=1,a,i){e.min=Cy(e.min,t,n,a,i),e.max=Cy(e.max,t,n,a,i)}function U3(e,{x:t,y:n}){uf(e.x,t.translate,t.scale,t.originPoint),uf(e.y,n.translate,n.scale,n.originPoint)}const Ey=.999999999999,Iy=1.0000000000001;function sE(e,t,n,a=!1){const i=n.length;if(!i)return;t.x=t.y=1;let r,o;for(let s=0;s<i;s++){r=n[s],o=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(a&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Co(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,U3(e,o)),a&&mr(r.latestValues)&&Co(e,r.latestValues))}t.x<Iy&&t.x>Ey&&(t.x=1),t.y<Iy&&t.y>Ey&&(t.y=1)}function So(e,t){e.min=e.min+t,e.max=e.max+t}function Ny(e,t,n,a,i=.5){const r=st(e.min,e.max,i);uf(e,t,n,r,a)}function Co(e,t){Ny(e.x,t.x,t.scaleX,t.scale,t.originX),Ny(e.y,t.y,t.scaleY,t.scale,t.originY)}function q3(e,t){return F3(oE(e.getBoundingClientRect(),t))}function lE(e,t,n){const a=q3(e,n),{scroll:i}=t;return i&&(So(a.x,i.offset.x),So(a.y,i.offset.y)),a}const My=()=>({translate:0,scale:1,origin:0,originPoint:0}),Eo=()=>({x:My(),y:My()}),zy=()=>({min:0,max:0}),Tt=()=>({x:zy(),y:zy()}),mf={current:null},H3={current:!1};function cE(){if(H3.current=!0,!!Q0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>mf.current=e.matches;e.addEventListener("change",t),t()}else mf.current=!1}const Dl=new WeakMap;function hE(e,t,n){for(const a in t){const i=t[a],r=n[a];if(Nt(i))e.addValue(a,i);else if(Nt(r))e.addValue(a,ha(i,{owner:e}));else if(r!==i)if(e.hasValue(a)){const o=e.getValue(a);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(a);e.addValue(a,ha(o!==void 0?o:i,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const $y=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class W3{scrapeMotionValuesFromProps(t,n,a){return{}}constructor({parent:t,props:n,presenceContext:a,reducedMotionConfig:i,blockInitialAnimation:r,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=un.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Fe.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!r,this.isControllingVariants=Zd(n),this.isVariantNode=I3(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in d){const p=d[m];l[m]!==void 0&&Nt(p)&&p.set(l[m])}}mount(t){var n;this.current=t,Dl.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,i)=>this.bindToMotionValue(i,a)),H3.current||cE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mf.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ma(this.notifyUpdate),ma(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const a=this.features[n];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=ms.has(t);a&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Fe.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Qo){const n=Qo[t];if(!n)continue;const{isEnabled:a,Feature:i}=n;if(!this.features[t]&&i&&a(this.props)&&(this.features[t]=new i(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<$y.length;a++){const i=$y[a];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,o=t[r];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=hE(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const a=this.values.get(t);n!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&n!==void 0&&(a=ha(n===null?void 0:n,{owner:this}),this.addValue(t,a)),a}readValue(t,n){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(M4(a)||$4(a))?a=parseFloat(a):!vC(a)&&Vi.test(n)&&(a=y3(t,n)),this.setBaseTarget(t,Nt(a)?a.get():a)),Nt(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var r;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const o=Sg(this.props,n,(r=this.presenceContext)==null?void 0:r.custom);o&&(a=o[t])}if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Nt(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new eg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){wg.render(this.render)}}class G3 extends W3{constructor(){super(...arguments),this.KeyframeResolver=Z8}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:a}){delete n[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Nt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function V3(e,{style:t,vars:n},a,i){const r=e.style;let o;for(o in t)r[o]=t[o];i==null||i.applyProjectionStyles(r,a);for(o in n)r.setProperty(o,n[o])}function dE(e){return window.getComputedStyle(e)}class X3 extends G3{constructor(){super(...arguments),this.type="html",this.renderInstance=V3}readValueFromInstance(t,n){var a;if(ms.has(n))return(a=this.projection)!=null&&a.isProjecting?nf(n):b8(t,n);{const i=dE(t),r=(X4(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return q3(t,n)}build(t,n,a){Tg(t,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,n,a){return Cg(t,n,a)}}const Y3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uE(e,t,n,a){V3(e,t,void 0,a);for(const i in t.attrs)e.setAttribute(Y3.has(i)?i:Eg(i),t.attrs[i])}class K3 extends G3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ms.has(n)){const a=b3(n);return a&&a.default||0}return n=Y3.has(n)?n:Eg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,a){return O3(t,n,a)}build(t,n,a){z3(t,n,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,n,a,i){uE(t,n,a,i)}mount(t){this.isSVGTag=R3(t.tagName),super.mount(t)}}const mE=(e,t)=>Ag(e)?new K3(t):new X3(t,{allowProjection:e!==N.Fragment});function Po(e,t,n){const a=e.getProps();return Sg(a,t,n!==void 0?n:a.custom,e)}const pf=e=>Array.isArray(e);function pE(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ha(n))}function fE(e){return pf(e)?e[e.length-1]||0:e}function Ig(e,t){const n=Po(e,t);let{transitionEnd:a={},transition:i={},...r}=n||{};r={...r,...a};for(const o in r){const s=fE(r[o]);pE(e,o,s)}}function gE(e){return!!(Nt(e)&&e.add)}function ff(e,t){const n=e.getValue("willChange");if(gE(n))return n.add(t);if(!n&&ri.WillChange){const a=new ri.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function Q3(e){return e.props[P3]}const bE=e=>e!==null;function yE(e,{repeat:t,repeatType:n="loop"},a){const i=e.filter(bE),r=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[r]}const wE={type:"spring",stiffness:500,damping:25,restSpeed:10},vE=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),xE={type:"keyframes",duration:.8},_E={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TE=(e,{keyframes:t})=>t.length>2?xE:ms.has(e)?e.startsWith("scale")?vE(t[1]):wE:_E;function kE({when:e,delay:t,delayChildren:n,staggerChildren:a,staggerDirection:i,repeat:r,repeatType:o,repeatDelay:s,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const Ng=(e,t,n,a={},i,r)=>o=>{const s=fg(a,e)||{},l=s.delay||a.delay||0;let{elapsed:c=0}=a;c=c-da(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-c,onUpdate:m=>{t.set(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:r?void 0:i};kE(s)||Object.assign(h,TE(e,h)),h.duration&&(h.duration=da(h.duration)),h.repeatDelay&&(h.repeatDelay=da(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(lf(h),h.delay===0&&(d=!0)),(ri.instantAnimations||ri.skipAnimations)&&(d=!0,lf(h),h.delay=0),h.allowFlatten=!s.type&&!s.ease,d&&!r&&t.get()!==void 0){const m=yE(h.keyframes,s);if(m!==void 0){Fe.update(()=>{h.onUpdate(m),h.onComplete()});return}}return s.isSync?new Yd(h):new B8(h)};function AE({protectedKeys:e,needsAnimating:t},n){const a=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,a}function Mg(e,t,{delay:n=0,transitionOverride:a,type:i}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:o,...s}=t;a&&(r=a);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const h in s){const d=e.getValue(h,e.latestValues[h]??null),m=s[h];if(m===void 0||c&&AE(c,h))continue;const p={delay:n,...fg(r||{},h)},b=d.get();if(b!==void 0&&!d.isAnimating&&!Array.isArray(m)&&m===b&&!p.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const g=Q3(e);if(g){const w=window.MotionHandoffAnimation(g,h,Fe);w!==null&&(p.startTime=w,y=!0)}}ff(e,h),d.start(Ng(h,d,m,e.shouldReduceMotion&&p3.has(h)?{type:!1}:p,e,y));const T=d.animation;T&&l.push(T)}return o&&Promise.all(l).then(()=>{Fe.update(()=>{o&&Ig(e,o)})}),l}function J3(e,t,n,a=0,i=1){const r=Array.from(e).sort((c,h)=>c.sortNodePosition(h)).indexOf(t),o=e.size,s=(o-1)*a;return typeof n=="function"?n(r,o):i===1?r*a:s-r*a}function gf(e,t,n={}){var l;const a=Po(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(i=n.transitionOverride);const r=a?()=>Promise.all(Mg(e,a,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:m}=i;return SE(e,t,c,h,d,m,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[c,h]=s==="beforeChildren"?[r,o]:[o,r];return c().then(()=>h())}else return Promise.all([r(),o(n.delay)])}function SE(e,t,n=0,a=0,i=0,r=1,o){const s=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),s.push(gf(l,t,{...o,delay:n+(typeof a=="function"?0:a)+J3(e.variantChildren,l,a,i,r)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(s)}function Z3(e,t,n={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const i=t.map(r=>gf(e,r,n));a=Promise.all(i)}else if(typeof t=="string")a=gf(e,t,n);else{const i=typeof t=="function"?Po(e,t,n.custom):t;a=Promise.all(Mg(e,i,n))}return a.then(()=>{e.notify("AnimationComplete",t)})}function e5(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let a=0;a<n;a++)if(t[a]!==e[a])return!1;return!0}const CE=_g.length;function t5(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?t5(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<CE;n++){const a=_g[n],i=e.props[a];(Rl(i)||i===!1)&&(t[a]=i)}return t}const EE=[...xg].reverse(),IE=xg.length;function NE(e){return t=>Promise.all(t.map(({animation:n,options:a})=>Z3(e,n,a)))}function ME(e){let t=NE(e),n=Ry(),a=!0;const i=l=>(c,h)=>{var m;const d=Po(e,h,l==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(d){const{transition:p,transitionEnd:b,...y}=d;c={...c,...y,...b}}return c};function r(l){t=l(e)}function o(l){const{props:c}=e,h=t5(e.parent)||{},d=[],m=new Set;let p={},b=1/0;for(let T=0;T<IE;T++){const g=EE[T],w=n[g],x=c[g]!==void 0?c[g]:h[g],_=Rl(x),C=g===l?w.isActive:null;C===!1&&(b=T);let A=x===h[g]&&x!==c[g]&&_;if(A&&a&&e.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...p},!w.isActive&&C===null||!x&&!w.prevProp||Jd(x)||typeof x=="boolean")continue;const M=zE(w.prevProp,x);let I=M||g===l&&w.isActive&&!A&&_||T>b&&_,R=!1;const z=Array.isArray(x)?x:[x];let F=z.reduce(i(g),{});C===!1&&(F={});const{prevResolvedValues:H={}}=w,X={...H,...F},G=L=>{I=!0,m.has(L)&&(R=!0,m.delete(L)),w.needsAnimating[L]=!0;const B=e.getValue(L);B&&(B.liveStyle=!1)};for(const L in X){const B=F[L],V=H[L];if(p.hasOwnProperty(L))continue;let E=!1;pf(B)&&pf(V)?E=!e5(B,V):E=B!==V,E?B!=null?G(L):m.add(L):B!==void 0&&m.has(L)?G(L):w.protectedKeys[L]=!0}w.prevProp=x,w.prevResolvedValues=F,w.isActive&&(p={...p,...F}),a&&e.blockInitialAnimation&&(I=!1);const j=A&&M;I&&(!j||R)&&d.push(...z.map(L=>{const B={type:g};if(typeof L=="string"&&a&&!j&&e.manuallyAnimateOnMount&&e.parent){const{parent:V}=e,E=Po(V,L);if(V.enteringChildren&&E){const{delayChildren:re}=E.transition||{};B.delay=J3(V.enteringChildren,e,re)}}return{animation:L,options:B}}))}if(m.size){const T={};if(typeof c.initial!="boolean"){const g=Po(e,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(T.transition=g.transition)}m.forEach(g=>{const w=e.getBaseTarget(g),x=e.getValue(g);x&&(x.liveStyle=!0),T[g]=w??null}),d.push({animation:T})}let y=!!d.length;return a&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(y=!1),a=!1,y?t(d):Promise.resolve()}function s(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(m=>{var p;return(p=m.animationState)==null?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:o,setActive:s,setAnimateFunction:r,getState:()=>n,reset:()=>{n=Ry()}}}function zE(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!e5(t,e):!1}function rr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ry(){return{animate:rr(!0),whileInView:rr(),whileHover:rr(),whileTap:rr(),whileDrag:rr(),whileFocus:rr(),exit:rr()}}class Zi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class $E extends Zi{constructor(t){super(t),t.animationState||(t.animationState=ME(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Jd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let RE=0;class DE extends Zi{constructor(){super(...arguments),this.id=RE++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const OE={animation:{Feature:$E},exit:{Feature:DE}};function Ol(e,t,n,a={passive:!0}){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n)}function dc(e){return{point:{x:e.pageX,y:e.pageY}}}const PE=e=>t=>vg(t)&&e(t,dc(t));function hl(e,t,n,a){return Ol(e,t,PE(n),a)}const n5=1e-4,LE=1-n5,BE=1+n5,a5=.01,FE=0-a5,jE=0+a5;function Zt(e){return e.max-e.min}function UE(e,t,n){return Math.abs(e-t)<=n}function Dy(e,t,n,a=.5){e.origin=a,e.originPoint=st(t.min,t.max,e.origin),e.scale=Zt(n)/Zt(t),e.translate=st(n.min,n.max,e.origin)-e.originPoint,(e.scale>=LE&&e.scale<=BE||isNaN(e.scale))&&(e.scale=1),(e.translate>=FE&&e.translate<=jE||isNaN(e.translate))&&(e.translate=0)}function dl(e,t,n,a){Dy(e.x,t.x,n.x,a?a.originX:void 0),Dy(e.y,t.y,n.y,a?a.originY:void 0)}function Oy(e,t,n){e.min=n.min+t.min,e.max=e.min+Zt(t)}function qE(e,t,n){Oy(e.x,t.x,n.x),Oy(e.y,t.y,n.y)}function Py(e,t,n){e.min=t.min-n.min,e.max=e.min+Zt(t)}function md(e,t,n){Py(e.x,t.x,n.x),Py(e.y,t.y,n.y)}function Bn(e){return[e("x"),e("y")]}const i5=({current:e})=>e?e.ownerDocument.defaultView:null,Ly=(e,t)=>Math.abs(e-t);function HE(e,t){const n=Ly(e.x,t.x),a=Ly(e.y,t.y);return Math.sqrt(n**2+a**2)}class r5{constructor(t,n,{transformPagePoint:a,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=hm(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,b=HE(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!b)return;const{point:y}=m,{timestamp:T}=Ot;this.history.push({...y,timestamp:T});const{onStart:g,onMove:w}=this.handlers;p||(g&&g(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=cm(p,this.transformPagePoint),Fe.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:b,onSessionEnd:y,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=hm(m.type==="pointercancel"?this.lastMoveEventInfo:cm(p,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,g),y&&y(m,g)},!vg(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=a,this.distanceThreshold=o,this.contextWindow=i||window;const s=dc(t),l=cm(s,this.transformPagePoint),{point:c}=l,{timestamp:h}=Ot;this.history=[{...c,timestamp:h}];const{onSessionStart:d}=n;d&&d(t,hm(l,this.history)),this.removeListeners=sc(hl(this.contextWindow,"pointermove",this.handlePointerMove),hl(this.contextWindow,"pointerup",this.handlePointerUp),hl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ma(this.updatePoint)}}function cm(e,t){return t?{point:t(e.point)}:e}function By(e,t){return{x:e.x-t.x,y:e.y-t.y}}function hm({point:e},t){return{point:e,delta:By(e,o5(t)),offset:By(e,WE(t)),velocity:GE(t,.1)}}function WE(e){return e[0]}function o5(e){return e[e.length-1]}function GE(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,a=null;const i=o5(e);for(;n>=0&&(a=e[n],!(i.timestamp-a.timestamp>da(t)));)n--;if(!a)return{x:0,y:0};const r=Xn(i.timestamp-a.timestamp);if(r===0)return{x:0,y:0};const o={x:(i.x-a.x)/r,y:(i.y-a.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function VE(e,{min:t,max:n},a){return t!==void 0&&e<t?e=a?st(t,e,a.min):Math.max(e,t):n!==void 0&&e>n&&(e=a?st(n,e,a.max):Math.min(e,n)),e}function Fy(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function XE(e,{top:t,left:n,bottom:a,right:i}){return{x:Fy(e.x,n,i),y:Fy(e.y,t,a)}}function jy(e,t){let n=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,a]=[a,n]),{min:n,max:a}}function YE(e,t){return{x:jy(e.x,t.x),y:jy(e.y,t.y)}}function KE(e,t){let n=.5;const a=Zt(e),i=Zt(t);return i>a?n=Rr(t.min,t.max-a,e.min):a>i&&(n=Rr(e.min,e.max-i,t.min)),Aa(0,1,n)}function QE(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const bf=.35;function JE(e=bf){return e===!1?e=0:e===!0&&(e=bf),{x:Uy(e,"left","right"),y:Uy(e,"top","bottom")}}function Uy(e,t,n){return{min:qy(e,t),max:qy(e,n)}}function qy(e,t){return typeof e=="number"?e:e[t]||0}const ZE=new WeakMap;class e9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:a}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(dc(d).point)},o=(d,m)=>{const{drag:p,dragPropagation:b,onDragStart:y}=this.getProps();if(p&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nC(p),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bn(g=>{let w=this.getAxisMotionValue(g).get()||0;if(ka.test(w)){const{projection:x}=this.visualElement;if(x&&x.layout){const _=x.layout.layoutBox[g];_&&(w=Zt(_)*(parseFloat(w)/100))}}this.originPoint[g]=w}),y&&Fe.postRender(()=>y(d,m)),ff(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},s=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:b,onDirectionLock:y,onDrag:T}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:g}=m;if(b&&this.currentDirection===null){this.currentDirection=t9(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",m.point,g),this.updateAxis("y",m.point,g),this.visualElement.render(),T&&T(d,m)},l=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m,this.stop(d,m),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Bn(d=>{var m;return this.getAnimationState(d)==="paused"&&((m=this.getAxisMotionValue(d).animation)==null?void 0:m.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new r5(t,{onSessionStart:r,onStart:o,onMove:s,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:a,contextWindow:i5(this.visualElement)})}stop(t,n){const a=t||this.latestPointerEvent,i=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!a)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&Fe.postRender(()=>s(a,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,a){const{drag:i}=this.getProps();if(!a||!Lc(t,i,this.currentDirection))return;const r=this.getAxisMotionValue(t);let o=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(o=VE(o,this.constraints[t],this.elastic[t])),r.set(o)}resolveConstraints(){var r;const{dragConstraints:t,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,i=this.constraints;t&&Ao(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=XE(a.layoutBox,t):this.constraints=!1,this.elastic=JE(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Bn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=QE(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ao(t))return!1;const a=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=lE(a,i.root,this.visualElement.getTransformPagePoint());let o=YE(i.layout.layoutBox,r);if(n){const s=n(rE(o));this.hasMutatedConstraints=!!s,s&&(o=F3(s))}return o}startAnimation(t){const{drag:n,dragMomentum:a,dragElastic:i,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=Bn(h=>{if(!Lc(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const m=i?200:1e6,p=i?40:1e7,b={type:"inertia",velocity:a?t[h]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...r,...d};return this.startAxisValueAnimation(h,b)});return Promise.all(c).then(s)}startAxisValueAnimation(t,n){const a=this.getAxisMotionValue(t);return ff(this.visualElement,t),a.start(Ng(t,a,0,n,this.visualElement,!1))}stopAnimation(){Bn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Bn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),i=a[n];return i||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Bn(n=>{const{drag:a}=this.getProps();if(!Lc(n,a,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[n];r.set(t[n]-st(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!Ao(n)||!a||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Bn(o=>{const s=this.getAxisMotionValue(o);if(s&&this.constraints!==!1){const l=s.get();i[o]=KE({min:l,max:l},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Bn(o=>{if(!Lc(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(st(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;ZE.set(this.visualElement,this);const t=this.visualElement.current,n=hl(t,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),a=()=>{const{dragConstraints:l}=this.getProps();Ao(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",a);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Fe.read(a);const o=Ol(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Bn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),r(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:o=bf,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:a,dragPropagation:i,dragConstraints:r,dragElastic:o,dragMomentum:s}}}function Lc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function t9(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class n9 extends Zi{constructor(t){super(t),this.removeGroupControls=pn,this.removeListeners=pn,this.controls=new e9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Hy=e=>(t,n)=>{e&&Fe.postRender(()=>e(t,n))};class a9 extends Zi{constructor(){super(...arguments),this.removePointerDownListener=pn}onPointerDown(t){this.session=new r5(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:i5(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:a,onPanEnd:i}=this.node.getProps();return{onSessionStart:Hy(t),onStart:Hy(n),onMove:a,onEnd:(r,o)=>{delete this.session,i&&Fe.postRender(()=>i(r,o))}}}mount(){this.removePointerDownListener=hl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Eh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let dm=!1;class i9 extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a,layoutId:i}=this.props,{projection:r}=t;r&&(n.group&&n.group.add(r),a&&a.register&&i&&a.register(r),dm&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Eh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:a,drag:i,isPresent:r}=this.props,{projection:o}=a;return o&&(o.isPresent=r,dm=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==r?o.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?o.promote():o.relegate()||Fe.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),wg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:i}=t;dm=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),a&&a.deregister&&a.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function s5(e){const[t,n]=S3(),a=N.useContext(K0);return u.jsx(i9,{...e,layoutGroup:a,switchLayoutGroup:N.useContext(L3),isPresent:t,safeToRemove:n})}function l5(e,t,n){const a=Nt(e)?e:ha(e);return a.start(Ng("",a,t,n)),a.animation}const r9=(e,t)=>e.depth-t.depth;class o9{constructor(){this.children=[],this.isDirty=!1}add(t){J0(this.children,t),this.isDirty=!0}remove(t){Xd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(r9),this.isDirty=!1,this.children.forEach(t)}}function s9(e,t){const n=un.now(),a=({timestamp:i})=>{const r=i-n;r>=t&&(ma(a),e(r-t))};return Fe.setup(a,!0),()=>ma(a)}const c5=["TopLeft","TopRight","BottomLeft","BottomRight"],l9=c5.length,Wy=e=>typeof e=="string"?parseFloat(e):e,Gy=e=>typeof e=="number"||ge.test(e);function c9(e,t,n,a,i,r){i?(e.opacity=st(0,n.opacity??1,h9(a)),e.opacityExit=st(t.opacity??1,0,d9(a))):r&&(e.opacity=st(t.opacity??1,n.opacity??1,a));for(let o=0;o<l9;o++){const s=`border${c5[o]}Radius`;let l=Vy(t,s),c=Vy(n,s);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Gy(l)===Gy(c)?(e[s]=Math.max(st(Wy(l),Wy(c),a),0),(ka.test(c)||ka.test(l))&&(e[s]+="%")):e[s]=c}(t.rotate||n.rotate)&&(e.rotate=st(t.rotate||0,n.rotate||0,a))}function Vy(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const h9=h5(0,.5,F4),d9=h5(.5,.95,pn);function h5(e,t,n){return a=>a<e?0:a>t?1:n(Rr(e,t,a))}function Xy(e,t){e.min=t.min,e.max=t.max}function ia(e,t){Xy(e.x,t.x),Xy(e.y,t.y)}function Yy(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ky(e,t,n,a,i){return e-=t,e=ud(e,1/n,a),i!==void 0&&(e=ud(e,1/i,a)),e}function u9(e,t=0,n=1,a=.5,i,r=e,o=e){if(ka.test(t)&&(t=parseFloat(t),t=st(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=st(r.min,r.max,a);e===r&&(s-=t),e.min=Ky(e.min,t,n,s,i),e.max=Ky(e.max,t,n,s,i)}function Qy(e,t,[n,a,i],r,o){u9(e,t[n],t[a],t[i],t.scale,r,o)}const m9=["x","scaleX","originX"],p9=["y","scaleY","originY"];function Jy(e,t,n,a){Qy(e.x,t,m9,n?n.x:void 0,a?a.x:void 0),Qy(e.y,t,p9,n?n.y:void 0,a?a.y:void 0)}function Zy(e){return e.translate===0&&e.scale===1}function d5(e){return Zy(e.x)&&Zy(e.y)}function ew(e,t){return e.min===t.min&&e.max===t.max}function f9(e,t){return ew(e.x,t.x)&&ew(e.y,t.y)}function tw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function u5(e,t){return tw(e.x,t.x)&&tw(e.y,t.y)}function nw(e){return Zt(e.x)/Zt(e.y)}function aw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class g9{constructor(){this.members=[]}add(t){J0(this.members,t),t.scheduleRender()}remove(t){if(Xd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let a;for(let i=n;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){a=r;break}}return a?(this.promote(a),!0):!1}promote(t,n){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,n&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:a}=t;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function b9(e,t,n){let a="";const i=e.x.translate/t.x,r=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||r||o)&&(a=`translate3d(${i}px, ${r}px, ${o}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:m,skewX:p,skewY:b}=n;c&&(a=`perspective(${c}px) ${a}`),h&&(a+=`rotate(${h}deg) `),d&&(a+=`rotateX(${d}deg) `),m&&(a+=`rotateY(${m}deg) `),p&&(a+=`skewX(${p}deg) `),b&&(a+=`skewY(${b}deg) `)}const s=e.x.scale*t.x,l=e.y.scale*t.y;return(s!==1||l!==1)&&(a+=`scale(${s}, ${l})`),a||"none"}const um=["","X","Y","Z"],y9=1e3;let w9=0;function mm(e,t,n,a){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),a&&(a[e]=0))}function m5(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Q3(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Fe,!(i||r))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&m5(a)}function p5({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:a,resetTransform:i}){return class{constructor(o={},s=t==null?void 0:t()){this.id=w9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_9),this.nodes.forEach(S9),this.nodes.forEach(C9),this.nodes.forEach(T9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new o9)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new eg),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Kd(o)&&!A3(o),this.instance=o;const{layoutId:s,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||s)&&(this.isLayoutDirty=!0),e){let h,d=0;const m=()=>this.root.updateBlockedByResize=!1;Fe.read(()=>{d=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==d&&(d=p,this.root.updateBlockedByResize=!0,h&&h(),h=s9(m,250),Eh.hasAnimatedSinceResize&&(Eh.hasAnimatedSinceResize=!1,this.nodes.forEach(ow)))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&c&&(s||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||c.getDefaultTransition()||z9,{onLayoutAnimationStart:y,onLayoutAnimationComplete:T}=c.getProps(),g=!this.targetLayout||!u5(this.targetLayout,p),w=!d&&m;if(this.options.layoutRoot||this.resumeFrom||w||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...fg(b,"layout"),onPlay:y,onComplete:T};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(h,w)}else d||ow(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ma(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(E9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&m5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(A9),this.nodes.forEach(v9),this.nodes.forEach(x9)):this.nodes.forEach(rw),this.clearAllSnapshots();const s=un.now();Ot.delta=Aa(0,1e3/60,s-Ot.timestamp),Ot.timestamp=s,Ot.isProcessing=!0,tm.update.process(Ot),tm.preRender.process(Ot),tm.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(k9),this.sharedNodes.forEach(I9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zt(this.snapshot.measuredBox.x)&&!Zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&this.instance){const l=a(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!d5(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&this.instance&&(s||mr(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),$9(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Tt();const s=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(R9))){const{scroll:h}=this.root;h&&(So(s.x,h.offset.x),So(s.y,h.offset.y))}return s}removeElementScroll(o){var l;const s=Tt();if(ia(s,o),(l=this.scroll)!=null&&l.wasRoot)return s;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:m}=h;h!==this.root&&d&&m.layoutScroll&&(d.wasRoot&&ia(s,o),So(s.x,d.offset.x),So(s.y,d.offset.y))}return s}applyTransform(o,s=!1){const l=Tt();ia(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!s&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Co(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),mr(h.latestValues)&&Co(l,h.latestValues)}return mr(this.latestValues)&&Co(l,this.latestValues),l}removeTransform(o){const s=Tt();ia(s,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!mr(c.latestValues))continue;df(c.latestValues)&&c.updateSnapshot();const h=Tt(),d=c.measurePageBox();ia(h,d),Jy(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return mr(this.latestValues)&&Jy(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!this.layout||!(h||d))return;this.resolvedRelativeTargetAt=Ot.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ia(this.target,this.layout.layoutBox),U3(this.target,this.targetDelta)):ia(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||df(this.parent.latestValues)||j3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,s,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),md(this.relativeTargetOrigin,s,l),ia(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;ia(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;sE(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Tt());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Yy(this.prevProjectionDelta.x,this.projectionDelta.x),Yy(this.prevProjectionDelta.y,this.projectionDelta.y)),dl(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!aw(this.projectionDelta.x,this.prevProjectionDelta.x)||!aw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var s;if((s=this.options.visualElement)==null||s.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Eo(),this.projectionDelta=Eo(),this.projectionDeltaWithTransform=Eo()}setAnimationOrigin(o,s=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=Eo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const m=Tt(),p=l?l.source:void 0,b=this.layout?this.layout.source:void 0,y=p!==b,T=this.getStack(),g=!T||T.members.length<=1,w=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(M9));this.animationProgress=0;let x;this.mixTargetDelta=_=>{const C=_/1e3;sw(d.x,o.x,C),sw(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(md(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),N9(this.relativeTarget,this.relativeTargetOrigin,m,C),x&&f9(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Tt()),ia(x,this.relativeTarget)),y&&(this.animationValues=h,c9(h,c,this.latestValues,C,w,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var s,l,c;this.notifyListeners("animationStart"),(s=this.currentAnimation)==null||s.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(ma(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fe.update(()=>{Eh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ha(0)),this.currentAnimation=l5(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(y9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:c,latestValues:h}=o;if(!(!s||!l||!c)){if(this!==o&&this.layout&&c&&f5(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Tt();const d=Zt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const m=Zt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}ia(s,l),Co(s,h),dl(this.projectionDeltaWithTransform,this.layoutCorrected,s,h)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new g9),this.sharedNodes.get(o).add(s);const c=s.options.initialPromotionConfig;s.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())==null?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())==null?void 0:s.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const c={};l.z&&mm("z",o,c,this.animationValues);for(let h=0;h<um.length;h++)mm(`rotate${um[h]}`,o,c,this.animationValues),mm(`skew${um[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}applyProjectionStyles(o,s){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ch(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ch(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!mr(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=b9(this.projectionDeltaWithTransform,this.treeScale,h);l&&(d=l(h,d)),o.transform=d;const{x:m,y:p}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,c.animationValues?o.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in hf){if(h[b]===void 0)continue;const{correct:y,applyTo:T,isCSSVariable:g}=hf[b],w=d==="none"?h[b]:y(h[b],c);if(T){const x=T.length;for(let _=0;_<x;_++)o[T[_]]=w}else g?this.options.visualElement.renderState.vars[b]=w:o[b]=w}this.options.layoutId&&(o.pointerEvents=c===this?Ch(s==null?void 0:s.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)==null?void 0:s.stop()}),this.root.nodes.forEach(iw),this.root.sharedNodes.clear()}}}function v9(e){e.updateLayout()}function x9(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:i}=e.layout,{animationType:r}=e.options,o=t.source!==e.layout.source;r==="size"?Bn(d=>{const m=o?t.measuredBox[d]:t.layoutBox[d],p=Zt(m);m.min=a[d].min,m.max=m.min+p}):f5(r,t.layoutBox,a)&&Bn(d=>{const m=o?t.measuredBox[d]:t.layoutBox[d],p=Zt(a[d]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const s=Eo();dl(s,a,t.layoutBox);const l=Eo();o?dl(l,e.applyTransform(i,!0),t.measuredBox):dl(l,a,t.layoutBox);const c=!d5(s);let h=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:p}=d;if(m&&p){const b=Tt();md(b,t.layoutBox,m.layoutBox);const y=Tt();md(y,a,p.layoutBox),u5(b,y)||(h=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=b,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function _9(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function T9(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function k9(e){e.clearSnapshot()}function iw(e){e.clearMeasurements()}function rw(e){e.isLayoutDirty=!1}function A9(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ow(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function S9(e){e.resolveTargetDelta()}function C9(e){e.calcProjection()}function E9(e){e.resetSkewAndRotation()}function I9(e){e.removeLeadSnapshot()}function sw(e,t,n){e.translate=st(t.translate,0,n),e.scale=st(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function lw(e,t,n,a){e.min=st(t.min,n.min,a),e.max=st(t.max,n.max,a)}function N9(e,t,n,a){lw(e.x,t.x,n.x,a),lw(e.y,t.y,n.y,a)}function M9(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const z9={duration:.45,ease:[.4,0,.1,1]},cw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),hw=cw("applewebkit/")&&!cw("chrome/")?Math.round:pn;function dw(e){e.min=hw(e.min),e.max=hw(e.max)}function $9(e){dw(e.x),dw(e.y)}function f5(e,t,n){return e==="position"||e==="preserve-aspect"&&!UE(nw(t),nw(n),.2)}function R9(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const D9=p5({attachResizeListener:(e,t)=>Ol(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pm={current:void 0},g5=p5({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!pm.current){const e=new D9({});e.mount(window),e.setOptions({layoutScroll:!0}),pm.current=e}return pm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),O9={pan:{Feature:a9},drag:{Feature:n9,ProjectionNode:g5,MeasureLayout:s5}};function uw(e,t,n){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,r=a[i];r&&Fe.postRender(()=>r(t,dc(t)))}class P9 extends Zi{mount(){const{current:t}=this.node;t&&(this.unmount=aC(t,(n,a)=>(uw(this.node,a,"Start"),i=>uw(this.node,i,"End"))))}unmount(){}}class L9 extends Zi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sc(Ol(this.node.current,"focus",()=>this.onFocus()),Ol(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mw(e,t,n){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),r=a[i];r&&Fe.postRender(()=>r(t,dc(t)))}class B9 extends Zi{mount(){const{current:t}=this.node;t&&(this.unmount=sC(t,(n,a)=>(mw(this.node,a,"Start"),(i,{success:r})=>mw(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yf=new WeakMap,fm=new WeakMap,F9=e=>{const t=yf.get(e.target);t&&t(e)},j9=e=>{e.forEach(F9)};function U9({root:e,...t}){const n=e||document;fm.has(n)||fm.set(n,{});const a=fm.get(n),i=JSON.stringify(t);return a[i]||(a[i]=new IntersectionObserver(j9,{root:e,...t})),a[i]}function q9(e,t,n){const a=U9(t);return yf.set(e,n),a.observe(e),()=>{yf.delete(e),a.unobserve(e)}}const H9={some:0,all:1};class W9 extends Zi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:a,amount:i="some",once:r}=t,o={root:n?n.current:void 0,rootMargin:a,threshold:typeof i=="number"?i:H9[i]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),m=c?h:d;m&&m(l)};return q9(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(G9(t,n))&&this.startObserver()}unmount(){}}function G9({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const V9={inView:{Feature:W9},tap:{Feature:B9},focus:{Feature:L9},hover:{Feature:P9}},X9={layout:{ProjectionNode:g5,MeasureLayout:s5}},Y9={...OE,...V9,...O9,...X9},ee=iE(Y9,mE);function K9(e,t,n){N.useInsertionEffect(()=>e.on(t,n),[e,t,n])}const Q9=50,pw=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),J9=()=>({time:0,x:pw(),y:pw()}),Z9={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function fw(e,t,n,a){const i=n[t],{length:r,position:o}=Z9[t],s=i.current,l=n.time;i.current=e[`scroll${o}`],i.scrollLength=e[`scroll${r}`]-e[`client${r}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Rr(0,i.scrollLength,i.current);const c=a-l;i.velocity=c>Q9?0:tg(i.current-s,c)}function eI(e,t,n){fw(e,"x",t,n),fw(e,"y",t,n),t.time=n}function tI(e,t){const n={x:0,y:0};let a=e;for(;a&&a!==t;)if(yg(a))n.x+=a.offsetLeft,n.y+=a.offsetTop,a=a.offsetParent;else if(a.tagName==="svg"){const i=a.getBoundingClientRect();a=a.parentElement;const r=a.getBoundingClientRect();n.x+=i.left-r.left,n.y+=i.top-r.top}else if(a instanceof SVGGraphicsElement){const{x:i,y:r}=a.getBBox();n.x+=i,n.y+=r;let o=null,s=a.parentNode;for(;!o;)s.tagName==="svg"&&(o=s),s=a.parentNode;a=o}else break;return n}const wf={start:0,center:.5,end:1};function gw(e,t,n=0){let a=0;if(e in wf&&(e=wf[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?a=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?a=i/100*document.documentElement.clientWidth:e.endsWith("vh")?a=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(a=t*e),n+a}const nI=[0,0];function aI(e,t,n,a){let i=Array.isArray(e)?e:nI,r=0,o=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,wf[e]?e:"0"]),r=gw(i[0],n,a),o=gw(i[1],t),r-o}const iI={All:[[0,0],[1,1]]},rI={x:0,y:0};function oI(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function sI(e,t,n){const{offset:a=iI.All}=n,{target:i=e,axis:r="y"}=n,o=r==="y"?"height":"width",s=i!==e?tI(i,e):rI,l=i===e?{width:e.scrollWidth,height:e.scrollHeight}:oI(i),c={width:e.clientWidth,height:e.clientHeight};t[r].offset.length=0;let h=!t[r].interpolate;const d=a.length;for(let m=0;m<d;m++){const p=aI(a[m],c[o],l[o],s[r]);!h&&p!==t[r].interpolatorOffsets[m]&&(h=!0),t[r].offset[m]=p}h&&(t[r].interpolate=cg(t[r].offset,hg(a),{clamp:!1}),t[r].interpolatorOffsets=[...t[r].offset]),t[r].progress=Aa(0,1,t[r].interpolate(t[r].current))}function lI(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let a=t;for(;a&&a!==e;)n.x.targetOffset+=a.offsetLeft,n.y.targetOffset+=a.offsetTop,a=a.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function cI(e,t,n,a={}){return{measure:i=>{lI(e,a.target,n),eI(e,n,i),(a.offset||a.target)&&sI(e,n,a)},notify:()=>t(n)}}const zs=new WeakMap,bw=new WeakMap,gm=new WeakMap,yw=e=>e===document.scrollingElement?window:e;function b5(e,{container:t=document.scrollingElement,...n}={}){if(!t)return pn;let a=gm.get(t);a||(a=new Set,gm.set(t,a));const i=J9(),r=cI(t,e,i,n);if(a.add(r),!zs.has(t)){const s=()=>{for(const d of a)d.measure(Ot.timestamp);Fe.preUpdate(l)},l=()=>{for(const d of a)d.notify()},c=()=>Fe.read(s);zs.set(t,c);const h=yw(t);window.addEventListener("resize",c,{passive:!0}),t!==document.documentElement&&bw.set(t,gC(t,c)),h.addEventListener("scroll",c,{passive:!0}),c()}const o=zs.get(t);return Fe.read(o,!1,!0),()=>{var c;ma(o);const s=gm.get(t);if(!s||(s.delete(r),s.size))return;const l=zs.get(t);zs.delete(t),l&&(yw(t).removeEventListener("scroll",l),(c=bw.get(t))==null||c(),window.removeEventListener("resize",l))}}const ww=new Map;function hI(e){const t={value:0},n=b5(a=>{t.value=a[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function y5({source:e,container:t,...n}){const{axis:a}=n;e&&(t=e);const i=ww.get(t)??new Map;ww.set(t,i);const r=n.target??"self",o=i.get(r)??{},s=a+(n.offset??[]).join(",");return o[s]||(o[s]=!n.target&&c3()?new ScrollTimeline({source:t,axis:a}):hI({container:t,...n})),o[s]}function dI(e,t){const n=y5(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:a=>(a.pause(),k3(i=>{a.time=a.iterationDuration*i},n))})}function uI(e){return e.length===2}function mI(e,t){return uI(e)?b5(n=>{e(n[t.axis].progress,n)},t):k3(e,y5(t))}function pI(e,{axis:t="y",container:n=document.scrollingElement,...a}={}){if(!n)return pn;const i={axis:t,container:n,...a};return typeof e=="function"?mI(e,i):dI(e,i)}const fI=()=>({scrollX:ha(0),scrollY:ha(0),scrollXProgress:ha(0),scrollYProgress:ha(0)}),Bc=e=>e?!e.current:!1;function er({container:e,target:t,...n}={}){const a=Ur(fI),i=N.useRef(null),r=N.useRef(!1),o=N.useCallback(()=>(i.current=pI((s,{x:l,y:c})=>{a.scrollX.set(l.current),a.scrollXProgress.set(l.progress),a.scrollY.set(c.current),a.scrollYProgress.set(c.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var s;(s=i.current)==null||s.call(i)}),[e,t,JSON.stringify(n.offset)]);return oc(()=>{if(r.current=!1,Bc(e)||Bc(t)){r.current=!0;return}else return o()},[o]),N.useEffect(()=>{if(r.current)return Nl(!Bc(e)),Nl(!Bc(t)),o()},[o]),a}function Jo(e){const t=Ur(()=>ha(e)),{isStatic:n}=N.useContext(hc);if(n){const[,a]=N.useState(e);N.useEffect(()=>t.on("change",a),[])}return t}function w5(e,t){const n=Jo(t()),a=()=>n.set(t());return a(),oc(()=>{const i=()=>Fe.preRender(a,!1,!0),r=e.map(o=>o.on("change",i));return()=>{r.forEach(o=>o()),ma(a)}}),n}function gI(e){cl.current=[],e();const t=w5(cl.current,e);return cl.current=void 0,t}function pd(e,t,n,a){if(typeof e=="function")return gI(e);const i=typeof t=="function"?t:bC(t,n,a);return Array.isArray(e)?vw(e,i):vw([e],([r])=>i(r))}function vw(e,t){const n=Ur(()=>[]);return w5(e,()=>{n.length=0;const a=e.length;for(let i=0;i<a;i++)n[i]=e[i].get();return t(n)})}function Pl(e,t={}){const{isStatic:n}=N.useContext(hc),a=()=>Nt(e)?e.get():e;if(n)return pd(a);const i=Jo(a());return N.useInsertionEffect(()=>yC(i,e,t),[i,JSON.stringify(t)]),i}function bI(e){e.values.forEach(t=>t.stop())}function vf(e,t){[...t].reverse().forEach(a=>{const i=e.getVariant(a);i&&Ig(e,i),e.variantChildren&&e.variantChildren.forEach(r=>{vf(r,t)})})}function yI(e,t){if(Array.isArray(t))return vf(e,t);if(typeof t=="string")return vf(e,[t]);Ig(e,t)}function wI(){const e=new Set,t={subscribe(n){return e.add(n),()=>void e.delete(n)},start(n,a){const i=[];return e.forEach(r=>{i.push(Z3(r,n,{transitionOverride:a}))}),Promise.all(i)},set(n){return e.forEach(a=>{yI(a,n)})},stop(){e.forEach(n=>{bI(n)})},mount(){return()=>{t.stop()}}};return t}function zg(e){return typeof e=="object"&&!Array.isArray(e)}function v5(e,t,n,a){return typeof e=="string"&&zg(t)?bg(e,n,a):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function vI(e,t,n){return e*(t+1)}function xw(e,t,n,a){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):a.get(t)??e}function xI(e,t,n){for(let a=0;a<e.length;a++){const i=e[a];i.at>t&&i.at<n&&(Xd(e,i),a--)}}function _I(e,t,n,a,i,r){xI(e,i,r);for(let o=0;o<t.length;o++)e.push({value:t[o],at:st(i,r,a[o]),easing:H4(n,o)})}function TI(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function kI(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const AI="easeInOut";function SI(e,{defaultTransition:t={},...n}={},a,i){const r=t.duration||.3,o=new Map,s=new Map,l={},c=new Map;let h=0,d=0,m=0;for(let p=0;p<e.length;p++){const b=e[p];if(typeof b=="string"){c.set(b,d);continue}else if(!Array.isArray(b)){c.set(b.name,xw(d,b.at,h,c));continue}let[y,T,g={}]=b;g.at!==void 0&&(d=xw(d,g.at,h,c));let w=0;const x=(_,C,A,M=0,I=0)=>{const R=CI(_),{delay:z=0,times:F=hg(R),type:H="keyframes",repeat:X,repeatType:G,repeatDelay:j=0,...$}=C;let{ease:L=t.ease||"easeOut",duration:B}=C;const V=typeof z=="function"?z(M,I):z,E=R.length,re=pg(H)?H:i==null?void 0:i[H||"keyframes"];if(E<=2&&re){let ye=100;if(E===2&&NI(R)){const ie=R[1]-R[0];ye=Math.abs(ie)}const _e={...$};B!==void 0&&(_e.duration=da(B));const Qe=a3(_e,ye,re);L=Qe.ease,B=Qe.duration}B??(B=r);const le=d+V;F.length===1&&F[0]===0&&(F[1]=1);const O=F.length-R.length;if(O>0&&r3(F,O),R.length===1&&R.unshift(null),X){B=vI(B,X);const ye=[...R],_e=[...F];L=Array.isArray(L)?[...L]:[L];const Qe=[...L];for(let ie=0;ie<X;ie++){R.push(...ye);for(let Ae=0;Ae<ye.length;Ae++)F.push(_e[Ae]+(ie+1)),L.push(Ae===0?"linear":H4(Qe,Ae-1))}TI(F,X)}const pe=le+B;_I(A,R,L,F,le,pe),w=Math.max(V+B,w),m=Math.max(pe,m)};if(Nt(y)){const _=_w(y,s);x(T,g,Tw("default",_))}else{const _=v5(y,T,a,l),C=_.length;for(let A=0;A<C;A++){T=T,g=g;const M=_[A],I=_w(M,s);for(const R in T)x(T[R],EI(g,R),Tw(R,I),A,C)}}h=d,d+=w}return s.forEach((p,b)=>{for(const y in p){const T=p[y];T.sort(kI);const g=[],w=[],x=[];for(let C=0;C<T.length;C++){const{at:A,value:M,easing:I}=T[C];g.push(M),w.push(Rr(0,m,A)),x.push(I||"easeOut")}w[0]!==0&&(w.unshift(0),g.unshift(g[0]),x.unshift(AI)),w[w.length-1]!==1&&(w.push(1),g.push(null)),o.has(b)||o.set(b,{keyframes:{},transition:{}});const _=o.get(b);_.keyframes[y]=g,_.transition[y]={...t,duration:m,ease:x,times:w,...n}}}),o}function _w(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Tw(e,t){return t[e]||(t[e]=[]),t[e]}function CI(e){return Array.isArray(e)?e:[e]}function EI(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const II=e=>typeof e=="number",NI=e=>e.every(II);function MI(e,t){return e in t}class zI extends W3{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(MI(n,t)){const a=t[n];if(typeof a=="string"||typeof a=="number")return a}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return Tt()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function $I(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Kd(e)&&!A3(e)?new K3(t):new X3(t);n.mount(e),Dl.set(e,n)}function RI(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new zI(t);n.mount(e),Dl.set(e,n)}function DI(e,t){return Nt(e)||typeof e=="number"||typeof e=="string"&&!zg(t)}function x5(e,t,n,a){const i=[];if(DI(e,t))i.push(l5(e,zg(t)&&t.default||t,n&&(n.default||n)));else{const r=v5(e,t,a),o=r.length;for(let s=0;s<o;s++){const l=r[s],c=l instanceof Element?$I:RI;Dl.has(l)||c(l);const h=Dl.get(l),d={...n};"delay"in d&&typeof d.delay=="function"&&(d.delay=d.delay(s,o)),i.push(...Mg(h,{...t,transition:d},{}))}}return i}function OI(e,t,n){const a=[];return SI(e,t,n,{spring:$l}).forEach(({keyframes:r,transition:o},s)=>{a.push(...x5(s,r,o))}),a}function PI(e){return Array.isArray(e)&&e.some(Array.isArray)}function LI(e){function t(n,a,i){let r=[],o;if(PI(n))r=OI(n,a,e);else{const{onComplete:l,...c}=i||{};typeof l=="function"&&(o=l),r=x5(n,a,c,e)}const s=new j8(r);return o&&s.finished.then(o),s}return t}const Zr=LI();function BI(){const e=Ur(wI);return oc(e.mount,[]),e}const FI=BI,hn={THEME:"theme",FLAGGED_ITEMS:"flaggedItems",AUTO_SHOW_EXPLANATION:"autoShowExplanation",AUTO_ADVANCE:"autoAdvance",QUIZ_HISTORY:"quizHistory",READING_SETTINGS:"readingSettings"},jI=[{id:"1.1",chapter:"1",number:"1-1",text_en:"The ________ model is the basis for today's computers.",text_zh:"________ ",options:[{key:"a",text_en:"Charles Babbage",text_zh:""},{key:"b",text_en:"von Neumann",text_zh:""},{key:"c",text_en:"Pascal",text_zh:""},{key:"d",text_en:"Leibnitz",text_zh:""}],answer:"b",explanation_zh:"von Neumann model"},{id:"1.2",chapter:"1",number:"1-2",text_en:"In a computer, the ________ subsystem stores data and programs.",text_zh:"________ ",options:[{key:"a",text_en:"control unit",text_zh:""},{key:"b",text_en:"input/output",text_zh:"/"},{key:"c",text_en:"memory",text_zh:""},{key:"d",text_en:"ALU",text_zh:""}],answer:"c",explanation_zh:"memory"},{id:"1.3",chapter:"1",number:"1-3",text_en:"In a computer, the ________ subsystem performs calculations and logical operations.",text_zh:"________ ",options:[{key:"a",text_en:"control unit",text_zh:""},{key:"b",text_en:"input/output",text_zh:"/"},{key:"c",text_en:"memory",text_zh:""},{key:"d",text_en:"ALU",text_zh:""}],answer:"d",explanation_zh:"Arithmetic Logic Unit, ALUCPU AND, OR"},{id:"1.4",chapter:"1",number:"1-4",text_en:"In a computer, the ________ subsystem accepts data and programs and sends processing results to output devices.",text_zh:"________ ",options:[{key:"a",text_en:"control unit",text_zh:""},{key:"b",text_en:"input/output",text_zh:"/"},{key:"c",text_en:"memory",text_zh:""},{key:"d",text_en:"ALU",text_zh:""}],answer:"b",explanation_zh:"/input/output"},{id:"1.5",chapter:"1",number:"1-5",text_en:"In a computer, the ________ subsystem serves as a manager of the other subsystems.",text_zh:"________ ",options:[{key:"a",text_en:"control unit",text_zh:""},{key:"b",text_en:"input/output",text_zh:"/"},{key:"c",text_en:"memory",text_zh:""},{key:"d",text_en:"ALU",text_zh:""}],answer:"a",explanation_zh:"Control Unit CPU "},{id:"1.6",chapter:"1",number:"1-6",text_en:"According to the von Neumann model, ________ are stored in memory.",text_zh:"________ ",options:[{key:"a",text_en:"data and programs",text_zh:""},{key:"b",text_en:"only programs",text_zh:""},{key:"c",text_en:"neither data nor programs",text_zh:""},{key:"d",text_en:"only data",text_zh:""}],answer:"a",explanation_zh:""},{id:"1.7",chapter:"1",number:"1-7",text_en:"A step-by-step solution to a problem is called ________.",text_zh:" ________",options:[{key:"a",text_en:"an algorithm",text_zh:""},{key:"b",text_en:"an operating system",text_zh:""},{key:"c",text_en:"a computer language",text_zh:""},{key:"d",text_en:"hardware",text_zh:""}],answer:"a",explanation_zh:"algorithm"},{id:"1.8",chapter:"1",number:"1-8",text_en:"FORTRAN and COBOL are examples of ________.",text_zh:"FORTRAN  COBOL  ________ ",options:[{key:"a",text_en:"algorithms",text_zh:""},{key:"b",text_en:"operating systems",text_zh:""},{key:"c",text_en:"computer languages",text_zh:""},{key:"d",text_en:"hardware",text_zh:""}],answer:"c",explanation_zh:"FORTRAN  COBOL FORTRAN COBOL "},{id:"1.9",chapter:"1",number:"1-9",text_en:"A 17th-century computing machine that could perform addition and subtraction was the ________.",text_zh:"17 ________",options:[{key:"a",text_en:"Babbage machine",text_zh:""},{key:"b",text_en:"Jacquard loom",text_zh:""},{key:"c",text_en:"Analytical Engine",text_zh:""},{key:"d",text_en:"Pascaline",text_zh:""}],answer:"d",explanation_zh:"Pascaline17"},{id:"1.10",chapter:"1",number:"1-10",text_en:"________ is a set of instructions in a computer language that tells the computer what to do with data.",text_zh:"________ ",options:[{key:"a",text_en:"A program",text_zh:""},{key:"b",text_en:"An algorithm",text_zh:""},{key:"c",text_en:"A data processor",text_zh:""},{key:"d",text_en:"An operating system",text_zh:""}],answer:"a",explanation_zh:"program"},{id:"1.11",chapter:"1",number:"1-11",text_en:"________ is the design and writing of a program in structured form.",text_zh:"________ ",options:[{key:"a",text_en:"Instructional architecture",text_zh:""},{key:"b",text_en:"Hardware engineering",text_zh:""},{key:"c",text_en:"Algorithm development",text_zh:""},{key:"d",text_en:"Software engineering",text_zh:""}],answer:"d",explanation_zh:"Software engineering"},{id:"1.12",chapter:"1",number:"1-12",text_en:"The first electronic special-purpose computer was called ________.",text_zh:" ________",options:[{key:"a",text_en:"ENIAC",text_zh:"ENIAC"},{key:"b",text_en:"Pascaline",text_zh:""},{key:"c",text_en:"ABC",text_zh:"ABC"},{key:"d",text_en:"Pascal",text_zh:""}],answer:"c",explanation_zh:"-Atanasoff-Berry Computer, ABC1937"},{id:"1.13",chapter:"1",number:"1-13",text_en:"One of the first computers based on the von Neumann model was called ________.",text_zh:" ________",options:[{key:"a",text_en:"EDVAC",text_zh:"EDVAC"},{key:"b",text_en:"Pascaline",text_zh:""},{key:"c",text_en:"ABC",text_zh:"ABC"},{key:"d",text_en:"Pascal",text_zh:""}],answer:"a",explanation_zh:"EDVAC (Electronic Discrete Variable Automatic Computer) "},{id:"1.14",chapter:"1",number:"1-14",text_en:"The first computing machine to use the idea of storage and programming was called ________.",text_zh:" ________",options:[{key:"a",text_en:"the Jacquard loom",text_zh:""},{key:"b",text_en:"EDVAC",text_zh:"EDVAC"},{key:"c",text_en:"the Babbage machine",text_zh:""},{key:"d",text_en:"the Madeline",text_zh:""}],answer:"a",explanation_zh:"Jacquard loom1801"},{id:"1.15",chapter:"1",number:"1-15",text_en:"________ separated the programming task from computer operation tasks.",text_zh:"________ ",options:[{key:"a",text_en:"Operating systems",text_zh:""},{key:"b",text_en:"Data processors",text_zh:""},{key:"c",text_en:"High-level programming languages",text_zh:""},{key:"d",text_en:"Algorithms",text_zh:""}],answer:"c",explanation_zh:"High-level programming languages"}],UI=[{id:"2.1",chapter:"2",number:"2-1",text_en:"The base of the decimal number system is ________.",text_zh:" ________",options:[{key:"a",text_en:"8",text_zh:"8"},{key:"b",text_en:"16",text_zh:"16"},{key:"c",text_en:"10",text_zh:"10"},{key:"d",text_en:"2",text_zh:"2"}],answer:"c",explanation_zh:"Decimal 10  0  9 "},{id:"2.2",chapter:"2",number:"2-2",text_en:"The base of the binary number system is ________.",text_zh:" ________",options:[{key:"a",text_en:"8",text_zh:"8"},{key:"b",text_en:"16",text_zh:"16"},{key:"c",text_en:"10",text_zh:"10"},{key:"d",text_en:"2",text_zh:"2"}],answer:"d",explanation_zh:"Binary 2  0  1 "},{id:"2.3",chapter:"2",number:"2-3",text_en:"The base of the octal number system is ________.",text_zh:" ________",options:[{key:"a",text_en:"8",text_zh:"8"},{key:"b",text_en:"16",text_zh:"16"},{key:"c",text_en:"10",text_zh:"10"},{key:"d",text_en:"2",text_zh:"2"}],answer:"a",explanation_zh:"Octal 8  0  7 "},{id:"2.4",chapter:"2",number:"2-4",text_en:"The base of the hexadecimal number system is ________.",text_zh:" ________",options:[{key:"a",text_en:"8",text_zh:"8"},{key:"b",text_en:"16",text_zh:"16"},{key:"c",text_en:"10",text_zh:"10"},{key:"d",text_en:"2",text_zh:"2"}],answer:"b",explanation_zh:"Hexadecimal 16  0-9  A-F 10-15"},{id:"2.5",chapter:"2",number:"2-5",text_en:"When converting a decimal integer to base b, we repeatedly ________ b.",text_zh:" b  ________ b",options:[{key:"a",text_en:"multiply by",text_zh:""},{key:"b",text_en:"subtract from",text_zh:""},{key:"c",text_en:"add to",text_zh:""},{key:"d",text_en:"divide by",text_zh:""}],answer:"d",explanation_zh:" b  b  b 0"},{id:"2.6",chapter:"2",number:"2-6",text_en:"When converting a decimal fraction to base b, we repeatedly ________ b.",text_zh:" b  ________ b",options:[{key:"a",text_en:"multiply by",text_zh:""},{key:"b",text_en:"subtract from",text_zh:""},{key:"c",text_en:"add to",text_zh:""},{key:"d",text_en:"divide by",text_zh:""}],answer:"a",explanation_zh:" b  b  b 0 "},{id:"2.7",chapter:"2",number:"2-7",text_en:"Which of the following representations is erroneous?",text_zh:"",options:[{key:"a",text_en:"$(349)_8$",text_zh:"$(349)_8$"},{key:"b",text_en:"256",text_zh:"256"},{key:"c",text_en:"$(3AB)_{16}$",text_zh:"$(3AB)_{16}$"},{key:"d",text_en:"$(10111)_2$",text_zh:"$(10111)_2$"}],answer:"a",explanation_zh:"Octal, base 8 0  7  $(349)_8$  9"},{id:"2.8",chapter:"2",number:"2-8",text_en:"Which of the following representations is erroneous?",text_zh:"",options:[{key:"a",text_en:"$(342)_8$",text_zh:"$(342)_8$"},{key:"b",text_en:"145",text_zh:"145"},{key:"c",text_en:"$(EEE)_{16}$",text_zh:"$(EEE)_{16}$"},{key:"d",text_en:"$(10211)_2$",text_zh:"$(10211)_2$"}],answer:"d",explanation_zh:"Binary, base 2 0  1  $(10211)_2$  2"},{id:"2.9",chapter:"2",number:"2-9",text_en:"Which of the following representations is erroneous?",text_zh:"",options:[{key:"a",text_en:"$(346)_8$",text_zh:"$(346)_8$"},{key:"b",text_en:"221",text_zh:"221"},{key:"c",text_en:"$(EEG)_{16}$",text_zh:"$(EEG)_{16}$"},{key:"d",text_en:"$(111)_2$",text_zh:"$(111)_2$"}],answer:"c",explanation_zh:"Hexadecimal, base 16 0-9  A-F  $(EEG)_{16}$  G"},{id:"2.10",chapter:"2",number:"2-10",text_en:"Which of the following representations is erroneous?",text_zh:"",options:[{key:"a",text_en:"$(141)_8$",text_zh:"$(141)_8$"},{key:"b",text_en:"22A",text_zh:"22A"},{key:"c",text_en:"$(EF)_{16}$",text_zh:"$(EF)_{16}$"},{key:"d",text_en:"$(110)_2$",text_zh:"$(110)_2$"}],answer:"b",explanation_zh:"Decimal, base 10 0  9 22A  A"},{id:"2.11",chapter:"2",number:"2-11",text_en:"Which of the following is equivalent to 12 in decimal?",text_zh:" 12",options:[{key:"a",text_en:"$(1110)_2$",text_zh:"$(1110)_2$"},{key:"b",text_en:"$(C)_{16}$",text_zh:"$(C)_{16}$"},{key:"c",text_en:"$(15)_8$",text_zh:"$(15)_8$"},{key:"d",text_en:"None of the above",text_zh:""}],answer:"b",explanation_zh:" 12  C $(1110)_2 = 14_{10}$, $(15)_8 = 13_{10}$"},{id:"2.12",chapter:"2",number:"2-12",text_en:"Which of the following is equivalent to 24 in decimal?",text_zh:" 24",options:[{key:"a",text_en:"$(1A)_{16}$",text_zh:"$(1A)_{16}$"},{key:"b",text_en:"None of the above",text_zh:""},{key:"c",text_en:"$(31)_8$",text_zh:"$(31)_8$"},{key:"d",text_en:"$(11000)_2$",text_zh:"$(11000)_2$"}],answer:"d",explanation_zh:" 24  $(11000)_2$ $(1A)_{16} = 26_{10}$, $(31)_8 = 25_{10}$"}],qI=[{id:"3.1",chapter:"3",number:"3-1",text_en:"A byte consists of ________ bits.",text_zh:" ________ ",options:[{key:"a",text_en:"2",text_zh:"2"},{key:"b",text_en:"4",text_zh:"4"},{key:"c",text_en:"8",text_zh:"8"},{key:"d",text_en:"16",text_zh:"16"}],answer:"c",explanation_zh:"Byte 8 bits"},{id:"3.2",chapter:"3",number:"3-2",text_en:"In a set of 64 symbols, each symbol requires a bit pattern length of ________ bits.",text_zh:" 64  ________ ",options:[{key:"a",text_en:"4",text_zh:"4"},{key:"b",text_en:"5",text_zh:"5"},{key:"c",text_en:"6",text_zh:"6"},{key:"d",text_en:"7",text_zh:"7"}],answer:"c",explanation_zh:" 64  $n$  $2^n \\ge 64$ $2^6 = 64$ 6 "},{id:"3.3",chapter:"3",number:"3-3",text_en:"How many symbols can be represented by a bit pattern with ten bits?",text_zh:"",options:[{key:"a",text_en:"128",text_zh:"128"},{key:"b",text_en:"256",text_zh:"256"},{key:"c",text_en:"512",text_zh:"512"},{key:"d",text_en:"1024",text_zh:"1024"}],answer:"d",explanation_zh:" $n$  $2^n$ 10  $2^{10} = 1024$ "},{id:"3.4",chapter:"3",number:"3-4",text_en:"If the ASCII code for E is 1000101, then the ASCII code for e is ________. Answer the question without consulting the ASCII table.",text_zh:" E  ASCII  1000101 e  ASCII  ________ ASCII ",options:[{key:"a",text_en:"1000110",text_zh:"1000110"},{key:"b",text_en:"1000111",text_zh:"1000111"},{key:"c",text_en:"0000110",text_zh:"0000110"},{key:"d",text_en:"1100101",text_zh:"1100101"}],answer:"d",explanation_zh:" ASCII  32'E'  ASCII  $1000101_2$ (69)'e'  ASCII  $1100101_2$ (101) $0100000_2$ (32)"},{id:"3.5",chapter:"3",number:"3-5",text_en:"A 32-bit code called ________ represents symbols in all languages.",text_zh:" ________  32 ",options:[{key:"a",text_en:"ANSI",text_zh:"ANSI"},{key:"b",text_en:"Unicode",text_zh:"Unicode"},{key:"c",text_en:"EBCDIC",text_zh:"EBCDIC"},{key:"d",text_en:"Extended ASCII",text_zh:"ASCII"}],answer:"b",explanation_zh:"Unicode  UTF-8, UTF-16, UTF-32"},{id:"3.6",chapter:"3",number:"3-6",text_en:"An image can be represented in a computer using the ________ method.",text_zh:" ________ ",options:[{key:"a",text_en:"bitmap graphic only",text_zh:""},{key:"b",text_en:"vector graphic only",text_zh:""},{key:"c",text_en:"Excess system only",text_zh:""},{key:"d",text_en:"either bitmap or vector graphic",text_zh:""}],answer:"d",explanation_zh:"bitmap graphicvector graphic"},{id:"3.7",chapter:"3",number:"3-7",text_en:"In the ________ graphic method of representing an image in a computer, each pixel is assigned a bit patterns.",text_zh:" ________ ",options:[{key:"a",text_en:"bitmap",text_zh:""},{key:"b",text_en:"vector",text_zh:""},{key:"c",text_en:"quantized",text_zh:""},{key:"d",text_en:"binary",text_zh:""}],answer:"a",explanation_zh:"bitmap"},{id:"3.8",chapter:"3",number:"3-8",text_en:"In the ________ graphic method of representing an image in a computer, the image is decomposed into a combination of geometrical figures.",text_zh:" ________ ",options:[{key:"a",text_en:"bitmap",text_zh:""},{key:"b",text_en:"vector",text_zh:""},{key:"c",text_en:"quantized",text_zh:""},{key:"d",text_en:"binary",text_zh:""}],answer:"b",explanation_zh:"vector"},{id:"3.9",chapter:"3",number:"3-9",text_en:"In the ________ graphic method of representing an image in a computer, re-scaling of the image creates a ragged or grainy image.",text_zh:" ________ ",options:[{key:"a",text_en:"bitmap",text_zh:""},{key:"b",text_en:"vector",text_zh:""},{key:"c",text_en:"quantized",text_zh:""},{key:"d",text_en:"binary",text_zh:""}],answer:"a",explanation_zh:"bitmap"},{id:"3.10",chapter:"3",number:"3-10",text_en:"When we want to store music in a computer, the audio signal must be ________.",text_zh:" ________ ",options:[{key:"a",text_en:"sampled only",text_zh:""},{key:"b",text_en:"quantized only",text_zh:""},{key:"c",text_en:"coded only",text_zh:""},{key:"d",text_en:"sampled, quantized, and coded",text_zh:""}],answer:"d",explanation_zh:"SamplingQuantizationCoding"},{id:"3.11",chapter:"3",number:"3-11",text_en:"A floating-point value after normalization is $(1.0101) \\times 2^4$. What is the value of exponent section in the Excess-127 representation?",text_zh:" $(1.0101) \\times 2^4$ Excess-127 ",options:[{key:"a",text_en:"4",text_zh:"4"},{key:"b",text_en:"-4",text_zh:"-4"},{key:"c",text_en:"127",text_zh:"127"},{key:"d",text_en:"131",text_zh:"131"}],answer:"d",explanation_zh:"Excess-127 bias127 $4$  Excess-127  $4 + 127 = 131$(D123 $-4$  ($127 - 4 = 123$) $+4$)"},{id:"3.12",chapter:"3",number:"3-12",text_en:"Assume a new Excess system uses 17 bits to represent the exponent section. What is the bias value in this system?",text_zh:" 17 ",options:[{key:"a",text_en:"17",text_zh:"17"},{key:"b",text_en:"16",text_zh:"16"},{key:"c",text_en:"65535",text_zh:"65535"},{key:"d",text_en:"65536",text_zh:"65536"}],answer:"c",explanation_zh:" $n$  $2^{n-1} - 1$ 17  $2^{17-1} - 1 = 2^{16} - 1 = 65536 - 1 = 65535$"},{id:"3.13",chapter:"3",number:"3-13",text_en:"Which number representation method is often used to store the exponential value of a fractional part?",text_zh:"",options:[{key:"a",text_en:"unsigned integers",text_zh:""},{key:"b",text_en:"two's complement",text_zh:""},{key:"c",text_en:"Excess",text_zh:""},{key:"d",text_en:"ten's complement",text_zh:""}],answer:"c",explanation_zh:"Excess representation"},{id:"3.14",chapter:"3",number:"3-14",text_en:"In an Excess conversion, we ________ the number to be converted.",text_zh:" ________",options:[{key:"a",text_en:"add the bias number to",text_zh:""},{key:"b",text_en:"subtract the bias number from",text_zh:""},{key:"c",text_en:"multiply the bias number by",text_zh:""},{key:"d",text_en:"divide the bias number by",text_zh:""}],answer:"a",explanation_zh:"bias"},{id:"3.15",chapter:"3",number:"3-15",text_en:"When a fractional part is normalized, the computer stores the ________.",text_zh:" ________",options:[{key:"a",text_en:"only the sign",text_zh:""},{key:"b",text_en:"only the exponent",text_zh:""},{key:"c",text_en:"only the mantissa",text_zh:""},{key:"d",text_en:"the sign, exponent, and mantissa",text_zh:""}],answer:"d",explanation_zh:"signexponentmantissa"},{id:"3.16",chapter:"3",number:"3-16",text_en:"The precision of the fractional part of a number stored in a computer is defined by the ________.",text_zh:" ________ ",options:[{key:"a",text_en:"sign",text_zh:""},{key:"b",text_en:"exponent",text_zh:""},{key:"c",text_en:"mantissa",text_zh:""},{key:"d",text_en:"last digit",text_zh:""}],answer:"c",explanation_zh:"mantissaprecision"},{id:"3.17",chapter:"3",number:"3-17",text_en:"The combination of sign and mantissa of a real number in IEEE standard floating point format is stored as an integer in the ________ representation.",text_zh:" IEEE  ________ ",options:[{key:"a",text_en:"unsigned",text_zh:""},{key:"b",text_en:"sign-and-magnitude",text_zh:""},{key:"c",text_en:"two's complement",text_zh:""},{key:"d",text_en:"one's complement",text_zh:""}],answer:"b",explanation_zh:"IEEE 754 -sign-and-magnitude"}],HI=[{id:"4.1",chapter:"4",number:"4-1",text_en:"________ is an arithmetic operation.",text_zh:"________ ",options:[{key:"a",text_en:"The exclusive OR",text_zh:""},{key:"b",text_en:"Subtraction",text_zh:""},{key:"c",text_en:"The unary NOT",text_zh:""},{key:"d",text_en:"The binary AND",text_zh:""}],answer:"b",explanation_zh:"SubtractionANDORXOR  NOT "},{id:"4.2",chapter:"4",number:"4-2",text_en:"________ is a logical bit operator.",text_zh:"________ ",options:[{key:"a",text_en:"The exclusive OR",text_zh:""},{key:"b",text_en:"The binary AND",text_zh:""},{key:"c",text_en:"The unary NOT",text_zh:""},{key:"d",text_en:"exclusive OR, unary NOT, or binary AND",text_zh:""}],answer:"d",explanation_zh:"XORunary NOTbinary AND"},{id:"4.3",chapter:"4",number:"4-3",text_en:"The ________ method of integer representation is the most common method for storing integers in computer memory.",text_zh:"________ ",options:[{key:"a",text_en:"sign-and-magnitude",text_zh:""},{key:"b",text_en:"two's complement",text_zh:""},{key:"c",text_en:"one's complement",text_zh:""},{key:"d",text_en:"unsigned integers",text_zh:""}],answer:"b",explanation_zh:"two's complement"},{id:"4.4",chapter:"4",number:"4-4",text_en:"In two's complement addition, if there is a final carry after the left most column addition, ________.",text_zh:" ________",options:[{key:"a",text_en:"add it to the right most column",text_zh:""},{key:"b",text_en:"discard it",text_zh:""},{key:"c",text_en:"add it to the left most column",text_zh:""},{key:"d",text_en:"increase the bit length",text_zh:""}],answer:"b",explanation_zh:""},{id:"4.5",chapter:"4",number:"4-5",text_en:"For an 8-bit allocation, the smallest decimal number that can be represented in two's complement form is ________.",text_zh:" 8  ________",options:[{key:"a",text_en:"-8",text_zh:"-8"},{key:"b",text_en:"-128",text_zh:"-128"},{key:"c",text_en:"-127",text_zh:"-127"},{key:"d",text_en:"-256",text_zh:"-256"}],answer:"b",explanation_zh:" $n$  $-2^{n-1}$  $2^{n-1} - 1$ 8  $-2^7$  $2^7 - 1$ $-128$  $127$ $-128$"},{id:"4.6",chapter:"4",number:"4-6",text_en:"For an 8-bit allocation, the largest decimal number that can be represented in two's complement form is ________.",text_zh:" 8  ________",options:[{key:"a",text_en:"8",text_zh:"8"},{key:"b",text_en:"128",text_zh:"128"},{key:"c",text_en:"127",text_zh:"127"},{key:"d",text_en:"256",text_zh:"256"}],answer:"c",explanation_zh:" $n$  $-2^{n-1}$  $2^{n-1} - 1$ 8  $-128$  $127$ $127$"},{id:"4.7",chapter:"4",number:"4-7",text_en:"In two's complement representation with a 4-bit allocation, we get ________ when we add 1 to 7.",text_zh:" 4  1  7  ________",options:[{key:"a",text_en:"8",text_zh:"8"},{key:"b",text_en:"-7",text_zh:"-7"},{key:"c",text_en:"1",text_zh:"1"},{key:"d",text_en:"-8",text_zh:"-8"}],answer:"d",explanation_zh:" 4 $7_{10} = 0111_2$ 1  $1000_2$ 1$1000_2$  $-8_{10}$overflow"},{id:"4.8",chapter:"4",number:"4-8",text_en:"In two's complement representation with a 4-bit allocation, we get ________ when we add 5 to 5.",text_zh:" 4  5  5  ________",options:[{key:"a",text_en:"-5",text_zh:"-5"},{key:"b",text_en:"-7",text_zh:"-7"},{key:"c",text_en:"-6",text_zh:"-6"},{key:"d",text_en:"10",text_zh:"10"}],answer:"c",explanation_zh:" 4 $5_{10}$  $0101_2$$5 + 5 = 10$ $0101_2 + 0101_2 = 1010_2$ 1 $0110_2$ 6 $1010_2$  $-6_{10}$"},{id:"4.9",chapter:"4",number:"4-9",text_en:"If the exponent in Excess_127 is binary 10000101, the exponent in decimal is ________.",text_zh:" Excess_127  10000101 ________",options:[{key:"a",text_en:"6",text_zh:"6"},{key:"b",text_en:"8",text_zh:"8"},{key:"c",text_en:"7",text_zh:"7"},{key:"d",text_en:"9",text_zh:"9"}],answer:"a",explanation_zh:" Excess_127  127 $10000101_2$  $133_{10}$ ($128+4+1$) $133 - 127 = 6$"},{id:"4.10",chapter:"4",number:"4-10",text_en:"If we are adding two numbers, one of which has an exponent value of 7 and the other an exponent value of 9, we need to shift the decimal point of the smaller number ________.",text_zh:" 7 9 ________ ",options:[{key:"a",text_en:"one place to the left",text_zh:""},{key:"b",text_en:"two places to the left",text_zh:""},{key:"c",text_en:"one place to the right",text_zh:""},{key:"d",text_en:"two places to the right",text_zh:""}],answer:"b",explanation_zh:" 7  9 7  $9 - 7 = 2$ "},{id:"4.11",chapter:"4",number:"4-11",text_en:"________ operator(s) takes two inputs to produce one output.",text_zh:"________ ",options:[{key:"a",text_en:"Only AND",text_zh:" AND"},{key:"b",text_en:"Only XOR",text_zh:" XOR"},{key:"c",text_en:"Only OR",text_zh:" OR"},{key:"d",text_en:"AND, OR, or XOR",text_zh:"ANDOR  XOR"}],answer:"d",explanation_zh:"binary operatorAND, OR, XOR NOT "},{id:"4.12",chapter:"4",number:"4-12",text_en:"The unary ________ operator inverts its single input.",text_zh:" ________ ",options:[{key:"a",text_en:"AND",text_zh:"AND"},{key:"b",text_en:"NOT",text_zh:"NOT"},{key:"c",text_en:"OR",text_zh:"OR"},{key:"d",text_en:"XOR",text_zh:"XOR"}],answer:"b",explanation_zh:"unaryNOT 0  11  0"},{id:"4.13",chapter:"4",number:"4-13",text_en:"________ operator(s), if the input is two 0s, the output is 0.",text_zh:"________  0 0",options:[{key:"a",text_en:"In only AND",text_zh:" AND"},{key:"b",text_en:"In only XOR",text_zh:" XOR"},{key:"c",text_en:"In only OR",text_zh:" OR"},{key:"d",text_en:"In AND, OR, or XOR",text_zh:" ANDOR  XOR "}],answer:"d",explanation_zh:"AND: $0 \\& 0 = 0$. OR: $0 | 0 = 0$. XOR: $0 \\oplus 0 = 0$.  0  0"},{id:"4.14",chapter:"4",number:"4-14",text_en:"________ operator(s), if the input is two 1s, the output is 0.",text_zh:"________  1 0",options:[{key:"a",text_en:"In only AND",text_zh:" AND"},{key:"b",text_en:"In only XOR",text_zh:" XOR"},{key:"c",text_en:"In only OR",text_zh:" OR"},{key:"d",text_en:"In AND, OR, or XOR",text_zh:" ANDOR  XOR "}],answer:"b",explanation_zh:"XOR ()  1 0 1  0"},{id:"4.15",chapter:"4",number:"4-15",text_en:"For the binary AND operation, only an input of ________ gives an output of 1.",text_zh:" AND  ________  1 ",options:[{key:"a",text_en:"two 0s",text_zh:" 0"},{key:"b",text_en:"one 0 and one 1",text_zh:" 0  1"},{key:"c",text_en:"two 1s",text_zh:" 1"},{key:"d",text_en:"two 2s",text_zh:" 2"}],answer:"c",explanation_zh:" AND  1  1"},{id:"4.16",chapter:"4",number:"4-16",text_en:"For the binary OR operation, only an input of ________ gives an output of 0.",text_zh:" OR  ________  0 ",options:[{key:"a",text_en:"two 0s",text_zh:" 0"},{key:"b",text_en:"one 0 and one 1",text_zh:" 0  1"},{key:"c",text_en:"two 1s",text_zh:" 1"},{key:"d",text_en:"two 2s",text_zh:" 2"}],answer:"a",explanation_zh:" OR  0  0"},{id:"4.17",chapter:"4",number:"4-17",text_en:"We use a bit pattern called a ________ to modify another bit pattern.",text_zh:" ________ ",options:[{key:"a",text_en:"mask",text_zh:""},{key:"b",text_en:"float",text_zh:""},{key:"c",text_en:"carry",text_zh:""},{key:"d",text_en:"byte",text_zh:""}],answer:"a",explanation_zh:"mask"},{id:"4.18",chapter:"4",number:"4-18",text_en:"To flip all the bits of a bit pattern, make a mask of all 1s and then ________ the bit pattern and the mask.",text_zh:" 1  ________ ",options:[{key:"a",text_en:"AND",text_zh:"AND"},{key:"b",text_en:"XOR",text_zh:"XOR"},{key:"c",text_en:"OR",text_zh:"OR"},{key:"d",text_en:"NOT",text_zh:"NOT"}],answer:"b",explanation_zh:"flip XOR  A XOR 1  A  1  XOR "},{id:"4.19",chapter:"4",number:"4-19",text_en:"To un-set (force to 0) all the bits of a bit pattern, make a mask of all 0s and then ________ the bit pattern and the mask.",text_zh:" ( 0)  0  ________ ",options:[{key:"a",text_en:"AND",text_zh:"AND"},{key:"b",text_en:"XOR",text_zh:"XOR"},{key:"c",text_en:"OR",text_zh:"OR"},{key:"d",text_en:"NOT",text_zh:"NOT"}],answer:"a",explanation_zh:"un-set 0 AND  A AND 0  0 0  AND  0"},{id:"4.20",chapter:"4",number:"4-20",text_en:"To set (force to 1) all the bits of a bit pattern, make a mask of all 1s and then ________ the bit pattern and the mask.",text_zh:" ( 1)  1  ________ ",options:[{key:"a",text_en:"AND",text_zh:"AND"},{key:"b",text_en:"XOR",text_zh:"XOR"},{key:"c",text_en:"OR",text_zh:"OR"},{key:"d",text_en:"NOT",text_zh:"NOT"}],answer:"c",explanation_zh:"set 1 OR  A OR 1  1 1  OR  1"}],WI=[{id:"5.1",chapter:"5",number:"5-1",text_en:"The ________ is a computer subsystem that performs operations on data.",text_zh:"________ ",options:[{key:"a",text_en:"memory",text_zh:""},{key:"b",text_en:"I/O hardware",text_zh:"I/O "},{key:"c",text_en:"bus subsystem",text_zh:""},{key:"d",text_en:"CPU",text_zh:""}],answer:"d",explanation_zh:"CPU (Central Processing Unit) "},{id:"5.2",chapter:"5",number:"5-2",text_en:"________ is a stand-alone storage location that holds data temporarily.",text_zh:"________ ",options:[{key:"a",text_en:"A register",text_zh:""},{key:"b",text_en:"A control unit",text_zh:""},{key:"c",text_en:"A tape drive",text_zh:""},{key:"d",text_en:"An ALU",text_zh:""}],answer:"a",explanation_zh:"Register CPU "},{id:"5.3",chapter:"5",number:"5-3",text_en:"________ is a unit that can add two inputs.",text_zh:"________ ",options:[{key:"a",text_en:"A register",text_zh:""},{key:"b",text_en:"A control unit",text_zh:""},{key:"c",text_en:"A tape drive",text_zh:""},{key:"d",text_en:"An ALU",text_zh:""}],answer:"d",explanation_zh:"ALU CPU "},{id:"5.4",chapter:"5",number:"5-4",text_en:"A register in a CPU can hold ________.",text_zh:"CPU  ________",options:[{key:"a",text_en:"only instructions",text_zh:""},{key:"b",text_en:"only program counter values",text_zh:""},{key:"c",text_en:"data, instruction, or program counter values",text_zh:""},{key:"d",text_en:"only data",text_zh:""}],answer:"c",explanation_zh:"CPU Program Counter"},{id:"5.5",chapter:"5",number:"5-5",text_en:"A control unit with five wires can define up to ________ operations.",text_zh:" ________ ",options:[{key:"a",text_en:"10",text_zh:"10"},{key:"b",text_en:"16",text_zh:"16"},{key:"c",text_en:"32",text_zh:"32"},{key:"d",text_en:"5",text_zh:"5"}],answer:"c",explanation_zh:" $n$  $2^n$  $2^5 = 32$ "},{id:"5.6",chapter:"5",number:"5-6",text_en:"A word can be ________ bits.",text_zh:" ________ ",options:[{key:"a",text_en:"only 16",text_zh:" 16"},{key:"b",text_en:"only 32",text_zh:" 32"},{key:"c",text_en:"8, or 16, or 32",text_zh:"816  32"},{key:"d",text_en:"only 8",text_zh:" 8"}],answer:"c",explanation_zh:"word CPU  8, 16, 32, 64 "},{id:"5.7",chapter:"5",number:"5-7",text_en:"If the memory address space is 16 MB and the word size is 8 bits, then ________ bits are needed to access each word.",text_zh:" 16 MB 8  ________ ",options:[{key:"a",text_en:"16",text_zh:"16"},{key:"b",text_en:"24",text_zh:"24"},{key:"c",text_en:"32",text_zh:"32"},{key:"d",text_en:"8",text_zh:"8"}],answer:"b",explanation_zh:"$16 \\text{ MB} = 16 \\times 2^{20} \\text{ Bytes} = 2^4 \\times 2^{20} = 2^{24} \\text{ Bytes}$ 8 1 Byte $2^{24}$  $2^{24}$  24 "},{id:"5.8",chapter:"5",number:"5-8",text_en:"The data in ________ is erased if the computer is powered down.",text_zh:"________ ",options:[{key:"a",text_en:"ROM",text_zh:""},{key:"b",text_en:"a tape drive",text_zh:""},{key:"c",text_en:"a CD-ROM",text_zh:""},{key:"d",text_en:"RAM",text_zh:""}],answer:"d",explanation_zh:"RAM (Random Access Memory) ROM CD-ROM "},{id:"5.9",chapter:"5",number:"5-9",text_en:"________ is a memory type with capacitors that need to be refreshed periodically.",text_zh:"________ ",options:[{key:"a",text_en:"DRAM",text_zh:""},{key:"b",text_en:"ROM",text_zh:""},{key:"c",text_en:"CROM",text_zh:"CROM"},{key:"d",text_en:"SRAM",text_zh:""}],answer:"a",explanation_zh:"DRAM (Dynamic RAM) refresh"},{id:"5.10",chapter:"5",number:"5-10",text_en:"________ is a memory type with traditional flip-flop gates to hold data.",text_zh:"________ ",options:[{key:"a",text_en:"DRAM",text_zh:""},{key:"b",text_en:"ROM",text_zh:""},{key:"c",text_en:"CROM",text_zh:"CROM"},{key:"d",text_en:"SRAM",text_zh:""}],answer:"d",explanation_zh:"SRAM (Static RAM) flip-flop DRAM "},{id:"5.11",chapter:"5",number:"5-11",text_en:"There are ________ bytes in 16 Terabytes.",text_zh:"16 TB  ________ ",options:[{key:"a",text_en:"$2^{56}$",text_zh:"$2^{56}$"},{key:"b",text_en:"$2^{40}$",text_zh:"$2^{40}$"},{key:"c",text_en:"$2^{44}$",text_zh:"$2^{44}$"},{key:"d",text_en:"$2^{54}$",text_zh:"$2^{54}$"}],answer:"c",explanation_zh:"$1 \\text{ Terabyte (TB)} = 2^{40} \\text{ Bytes}$$16 \\text{ TB} = 16 \\times 2^{40} = 2^4 \\times 2^{40} = 2^{44} \\text{ Bytes}$"},{id:"5.12",chapter:"5",number:"5-12",text_en:"________ can be programmed and erased using electronic impulses but can remain in a computer during erasure.",text_zh:"________ ",options:[{key:"a",text_en:"PROM",text_zh:""},{key:"b",text_en:"EPROM",text_zh:""},{key:"c",text_en:"EEPROM",text_zh:""},{key:"d",text_en:"ROM",text_zh:""}],answer:"c",explanation_zh:"EEPROM (Electrically Erasable Programmable Read-Only Memory) "},{id:"5.13",chapter:"5",number:"5-13",text_en:"________ is a type of memory in which the user, not the manufacturer, stores programs that cannot be overwritten.",text_zh:"________ ",options:[{key:"a",text_en:"PROM",text_zh:""},{key:"b",text_en:"EPROM",text_zh:""},{key:"c",text_en:"EEPROM",text_zh:""},{key:"d",text_en:"ROM",text_zh:""}],answer:"a",explanation_zh:"PROM (Programmable Read-Only Memory) "},{id:"5.14",chapter:"5",number:"5-14",text_en:"Main memory in a computer usually consists of large amounts of ________ speed memory.",text_zh:" ________ ",options:[{key:"a",text_en:"medium",text_zh:""},{key:"b",text_en:"low",text_zh:""},{key:"c",text_en:"very high speed",text_zh:""},{key:"d",text_en:"high",text_zh:""}],answer:"b",explanation_zh:"Main memory DRAM CPU  CPU "},{id:"5.15",chapter:"5",number:"5-15",text_en:"A ________ is a storage device to which the user can write information only once.",text_zh:"________ ",options:[{key:"a",text_en:"CD-R",text_zh:"CD-R"},{key:"b",text_en:"CD-RW",text_zh:"CD-RW"},{key:"c",text_en:"CD-RR",text_zh:"CD-RR"},{key:"d",text_en:"CD-ROM",text_zh:"CD-ROM"}],answer:"a",explanation_zh:"CD-R (Compact Disc-Recordable) "},{id:"5.16",chapter:"5",number:"5-16",text_en:"A ________ is a storage device that can undergo multiple writes and erasures.",text_zh:"________ ",options:[{key:"a",text_en:"CD-R",text_zh:"CD-R"},{key:"b",text_en:"CD-RW",text_zh:"CD-RW"},{key:"c",text_en:"CD-RR",text_zh:"CD-RR"},{key:"d",text_en:"CD-ROM",text_zh:"CD-ROM"}],answer:"b",explanation_zh:"CD-RW (Compact Disc-ReWritable) "},{id:"5.17",chapter:"5",number:"5-17",text_en:"The smallest storage area on a magnetic disk that can be accessed at one time is a ________.",text_zh:" ________",options:[{key:"a",text_en:"sector",text_zh:""},{key:"b",text_en:"frame",text_zh:""},{key:"c",text_en:"head",text_zh:""},{key:"d",text_en:"track",text_zh:""}],answer:"a",explanation_zh:"tracksector"},{id:"5.18",chapter:"5",number:"5-18",text_en:"If the memory has $2^{32}$ words, the address bus needs to have ________ wires.",text_zh:" $2^{32}$  ________ ",options:[{key:"a",text_en:"16",text_zh:"16"},{key:"b",text_en:"32",text_zh:"32"},{key:"c",text_en:"64",text_zh:"64"},{key:"d",text_en:"8",text_zh:"8"}],answer:"b",explanation_zh:" CPU  $2^N$  $N$  $2^{32}$  32 "},{id:"5.19",chapter:"5",number:"5-19",text_en:"A control bus with eight wires can define ________ operations.",text_zh:" ________ ",options:[{key:"a",text_en:"16",text_zh:"16"},{key:"b",text_en:"256",text_zh:"256"},{key:"c",text_en:"512",text_zh:"512"},{key:"d",text_en:"8",text_zh:"8"}],answer:"b",explanation_zh:" $n$  $2^n$  $2^8 = 256$ "},{id:"5.20",chapter:"5",number:"5-20",text_en:"A ________ controller is a high-speed serial interface that transfers data in packets.",text_zh:"________ ",options:[{key:"a",text_en:"USB",text_zh:"USB"},{key:"b",text_en:"FireWire",text_zh:""},{key:"c",text_en:"USB and FireWire",text_zh:"USB "},{key:"d",text_en:"SCSI",text_zh:"SCSI"}],answer:"c",explanation_zh:"USB (Universal Serial Bus)  FireWire (IEEE 1394) packets"},{id:"5.21",chapter:"5",number:"5-21",text_en:"The three steps in the running of a program on a computer are performed in the specific order ________.",text_zh:" ________ ",options:[{key:"a",text_en:"decode, execute, and fetch",text_zh:""},{key:"b",text_en:"fetch, decode, and execute",text_zh:""},{key:"c",text_en:"decode, fetch, and execute",text_zh:""},{key:"d",text_en:"fetch, execute, and decode",text_zh:""}],answer:"b",explanation_zh:"CPU machine cyclefetchdecodeexecute"},{id:"5.22",chapter:"5",number:"5-22",text_en:"In the ________ method for synchronizing the operation of the CPU with an I/O device, the I/O device informs the CPU when it is ready for data transfer.",text_zh:" CPU  I/O  ________ I/O  CPU",options:[{key:"a",text_en:"interrupt-driven I/O",text_zh:" I/O"},{key:"b",text_en:"DMA",text_zh:""},{key:"c",text_en:"isolated I/O",text_zh:" I/O"},{key:"d",text_en:"programmed I/O",text_zh:" I/O"}],answer:"a",explanation_zh:" I/O (interrupt-driven I/O) CPU  I/O  I/O  CPU"},{id:"5.23",chapter:"5",number:"5-23",text_en:"In the ________ method for synchronizing the operation of the CPU with an I/O device, the CPU is idle until the I/O operation is finished.",text_zh:" CPU  I/O  ________ CPU  I/O ",options:[{key:"a",text_en:"interrupt-driven I/O",text_zh:" I/O"},{key:"b",text_en:"DMA",text_zh:""},{key:"c",text_en:"isolated I/O",text_zh:" I/O"},{key:"d",text_en:"programmed I/O",text_zh:" I/O"}],answer:"d",explanation_zh:" I/O (programmed I/O) CPU  I/O CPU "},{id:"5.24",chapter:"5",number:"5-24",text_en:"In the ________ method for synchronizing the operation of the CPU with an I/O device, a large block of data can be passed from an I/O device to memory directly.",text_zh:" CPU  I/O  ________  I/O ",options:[{key:"a",text_en:"interrupt-driven I/O",text_zh:" I/O"},{key:"b",text_en:"DMA",text_zh:""},{key:"c",text_en:"isolated I/O",text_zh:" I/O"},{key:"d",text_en:"programmed I/O",text_zh:" I/O"}],answer:"b",explanation_zh:"DMA (Direct Memory Access)  I/O  DMA  CPU "}],GI=[{id:"6.1",chapter:"6",number:"6-1",text_en:"The TCP/IP model has ________ layers.",text_zh:"TCP/IP  ________ ",options:[{key:"a",text_en:"six",text_zh:""},{key:"b",text_en:"five",text_zh:""},{key:"c",text_en:"eight",text_zh:""},{key:"d",text_en:"seven",text_zh:""}],answer:"b",explanation_zh:"TCP/IP "},{id:"6.2",chapter:"6",number:"6-2",text_en:"The ________ layer of the TCP/IP protocol suite provides services for end users.",text_zh:"TCP/IP  ________ ",options:[{key:"a",text_en:"transport",text_zh:""},{key:"b",text_en:"data-link",text_zh:""},{key:"c",text_en:"physical",text_zh:""},{key:"d",text_en:"application",text_zh:""}],answer:"d",explanation_zh:"application layer TCP/IP  HTTPFTPSMTP"},{id:"6.3",chapter:"6",number:"6-3",text_en:"The ________ layer of the TCP/IP protocol suite transmits a bit stream over a physical medium.",text_zh:"TCP/IP  ________ ",options:[{key:"a",text_en:"data-link",text_zh:""},{key:"b",text_en:"physical",text_zh:""},{key:"c",text_en:"transport",text_zh:""},{key:"d",text_en:"network",text_zh:""}],answer:"b",explanation_zh:"physical layer TCP/IP bit stream"},{id:"6.4",chapter:"6",number:"6-4",text_en:"The ________ layer of the TCP/IP protocol suite is responsible for node-to-node delivery of a frame between two adjacent nodes.",text_zh:"TCP/IP  ________ ",options:[{key:"a",text_en:"network",text_zh:""},{key:"b",text_en:"transport",text_zh:""},{key:"c",text_en:"session",text_zh:""},{key:"d",text_en:"data-link",text_zh:""}],answer:"d",explanation_zh:"data-link layerpacketframehop-to-hop  node-to-node"},{id:"6.5",chapter:"6",number:"6-5",text_en:"The ________ layer of the TCP/IP protocol suite is responsible for source-to-destination delivery of the entire message.",text_zh:"TCP/IP  ________ ",options:[{key:"a",text_en:"network",text_zh:""},{key:"b",text_en:"transport",text_zh:""},{key:"c",text_en:"session",text_zh:""},{key:"d",text_en:"data-link",text_zh:""}],answer:"a",explanation_zh:"network layerhost-to-hostsource-to-destinationIP"},{id:"6.6",chapter:"6",number:"6-6",text_en:"What is the domain name in the email address kayla@nasa.gov?",text_zh:" kayla@nasa.gov ",options:[{key:"a",text_en:"kayla@nasa.gov",text_zh:"kayla@nasa.gov"},{key:"b",text_en:"kayla",text_zh:"kayla"},{key:"c",text_en:"gov",text_zh:"gov"},{key:"d",text_en:"nasa.gov",text_zh:"nasa.gov"}],answer:"d",explanation_zh:"@ domain name nasa.gov"},{id:"6.7",chapter:"6",number:"6-7",text_en:"Which physical topology uses a hub or switch?",text_zh:"",options:[{key:"a",text_en:"ring",text_zh:""},{key:"b",text_en:"bus",text_zh:""},{key:"c",text_en:"bus and ring",text_zh:""},{key:"d",text_en:"star",text_zh:""}],answer:"d",explanation_zh:"star topologyhubswitch"},{id:"6.8",chapter:"6",number:"6-8",text_en:"IP addresses are currently ________ bits in length.",text_zh:" IP  ________ ",options:[{key:"a",text_en:"8",text_zh:"8"},{key:"b",text_en:"4",text_zh:"4"},{key:"c",text_en:"40",text_zh:"40"},{key:"d",text_en:"32",text_zh:"32"}],answer:"d",explanation_zh:" IPv4 (Internet Protocol version 4)  32  192.168.1.1"},{id:"6.9",chapter:"6",number:"6-9",text_en:"________ protocol(s) is one of the protocols in the transport layer.",text_zh:"________ ",options:[{key:"a",text_en:"Only UDP",text_zh:" UDP"},{key:"b",text_en:"Only TCP",text_zh:" TCP"},{key:"c",text_en:"TCP, UDP, and SCTP",text_zh:"TCPUDP  SCTP"},{key:"d",text_en:"Only SCTP",text_zh:" SCTP"}],answer:"c",explanation_zh:"transport layerend-to-end TCP ()UDP ()  SCTP (Stream Control Transmission Protocol)"},{id:"6.10",chapter:"6",number:"6-10",text_en:"________ is a protocol for file transfer.",text_zh:"________ ",options:[{key:"a",text_en:"SMTP",text_zh:"SMTP"},{key:"b",text_en:"FTP",text_zh:"FTP"},{key:"c",text_en:"HTTP",text_zh:"HTTP"},{key:"d",text_en:"TELNET",text_zh:"TELNET"}],answer:"b",explanation_zh:"FTP (File Transfer Protocol) "},{id:"6.11",chapter:"6",number:"6-11",text_en:"________ is a protocol for email services.",text_zh:"________ ",options:[{key:"a",text_en:"SMTP",text_zh:"SMTP"},{key:"b",text_en:"FTP",text_zh:"FTP"},{key:"c",text_en:"HTTP",text_zh:"HTTP"},{key:"d",text_en:"TELNET",text_zh:"TELNET"}],answer:"a",explanation_zh:"SMTP (Simple Mail Transfer Protocol) "},{id:"6.12",chapter:"6",number:"6-12",text_en:"________ is a protocol for accessing and transferring documents on the WWW.",text_zh:"________ ",options:[{key:"a",text_en:"SMTP",text_zh:"SMTP"},{key:"b",text_en:"FTP",text_zh:"FTP"},{key:"c",text_en:"HTTP",text_zh:"HTTP"},{key:"d",text_en:"TELNET",text_zh:"TELNET"}],answer:"c",explanation_zh:"HTTP (Hypertext Transfer Protocol) WWW HTML "}],VI=[{id:"7.1",chapter:"7",number:"7-1",text_en:"________ is a program that facilitates the execution of other programs.",text_zh:"________ ",options:[{key:"a",text_en:"An operating system",text_zh:""},{key:"b",text_en:"An application program",text_zh:""},{key:"c",text_en:"Hardware",text_zh:""},{key:"d",text_en:"A queue",text_zh:""}],answer:"a",explanation_zh:"Operating System"},{id:"7.2",chapter:"7",number:"7-2",text_en:"________ supervises the activity of each component in a computer system.",text_zh:"________ ",options:[{key:"a",text_en:"An operating system",text_zh:""},{key:"b",text_en:"An application program",text_zh:""},{key:"c",text_en:"Hardware",text_zh:""},{key:"d",text_en:"A queue",text_zh:""}],answer:"a",explanation_zh:"CPUI/O"},{id:"7.3",chapter:"7",number:"7-3",text_en:"Multi-programming requires a ________ operating-system.",text_zh:" ________ ",options:[{key:"a",text_en:"batch",text_zh:""},{key:"b",text_en:"distributed",text_zh:""},{key:"c",text_en:"time-sharing",text_zh:""},{key:"d",text_en:"parallel",text_zh:""}],answer:"c",explanation_zh:"Multi-programmingCPUTime-sharingCPU"},{id:"7.4",chapter:"7",number:"7-4",text_en:"________ is multi-programming with swapping.",text_zh:"________ swapping",options:[{key:"a",text_en:"Partitioning",text_zh:""},{key:"b",text_en:"Queuing",text_zh:""},{key:"c",text_en:"Paging",text_zh:""},{key:"d",text_en:"Demand paging",text_zh:""}],answer:"d",explanation_zh:"SwappingprocessDemand pagingpage"},{id:"7.5",chapter:"7",number:"7-5",text_en:"________ is multi-programming without swapping.",text_zh:"________ swapping",options:[{key:"a",text_en:"Partitioning",text_zh:""},{key:"b",text_en:"Queuing",text_zh:""},{key:"c",text_en:"Virtual memory",text_zh:""},{key:"d",text_en:"Demand paging",text_zh:""}],answer:"a",explanation_zh:"Partitioning"},{id:"7.6",chapter:"7",number:"7-6",text_en:"In ________, only one program can reside in memory for execution.",text_zh:" ________ ",options:[{key:"a",text_en:"mono-programming",text_zh:""},{key:"b",text_en:"paging",text_zh:""},{key:"c",text_en:"multi-programming",text_zh:""},{key:"d",text_en:"partitioning",text_zh:""}],answer:"a",explanation_zh:"Mono-programmingCPU"},{id:"7.7",chapter:"7",number:"7-7",text_en:"________ is a multi-programming method in which multiple programs are entirely in memory with each program occupying a contiguous space.",text_zh:"________ ",options:[{key:"a",text_en:"Partitioning",text_zh:""},{key:"b",text_en:"demand segmentation",text_zh:""},{key:"c",text_en:"paging",text_zh:""},{key:"d",text_en:"demand paging",text_zh:""}],answer:"a",explanation_zh:"Partitioning"},{id:"7.8",chapter:"7",number:"7-8",text_en:"In paging, a program is divided into equally sized sections called ________.",text_zh:" ________",options:[{key:"a",text_en:"pages",text_zh:""},{key:"b",text_en:"partitions",text_zh:""},{key:"c",text_en:"frames",text_zh:""},{key:"d",text_en:"segments",text_zh:""}],answer:"a",explanation_zh:"Pagingpagesframes"},{id:"7.9",chapter:"7",number:"7-9",text_en:"In ________, the program can be divided into differently sized sections.",text_zh:" ________ ",options:[{key:"a",text_en:"partitioning",text_zh:""},{key:"b",text_en:"demand segmentation",text_zh:""},{key:"c",text_en:"paging",text_zh:""},{key:"d",text_en:"demand paging",text_zh:""}],answer:"b",explanation_zh:"Segmentationsegments"},{id:"7.10",chapter:"7",number:"7-10",text_en:"In ________, the program can be divided into equally sized sections called pages, but the pages need not be in memory at the same time for execution.",text_zh:" ________ ",options:[{key:"a",text_en:"partitioning",text_zh:""},{key:"b",text_en:"demand segmentation",text_zh:""},{key:"c",text_en:"paging",text_zh:""},{key:"d",text_en:"demand paging",text_zh:""}],answer:"d",explanation_zh:"Demand paging"},{id:"7.11",chapter:"7",number:"7-11",text_en:"A process in the ________ state can go to either the ready, terminated, or waiting states.",text_zh:" ________ ",options:[{key:"a",text_en:"hold",text_zh:""},{key:"b",text_en:"hold or running",text_zh:""},{key:"c",text_en:"virtual",text_zh:""},{key:"d",text_en:"running",text_zh:""}],answer:"d",explanation_zh:"running1. ready2. terminated3.  I/O waiting"},{id:"7.12",chapter:"7",number:"7-12",text_en:"A process in the ready state goes to the running state when ________.",text_zh:" ________ ",options:[{key:"a",text_en:"it requests I/O",text_zh:" I/O"},{key:"b",text_en:"it gets access to the CPU",text_zh:" CPU "},{key:"c",text_en:"it finishes running",text_zh:""},{key:"d",text_en:"it enters memory",text_zh:""}],answer:"b",explanation_zh:"Schedulerready queue CPU readyrunning"},{id:"7.13",chapter:"7",number:"7-13",text_en:"A program becomes a ________ when it is selected by the operating system and brought to the hold state.",text_zh:" ________",options:[{key:"a",text_en:"job",text_zh:""},{key:"b",text_en:"partition",text_zh:""},{key:"c",text_en:"process",text_zh:""},{key:"d",text_en:"deadlock",text_zh:""}],answer:"a",explanation_zh:"job"},{id:"7.14",chapter:"7",number:"7-14",text_en:"Every process is ________.",text_zh:" ________",options:[{key:"a",text_en:"only a job",text_zh:""},{key:"b",text_en:"a job and a program",text_zh:""},{key:"c",text_en:"only a program",text_zh:""},{key:"d",text_en:"only a partition",text_zh:""}],answer:"b",explanation_zh:"processprogramjob"},{id:"7.15",chapter:"7",number:"7-15",text_en:"The ________ scheduler creates a process from a job and changes a process back to a job.",text_zh:"________ ",options:[{key:"a",text_en:"job",text_zh:""},{key:"b",text_en:"queue",text_zh:""},{key:"c",text_en:"process",text_zh:""},{key:"d",text_en:"virtual",text_zh:""}],answer:"a",explanation_zh:"Job scheduler"},{id:"7.16",chapter:"7",number:"7-16",text_en:"The ________ scheduler moves a process from one process state to another.",text_zh:"________ ",options:[{key:"a",text_en:"job",text_zh:""},{key:"b",text_en:"queue",text_zh:""},{key:"c",text_en:"process",text_zh:""},{key:"d",text_en:"virtual",text_zh:""}],answer:"c",explanation_zh:"Process scheduler CPU "},{id:"7.17",chapter:"7",number:"7-17",text_en:"To prevent ________, an operating system can put resource restrictions on processes.",text_zh:" ________",options:[{key:"a",text_en:"starvation",text_zh:""},{key:"b",text_en:"deadlock",text_zh:""},{key:"c",text_en:"synchronization",text_zh:""},{key:"d",text_en:"paging",text_zh:""}],answer:"b",explanation_zh:"Deadlock"},{id:"7.18",chapter:"7",number:"7-18",text_en:"________ can occur if a process has too many resource restrictions.",text_zh:" ________",options:[{key:"a",text_en:"Starvation",text_zh:""},{key:"b",text_en:"Deadlock",text_zh:""},{key:"c",text_en:"Synchronization",text_zh:""},{key:"d",text_en:"Paging",text_zh:""}],answer:"a",explanation_zh:"StarvationCPU"},{id:"7.19",chapter:"7",number:"7-19",text_en:"The ________ manager is responsible for archiving and backup.",text_zh:"________ ",options:[{key:"a",text_en:"memory",text_zh:""},{key:"b",text_en:"file",text_zh:""},{key:"c",text_en:"process",text_zh:""},{key:"d",text_en:"device",text_zh:""}],answer:"b",explanation_zh:"File managerarchivingbackup"},{id:"7.20",chapter:"7",number:"7-20",text_en:"The ________ manager is responsible for access to I/O devices.",text_zh:"________  I/O ",options:[{key:"a",text_en:"memory",text_zh:""},{key:"b",text_en:"file",text_zh:""},{key:"c",text_en:"process",text_zh:""},{key:"d",text_en:"device",text_zh:""}],answer:"d",explanation_zh:"Device manager I/O "}],XI=[{id:"8.1",chapter:"8",number:"8-1",text_en:"________ is a step-by-step method for solving a problem or doing a task.",text_zh:"________ ",options:[{key:"a",text_en:"A construct",text_zh:""},{key:"b",text_en:"An iteration",text_zh:""},{key:"c",text_en:"A recursion",text_zh:""},{key:"d",text_en:"An algorithm",text_zh:""}],answer:"d",explanation_zh:"Algorithm"},{id:"8.2",chapter:"8",number:"8-2",text_en:"There are ________ basic constructs in computer-science.",text_zh:" ________ ",options:[{key:"a",text_en:"one",text_zh:""},{key:"b",text_en:"three",text_zh:""},{key:"c",text_en:"two",text_zh:""},{key:"d",text_en:"four",text_zh:""}],answer:"b",explanation_zh:"sequencedecision/selectionrepetition/iteration"},{id:"8.3",chapter:"8",number:"8-3",text_en:"The ________ construct tests a condition.",text_zh:"________ ",options:[{key:"a",text_en:"sequence",text_zh:""},{key:"b",text_en:"repetition",text_zh:""},{key:"c",text_en:"decision",text_zh:""},{key:"d",text_en:"flow",text_zh:""}],answer:"c",explanation_zh:"Decision if-then-else"},{id:"8.4",chapter:"8",number:"8-4",text_en:"The ________ construct uses a set of actions one after another.",text_zh:"________ ",options:[{key:"a",text_en:"sequence",text_zh:""},{key:"b",text_en:"repetition",text_zh:""},{key:"c",text_en:"decision",text_zh:""},{key:"d",text_en:"flow",text_zh:""}],answer:"a",explanation_zh:"Sequence"},{id:"8.5",chapter:"8",number:"8-5",text_en:"The ________ construct handles repeated actions.",text_zh:"________ ",options:[{key:"a",text_en:"sequence",text_zh:""},{key:"b",text_en:"repetition",text_zh:""},{key:"c",text_en:"decision",text_zh:""},{key:"d",text_en:"flow",text_zh:""}],answer:"b",explanation_zh:"Repetition while  for "},{id:"8.6",chapter:"8",number:"8-6",text_en:"________ is a pictorial representation of an algorithm.",text_zh:"________ ",options:[{key:"a",text_en:"A UML diagram",text_zh:"UML "},{key:"b",text_en:"Pseudocode",text_zh:""},{key:"c",text_en:"A program",text_zh:""},{key:"d",text_en:"An algorithm",text_zh:""}],answer:"a",explanation_zh:"UMLActivity DiagramFlowchart"},{id:"8.7",chapter:"8",number:"8-7",text_en:"________ is an English-language-like representation of code.",text_zh:"________ ",options:[{key:"a",text_en:"A UML diagram",text_zh:"UML "},{key:"b",text_en:"Pseudocode",text_zh:""},{key:"c",text_en:"A program",text_zh:""},{key:"d",text_en:"An algorithm",text_zh:""}],answer:"b",explanation_zh:"Pseudocode"},{id:"8.8",chapter:"8",number:"8-8",text_en:"________ is a basic algorithm that adds a list of numbers.",text_zh:"________ ",options:[{key:"a",text_en:"Summation",text_zh:""},{key:"b",text_en:"Smallest",text_zh:""},{key:"c",text_en:"Product",text_zh:""},{key:"d",text_en:"Largest",text_zh:""}],answer:"a",explanation_zh:"Summation"},{id:"8.9",chapter:"8",number:"8-9",text_en:"________ is a basic algorithm that multiplies a list of numbers.",text_zh:"________ ",options:[{key:"a",text_en:"Summation",text_zh:""},{key:"b",text_en:"Smallest",text_zh:""},{key:"c",text_en:"Product",text_zh:""},{key:"d",text_en:"Largest",text_zh:""}],answer:"c",explanation_zh:"Product"},{id:"8.10",chapter:"8",number:"8-10",text_en:"________ is a basic algorithm that arranges data according to its value.",text_zh:"________ ",options:[{key:"a",text_en:"Inquiry",text_zh:""},{key:"b",text_en:"Searching",text_zh:""},{key:"c",text_en:"Sorting",text_zh:""},{key:"d",text_en:"Recursion",text_zh:""}],answer:"c",explanation_zh:"Sorting"},{id:"8.11",chapter:"8",number:"8-11",text_en:"The items are divided into two lists (sorted and unsorted) ________ sort.",text_zh:" ________ ",options:[{key:"a",text_en:"only in a selection",text_zh:""},{key:"b",text_en:"only in an insertion",text_zh:""},{key:"c",text_en:"only in a bubble",text_zh:""},{key:"d",text_en:"in selection, bubble, or insertion",text_zh:""}],answer:"d",explanation_zh:""},{id:"8.12",chapter:"8",number:"8-12",text_en:"In ________ sort, the item that goes into the sorted list is always the first item in the unsorted list.",text_zh:" ________ ",options:[{key:"a",text_en:"selection",text_zh:""},{key:"b",text_en:"insertion",text_zh:""},{key:"c",text_en:"bubble",text_zh:""},{key:"d",text_en:"every",text_zh:""}],answer:"b",explanation_zh:"Insertion sort"},{id:"8.13",chapter:"8",number:"8-13",text_en:"In ________ sort, the smallest item from the unsorted list is swapped with the item at the beginning of the unsorted list.",text_zh:" ________ ",options:[{key:"a",text_en:"selection",text_zh:""},{key:"b",text_en:"insertion",text_zh:""},{key:"c",text_en:"bubble",text_zh:""},{key:"d",text_en:"every",text_zh:""}],answer:"a",explanation_zh:"Selection sort"},{id:"8.14",chapter:"8",number:"8-14",text_en:"In ________ sort, the smallest item moves to the beginning of the unsorted list. There is no one-to-one swapping.",text_zh:" ________ ",options:[{key:"a",text_en:"selection",text_zh:""},{key:"b",text_en:"insertion",text_zh:""},{key:"c",text_en:"bubble",text_zh:""},{key:"d",text_en:"every",text_zh:""}],answer:"c",explanation_zh:"Bubble sort"},{id:"8.15",chapter:"8",number:"8-15",text_en:"________ is a basic algorithm in which we want to find the location of a target in a list of items.",text_zh:"________ ",options:[{key:"a",text_en:"Sorting",text_zh:""},{key:"b",text_en:"Product",text_zh:""},{key:"c",text_en:"Searching",text_zh:""},{key:"d",text_en:"Summation",text_zh:""}],answer:"c",explanation_zh:"Searching"},{id:"8.16",chapter:"8",number:"8-16",text_en:"We use a ________ search for an unordered list.",text_zh:" ________ ",options:[{key:"a",text_en:"sequential",text_zh:""},{key:"b",text_en:"bubble",text_zh:""},{key:"c",text_en:"binary",text_zh:""},{key:"d",text_en:"insertion",text_zh:""}],answer:"a",explanation_zh:"Sequential search"},{id:"8.17",chapter:"8",number:"8-17",text_en:"We use a ________ search for an ordered list.",text_zh:" ________ ",options:[{key:"a",text_en:"sequential",text_zh:""},{key:"b",text_en:"bubble",text_zh:""},{key:"c",text_en:"binary",text_zh:""},{key:"d",text_en:"insertion",text_zh:""}],answer:"c",explanation_zh:"Binary search"},{id:"8.18",chapter:"8",number:"8-18",text_en:"________ is a process in which an algorithm calls itself.",text_zh:"________ ",options:[{key:"a",text_en:"Insertion",text_zh:""},{key:"b",text_en:"Recursion",text_zh:""},{key:"c",text_en:"Searching",text_zh:""},{key:"d",text_en:"Iteration",text_zh:""}],answer:"b",explanation_zh:"Recursion"}],YI=[{id:"9.1",chapter:"10",number:"10-1",text_en:"The only language understood by computer hardware is a ________ language.",text_zh:" ________ ",options:[{key:"a",text_en:"natural",text_zh:""},{key:"b",text_en:"machine",text_zh:""},{key:"c",text_en:"symbolic",text_zh:""},{key:"d",text_en:"high-level",text_zh:""}],answer:"b",explanation_zh:"Machine language CPU "},{id:"9.2",chapter:"10",number:"10-2",text_en:"C, C++, and Java can be classified as ________ languages.",text_zh:"CC++  Java  ________ ",options:[{key:"a",text_en:"natural",text_zh:""},{key:"b",text_en:"machine",text_zh:""},{key:"c",text_en:"symbolic",text_zh:""},{key:"d",text_en:"high-level",text_zh:""}],answer:"d",explanation_zh:"High-level languages"},{id:"9.3",chapter:"10",number:"10-3",text_en:"FORTRAN is a(n) ________ language.",text_zh:"FORTRAN  ________ ",options:[{key:"a",text_en:"object-oriented",text_zh:""},{key:"b",text_en:"procedural",text_zh:""},{key:"c",text_en:"functional",text_zh:""},{key:"d",text_en:"declarative",text_zh:""}],answer:"b",explanation_zh:"FORTRAN Procedural languagesubroutines"},{id:"9.4",chapter:"10",number:"10-4",text_en:"Pascal is a(n) ________ language.",text_zh:"Pascal  ________ ",options:[{key:"a",text_en:"object-oriented",text_zh:""},{key:"b",text_en:"procedural",text_zh:""},{key:"c",text_en:"functional",text_zh:""},{key:"d",text_en:"declarative",text_zh:""}],answer:"b",explanation_zh:"Pascal Procedural language"},{id:"9.5",chapter:"10",number:"10-5",text_en:"Java is a(n) ________ language.",text_zh:"Java  ________ ",options:[{key:"a",text_en:"object-oriented",text_zh:""},{key:"b",text_en:"procedural",text_zh:""},{key:"c",text_en:"functional",text_zh:""},{key:"d",text_en:"declarative",text_zh:""}],answer:"a",explanation_zh:"Java Object-oriented"},{id:"9.6",chapter:"10",number:"10-6",text_en:"LISP is a(n) ________ language.",text_zh:"LISP  ________ ",options:[{key:"a",text_en:"object-oriented",text_zh:""},{key:"b",text_en:"procedural",text_zh:""},{key:"c",text_en:"functional",text_zh:""},{key:"d",text_en:"declarative",text_zh:""}],answer:"c",explanation_zh:"LISP Functional language"},{id:"9.7",chapter:"10",number:"10-7",text_en:"________ is a common language in the business-environment.",text_zh:"________ ",options:[{key:"a",text_en:"COBOL",text_zh:"COBOL"},{key:"b",text_en:"FORTRAN",text_zh:"FORTRAN"},{key:"c",text_en:"C++",text_zh:"C++"},{key:"d",text_en:"C",text_zh:"C"}],answer:"a",explanation_zh:"COBOLCommon Business-Oriented Language"},{id:"9.8",chapter:"10",number:"10-8",text_en:"________ is a popular object-oriented language.",text_zh:"________ ",options:[{key:"a",text_en:"LISP",text_zh:"LISP"},{key:"b",text_en:"FORTRAN",text_zh:"FORTRAN"},{key:"c",text_en:"COBOL",text_zh:"COBOL"},{key:"d",text_en:"Java",text_zh:"Java"}],answer:"d",explanation_zh:"Java  C++, Python, C# "},{id:"9.9",chapter:"10",number:"10-9",text_en:"A ________ program can be either an application or an applet.",text_zh:" ________ applicationapplet",options:[{key:"a",text_en:"Java",text_zh:"Java"},{key:"b",text_en:"FORTRAN",text_zh:"FORTRAN"},{key:"c",text_en:"C++",text_zh:"C++"},{key:"d",text_en:"C",text_zh:"C"}],answer:"a",explanation_zh:"Java Applet  Java Java application Applet"},{id:"9.10",chapter:"10",number:"10-10",text_en:"LISP and Scheme are both ________ languages.",text_zh:"LISP  Scheme  ________ ",options:[{key:"a",text_en:"object-oriented",text_zh:""},{key:"b",text_en:"procedural",text_zh:""},{key:"c",text_en:"functional",text_zh:""},{key:"d",text_en:"declarative",text_zh:""}],answer:"c",explanation_zh:"Scheme  LISP Functional language"},{id:"9.11",chapter:"10",number:"10-11",text_en:"Prolog is an example of a(n) ________ language.",text_zh:"Prolog  ________ ",options:[{key:"a",text_en:"object-oriented",text_zh:""},{key:"b",text_en:"procedural",text_zh:""},{key:"c",text_en:"functional",text_zh:""},{key:"d",text_en:"declarative",text_zh:""}],answer:"d",explanation_zh:"Prolog Declarative language"}],KI=[{id:"10.1",chapter:"11",number:"11-1",text_en:"One phase in system development is ________.",text_zh:" ________",options:[{key:"a",text_en:"analysis",text_zh:""},{key:"b",text_en:"designing",text_zh:""},{key:"c",text_en:"collecting",text_zh:""},{key:"d",text_en:"application",text_zh:""}],answer:"a",explanation_zh:"SDLCanalysisdesignimplementationtestingmaintenance"},{id:"10.2",chapter:"11",number:"11-2",text_en:"Defining the users, requirements, and methods is part of the ________ phase.",text_zh:" ________ ",options:[{key:"a",text_en:"analysis",text_zh:""},{key:"b",text_en:"implementation",text_zh:""},{key:"c",text_en:"testing",text_zh:""},{key:"d",text_en:"design",text_zh:""}],answer:"a",explanation_zh:"Analysis"},{id:"10.3",chapter:"11",number:"11-3",text_en:"In the system development process, writing the program is part of the ________ phase.",text_zh:" ________ ",options:[{key:"a",text_en:"analysis",text_zh:""},{key:"b",text_en:"implementation",text_zh:""},{key:"c",text_en:"testing",text_zh:""},{key:"d",text_en:"design",text_zh:""}],answer:"b",explanation_zh:"Implementation"},{id:"10.4",chapter:"11",number:"11-4",text_en:"In the system development process, structure charts are tools used in the ________ phase.",text_zh:" ________ ",options:[{key:"a",text_en:"analysis",text_zh:""},{key:"b",text_en:"implementation",text_zh:""},{key:"c",text_en:"testing",text_zh:""},{key:"d",text_en:"design",text_zh:""}],answer:"d",explanation_zh:"Structure chartsDesign"},{id:"10.5",chapter:"11",number:"11-5",text_en:"Testing a software system can involve ________ testing.",text_zh:" ________ ",options:[{key:"a",text_en:"black-box",text_zh:""},{key:"b",text_en:"neither black-box nor glass-box",text_zh:""},{key:"c",text_en:"both black-box and glass-box",text_zh:""},{key:"d",text_en:"glass-box",text_zh:""}],answer:"c",explanation_zh:"Black-box testingWhite-box/glass-box testing"},{id:"10.6",chapter:"11",number:"11-6",text_en:"________ is the breaking up of a large project into smaller parts.",text_zh:"________ ",options:[{key:"a",text_en:"Coupling",text_zh:""},{key:"b",text_en:"Obsolescence",text_zh:""},{key:"c",text_en:"Modularization",text_zh:""},{key:"d",text_en:"Incrementing",text_zh:""}],answer:"c",explanation_zh:"Modularization"},{id:"10.7",chapter:"11",number:"11-7",text_en:"________ is a measure of how tightly two modules are bound to each other.",text_zh:"________ ",options:[{key:"a",text_en:"Modularity",text_zh:""},{key:"b",text_en:"Interoperability",text_zh:""},{key:"c",text_en:"Cohesion",text_zh:""},{key:"d",text_en:"Coupling",text_zh:""}],answer:"d",explanation_zh:"Coupling"},{id:"10.8",chapter:"11",number:"11-8",text_en:"________ between modules in a software system must be minimized.",text_zh:" ________ ",options:[{key:"a",text_en:"Coupling",text_zh:""},{key:"b",text_en:"Neither coupling nor cohesion",text_zh:""},{key:"c",text_en:"Both coupling and cohesion",text_zh:""},{key:"d",text_en:"Cohesion",text_zh:""}],answer:"a",explanation_zh:"Low coupling"},{id:"10.9",chapter:"11",number:"11-9",text_en:"________ between modules in a software system must be maximized.",text_zh:" ________ ",options:[{key:"a",text_en:"Coupling",text_zh:""},{key:"b",text_en:"Neither coupling nor cohesion",text_zh:""},{key:"c",text_en:"Both coupling and cohesion",text_zh:""},{key:"d",text_en:"Cohesion",text_zh:""}],answer:"d",explanation_zh:"High cohesion"}],QI=[{id:"11.1",chapter:"12",number:"12-1",text_en:"A data structure can be ________.",text_zh:" ________",options:[{key:"a",text_en:"an array, a record, or a linked list",text_zh:""},{key:"b",text_en:"only a record",text_zh:""},{key:"c",text_en:"only a linked list",text_zh:""},{key:"d",text_en:"only an array",text_zh:""}],answer:"a",explanation_zh:""},{id:"11.2",chapter:"12",number:"12-2",text_en:"An array that consists of just rows and columns is a ________ array.",text_zh:" ________ ",options:[{key:"a",text_en:"multidimensional",text_zh:""},{key:"b",text_en:"two-dimensional",text_zh:""},{key:"c",text_en:"three-dimensional",text_zh:""},{key:"d",text_en:"one-dimensional",text_zh:""}],answer:"d",explanation_zh:" d"},{id:"11.3",chapter:"12",number:"12-3",text_en:"Each element in a record is called ________.",text_zh:" ________",options:[{key:"a",text_en:"a node",text_zh:""},{key:"b",text_en:"an index",text_zh:""},{key:"c",text_en:"a field",text_zh:""},{key:"d",text_en:"a variable",text_zh:""}],answer:"c",explanation_zh:"Recordfield"},{id:"11.4",chapter:"12",number:"12-4",text_en:"All the members of a record must be ________.",text_zh:" ________",options:[{key:"a",text_en:"character type",text_zh:""},{key:"b",text_en:"related types",text_zh:""},{key:"c",text_en:"integer type",text_zh:""},{key:"d",text_en:"the same type",text_zh:""}],answer:"b",explanation_zh:""},{id:"11.5",chapter:"12",number:"12-5",text_en:"________ is an ordered collection of data in which each element contains the location of the next element.",text_zh:"________ ",options:[{key:"a",text_en:"A file",text_zh:""},{key:"b",text_en:"A record",text_zh:""},{key:"c",text_en:"A linked list",text_zh:""},{key:"d",text_en:"An array",text_zh:""}],answer:"c",explanation_zh:"Linked list"},{id:"11.6",chapter:"12",number:"12-6",text_en:"In a linked list, each element contains ________.",text_zh:" ________",options:[{key:"a",text_en:"data and a link",text_zh:""},{key:"b",text_en:"only a link",text_zh:""},{key:"c",text_en:"neither data nor a link",text_zh:""},{key:"d",text_en:"only data",text_zh:""}],answer:"a",explanation_zh:"nodedatalinkpointer"},{id:"11.7",chapter:"12",number:"12-7",text_en:"The ________ is a pointer that identifies the next element in the linked list.",text_zh:"________ ",options:[{key:"a",text_en:"data",text_zh:""},{key:"b",text_en:"node",text_zh:""},{key:"c",text_en:"array",text_zh:""},{key:"d",text_en:"link",text_zh:""}],answer:"d",explanation_zh:"link"},{id:"11.8",chapter:"12",number:"12-8",text_en:"Given a linked list called children, the pointer variable children identifies ________ element of the linked list.",text_zh:" children  children  ________ ",options:[{key:"a",text_en:"the last",text_zh:""},{key:"b",text_en:"the second",text_zh:""},{key:"c",text_en:"any",text_zh:""},{key:"d",text_en:"the first",text_zh:""}],answer:"d",explanation_zh:"head pointer"},{id:"11.9",chapter:"12",number:"12-9",text_en:"An empty linked list consists of ________.",text_zh:" ________",options:[{key:"a",text_en:"a null head pointer",text_zh:""},{key:"b",text_en:"two nodes",text_zh:""},{key:"c",text_en:"data and a link",text_zh:""},{key:"d",text_en:"a node",text_zh:""}],answer:"a",explanation_zh:"null pointer"},{id:"11.10",chapter:"12",number:"12-10",text_en:"To traverse a list, you need a ________ pointer.",text_zh:" ________ ",options:[{key:"a",text_en:"insertion",text_zh:""},{key:"b",text_en:"walking",text_zh:""},{key:"c",text_en:"beginning",text_zh:""},{key:"d",text_en:"null",text_zh:""}],answer:"b",explanation_zh:"traversewalking/traversing pointer"}],JI=[{id:"12.1",chapter:"13",number:"13-1",text_en:"In an abstract data type, ________.",text_zh:"________",options:[{key:"a",text_en:"Nothing is hidden",text_zh:""},{key:"b",text_en:"the ADT implementation is hidden",text_zh:"ADT "},{key:"c",text_en:"the ADT implementation is known",text_zh:"ADT "},{key:"d",text_en:"the ADT public operations are hidden",text_zh:"ADT "}],answer:"b",explanation_zh:"Abstract Data Type, ADTinformation hiding"},{id:"12.2",chapter:"13",number:"13-2",text_en:"A stack is a ________ structure.",text_zh:" ________ ",options:[{key:"a",text_en:"SIFO",text_zh:"SIFO"},{key:"b",text_en:"LIFO",text_zh:""},{key:"c",text_en:"FIFO",text_zh:""},{key:"d",text_en:"DIFO",text_zh:"DIFO"}],answer:"b",explanation_zh:"StackLast-In, First-Out, LIFO"},{id:"12.3",chapter:"13",number:"13-3",text_en:"A(n) ________ list is also known as a queue.",text_zh:"________ ",options:[{key:"a",text_en:"ordered",text_zh:""},{key:"b",text_en:"FIFO",text_zh:""},{key:"c",text_en:"LIFO",text_zh:""},{key:"d",text_en:"unordered",text_zh:""}],answer:"b",explanation_zh:"QueueFirst-In, First-Out, FIFO"},{id:"12.4",chapter:"13",number:"13-4",text_en:"If A is the first data element input into a stack, followed by B, C, and D, then ________ is the first element to be removed.",text_zh:" A  BC  D ________ ",options:[{key:"a",text_en:"D",text_zh:"D"},{key:"b",text_en:"B",text_zh:"B"},{key:"c",text_en:"A",text_zh:"A"},{key:"d",text_en:"C",text_zh:"C"}],answer:"a",explanation_zh:"LIFO A, B, C, DD "},{id:"12.5",chapter:"13",number:"13-5",text_en:"If A is the first data element input into a queue, followed by B, C, and D, then ________ is the first element to be removed.",text_zh:" A  BC  D ________ ",options:[{key:"a",text_en:"D",text_zh:"D"},{key:"b",text_en:"B",text_zh:"B"},{key:"c",text_en:"A",text_zh:"A"},{key:"d",text_en:"C",text_zh:"C"}],answer:"c",explanation_zh:"FIFO A, B, C, DA "},{id:"12.6",chapter:"13",number:"13-6",text_en:"The pop operation ________ of the stack.",text_zh:"pop  ________ ",options:[{key:"a",text_en:"inserts an item at the bottom",text_zh:""},{key:"b",text_en:"deletes an item from the bottom",text_zh:""},{key:"c",text_en:"deletes an item from the top",text_zh:""},{key:"d",text_en:"inserts an item at the top",text_zh:""}],answer:"c",explanation_zh:"pop top"},{id:"12.7",chapter:"13",number:"13-7",text_en:"The push operation ________ of the stack.",text_zh:"push  ________ ",options:[{key:"a",text_en:"inserts an item at the bottom",text_zh:""},{key:"b",text_en:"deletes an item from the bottom",text_zh:""},{key:"c",text_en:"deletes an item from the top",text_zh:""},{key:"d",text_en:"inserts an item at the top",text_zh:""}],answer:"d",explanation_zh:"push top"},{id:"12.8",chapter:"13",number:"13-8",text_en:"In a binary tree, each node has ________ two subtrees.",text_zh:" ________ ",options:[{key:"a",text_en:"at least",text_zh:""},{key:"b",text_en:"less than",text_zh:""},{key:"c",text_en:"more than",text_zh:""},{key:"d",text_en:"at most",text_zh:""}],answer:"d",explanation_zh:"Binary Tree 01  2"},{id:"12.9",chapter:"13",number:"13-9",text_en:"In preorder traversal of a binary tree, the ________.",text_zh:"________",options:[{key:"a",text_en:"the root is never processed",text_zh:""},{key:"b",text_en:"right subtree is processed first",text_zh:""},{key:"c",text_en:"left subtree is processed first",text_zh:""},{key:"d",text_en:"root is processed first",text_zh:""}],answer:"d",explanation_zh:"Preorder traversal ->  -> "},{id:"12.10",chapter:"13",number:"13-10",text_en:"In ________ traversal of a binary tree, the right subtree is processed last.",text_zh:" ________ ",options:[{key:"a",text_en:"any order",text_zh:""},{key:"b",text_en:"inorder",text_zh:""},{key:"c",text_en:"preorder",text_zh:""},{key:"d",text_en:"postorder",text_zh:""}],answer:"b",explanation_zh:"Inorder traversal ->  -> "},{id:"12.11",chapter:"13",number:"13-11",text_en:"In postorder traversal of a binary tree, the root is processed ________.",text_zh:" ________ ",options:[{key:"a",text_en:"after the left subtree",text_zh:""},{key:"b",text_en:"second",text_zh:""},{key:"c",text_en:"first",text_zh:""},{key:"d",text_en:"last",text_zh:""}],answer:"d",explanation_zh:"Postorder traversal ->  -> "},{id:"12.12",chapter:"13",number:"13-12",text_en:"In postorder traversal of a binary tree, the left subtree is processed ________.",text_zh:" ________ ",options:[{key:"a",text_en:"after the right subtree",text_zh:""},{key:"b",text_en:"second",text_zh:""},{key:"c",text_en:"first",text_zh:""},{key:"d",text_en:"last",text_zh:""}],answer:"c",explanation_zh:"Postorder traversal ->  -> "},{id:"12.13",chapter:"13",number:"13-13",text_en:"In ________ traversal of a binary tree, the left subtree is processed last.",text_zh:" ________ ",options:[{key:"a",text_en:"out of order",text_zh:""},{key:"b",text_en:"inorder",text_zh:""},{key:"c",text_en:"preorder",text_zh:""},{key:"d",text_en:"postorder",text_zh:""}],answer:"c",explanation_zh:" c"},{id:"12.14",chapter:"13",number:"13-14",text_en:"In an inorder traversal of a binary tree, the root is processed ________.",text_zh:" ________ ",options:[{key:"a",text_en:"two times",text_zh:""},{key:"b",text_en:"second",text_zh:""},{key:"c",text_en:"first",text_zh:""},{key:"d",text_en:"last",text_zh:""}],answer:"b",explanation_zh:"Inorder traversal ->  -> "}],ZI=[{id:"13.1",chapter:"14",number:"14-1",text_en:"________ file can be accessed randomly.",text_zh:"________ ",options:[{key:"a",text_en:"A sequential",text_zh:""},{key:"b",text_en:"A hashed",text_zh:""},{key:"c",text_en:"An indexed",text_zh:""},{key:"d",text_en:"Any",text_zh:""}],answer:"d",explanation_zh:"indexedhashedsequential file 'Any' "},{id:"13.2",chapter:"14",number:"14-2",text_en:"________ file can be accessed sequentially.",text_zh:"________ ",options:[{key:"a",text_en:"A sequential",text_zh:""},{key:"b",text_en:"A hashed",text_zh:""},{key:"c",text_en:"An indexed",text_zh:""},{key:"d",text_en:"No",text_zh:""}],answer:"a",explanation_zh:"Sequential file"},{id:"13.3",chapter:"14",number:"14-3",text_en:"When a sequential file is updated, the ________ file gets the actual update.",text_zh:"________ ",options:[{key:"a",text_en:"new master",text_zh:""},{key:"b",text_en:"transaction",text_zh:""},{key:"c",text_en:"old master",text_zh:""},{key:"d",text_en:"error report",text_zh:""}],answer:"a",explanation_zh:"new master file"},{id:"13.4",chapter:"14",number:"14-4",text_en:"When a sequential file is updated, the ________ file contains a list of all errors occurring during the update process.",text_zh:"________ ",options:[{key:"a",text_en:"new master",text_zh:""},{key:"b",text_en:"transaction",text_zh:""},{key:"c",text_en:"old master",text_zh:""},{key:"d",text_en:"error report",text_zh:""}],answer:"d",explanation_zh:"error report"},{id:"13.5",chapter:"14",number:"14-5",text_en:"When a sequential file is updated, the ________ file contains the changes to be applied.",text_zh:"________ ",options:[{key:"a",text_en:"new master",text_zh:""},{key:"b",text_en:"transaction",text_zh:""},{key:"c",text_en:"old master",text_zh:""},{key:"d",text_en:"error report",text_zh:""}],answer:"b",explanation_zh:"Transaction file"},{id:"13.6",chapter:"14",number:"14-6",text_en:"After a sequential file is updated, the ________ file contains the most current data.",text_zh:"________ ",options:[{key:"a",text_en:"new master",text_zh:""},{key:"b",text_en:"transaction",text_zh:""},{key:"c",text_en:"old master",text_zh:""},{key:"d",text_en:"error report",text_zh:""}],answer:"a",explanation_zh:"new master file"},{id:"13.7",chapter:"14",number:"14-7",text_en:"If the transaction file key is 20 and the first master file key is 25, then we ________.",text_zh:" 20 25 ________",options:[{key:"a",text_en:"add the new record to the new master file",text_zh:""},{key:"b",text_en:"delete the data",text_zh:""},{key:"c",text_en:"revise the contents of the old master file",text_zh:""},{key:"d",text_en:"write the old master file record to the new master file",text_zh:""}],answer:"a",explanation_zh:""},{id:"13.8",chapter:"14",number:"14-8",text_en:"If the transaction file key is 20 with a delete code and the master file key is 20, then we ________.",text_zh:" 20  20 ________",options:[{key:"a",text_en:"add the transaction to the new master file",text_zh:""},{key:"b",text_en:"delete the data",text_zh:""},{key:"c",text_en:"revise the contents of the old master file",text_zh:""},{key:"d",text_en:"write the old master file record to the new master file",text_zh:""}],answer:"b",explanation_zh:""},{id:"13.9",chapter:"14",number:"14-9",text_en:"An indexed file consists of ________.",text_zh:" ________ ",options:[{key:"a",text_en:"only a sequential data file",text_zh:""},{key:"b",text_en:"only a random data file",text_zh:""},{key:"c",text_en:"only an index",text_zh:""},{key:"d",text_en:"an index and random data file",text_zh:""}],answer:"d",explanation_zh:"index"},{id:"13.10",chapter:"14",number:"14-10",text_en:"The index of an indexed file has ________ fields.",text_zh:" ________ ",options:[{key:"a",text_en:"two",text_zh:""},{key:"b",text_en:"four",text_zh:""},{key:"c",text_en:"three",text_zh:""},{key:"d",text_en:"any number of",text_zh:""}],answer:"a",explanation_zh:"keypointer/address"},{id:"13.11",chapter:"14",number:"14-11",text_en:"In the ________ hashing method, selected digits are extracted from the key and used as the address.",text_zh:" ________ ",options:[{key:"a",text_en:"direct",text_zh:""},{key:"b",text_en:"modulo division",text_zh:""},{key:"c",text_en:"division remainder",text_zh:""},{key:"d",text_en:"digit extraction",text_zh:""}],answer:"d",explanation_zh:"Digit extraction"},{id:"13.12",chapter:"14",number:"14-12",text_en:"In the ________ hashing method, the key is divided by the file size, and the address is the remainder plus 1.",text_zh:" ________  1",options:[{key:"a",text_en:"direct",text_zh:""},{key:"b",text_en:"division remainder",text_zh:""},{key:"c",text_en:"modulo division",text_zh:""},{key:"d",text_en:"digit extraction",text_zh:""}],answer:"c",explanation_zh:"Modulo division K  M `K mod M` 0  M-1"},{id:"13.13",chapter:"14",number:"14-13",text_en:"In the ________ hashing method, there are no synonyms or collisions.",text_zh:" ________ ",options:[{key:"a",text_en:"direct",text_zh:""},{key:"b",text_en:"division remainder",text_zh:""},{key:"c",text_en:"modulo division",text_zh:""},{key:"d",text_en:"digit extraction",text_zh:""}],answer:"a",explanation_zh:"Direct hashing"},{id:"13.14",chapter:"14",number:"14-14",text_en:"________ are keys that hash to the same location in the data file.",text_zh:"________ ",options:[{key:"a",text_en:"Collisions",text_zh:""},{key:"b",text_en:"Synonyms",text_zh:""},{key:"c",text_en:"Buckets",text_zh:""},{key:"d",text_en:"Linked lists",text_zh:""}],answer:"b",explanation_zh:"Synonyms"},{id:"13.15",chapter:"14",number:"14-15",text_en:"When a hashing algorithm produces an address for an insertion key and that address is already occupied, it is called a ________.",text_zh:" ________",options:[{key:"a",text_en:"collision",text_zh:""},{key:"b",text_en:"synonym",text_zh:""},{key:"c",text_en:"probe",text_zh:""},{key:"d",text_en:"linked list",text_zh:""}],answer:"a",explanation_zh:"Collision"},{id:"13.16",chapter:"14",number:"14-16",text_en:"The address produced by a hashing algorithm is the ________ address.",text_zh:" ________ ",options:[{key:"a",text_en:"probe",text_zh:""},{key:"b",text_en:"collision",text_zh:""},{key:"c",text_en:"synonym",text_zh:""},{key:"d",text_en:"home",text_zh:""}],answer:"d",explanation_zh:"home address"},{id:"13.17",chapter:"14",number:"14-17",text_en:"The ________ area is the file area that contains all the home addresses.",text_zh:"________ ",options:[{key:"a",text_en:"probe",text_zh:""},{key:"b",text_en:"hash",text_zh:""},{key:"c",text_en:"linked",text_zh:""},{key:"d",text_en:"prime",text_zh:""}],answer:"d",explanation_zh:"Prime areaoverflow area"},{id:"13.18",chapter:"14",number:"14-18",text_en:"In the ________ collision resolution method, we try to put data that cannot be placed in location 123 into location 124.",text_zh:" ________  123  124",options:[{key:"a",text_en:"open addressing",text_zh:""},{key:"b",text_en:"bucket hashing",text_zh:""},{key:"c",text_en:"linked list",text_zh:""},{key:"d",text_en:"random hashing",text_zh:""}],answer:"a",explanation_zh:"Open addressingprobelinear probing 124, 125, ..."}],eN=[{id:"14.1",chapter:"15",number:"15-1",text_en:"In a three-level DBMS architecture, the layer that interacts directly with the hardware is the ________ level.",text_zh:" DBMS  ________ ",options:[{key:"a",text_en:"conceptual",text_zh:" (conceptual)"},{key:"b",text_en:"physical",text_zh:" (physical)"},{key:"c",text_en:"external",text_zh:" (external)"},{key:"d",text_en:"internal",text_zh:" (internal)"}],answer:"d",explanation_zh:"Internal Level"},{id:"14.2",chapter:"15",number:"15-2",text_en:"In a three-level DBMS architecture, the ________ level determines where data is actually stored on the storage devices.",text_zh:" DBMS ________ ",options:[{key:"a",text_en:"conceptual",text_zh:" (conceptual)"},{key:"b",text_en:"physical",text_zh:" (physical)"},{key:"c",text_en:"external",text_zh:" (external)"},{key:"d",text_en:"internal",text_zh:" (internal)"}],answer:"d",explanation_zh:""},{id:"14.3",chapter:"15",number:"15-3",text_en:"The ________ level of a three-level DBMS architecture defines the logical view of the data.",text_zh:" DBMS  ________ ",options:[{key:"a",text_en:"conceptual",text_zh:" (conceptual)"},{key:"b",text_en:"physical",text_zh:" (physical)"},{key:"c",text_en:"external",text_zh:" (external)"},{key:"d",text_en:"internal",text_zh:" (internal)"}],answer:"a",explanation_zh:"Conceptual Level"},{id:"14.4",chapter:"15",number:"15-4",text_en:"The data model and the schema of a DBMS are often defined at the ________ level.",text_zh:"DBMS  ________ ",options:[{key:"a",text_en:"conceptual",text_zh:" (conceptual)"},{key:"b",text_en:"physical",text_zh:" (physical)"},{key:"c",text_en:"external",text_zh:" (external)"},{key:"d",text_en:"internal",text_zh:" (internal)"}],answer:"a",explanation_zh:"Schema"},{id:"14.5",chapter:"15",number:"15-5",text_en:"In a three-level DBMS architecture, the ________ level interacts directly with the users.",text_zh:" DBMS ________ ",options:[{key:"a",text_en:"conceptual",text_zh:" (conceptual)"},{key:"b",text_en:"physical",text_zh:" (physical)"},{key:"c",text_en:"external",text_zh:" (external)"},{key:"d",text_en:"internal",text_zh:" (internal)"}],answer:"c",explanation_zh:"External Level"},{id:"14.6",chapter:"15",number:"15-6",text_en:"Of the various database models, the ________ model is the most prevalent today.",text_zh:"________ ",options:[{key:"a",text_en:"network",text_zh:" (network)"},{key:"b",text_en:"linked list",text_zh:" (linked list)"},{key:"c",text_en:"hierarchical",text_zh:" (hierarchical)"},{key:"d",text_en:"relational",text_zh:" (relational)"}],answer:"d",explanation_zh:"Relational Model"},{id:"14.7",chapter:"15",number:"15-7",text_en:"Each column in a relation is called ________.",text_zh:" ________",options:[{key:"a",text_en:"a tuple",text_zh:" (tuple)"},{key:"b",text_en:"an attitude",text_zh:""},{key:"c",text_en:"an attribute",text_zh:" (attribute)"},{key:"d",text_en:"a union",text_zh:""}],answer:"c",explanation_zh:"columnAttribute"},{id:"14.8",chapter:"15",number:"15-8",text_en:"Each row in a relation is called ________.",text_zh:" ________",options:[{key:"a",text_en:"a tuple",text_zh:" (tuple)"},{key:"b",text_en:"an attitude",text_zh:""},{key:"c",text_en:"an attribute",text_zh:" (attribute)"},{key:"d",text_en:"a union",text_zh:""}],answer:"a",explanation_zh:"rowTuple"},{id:"14.9",chapter:"15",number:"15-9",text_en:"A unary operator is applied to ________ relation(s) and creates an output of ________ relation(s).",text_zh:" ________  ________ ",options:[{key:"a",text_en:"one, two",text_zh:""},{key:"b",text_en:"two, two",text_zh:""},{key:"c",text_en:"one, one",text_zh:""},{key:"d",text_en:"two, one",text_zh:""}],answer:"c",explanation_zh:" Select Project"},{id:"14.10",chapter:"15",number:"15-10",text_en:"A binary operator is applied to ________ relation(s) and creates an output of ________ relation(s).",text_zh:" ________  ________ ",options:[{key:"a",text_en:"one, two",text_zh:""},{key:"b",text_en:"two, two",text_zh:""},{key:"c",text_en:"one, one",text_zh:""},{key:"d",text_en:"two, one",text_zh:""}],answer:"d",explanation_zh:" Join Union"},{id:"14.11",chapter:"15",number:"15-11",text_en:"The unary ________ operation always results in a relation that has exactly one more row than the original relation.",text_zh:" ________ ",options:[{key:"a",text_en:"delete",text_zh:" (delete)"},{key:"b",text_en:"select",text_zh:" (select)"},{key:"c",text_en:"insert",text_zh:" (insert)"},{key:"d",text_en:"update",text_zh:" (update)"}],answer:"c",explanation_zh:"Insert"},{id:"14.12",chapter:"15",number:"15-12",text_en:"If you want to change the value of an attribute of a tuple, you use the ________ operation.",text_zh:" ________ ",options:[{key:"a",text_en:"join",text_zh:" (join)"},{key:"b",text_en:"select",text_zh:" (select)"},{key:"c",text_en:"project",text_zh:" (project)"},{key:"d",text_en:"update",text_zh:" (update)"}],answer:"d",explanation_zh:"Update"},{id:"14.13",chapter:"15",number:"15-13",text_en:"The operation that takes two relations and combines them based on common attributes is the ________ operation.",text_zh:" ________ ",options:[{key:"a",text_en:"project",text_zh:" (project)"},{key:"b",text_en:"intersection",text_zh:" (intersection)"},{key:"c",text_en:"join",text_zh:" (join)"},{key:"d",text_en:"union",text_zh:" (union)"}],answer:"c",explanation_zh:"Join"},{id:"14.14",chapter:"15",number:"15-14",text_en:"If you need to delete an attribute in a relation, you can use the ________ operation.",text_zh:" ________ ",options:[{key:"a",text_en:"project",text_zh:" (project)"},{key:"b",text_en:"intersection",text_zh:" (intersection)"},{key:"c",text_en:"join",text_zh:" (join)"},{key:"d",text_en:"union",text_zh:" (union)"}],answer:"a",explanation_zh:"Project"},{id:"14.15",chapter:"15",number:"15-15",text_en:"You want to create a relation called New that contains tuples that belong to both relation A and relation B. For this, you can use the ________ operation.",text_zh:" New  A  B  ________ ",options:[{key:"a",text_en:"union",text_zh:" (union)"},{key:"b",text_en:"intersection",text_zh:" (intersection)"},{key:"c",text_en:"select",text_zh:" (select)"},{key:"d",text_en:"project",text_zh:" (project)"}],answer:"b",explanation_zh:"Intersection"},{id:"14.16",chapter:"15",number:"15-16",text_en:"Which of the following is a unary operator?",text_zh:"",options:[{key:"a",text_en:"union",text_zh:" (union)"},{key:"b",text_en:"project",text_zh:" (project)"},{key:"c",text_en:"intersection",text_zh:" (intersection)"},{key:"d",text_en:"join",text_zh:" (join)"}],answer:"b",explanation_zh:"Project"},{id:"14.17",chapter:"15",number:"15-17",text_en:"Which of the following is a binary operator?",text_zh:"",options:[{key:"a",text_en:"select",text_zh:" (select)"},{key:"b",text_en:"update",text_zh:" (update)"},{key:"c",text_en:"difference",text_zh:" (difference)"},{key:"d",text_en:"all of the above",text_zh:""}],answer:"c",explanation_zh:"DifferenceA - B"},{id:"14.18",chapter:"15",number:"15-18",text_en:"________ is a declarative language used on relational databases.",text_zh:"________ ",options:[{key:"a",text_en:"SQL",text_zh:"SQL"},{key:"b",text_en:"PBJ",text_zh:"PBJ"},{key:"c",text_en:"PDQ",text_zh:"PDQ"},{key:"d",text_en:"LES",text_zh:"LES"}],answer:"a",explanation_zh:"SQLStructured Query Language"}],tN=[{id:"15.1",chapter:"16",number:"16-1",text_en:"Data is compressed using a dictionary with indexes to strings. This is ________.",text_zh:" ________",options:[{key:"a",text_en:"lossy coding",text_zh:""},{key:"b",text_en:"Huffman encoding",text_zh:""},{key:"c",text_en:"Lempel Ziv encoding",text_zh:"Lempel Ziv (LZ) "},{key:"d",text_en:"Morse coding",text_zh:""}],answer:"c",explanation_zh:"Lempel Ziv (LZ) "},{id:"15.2",chapter:"16",number:"16-2",text_en:"A string of one hundred 0s is replaced by two markers, a 0, and the number 100. This is ________.",text_zh:" 0  0  100  ________",options:[{key:"a",text_en:"Huffman encoding",text_zh:""},{key:"b",text_en:"Lempel Ziv encoding",text_zh:"Lempel Ziv "},{key:"c",text_en:"run-length encoding",text_zh:" (RLE)"},{key:"d",text_en:"Morse coding",text_zh:""}],answer:"c",explanation_zh:"Run-Length Encoding, RLE"},{id:"15.3",chapter:"16",number:"16-3",text_en:"________ is an example of lossy compression.",text_zh:"________ ",options:[{key:"a",text_en:"Run-length encoding",text_zh:""},{key:"b",text_en:"JPEG",text_zh:"JPEG"},{key:"c",text_en:"Huffman encoding",text_zh:""},{key:"d",text_en:"Lempel Ziv encoding",text_zh:"Lempel Ziv "}],answer:"b",explanation_zh:"JPEG RLEHuffman  LZ "},{id:"15.4",chapter:"16",number:"16-4",text_en:"In a ________ data compression method, the received data is an exact copy of the original message.",text_zh:" ________ ",options:[{key:"a",text_en:"JPEG",text_zh:"JPEG"},{key:"b",text_en:"MPEG",text_zh:"MPEG"},{key:"c",text_en:"lossless",text_zh:" (lossless)"},{key:"d",text_en:"lossy",text_zh:" (lossy)"}],answer:"c",explanation_zh:"Lossless Compression"},{id:"15.5",chapter:"16",number:"16-5",text_en:"________ data compression method, the received data need not be an exact copy of the original message.",text_zh:"________ ",options:[{key:"a",text_en:"Only in MPEG",text_zh:" MPEG "},{key:"b",text_en:"In MP3, JPEG, or MPEG",text_zh:" MP3JPEG  MPEG "},{key:"c",text_en:"Only in MP3",text_zh:" MP3 "},{key:"d",text_en:"Only in JPEG",text_zh:" JPEG "}],answer:"b",explanation_zh:"MP3JPEG MPEG"},{id:"15.6",chapter:"16",number:"16-6",text_en:"________ encoding is a lossless data compression method.",text_zh:"________ ",options:[{key:"a",text_en:"Only LZ",text_zh:" LZ"},{key:"b",text_en:"Huffman, run-length, or LZ",text_zh:" LZ"},{key:"c",text_en:"Only Huffman",text_zh:""},{key:"d",text_en:"Only Run-length",text_zh:""}],answer:"b",explanation_zh:" (RLE)  Lempel Ziv (LZ) "},{id:"15.7",chapter:"16",number:"16-7",text_en:"In ________ encoding, the more frequently occurring characters have shorter codes than the less frequently occurring characters.",text_zh:" ________ ",options:[{key:"a",text_en:"LZ",text_zh:"LZ"},{key:"b",text_en:"JPEG",text_zh:"JPEG"},{key:"c",text_en:"Huffman",text_zh:" (Huffman)"},{key:"d",text_en:"run-length",text_zh:""}],answer:"c",explanation_zh:""},{id:"15.8",chapter:"16",number:"16-8",text_en:"In ________ encoding, PPPPPPPPPPPPPPP can be replaced by P15.",text_zh:" ________ PPPPPPPPPPPPPPP  P15 ",options:[{key:"a",text_en:"LZ",text_zh:"LZ"},{key:"b",text_en:"MPEG",text_zh:"MPEG"},{key:"c",text_en:"Huffman",text_zh:""},{key:"d",text_en:"run-length",text_zh:" (run-length)"}],answer:"d",explanation_zh:" (RLE)  'P'  'P'  '15'"},{id:"15.9",chapter:"16",number:"16-9",text_en:"LZ encoding requires ________.",text_zh:"LZ  ________",options:[{key:"a",text_en:"only an algorithm",text_zh:""},{key:"b",text_en:"a dictionary, a buffer, and an algorithm",text_zh:""},{key:"c",text_en:"only a dictionary",text_zh:""},{key:"d",text_en:"only a buffer",text_zh:""}],answer:"b",explanation_zh:"LZ "},{id:"15.10",chapter:"16",number:"16-10",text_en:"JPEG encoding involves ________, a process that reveals the redundancies in a block.",text_zh:"JPEG  ________",options:[{key:"a",text_en:"quantization",text_zh:""},{key:"b",text_en:"vectorization",text_zh:""},{key:"c",text_en:"blocking",text_zh:""},{key:"d",text_en:"the discrete cosine transform",text_zh:" (DCT)"}],answer:"d",explanation_zh:" (DCT) "},{id:"15.11",chapter:"16",number:"16-11",text_en:"In JPEG encoding, the ________ process breaks the original picture into smaller blocks and assigns a value to each pixel in a block.",text_zh:" JPEG ________ ",options:[{key:"a",text_en:"quantization",text_zh:""},{key:"b",text_en:"vectorization",text_zh:""},{key:"c",text_en:"blocking",text_zh:" (blocking)"},{key:"d",text_en:"DCT",text_zh:"DCT"}],answer:"c",explanation_zh:"Blocking JPEG  8x8 "},{id:"15.12",chapter:"16",number:"16-12",text_en:"The last step in JPEG, ________, removes redundancies.",text_zh:"JPEG ________",options:[{key:"a",text_en:"compression",text_zh:" (compression)"},{key:"b",text_en:"vectorization",text_zh:""},{key:"c",text_en:"blocking",text_zh:""},{key:"d",text_en:"quantization",text_zh:""}],answer:"a",explanation_zh:"JPEG  RLE"},{id:"15.13",chapter:"16",number:"16-13",text_en:"________ is a lossy compression method for pictures and graphics, whereas ________ is a lossy compression method for video.",text_zh:"________  ________ ",options:[{key:"a",text_en:"JPEG, MPEG",text_zh:"JPEG, MPEG"},{key:"b",text_en:"JPEG, DCT",text_zh:"JPEG, DCT"},{key:"c",text_en:"DCT, MPEG",text_zh:"DCT, MPEG"},{key:"d",text_en:"MPEG, JPEG",text_zh:"MPEG, JPEG"}],answer:"a",explanation_zh:"JPEG  MPEG "}],nN=[...jI,...UI,...qI,...HI,...WI,...GI,...VI,...XI,...YI,...KI,...QI,...JI,...ZI,...eN,...tN],aN=[{term:"algorithm",chinese:"",category:"Computer Basics",chapter:"1",importance:3,definition:"The logical steps necessary to solve a problem with a computer.",definition_zh:""},{term:"arithmetic logic unit (ALU)",chinese:"",category:"Computer Basics",chapter:"1",importance:3,definition:"The part of a computer system that performs arithmetic and logic operations on data.",definition_zh:""},{term:"computer language",chinese:"",category:"Computer Basics",chapter:"1",importance:2,definition:"Any of the syntactical languages used to write programs for computers.",definition_zh:""},{term:"control unit",chinese:"",category:"Computer Basics",chapter:"1",importance:3,definition:"The component of a CPU that interprets the instructions and controls the flow of data.",definition_zh:"CPU "},{term:"data processor",chinese:"",category:"Computer Basics",chapter:"1",importance:1,definition:"An entity that inputs data, processes it, and outputs the result.",definition_zh:""},{term:"input data",chinese:"",category:"Computer Basics",chapter:"1",importance:1,definition:"User information that is submitted to a computer to run a program.",definition_zh:""},{term:"input/output subsystem",chinese:"/",category:"Computer Basics",chapter:"1",importance:2,definition:"The part of the computers organization that receives data from the outside and sends data to the outside.",definition_zh:""},{term:"instruction",chinese:"",category:"Computer Basics",chapter:"1",importance:2,definition:"A command that tells a computer what to do.",definition_zh:""},{term:"integrated circuit",chinese:"",category:"Computer Basics",chapter:"1",importance:2,definition:"Transistors, wiring, and other components on a single chip.",definition_zh:""},{term:"logical operation",chinese:"",category:"Computer Basics",chapter:"1",importance:2,definition:"An operation in which the result is a logical value (true or false).",definition_zh:""},{term:"memory",chinese:"",category:"Computer Basics",chapter:"1",importance:3,definition:"The main memory of a computer consisting of RAM and ROM, used to store data and program instructions.",definition_zh:" RAM  ROM "},{term:"microcomputer",chinese:"",category:"Computer Basics",chapter:"1",importance:1,definition:"A computer small enough to fit on a desktop.",definition_zh:""},{term:"operating system",chinese:"",category:"Computer Basics",chapter:"1",importance:3,definition:"The software that controls the computing environment and provides an interface to the user.",definition_zh:""},{term:"output data",chinese:"",category:"Computer Basics",chapter:"1",importance:1,definition:"The results of running a computer program.",definition_zh:""},{term:"program",chinese:"",category:"Computer Basics",chapter:"1",importance:3,definition:"A set of instructions.",definition_zh:""},{term:"software engineering",chinese:"",category:"Computer Basics",chapter:"1",importance:2,definition:"The design and writing of structured programs.",definition_zh:""},{term:"structured program",chinese:"",category:"Computer Basics",chapter:"1",importance:2,definition:"A program written according to the rules of Software Engineering.",definition_zh:""},{term:"Turing machine",chinese:"",category:"Computer Basics",chapter:"1",importance:2,definition:"A computer model with three components (tape, controller, and read/write head).",definition_zh:"/"},{term:"Turing model",chinese:"",category:"Computer Basics",chapter:"1",importance:2,definition:"A computer model based on Alan Turings theoretical definition of a computer.",definition_zh:""},{term:"von Neumann model",chinese:"",category:"Computer Basics",chapter:"1",importance:3,definition:"A computer model (consisting of memory, ALU, control unit, and I/O) upon which the modern computer is based.",definition_zh:"ALU I/O "},{term:"base",chinese:"",category:"Number Systems",chapter:"2",importance:3,definition:"The number of digits used in a numbering system.",definition_zh:""},{term:"binary digit",chinese:"",category:"Number Systems",chapter:"2",importance:3,definition:"The smallest unit of information (0 or 1).",definition_zh:"0  1"},{term:"binary system",chinese:"",category:"Number Systems",chapter:"2",importance:3,definition:"A numbering system that uses two symbols (0 and 1).",definition_zh:"0  1"},{term:"bit",chinese:"",category:"Number Systems",chapter:"2",importance:3,definition:"Acronym for binary digit.",definition_zh:""},{term:"decimal digit",chinese:"",category:"Number Systems",chapter:"2",importance:2,definition:"A symbol in the decimal system (0-9).",definition_zh:" (0-9)"},{term:"decimal system",chinese:"",category:"Number Systems",chapter:"2",importance:3,definition:"A method of representing numbers using ten symbols (0 to 9).",definition_zh:"0  9"},{term:"hexadecimal digit",chinese:"",category:"Number Systems",chapter:"2",importance:2,definition:"A symbol in the hexadecimal system (0-9, A-F).",definition_zh:" (0-9, A-F)"},{term:"hexadecimal system",chinese:"",category:"Number Systems",chapter:"2",importance:3,definition:"A numbering system with base 16.",definition_zh:" 16 "},{term:"hexadecimal",chinese:"",category:"Number Systems",chapter:"2",importance:2,definition:"Pertaining to the number system with base 16.",definition_zh:" 16 "},{term:"integer",chinese:"",category:"Number Systems",chapter:"2",importance:3,definition:"An integral number, a number without a fractional part.",definition_zh:""},{term:"nonpositional number system",chinese:"",category:"Number Systems",chapter:"2",importance:1,definition:"A system where the position of symbols does not define the value.",definition_zh:""},{term:"number system",chinese:"",category:"Number Systems",chapter:"2",importance:2,definition:"A system that uses a set of symbols to define a value.",definition_zh:""},{term:"octal digit",chinese:"",category:"Number Systems",chapter:"2",importance:1,definition:"A digit in base 8 (0-7).",definition_zh:" 8  (0-7)"},{term:"octal system",chinese:"",category:"Number Systems",chapter:"2",importance:2,definition:"A numbering system with a base of 8.",definition_zh:" 8 "},{term:"place value",chinese:"",category:"Number Systems",chapter:"2",importance:3,definition:"The value related to a position in the positional number system.",definition_zh:""},{term:"positional number system",chinese:"",category:"Number Systems",chapter:"2",importance:3,definition:"A system where the position of a symbol defines its value.",definition_zh:""},{term:"radix",chinese:" (Radix)",category:"Number Systems",chapter:"2",importance:2,definition:"The base in a positional number system.",definition_zh:""},{term:"real",chinese:"",category:"Number Systems",chapter:"2",importance:3,definition:"A number with both integral and fractional parts.",definition_zh:""},{term:"Roman number system",chinese:"",category:"Number Systems",chapter:"2",importance:1,definition:"The nonpositional number system used by the Romans.",definition_zh:""},{term:"ANSI",chinese:" (ANSI)",category:"Data Representation",chapter:"3",importance:1,definition:"American National Standards Institute.",definition_zh:""},{term:"ASCII",chinese:"ASCII",category:"Data Representation",chapter:"3",importance:3,definition:"American Standard Code for Information Interchange.",definition_zh:""},{term:"analog",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"A continuously varying entity.",definition_zh:""},{term:"audio",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Recording or transmission of sound or music.",definition_zh:""},{term:"bit depth",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"The number of bits representing a sample.",definition_zh:""},{term:"bitmap graphic",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"A graphic where a combination of pixels defines the image.",definition_zh:""},{term:"bit pattern",chinese:"",category:"Data Representation",chapter:"3",importance:3,definition:"A sequence of bits (0s and 1s).",definition_zh:"0  1"},{term:"bit rate",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"The number of bits transmitted per second.",definition_zh:""},{term:"byte",chinese:"",category:"Data Representation",chapter:"3",importance:3,definition:"A unit of storage, usually 8 bits.",definition_zh:" 8 "},{term:"code",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"A set of bit patterns designed to represent text symbols.",definition_zh:""},{term:"color depth",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"The number of bits used to represent the color of a pixel.",definition_zh:""},{term:"digital",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"A discrete (noncontinuous) entity.",definition_zh:""},{term:"Excess_127",chinese:"Excess_127",category:"Data Representation",chapter:"3",importance:2,definition:"The low-precision IEEE standard for floating-point numbers.",definition_zh:" IEEE "},{term:"Excess_1023",chinese:"Excess_1023",category:"Data Representation",chapter:"3",importance:2,definition:"The high-precision IEEE standard for floating-point numbers.",definition_zh:" IEEE "},{term:"Excess representation",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"A method used to store the exponential value.",definition_zh:""},{term:"floating-point representation",chinese:"",category:"Data Representation",chapter:"3",importance:3,definition:"A number representation where the decimal point position floats.",definition_zh:""},{term:"frames",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Individual images in a video sequence.",definition_zh:""},{term:"GIF",chinese:"GIF",category:"Data Representation",chapter:"3",importance:2,definition:"Graphic Interchange Format.",definition_zh:""},{term:"indexed color",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Uses a portion of True-Color to encode colors (Palette color).",definition_zh:""},{term:"JPEG",chinese:"JPEG",category:"Data Representation",chapter:"3",importance:2,definition:"Joint Photographic Experts Group standard.",definition_zh:""},{term:"mantissa",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"The part of a floating-point number showing significant digits.",definition_zh:""},{term:"MP3",chinese:"MP3",category:"Data Representation",chapter:"3",importance:2,definition:"MPEG audio layer 3.",definition_zh:"MPEG  3"},{term:"MPEG",chinese:"MPEG",category:"Data Representation",chapter:"3",importance:2,definition:"Moving Picture Experts Group.",definition_zh:""},{term:"normalization",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Adjusting a number so its first digit is non-zero.",definition_zh:""},{term:"ones complement",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Reversing the value of bits.",definition_zh:""},{term:"overflow",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"When there are insufficient bits to represent a number.",definition_zh:""},{term:"palette color",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"See indexed color.",definition_zh:""},{term:"picture element",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Pixel.",definition_zh:""},{term:"pixel",chinese:"",category:"Data Representation",chapter:"3",importance:3,definition:"The smallest unit of an image.",definition_zh:""},{term:"quantization",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Assigning a value from a finite set.",definition_zh:""},{term:"raster graphic",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"See bitmap graphic.",definition_zh:""},{term:"resolution",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"The scanning rate in image processing.",definition_zh:""},{term:"RGB",chinese:"RGB",category:"Data Representation",chapter:"3",importance:2,definition:"Red, Green, Blue color system.",definition_zh:""},{term:"sampling",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Taking measurements at equal intervals.",definition_zh:""},{term:"sampling rate",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Number of samples per second.",definition_zh:""},{term:"scanning",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Converting image to digital data by sampling.",definition_zh:""},{term:"scientific notation",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Representation with one digit to left of decimal point.",definition_zh:""},{term:"sign-and-magnitude",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Integer representation with a sign bit and magnitude bits.",definition_zh:""},{term:"text",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Data stored as characters.",definition_zh:""},{term:"text editor",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Software to create text files.",definition_zh:""},{term:"True-Color",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Uses 24 bits to represent a color.",definition_zh:" 24 "},{term:"truncation error",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Error when storing number in floating-point.",definition_zh:""},{term:"twos complement",chinese:"",category:"Data Representation",chapter:"3",importance:3,definition:"Most common integer representation.",definition_zh:""},{term:"underflow",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Number too small to represent.",definition_zh:""},{term:"Unicode",chinese:"",category:"Data Representation",chapter:"3",importance:3,definition:"32-bit code representing symbols of most languages.",definition_zh:" 32 "},{term:"unsigned integer",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Integer without sign (0 to positive infinity).",definition_zh:"0 "},{term:"vector graphic",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Images defined using mathematical formulas.",definition_zh:""},{term:"video",chinese:"",category:"Data Representation",chapter:"3",importance:2,definition:"Representation of images in time.",definition_zh:""},{term:"AND",chinese:"",category:"Data Operations",chapter:"4",importance:3,definition:"Logic operation: 1 only if both inputs are 1.",definition_zh:" 1  1"},{term:"arithmetic operation",chinese:"",category:"Data Operations",chapter:"4",importance:3,definition:"Operations like add, subtract, multiply, divide.",definition_zh:""},{term:"arithmetic shift",chinese:"",category:"Data Operations",chapter:"4",importance:2,definition:"Shift preserving the sign.",definition_zh:""},{term:"Boolean algebra",chinese:"",category:"Data Operations",chapter:"4",importance:2,definition:"Algebra for binary values.",definition_zh:""},{term:"circular shift",chinese:"",category:"Data Operations",chapter:"4",importance:2,definition:"Shift where bits are rotated.",definition_zh:""},{term:"logical shift",chinese:"",category:"Data Operations",chapter:"4",importance:2,definition:"Shift where sign is not preserved.",definition_zh:""},{term:"mask",chinese:"",category:"Data Operations",chapter:"4",importance:2,definition:"Pattern used to modify another bit pattern.",definition_zh:""},{term:"NOT",chinese:"",category:"Data Operations",chapter:"4",importance:3,definition:"Logic operation: inverts bits.",definition_zh:""},{term:"OR",chinese:"",category:"Data Operations",chapter:"4",importance:3,definition:"Logic operation: 0 only if both inputs are 0.",definition_zh:" 0  0"},{term:"truth table",chinese:"",category:"Data Operations",chapter:"4",importance:2,definition:"Table listing output for all input combinations.",definition_zh:""},{term:"XOR",chinese:"",category:"Data Operations",chapter:"4",importance:3,definition:"Logic operation: 1 if inputs are different.",definition_zh:" 1"},{term:"address bus",chinese:"",category:"Computer Architecture",chapter:"5",importance:2,definition:"Carries address information.",definition_zh:""},{term:"address space",chinese:"",category:"Computer Architecture",chapter:"5",importance:2,definition:"Total number of uniquely identifiable locations in memory.",definition_zh:""},{term:"ALU",chinese:" (ALU)",category:"Computer Architecture",chapter:"5",importance:3,definition:"See Arithmetic Logic Unit.",definition_zh:""},{term:"bus",chinese:"",category:"Computer Architecture",chapter:"5",importance:2,definition:"Physical channel linking hardware components.",definition_zh:""},{term:"cache memory",chinese:"",category:"Computer Architecture",chapter:"5",importance:3,definition:"Fast memory between CPU and main memory.",definition_zh:"CPU "},{term:"CPU",chinese:" (CPU)",category:"Computer Architecture",chapter:"5",importance:3,definition:"Central Processing Unit.",definition_zh:""},{term:"CISC",chinese:" (CISC)",category:"Computer Architecture",chapter:"5",importance:2,definition:"Complex Instruction Set Computer.",definition_zh:""},{term:"control bus",chinese:"",category:"Computer Architecture",chapter:"5",importance:2,definition:"Carries control signals.",definition_zh:""},{term:"data bus",chinese:"",category:"Computer Architecture",chapter:"5",importance:2,definition:"Carries data.",definition_zh:""},{term:"DMA",chinese:" (DMA)",category:"Computer Architecture",chapter:"5",importance:2,definition:"Direct Memory Access.",definition_zh:""},{term:"DRAM",chinese:" (DRAM)",category:"Computer Architecture",chapter:"5",importance:2,definition:"Dynamic RAM, needs refreshing.",definition_zh:" RAM"},{term:"EEPROM",chinese:" (EEPROM)",category:"Computer Architecture",chapter:"5",importance:2,definition:"Electrically Erasable PROM.",definition_zh:" PROM"},{term:"EPROM",chinese:" (EPROM)",category:"Computer Architecture",chapter:"5",importance:2,definition:"Erasable PROM.",definition_zh:" PROM"},{term:"FireWire",chinese:"",category:"Computer Architecture",chapter:"5",importance:2,definition:"High-speed serial interface.",definition_zh:""},{term:"HDMI",chinese:" (HDMI)",category:"Computer Architecture",chapter:"5",importance:2,definition:"High-Definition Multimedia Interface.",definition_zh:""},{term:"I/O controller",chinese:"/",category:"Computer Architecture",chapter:"5",importance:2,definition:"Controls I/O devices.",definition_zh:" I/O "},{term:"instruction register",chinese:"",category:"Computer Architecture",chapter:"5",importance:3,definition:"Holds the current instruction.",definition_zh:""},{term:"interrupt-driven I/O",chinese:" I/O",category:"Computer Architecture",chapter:"5",importance:2,definition:"I/O where device interrupts CPU when ready.",definition_zh:" CPU  I/O"},{term:"machine cycle",chinese:"",category:"Computer Architecture",chapter:"5",importance:3,definition:"Fetch-Decode-Execute cycle.",definition_zh:"--"},{term:"magnetic disk",chinese:"",category:"Computer Architecture",chapter:"5",importance:2,definition:"Random access storage medium.",definition_zh:""},{term:"main memory",chinese:"",category:"Computer Architecture",chapter:"5",importance:3,definition:"Primary memory (RAM).",definition_zh:" (RAM)"},{term:"memory-mapped I/O",chinese:" I/O",category:"Computer Architecture",chapter:"5",importance:2,definition:"I/O devices mapped to memory addresses.",definition_zh:" I/O "},{term:"parallel processing",chinese:"",category:"Computer Architecture",chapter:"5",importance:2,definition:"Using multiple processors.",definition_zh:""},{term:"pipelining",chinese:"",category:"Computer Architecture",chapter:"5",importance:2,definition:"Overlapping instruction execution phases.",definition_zh:""},{term:"program counter",chinese:"",category:"Computer Architecture",chapter:"5",importance:3,definition:"Holds address of next instruction.",definition_zh:""},{term:"programmed I/O",chinese:" I/O",category:"Computer Architecture",chapter:"5",importance:2,definition:"CPU waits for I/O completion.",definition_zh:"CPU  I/O "},{term:"PROM",chinese:" (PROM)",category:"Computer Architecture",chapter:"5",importance:2,definition:"Programmable ROM.",definition_zh:" ROM"},{term:"RAM",chinese:" (RAM)",category:"Computer Architecture",chapter:"5",importance:3,definition:"Random Access Memory.",definition_zh:""},{term:"RISC",chinese:" (RISC)",category:"Computer Architecture",chapter:"5",importance:2,definition:"Reduced Instruction Set Computer.",definition_zh:""},{term:"register",chinese:"",category:"Computer Architecture",chapter:"5",importance:3,definition:"Fast storage in CPU.",definition_zh:"CPU "},{term:"ROM",chinese:" (ROM)",category:"Computer Architecture",chapter:"5",importance:3,definition:"Read-Only Memory.",definition_zh:""},{term:"SRAM",chinese:" (SRAM)",category:"Computer Architecture",chapter:"5",importance:2,definition:"Static RAM, faster than DRAM.",definition_zh:" RAM DRAM "},{term:"USB",chinese:" (USB)",category:"Computer Architecture",chapter:"5",importance:2,definition:"Universal Serial Bus.",definition_zh:""},{term:"application layer",chinese:"",category:"Networking",chapter:"6",importance:3,definition:"Layer providing services to user.",definition_zh:""},{term:"Bluetooth",chinese:"",category:"Networking",chapter:"6",importance:2,definition:"Wireless LAN technology for short distances.",definition_zh:" LAN "},{term:"client-server",chinese:"",category:"Networking",chapter:"6",importance:3,definition:"Paradigm where client requests and server provides.",definition_zh:""},{term:"data-link layer",chinese:"",category:"Networking",chapter:"6",importance:3,definition:"Layer for node-to-node delivery.",definition_zh:""},{term:"DNS",chinese:" (DNS)",category:"Networking",chapter:"6",importance:3,definition:"Domain Name System.",definition_zh:""},{term:"DSL",chinese:" (DSL)",category:"Networking",chapter:"6",importance:2,definition:"Digital Subscriber Line.",definition_zh:""},{term:"Ethernet",chinese:"",category:"Networking",chapter:"6",importance:3,definition:"Common wired LAN protocol.",definition_zh:" LAN "},{term:"FTP",chinese:" (FTP)",category:"Networking",chapter:"6",importance:2,definition:"File Transfer Protocol.",definition_zh:""},{term:"gateway",chinese:"",category:"Networking",chapter:"6",importance:2,definition:"Connecting device between networks.",definition_zh:""},{term:"HTML",chinese:" (HTML)",category:"Networking",chapter:"6",importance:3,definition:"Hypertext Markup Language.",definition_zh:""},{term:"HTTP",chinese:" (HTTP)",category:"Networking",chapter:"6",importance:3,definition:"Hypertext Transfer Protocol.",definition_zh:""},{term:"internet",chinese:"",category:"Networking",chapter:"6",importance:2,definition:"Interconnected networks.",definition_zh:""},{term:"Internet",chinese:"",category:"Networking",chapter:"6",importance:3,definition:"Global network using TCP/IP.",definition_zh:" TCP/IP "},{term:"IP",chinese:" (IP)",category:"Networking",chapter:"6",importance:3,definition:"Internet Protocol.",definition_zh:""},{term:"IP address",chinese:"IP ",category:"Networking",chapter:"6",importance:3,definition:"Identifier for a device on the Internet.",definition_zh:""},{term:"ISP",chinese:" (ISP)",category:"Networking",chapter:"6",importance:2,definition:"Internet Service Provider.",definition_zh:""},{term:"LAN",chinese:" (LAN)",category:"Networking",chapter:"6",importance:3,definition:"Local Area Network.",definition_zh:""},{term:"modem",chinese:"",category:"Networking",chapter:"6",importance:2,definition:"Modulator/Demodulator.",definition_zh:"/"},{term:"network layer",chinese:"",category:"Networking",chapter:"6",importance:3,definition:"Layer for host-to-host delivery.",definition_zh:""},{term:"packet",chinese:"",category:"Networking",chapter:"6",importance:3,definition:"Data unit in network layer.",definition_zh:""},{term:"P2P",chinese:" (P2P)",category:"Networking",chapter:"6",importance:2,definition:"Peer-to-Peer paradigm.",definition_zh:""},{term:"physical layer",chinese:"",category:"Networking",chapter:"6",importance:3,definition:"Layer for bit transmission.",definition_zh:""},{term:"protocol",chinese:"",category:"Networking",chapter:"6",importance:3,definition:"Rules for communication.",definition_zh:""},{term:"router",chinese:"",category:"Networking",chapter:"6",importance:3,definition:"Device connecting networks.",definition_zh:""},{term:"switch",chinese:"",category:"Networking",chapter:"6",importance:2,definition:"Device connecting devices in a network.",definition_zh:""},{term:"TCP",chinese:" (TCP)",category:"Networking",chapter:"6",importance:3,definition:"Transmission Control Protocol (reliable).",definition_zh:""},{term:"TCP/IP",chinese:"TCP/IP ",category:"Networking",chapter:"6",importance:3,definition:"Protocol suite of the Internet.",definition_zh:""},{term:"transport layer",chinese:"",category:"Networking",chapter:"6",importance:3,definition:"Layer for process-to-process delivery.",definition_zh:""},{term:"UDP",chinese:" (UDP)",category:"Networking",chapter:"6",importance:2,definition:"User Datagram Protocol (unreliable).",definition_zh:""},{term:"URL",chinese:" (URL)",category:"Networking",chapter:"6",importance:3,definition:"Uniform Resource Locator.",definition_zh:""},{term:"WAN",chinese:" (WAN)",category:"Networking",chapter:"6",importance:3,definition:"Wide Area Network.",definition_zh:""},{term:"WiMax",chinese:"WiMax",category:"Networking",chapter:"6",importance:2,definition:"Worldwide Interoperability for Microwave Access.",definition_zh:""},{term:"WWW",chinese:" (WWW)",category:"Networking",chapter:"6",importance:3,definition:"World Wide Web.",definition_zh:""},{term:"batch operating system",chinese:"",category:"Operating Systems",chapter:"7",importance:2,definition:"OS where jobs are grouped.",definition_zh:""},{term:"bootstrap",chinese:"",category:"Operating Systems",chapter:"7",importance:2,definition:"Loading OS into memory.",definition_zh:""},{term:"deadlock",chinese:"",category:"Operating Systems",chapter:"7",importance:3,definition:"Situation where processes block each other.",definition_zh:""},{term:"demand paging",chinese:"",category:"Operating Systems",chapter:"7",importance:2,definition:"Loading pages only when needed.",definition_zh:""},{term:"device manager",chinese:"",category:"Operating Systems",chapter:"7",importance:2,definition:"Manages I/O devices.",definition_zh:" I/O "},{term:"distributed system",chinese:"",category:"Operating Systems",chapter:"7",importance:2,definition:"OS managing resources over a network.",definition_zh:""},{term:"GUI",chinese:" (GUI)",category:"Operating Systems",chapter:"7",importance:2,definition:"Graphical User Interface.",definition_zh:""},{term:"kernel",chinese:"",category:"Operating Systems",chapter:"7",importance:3,definition:"Core of the OS.",definition_zh:""},{term:"Linux",chinese:"Linux",category:"Operating Systems",chapter:"7",importance:3,definition:"Open source UNIX-like OS.",definition_zh:" UNIX "},{term:"memory management",chinese:"",category:"Operating Systems",chapter:"7",importance:3,definition:"Managing main memory.",definition_zh:""},{term:"multiprogramming",chinese:"",category:"Operating Systems",chapter:"7",importance:2,definition:"Multiple programs in memory.",definition_zh:""},{term:"paging",chinese:"",category:"Operating Systems",chapter:"7",importance:2,definition:"Dividing memory into frames and programs into pages.",definition_zh:""},{term:"partitioning",chinese:"",category:"Operating Systems",chapter:"7",importance:2,definition:"Dividing memory into sections.",definition_zh:""},{term:"process",chinese:"",category:"Operating Systems",chapter:"7",importance:3,definition:"A program in execution.",definition_zh:""},{term:"process manager",chinese:"",category:"Operating Systems",chapter:"7",importance:2,definition:"Manages CPU time and processes.",definition_zh:" CPU "},{term:"queue",chinese:"",category:"Operating Systems",chapter:"7",importance:2,definition:"Waiting list for resources.",definition_zh:""},{term:"real-time system",chinese:"",category:"Operating Systems",chapter:"7",importance:2,definition:"OS with time constraints.",definition_zh:""},{term:"scheduler",chinese:"",category:"Operating Systems",chapter:"7",importance:2,definition:"Program scheduling jobs/processes.",definition_zh:"/"},{term:"starvation",chinese:"",category:"Operating Systems",chapter:"7",importance:2,definition:"Process waiting indefinitely for resources.",definition_zh:""},{term:"time sharing",chinese:"",category:"Operating Systems",chapter:"7",importance:2,definition:"Sharing CPU time among users.",definition_zh:" CPU "},{term:"UNIX",chinese:"UNIX",category:"Operating Systems",chapter:"7",importance:3,definition:"A powerful multitasking OS.",definition_zh:" OS"},{term:"virtual memory",chinese:"",category:"Operating Systems",chapter:"7",importance:3,definition:"Using disk to extend memory.",definition_zh:""},{term:"Windows",chinese:"Windows",category:"Operating Systems",chapter:"7",importance:3,definition:"OS by Microsoft.",definition_zh:" OS"},{term:"binary search",chinese:"",category:"Algorithms",chapter:"8",importance:3,definition:"Searching sorted list by dividing in half.",definition_zh:""},{term:"bubble sort",chinese:"",category:"Algorithms",chapter:"8",importance:2,definition:"Sorting by swapping adjacent elements.",definition_zh:""},{term:"decision",chinese:"",category:"Algorithms",chapter:"8",importance:2,definition:"Selection construct (if-else).",definition_zh:" (if-else)"},{term:"insertion sort",chinese:"",category:"Algorithms",chapter:"8",importance:2,definition:"Sorting by inserting element into sorted sublist.",definition_zh:""},{term:"loop",chinese:"",category:"Algorithms",chapter:"8",importance:2,definition:"Repetition construct.",definition_zh:""},{term:"product",chinese:"",category:"Algorithms",chapter:"8",importance:1,definition:"Result of multiplication.",definition_zh:""},{term:"pseudocode",chinese:"",category:"Algorithms",chapter:"8",importance:2,definition:"English-like representation of algorithm.",definition_zh:""},{term:"recursion",chinese:"",category:"Algorithms",chapter:"8",importance:3,definition:"Algorithm calling itself.",definition_zh:""},{term:"repetition",chinese:"",category:"Algorithms",chapter:"8",importance:2,definition:"Loop construct.",definition_zh:""},{term:"searching",chinese:"",category:"Algorithms",chapter:"8",importance:3,definition:"Finding location of a target.",definition_zh:""},{term:"selection",chinese:"",category:"Algorithms",chapter:"8",importance:2,definition:"Decision construct.",definition_zh:""},{term:"selection sort",chinese:"",category:"Algorithms",chapter:"8",importance:2,definition:"Sorting by selecting smallest/largest element.",definition_zh:"/"},{term:"sequence",chinese:"",category:"Algorithms",chapter:"8",importance:2,definition:"Instructions executed one after another.",definition_zh:""},{term:"sequential search",chinese:"",category:"Algorithms",chapter:"8",importance:2,definition:"Searching element by element.",definition_zh:""},{term:"sorting",chinese:"",category:"Algorithms",chapter:"8",importance:3,definition:"Arranging data in order.",definition_zh:""},{term:"subalgorithm",chinese:"",category:"Algorithms",chapter:"8",importance:2,definition:"A smaller algorithm used by a main one.",definition_zh:""},{term:"summation",chinese:"",category:"Algorithms",chapter:"8",importance:1,definition:"Adding a list of numbers.",definition_zh:""},{term:"UML",chinese:" (UML)",category:"Algorithms",chapter:"8",importance:2,definition:"Unified Modeling Language.",definition_zh:""},{term:"assembler",chinese:"",category:"Programming Languages",chapter:"10",importance:2,definition:"Translates assembly to machine language.",definition_zh:""},{term:"assembly language",chinese:"",category:"Programming Languages",chapter:"10",importance:2,definition:"Symbolic low-level language.",definition_zh:""},{term:"C language",chinese:"C ",category:"Programming Languages",chapter:"10",importance:2,definition:"A procedural high-level language.",definition_zh:""},{term:"C++",chinese:"C++",category:"Programming Languages",chapter:"10",importance:2,definition:"An object-oriented language based on C.",definition_zh:" C "},{term:"compiler",chinese:"",category:"Programming Languages",chapter:"10",importance:3,definition:"Translates high-level source code to object code.",definition_zh:""},{term:"declarative paradigm",chinese:"",category:"Programming Languages",chapter:"10",importance:2,definition:"Paradigm based on logic/what to solve.",definition_zh:"/"},{term:"functional paradigm",chinese:"",category:"Programming Languages",chapter:"10",importance:2,definition:"Paradigm based on mathematical functions.",definition_zh:""},{term:"high-level language",chinese:"",category:"Programming Languages",chapter:"10",importance:3,definition:"Portable language close to human language.",definition_zh:""},{term:"imperative paradigm",chinese:"",category:"Programming Languages",chapter:"10",importance:2,definition:"Procedural paradigm.",definition_zh:""},{term:"inheritance",chinese:"",category:"Programming Languages",chapter:"10",importance:2,definition:"Acquiring properties from a parent class.",definition_zh:""},{term:"interpreter",chinese:"",category:"Programming Languages",chapter:"10",importance:3,definition:"Translates and executes code line by line.",definition_zh:""},{term:"Java",chinese:"Java",category:"Programming Languages",chapter:"10",importance:3,definition:"A popular object-oriented language.",definition_zh:""},{term:"machine language",chinese:"",category:"Programming Languages",chapter:"10",importance:3,definition:"Binary code understood by CPU.",definition_zh:"CPU "},{term:"method",chinese:"",category:"Programming Languages",chapter:"10",importance:2,definition:"Function in an object.",definition_zh:""},{term:"object-oriented paradigm",chinese:"",category:"Programming Languages",chapter:"10",importance:3,definition:"Paradigm based on objects and classes.",definition_zh:""},{term:"polymorphism",chinese:"",category:"Programming Languages",chapter:"10",importance:2,definition:"Ability to take multiple forms.",definition_zh:""},{term:"procedural paradigm",chinese:"",category:"Programming Languages",chapter:"10",importance:2,definition:"Paradigm based on procedure calls.",definition_zh:""},{term:"source program",chinese:"",category:"Programming Languages",chapter:"10",importance:2,definition:"Program written in high-level language.",definition_zh:""},{term:"analysis phase",chinese:"",category:"Software Engineering",chapter:"11",importance:2,definition:"Defining requirements.",definition_zh:""},{term:"black-box testing",chinese:"",category:"Software Engineering",chapter:"11",importance:2,definition:"Testing without knowing internal structure.",definition_zh:""},{term:"coupling",chinese:"",category:"Software Engineering",chapter:"11",importance:2,definition:"Dependency between modules.",definition_zh:""},{term:"cohesion",chinese:"",category:"Software Engineering",chapter:"11",importance:2,definition:"Strength of relationship within a module.",definition_zh:""},{term:"design phase",chinese:"",category:"Software Engineering",chapter:"11",importance:2,definition:"Defining how to build the system.",definition_zh:""},{term:"glass-box testing",chinese:"",category:"Software Engineering",chapter:"11",importance:2,definition:"White-box testing; knowing internals.",definition_zh:""},{term:"implementation phase",chinese:"",category:"Software Engineering",chapter:"11",importance:2,definition:"Writing the code.",definition_zh:""},{term:"incremental model",chinese:"",category:"Software Engineering",chapter:"11",importance:2,definition:"Development in steps.",definition_zh:""},{term:"modularity",chinese:"",category:"Software Engineering",chapter:"11",importance:2,definition:"Breaking system into modules.",definition_zh:""},{term:"software engineering",chinese:"",category:"Software Engineering",chapter:"11",importance:3,definition:"Engineering approach to software development.",definition_zh:""},{term:"software lifecycle",chinese:"",category:"Software Engineering",chapter:"11",importance:3,definition:"Phases a software goes through.",definition_zh:""},{term:"testing phase",chinese:"",category:"Software Engineering",chapter:"11",importance:2,definition:"Finding errors in software.",definition_zh:""},{term:"waterfall model",chinese:"",category:"Software Engineering",chapter:"11",importance:2,definition:"Sequential development model.",definition_zh:""},{term:"array",chinese:"",category:"Data Structures",chapter:"12",importance:3,definition:"Sequenced collection of same type elements.",definition_zh:""},{term:"index",chinese:"",category:"Data Structures",chapter:"12",importance:2,definition:"Position of element in array.",definition_zh:""},{term:"linked list",chinese:"",category:"Data Structures",chapter:"12",importance:3,definition:"Collection of nodes with data and links.",definition_zh:""},{term:"node",chinese:"",category:"Data Structures",chapter:"12",importance:2,definition:"Element in a linked list or tree.",definition_zh:""},{term:"pointer",chinese:"",category:"Data Structures",chapter:"12",importance:2,definition:"Variable holding an address.",definition_zh:""},{term:"record",chinese:" (Record)",category:"Data Structures",chapter:"12",importance:2,definition:"Collection of related fields.",definition_zh:""},{term:"ADT",chinese:" (ADT)",category:"Abstract Data Types",chapter:"13",importance:3,definition:"Abstract Data Type.",definition_zh:""},{term:"binary search tree",chinese:" (BST)",category:"Abstract Data Types",chapter:"13",importance:3,definition:"Ordered binary tree.",definition_zh:""},{term:"binary tree",chinese:"",category:"Abstract Data Types",chapter:"13",importance:3,definition:"Tree with at most 2 children per node.",definition_zh:" 2 "},{term:"graph",chinese:"",category:"Abstract Data Types",chapter:"13",importance:3,definition:"Set of vertices and edges.",definition_zh:""},{term:"queue",chinese:"",category:"Abstract Data Types",chapter:"13",importance:3,definition:"FIFO structure.",definition_zh:""},{term:"stack",chinese:"",category:"Abstract Data Types",chapter:"13",importance:3,definition:"LIFO structure.",definition_zh:""},{term:"tree",chinese:" (Tree)",category:"Abstract Data Types",chapter:"13",importance:2,definition:"Hierarchical structure.",definition_zh:""},{term:"collision",chinese:"",category:"File Structures",chapter:"14",importance:2,definition:"Hashing to an occupied address.",definition_zh:""},{term:"directory",chinese:"",category:"File Structures",chapter:"14",importance:2,definition:"File containing info about other files.",definition_zh:""},{term:"hashing",chinese:"",category:"File Structures",chapter:"14",importance:2,definition:"Mapping key to address.",definition_zh:""},{term:"indexed file",chinese:"",category:"File Structures",chapter:"14",importance:2,definition:"File accessed via index.",definition_zh:""},{term:"random access",chinese:"",category:"File Structures",chapter:"14",importance:2,definition:"Accessing any record directly.",definition_zh:""},{term:"sequential access",chinese:"",category:"File Structures",chapter:"14",importance:2,definition:"Accessing records one by one.",definition_zh:""},{term:"sequential file",chinese:"",category:"File Structures",chapter:"14",importance:2,definition:"Records stored one after another.",definition_zh:""},{term:"text file",chinese:"",category:"File Structures",chapter:"14",importance:2,definition:"File of characters.",definition_zh:""},{term:"binary file",chinese:"",category:"File Structures",chapter:"14",importance:2,definition:"File stored in computer format.",definition_zh:""},{term:"cardinality",chinese:" (Cardinality)",category:"Databases",chapter:"15",importance:2,definition:"Total number of rows in a relation.",definition_zh:""},{term:"database",chinese:"",category:"Databases",chapter:"15",importance:3,definition:"Collection of related data.",definition_zh:""},{term:"DBMS",chinese:" (DBMS)",category:"Databases",chapter:"15",importance:3,definition:"Database Management System.",definition_zh:""},{term:"ERM",chinese:" (ERM)",category:"Databases",chapter:"15",importance:2,definition:"Entity-Relationship Model.",definition_zh:""},{term:"normalization",chinese:"",category:"Databases",chapter:"15",importance:2,definition:"Restructuring relations to minimize redundancy.",definition_zh:""},{term:"relation",chinese:"",category:"Databases",chapter:"15",importance:2,definition:"Table in relational DB.",definition_zh:""},{term:"relational model",chinese:"",category:"Databases",chapter:"15",importance:3,definition:"Data organized in tables.",definition_zh:""},{term:"SQL",chinese:"SQL",category:"Databases",chapter:"15",importance:3,definition:"Structured Query Language.",definition_zh:""},{term:"data compression",chinese:"",category:"Data Compression",chapter:"16",importance:3,definition:"Reducing data size.",definition_zh:""},{term:"Huffman coding",chinese:"",category:"Data Compression",chapter:"16",importance:2,definition:"Statistical compression method.",definition_zh:""},{term:"Lempel Ziv",chinese:"Lempel Ziv (LZ)",category:"Data Compression",chapter:"16",importance:2,definition:"Dictionary-based compression.",definition_zh:""},{term:"lossless",chinese:"",category:"Data Compression",chapter:"16",importance:2,definition:"No data lost.",definition_zh:""},{term:"lossy",chinese:"",category:"Data Compression",chapter:"16",importance:2,definition:"Some data lost.",definition_zh:""},{term:"run-length encoding",chinese:"",category:"Data Compression",chapter:"16",importance:2,definition:"Simple compression for repeated data.",definition_zh:""},{term:"availability",chinese:"",category:"Security",chapter:"17",importance:2,definition:"Data is accessible.",definition_zh:""},{term:"confidentiality",chinese:"",category:"Security",chapter:"17",importance:2,definition:"Data is hidden.",definition_zh:""},{term:"cryptography",chinese:"",category:"Security",chapter:"17",importance:3,definition:"Science of secret writing.",definition_zh:""},{term:"digital signature",chinese:"",category:"Security",chapter:"17",importance:2,definition:"Authentication of sender.",definition_zh:""},{term:"firewall",chinese:"",category:"Security",chapter:"17",importance:3,definition:"Network security device.",definition_zh:""},{term:"integrity",chinese:"",category:"Security",chapter:"17",importance:2,definition:"Data is accurate.",definition_zh:""},{term:"message digest",chinese:"",category:"Security",chapter:"17",importance:2,definition:"Fixed-size hash of message.",definition_zh:""},{term:"public key",chinese:"",category:"Security",chapter:"17",importance:2,definition:"Key shared with everyone.",definition_zh:""},{term:"private key",chinese:"",category:"Security",chapter:"17",importance:2,definition:"Key kept secret.",definition_zh:""},{term:"RSA",chinese:"RSA",category:"Security",chapter:"17",importance:2,definition:"Public-key cryptosystem.",definition_zh:""},{term:"symmetric-key",chinese:"",category:"Security",chapter:"17",importance:2,definition:"Same key for enc/dec.",definition_zh:"/"},{term:"big-O notation",chinese:" O ",category:"Theory of Computation",chapter:"18",importance:2,definition:"Complexity measure.",definition_zh:""},{term:"halting problem",chinese:"",category:"Theory of Computation",chapter:"18",importance:3,definition:"Determining if a program stops.",definition_zh:""},{term:"solvable problem",chinese:"",category:"Theory of Computation",chapter:"18",importance:2,definition:"Problem with an algorithmic solution.",definition_zh:""},{term:"AI",chinese:" (AI)",category:"Artificial Intelligence",chapter:"20",importance:3,definition:"Artificial Intelligence.",definition_zh:""},{term:"expert system",chinese:"",category:"Artificial Intelligence",chapter:"20",importance:2,definition:"System simulating human expert.",definition_zh:""},{term:"neural network",chinese:"",category:"Artificial Intelligence",chapter:"20",importance:2,definition:"Network simulating brain neurons.",definition_zh:""},{term:"Turing test",chinese:"",category:"Artificial Intelligence",chapter:"20",importance:2,definition:"Test for intelligence.",definition_zh:""},{term:"social media",chinese:"",category:"Social Media",chapter:"21",importance:3,definition:"Online communities.",definition_zh:""},{term:"Facebook",chinese:"Facebook",category:"Social Media",chapter:"21",importance:2,definition:"Social networking site.",definition_zh:""},{term:"Twitter",chinese:"Twitter",category:"Social Media",chapter:"21",importance:2,definition:"Microblogging site.",definition_zh:""},{term:"copyright",chinese:"",category:"Social & Ethical Issues",chapter:"22",importance:2,definition:"Rights to creative work.",definition_zh:""},{term:"ethics",chinese:"",category:"Social & Ethical Issues",chapter:"22",importance:3,definition:"Moral principles.",definition_zh:""},{term:"hacker",chinese:"",category:"Social & Ethical Issues",chapter:"22",importance:2,definition:"Someone who exploits systems.",definition_zh:""},{term:"privacy",chinese:"",category:"Social & Ethical Issues",chapter:"22",importance:3,definition:"Right to keep info secret.",definition_zh:""},{term:"virus",chinese:"",category:"Social & Ethical Issues",chapter:"22",importance:2,definition:"Self-replicating malware.",definition_zh:""}],iN={en:`
# Preface

Computers play a large part in our everyday lives and will continue to do so in the future. Computer science is a young discipline that is evolving and progressing. Computer networks have connected people from far-flung points of the globe. Virtual reality is creating three-dimensional images that amaze the eyes. Space exploration owes part of its success to computers. Computer-generated special effects have changed the movie industry. Computers have played important roles in genetics.

## Audience
This book is written for both academic and professional audience. The book can be used as a self-study guide for interested professionals. As a textbook, it can be used for a one-semester or one-quarter course. It is designed as the first course in computer science. This book is designed for a CS0 course based on the recommendations of the Association of Computing Machinery (ACM). It covers all areas of computer science in breadth. The book, totally or partially, can also be used in other disciplines where the students need to have a birds-eye view approach to the computer science.

## Changes in the fourth edition
I have made several categories of changes in this edition.

### Revised chapters and appendices
Minor changes have been made to almost all the chapters. Two new chapters have been added (Chapters 19 and 20). Some materials have been removed from Chapter 4, expanded and inserted as two new appendices (Appendices I and J).

### Organization
The book is made of 20 chapters and 10 appendices.

## Chapters
Chapters are intended to provide the basic materials. However, not all chapters are needed for every audience. The professor who teaches the course can decide which chapters to use. We give guidance below.

## Appendices
The appendices are intended to provide a quick reference or review of materials needed to understand the concepts discussed in the book. There are ten appendices that can be used by the students for reference and study.

## Acronyms
The book contains a list of acronyms for finding the corresponding terms quickly.

## Glossary
The book contains an extensive glossary giving full explanations of the terms used in the book.

## Pedagogy
Several pedagogical features of this text are designed to make it particularly easy for students to understand the materials.

### Visual approach
The book presents highly technical subject matter without complex formulas by using a balance of text and figures. More than 400 figures accompanying the text provide a visual and intuitive opportunity for understanding the material. Figures are particularly important in explaining the relationship between components of a whole. For many students, these concepts are more easily grasped visually than verbally.

### Highlighted points
I have repeated important concepts in boxes for quick reference and immediate attention.

### Examples and applications
Whenever appropriate, I have included examples that illustrate the concepts introduced in the text.

### Algorithms
The inclusion of algorithms in the text helps students with problem solving and programming.

## Unified Modeling Language (UML)
Throughout the book I have used UML diagrams to make students familiar with this tool, which is becoming the de facto standard in the industry.

## End-of-chapter materials
Each chapter ends with a set of materials that includes the following:

### Recommended reading
This section gives a brief list of references relative to the chapter. The references can be used to quickly find the corresponding literature.

### Key terms
The new terms used in each chapter are listed at the end of the chapter and their definitions are included in the glossary.

### Summary
Each chapter ends with a summary of the material covered by that chapter. The summary consolidates the important learning points in one place for ease of access by students.

### Practice set
Each chapter includes a practice set designed to reinforce salient concepts and encourage students to apply them. It consists of three parts: quizzes, questions, and problems.

*   **Quizzes**: Quizzes, which are posted on the book website, provide quick concept checking. Students can take these quizzes to check their understanding of the materials. The feedback to the students responses is given immediately.
*   **Questions**: This section contains simple questions about the concepts discussed in the book. Answers to the odd-numbered questions are posted on the book website to be checked by the student.
*   **Problems**: This section contains more difficult problems that need a deeper understanding of the materials discussed in the chapter. I strongly recommend that the student trys to solve all of these problems. Answers to the odd-numbered problems are also posted on the book website to be checked by the student.

## How to use the book
The chapters in the book are organized to provide a great deal of flexibility. I suggest the following:
*   Materials provided in Chapters 1 to 8 are essential to understand the rest of the book.
*   Materials provided in Chapters 9 to 14 can be taught if the time allows. They can be skipped in a quarter system.
*   Chapters 15 to 20 can be taught at the discretion of the professor and the majors of students.

## Acknowledgments
It is obvious that the development of a book of this scope needs the support of many people.

### Peer reviewers
I would like to acknowledge the contributions from peer reviewers to the development of the book. These reviewers are:

*   Sam Ssemugabi, UNISA
*   Ronald Chikati, Botswana Accountancy College
*   Alex Dandadzi, University of Limpopo
*   Tom Verhoeff, Eindhoven University of Technology
*   Stefan Gruner, University of Pretoria
*   Harin Sellahwea, University of Buckingham
*   John Newman, University of Wales
*   Steve Maybank, Birbeck College
*   Mario Kolberg, University of Stirling
*   Colin Price, University of Worcester
*   Boris Cogan, London Metropolitan University
*   Thomas Mandl, University of Hildesheim
*   Daphne Becker, University of South Africa
*   Lubna Fekry Abdulhai and Osama Abulnaja, King Abdulaziz University
*   Katie Atkinson, University of Liverpool

## Publisher staff
Special thanks go to the staff of the publisher.

*   Andrew Ashwin
*   Annabel Ainscow
*   Jennifer Grene
*   Phillipa Davidson-Blake

Behrouz A. Forouzan
Los Angeles, CA.
January 2018
`,zh:`
# 



## 
ACM CS0 

## 


### 
 19  20  4  I  J

### 
 20  10 

## 


## 


## 


## 


## 


### 
 400 

### 


### 


### 


##  (UML)
 UML 

## 


### 


### 


### 


### 


*   ****
*   ****
*   ****

## 

*    1  8 
*    9  14 quarter system
*    15  20 

## 


### 


*   Sam Ssemugabi, UNISA
*   Ronald Chikati, Botswana Accountancy College
*   Alex Dandadzi, University of Limpopo
*   Tom Verhoeff, Eindhoven University of Technology
*   Stefan Gruner, University of Pretoria
*   Harin Sellahwea, University of Buckingham
*   John Newman, University of Wales
*   Steve Maybank, Birbeck College
*   Mario Kolberg, University of Stirling
*   Colin Price, University of Worcester
*   Boris Cogan, London Metropolitan University
*   Thomas Mandl, University of Hildesheim
*   Daphne Becker, University of South Africa
*   Lubna Fekry Abdulhai and Osama Abulnaja, King Abdulaziz University
*   Katie Atkinson, University of Liverpool

## 


*   Andrew Ashwin
*   Annabel Ainscow
*   Jennifer Grene
*   Phillipa Davidson-Blake

Behrouz A. Forouzan
Los Angeles, CA.
2018  1 
`},rN={en:`
# Chapter 1: Introduction

The phrase computer science has a very broad meaning today. However, in this book, we define the phrase as issues related to the computer. This introductory chapter first tries to find out what a computer is, then investigates other issues directly related to computers. We look first at the Turing model as a mathematical and philosophical definition of computation. We then show how todays computers are based on the von Neumann model. The chapter ends with a brief history of this culture-changing device . . . the computer.

## Objectives
After studying this chapter, the student should be able to:
- Define the Turing model of a computer.
- Define the von Neumann model of a computer.
- Describe the three components of a computer: hardware, data, and software.
- List topics related to computer hardware.
- List topics related to data.
- List topics related to software.
- Give a short history of computers.

## 1.1 TURING MODEL
The idea of a universal computational device was first described by Alan Turing in 1936. He proposed that all computation could be performed by a special kind of a machine, now called a **Turing machine**. Although Turing presented a mathematical description of such a machine, he was more interested in the philosophical definition of computation than in building the actual machine. He based the model on the actions that people perform when involved in computation. He abstracted these actions into a model for a computational machine that has really changed the world.

### 1.1.1 Data processors
Before discussing the Turing model, let us define a computer as a **data processor**. Using this definition, a computer acts as a black box that accepts input data, processes the data, and creates output data (Figure 1.1). Although this model can define the functionality of a computer today, it is too general. In this model, a pocket calculator is also a computer (which it is, in a literal sense).

**Figure 1.1 A single-purpose computing machine**
Input data -> Computer -> Output data

Another problem with this model is that it does not specify the type of processing, or whether more than one type of processing is possible. In other words, it is not clear how many types or sets of operations a machine based on this model can perform. Is it a specific-purpose machine or a general-purpose machine?

This model could represent a specific-purpose computer (or processor) that is designed to do a single job, such as controlling the temperature of a building or controlling the fuel usage in a car. However, computers, as the term is used today, are *general-purpose* machines. They can do many different types of tasks. This implies that we need to change this model into the Turing model to be able to reflect the actual computers of today.

### 1.1.2 Programmable data processors
The Turing model is a better model for a general-purpose computer. This model adds an extra element to the specific computing machine: the *program*. A **program** is a set of instructions that tells the computer what to do with data. Figure 1.2 shows the Turing model.

**Figure 1.2 A computer based on the Turing model: programmable data processor**
Input data + Program -> Computer -> Output data

In the Turing model, the **output data** depends on the combination of two factors: the **input data** and the program. With the same input data, we can generate different output if we change the program. Similarly, with the same program, we can generate different outputs if we change the input data. Finally, if the input data and the program remain the same, the output should be the same. Let us look at three cases.

**Same program, different input data**
Figure 1.3 shows the same sorting program with different input data. Although the program is the same, the outputs are different, because different input data is processed.

*   **Case 1**: Input (3, 12, 8, 22) -> Program: Sort -> Output (3, 8, 12, 22)
*   **Case 2**: Input (14, 6, 8, 12) -> Program: Sort -> Output (6, 8, 12, 14)

**Same input data, different programs**
Figure 1.4 shows the same input data with different programs. Each program makes the computer perform different operations on the input data. The first program sorts the data, the second adds the data, and the third finds the smallest number.

*   **Case 1**: Input (3, 12, 8, 22) -> Program: Sort -> Output (3, 8, 12, 22)
*   **Case 2**: Input (3, 12, 8, 22) -> Program: Add -> Output (45)
*   **Case 3**: Input (3, 12, 8, 22) -> Program: Find smallest -> Output (3)

**Same input data, same program**
We expect the same result each time if both input data and the program are the same, of course. In other words, when the same program is run with the same input data, we expect the same output.

### 1.1.3 The universal Turing machine
A *universal Turing machine*, a machine that can do any computation if the appropriate program is provided, was the first description of a modern computer. It can be proved that a very powerful computer and a universal Turing machine can compute the same thing. We need only provide the data and the programthe description of how to do the computationto either machine. In fact, a universal Turing machine is capable of computing anything that is computable.

## 1.2 VON NEUMANN MODEL
Computers built on the Turing universal machine store data in their memory. Around 19441945, John von Neumann proposed that, since program and data are logically the same, programs should also be stored in the memory of a computer.

### 1.2.1 Four subsystems
Computers built on the von Neumann model divide the computer hardware into four subsystems: memory, arithmetic logic unit, control unit, and input/output (Figure 1.5).

**Memory**
Memory is the storage area. This is where programs and data are stored during processing. We discuss the reasons for storing programs and data later in the chapter.

**Arithmetic logic unit**
The **arithmetic logic unit (ALU)** is where calculation and **logical operations** take place. For a computer to act as a data processor, it must be able to do arithmetic operations on data (such as adding a list of numbers). It should also be able to do logical operations on data, as we will see in Chapter 4.

**Control unit**
The **control unit** controls the operations of the **memory**, ALU, and the input/output subsystem.

**Input / output**
The **input subsystem** accepts input data and the program from outside the computer, while the **output subsystem** sends the result of processing to the outside world. The definition of the input/output subsystem is very broad: it also includes secondary storage devices such as disk or tape that stores data and programs for processing. When a disk stores data that results from processing, it is considered an output device: when it reads data from the disk, it is considered an input device.

### 1.2.2 The stored program concept
The von Neumann model states that the program must be stored in memory. This is totally different from the architecture of early computers in which only the data was stored in memory: the programs for their task were implemented by manipulating a set of switches or by changing the wiring system.

The memory of modern computers hosts both a program and its corresponding data. This implies that both the data and programs should have the same format, because they are stored in memory. In fact, they are stored as *binary* patterns in memorya sequence of 0s and 1s.

### 1.2.3 Sequential execution of instructions
A program in the von Neumann model is made of a finite number of **instructions**. In this model, the control unit fetches one instruction from memory, decodes it, then executes it. In other words, the instructions are executed one after another. Of course, one instruction may request the control unit to jump to some previous or following instruction, but this does not mean that the instructions are not executed sequentially. Sequential execution of a program was the initial requirement of a computer based on the von Neumann model. Todays computers execute programs in the order that is the most efficient.

## 1.3 COMPUTER COMPONENTS
We can think of a computer as being made up of three components: computer hardware, data, and computer software.

### 1.3.1 Computer hardware
Computer hardware today has four components under the von Neumann model, although we can have different types of memory, different types of input/output subsystems, and so on. We discuss computer hardware in more detail in Chapter 5.

### 1.3.2 Data
The von Neumann model clearly defines a computer as a data processing machine that accepts the input data, processes it, and outputs the result.

**Storing data**
The von Neumann model does not define how data must be stored in a computer. If a computer is an electronic device, the best way to store data is in the form of an electrical signal, specifically its presence or absence. This implies that a computer can store data in one of two states.

Obviously, the data we use in daily life is not just in one of two states. For example, our numbering system uses digits that can take one of ten states (0 to 9). We cannot (as yet) store this type of information in a computer: it needs to be changed to another system that uses only two states (0 and 1). We also need to be able to process other types of data (text, image, audio, video). These also cannot be stored in a computer directly, but need to be changed to the appropriate form (0s and 1s).

In Chapter 3, we will learn how to store different types of data as a binary pattern, a sequence of 0s and 1s. In Chapter 4, we show how data is manipulated, as a binary pattern, inside a computer.

**Organizing data**
Although data should be stored only in one form inside a computer, a binary pattern, data outside a computer can take many forms. In addition, computers (and the notion of data processing) have created a new field of study known as *data organization*, which asks the question: can we organize our data into different entities and formats before storing them inside a computer? Today, data is not treated as a flat sequence of information. Instead, data is organized into small units, small units are organized into larger units, and so on. We will look at data from this point of view in Chapters 1114.

### 1.3.3 Computer software
The main feature of the Turing or von Neumann models is the concept of the *program*. Although early computers did not store the program in the computers memory, they did use the concept of programs. *Programming* those early computers meant changing the wiring systems or turning a set of switches on or off. Programming was therefore a task done by an operator or engineer before the actual data processing began.

**Programs must be stored**
In the von Neumann model programs are stored in the computers memory. Not only do we need memory to hold data, but we also need memory to hold the program.

**A sequence of instructions**
Another requirement of the model is that the program must consist of a sequence of instructions. Each instruction operates on one or more data items. Thus, an instruction can change the effect of a previous instruction. For example, Figure 1.7 shows a program that inputs two numbers, adds them, and prints the result. This program consists of four individual instructions.

We might ask why a program must be composed of instructions. The answer is reusability. Today, computers do millions of tasks. If the program for each task was an independent entity without anything in common with other programs, programming would be difficult. The Turing and von Neumann models make programming easier by defining the different instructions that can be used by computers. A programmer can then combine these instructions to make any number of programs. Each program can be a different combination of different instructions.

**Algorithms**
The requirement for a program to consist of a sequence of instructions made programming possible, but it brought another dimension to using a computer. A programmer must not only learn the task performed by each instruction, but also learn how to combine these instructions to do a particular task. Looking at this issue differently, a programmer must first solve the problem in a step-by-step manner, then try to find the appropriate instruction (or series of instructions) to implement those steps. This step-by-step solution is called an **algorithm**. Algorithms play a very important role in computer science and are discussed in Chapter 8.

**Languages**
At the beginning of the computer age there was only one computer language, *machine language*. Programmers wrote instructions (using binary patterns) to solve a problem. However, as programs became larger, writing long programs using these patterns became tedious. Computer scientists came up with the idea of using symbols to represent binary patterns, just as people use symbols (words) for commands in daily life. Of course, the symbols used in daily life are different from those used in computers. So the concept of **computer languages** was born. A natural language such as English is rich and has many rules to combine words correctly: a computer language, on the other hand, has a more limited number of symbols and also a limited number of words. We will study computer languages in Chapter 9.

**Software engineering**
Something that was not defined in the von Neumann model is **software engineering**, which is the design and writing of **structured programs**. Today it is not acceptable just to write a program that does a task: the program must follow strict rules and principles. We discuss these principles, collectively known as *software engineering*, in Chapter 10.

**Operating systems**
During the evolution of computers, scientists became aware that there was a series of instructions common to all programs. For example, instructions to tell a computer where to receive data and where to send data are needed by almost all programs. It is more efficient to write these instructions only once for the use of all programs. Thus the concept of the **operating system** emerged. An operating system originally worked as a manager to facilitate access to the computers components by a program, although today operating systems do much more. We will learn about them in Chapter 7.

## 1.4 HISTORY
In this section we briefly review the history of computing and computers. We divide this history into three periods.

### 1.4.1 Mechanical machines (before 1930)
During this period, several computing machines were invented that bear little resemblance to the modern concept of a computer.
*   In the seventeenth century, Blaise Pascal, a French mathematician and philosopher, invented Pascaline, a mechanical calculator for addition and subtraction operations. In the twentieth century, when Niklaus Wirth invented a structured programming language, he called it Pascal to honor the inventor of the first mechanical calculator.
*   In the late seventeenth century, German mathematician Gottfried Leibniz invented a more sophisticated mechanical calculator that could do multiplication and division as well as addition and subtraction. It was called the Leibniz Wheel.
*   The first machine that used the idea of storage and programming was the Jacquard loom, invented by Joseph-Marie Jacquard at the beginning of the nineteenth century. The loom used punched cards (like a stored program) to control the raising of the warp threads in the manufacture of textiles.
*   In 1823, Charles Babbage invented the Difference Engine, which could do more than simple arithmetic operationsit could solve polynomial equations, too. Later, he invented a machine called the Analytical Engine that, to some extent, parallels the idea of modern computers. It had four components: a mill (corresponding to a modern ALU), a store (memory), an operator (control unit), and output (input/output).
*   In 1890, Herman Hollerith, working at the US Census Bureau, designed and built a programmer machine that could automatically read, tally, and sort data stored on punched cards.

### 1.4.2 The birth of electronic computers (19301950)
Between 1930 and 1950, several computers were invented by scientists who could be considered the pioneers of the electronic computer industry.

**Early electronic computers**
The early computers of this period did not store the program in memoryall were programmed externally. Five computers were prominent during these years:
*   The first special-purpose computer that encoded information electrically was invented by John V. Atanasoff and his assistant Clifford Berry in 1939. It was called the ABC (Atanasoff Berry Computer) and was specifically designed to solve a system of linear equations.
*   At the same time, a German mathematician called Konrad Zuse designed a general-purpose machine called Z1.
*   In the 1930s, the US Navy and IBM sponsored a project at Harvard University under the direction of Howard Aiken to build a huge computer called Mark I. This computer used both electrical and mechanical components.
*   In England, Alan Turing invented a computer called Colossus that was designed to break the German Enigma code.
*   The first general-purpose, totally electronic computer was made by John Mauchly and J. Presper Eckert and was called ENIAC (Electronic Numerical Integrator and Calculator). It was completed in 1946. It used 18000 vacuum tubes, was 100 feet long by 10 feet high, and weighed 30 tons.

**Computers based on the von Neumann model**
The preceding five computers used memory only for storing data, and were programmed externally using wires or switches. John von Neumann proposed that the program and the data should be stored in memory. That way, every time we use a computer to do a new task, we need only change the program instead of rewiring the machine or turning hundreds of switches on and off.
The first computer based on von Neumanns ideas was made in 1950 at the University of Pennsylvania and was called EDVAC. At the same time, a similar computer called EDSAC was built by Maurice Wilkes at Cambridge University in England.

### 1.4.3 Computer generations (1950present)
Computers built after 1950 more or less follow the von Neumann model. They have become faster, smaller, and cheaper, but the principle is almost the same. Historians divide this period into generations, with each generation witnessing some major change in hardware or software (but not in the model).

**First generation**
The first generation (roughly 19501959) is characterized by the emergence of commercial computers. During this time, computers were used only by professionals. They were locked in rooms with access limited only to the operator or computer specialist. Computers were bulky and used vacuum tubes as electronic switches. At this time, computers were affordable only by big organizations.

**Second generation**
Second-generation computers (roughly 19591965) used transistors instead of vacuum tubes. This reduced the size of computers, as well as their cost, and made them affordable to small and medium-size corporations. Two high-level programming languages, FORTRAN and COBOL (see Chapter 9), were invented and made programming easier. These two languages separated the programming task from the computer operation task. A civil engineer, for example could write a FORTRAN program to solve a problem without being involved in the electronic details of computer architecture.

**Third generation**
The invention of the **integrated circuit** (transistors, wiring, and other components on a single chip) reduced the cost and size of computers even further. *Minicomputers* appeared on the market. Canned programs, popularly known as software packages, became available. A small corporation could buy a package, for example for accounting, instead of writing its own program. A new industry, the software industry, was born. This generation lasted roughly from 1965 to 1975.

**Fourth generation**
The fourth generation (approximately 19751985) saw the appearance of **microcomputers**. The first desktop calculator, the Altair 8800, became available in 1975. Advances in the electronics industry allowed whole computer subsystems to fit on a single circuit board. This generation also saw the emergence of computer networks (see Chapter 6).

**Fifth generation**
This open-ended generation started in 1985. It has witnessed the appearance of laptop and palmtop computers, improvements in secondary storage media (CD-ROM, DVD, and so on), the use of multimedia, and the phenomenon of virtual reality.

## 1.5 COMPUTER SCIENCE AS A DISCIPLINE
With the invention of computers, a new discipline has evolved: *computer science*. Like any other discipline, computer science has now divided into several areas. We can divide these areas into two broad categories: *systems areas* and *applications areas*. Systems areas cover those areas that directly related to the creation of hardware and software, such as *computer architecture*, *computer networking*, *security issues*, *operating systems*, *algorithms*, *programming languages*, and *software engineering*. Applications areas cover those that are related to the *use* of computers, such as *databases* and *artificial intelligence*. This book is a breadth-first approach to all of these areas. After reading the book, the reader should have enough information to select the desired area of specialty.

## 1.6 OUTLINE OF THE COURSE
After this introductory chapter, the book is divided into five parts.

### 1.6.1 Part I: Data representation and operation
This part includes Chapters 2, 3, and 4. Chapter 2 discusses number systems, how a quantity can be represented using symbols. Chapter 3 discusses how different data is stored inside the computer. Chapter 4 discusses some primitive operations on *bits*.

### 1.6.2 Part II: Computer hardware
This part includes Chapters 5 and 6. Chapter 5 gives a general idea of computer hardware, discussing different computer organizations. Chapter 6 shows how individual computers are connected to make computer networks, and *internetworks* (internets). In particular, this chapter explores some subjects related to the Internet and its applications.

### 1.6.3 Part III: Computer software
This part includes Chapters 7, 8, 9, and 10. Chapter 7 discusses operating systems, the system software that controls access to the hardware by userseither human or application programs. Chapter 8 shows how problem solving is reduced to writing an algorithm for the problem. Chapter 9 takes a journey through the list of contemporary programming languages. Finally, Chapter 10 is a review of software engineering, the engineering approach to the development of software.

### 1.6.4 Part IV: Data organization and abstraction
This part complements Part I. In computer science, *atomic* data is collected into records, files, and databases. Data *abstraction* allows the programmer to create abstract notions about data. Part IV includes Chapters 11, 12, 13, and 14. Chapter 11 discusses data structure, collecting data of the same or different type under one category. Chapter 12 discusses abstract data types. Chapter 13 shows how different file structures can be used for different purposes. Finally, Chapter 14 discusses databases.

### 1.6.5 Part V: Advanced topics
Part V gives an overview of advanced topics, topics that students of computer science will encounter later in their education. This part covers Chapters 15, 16, 17, and 18. Chapter 15 discusses data compression, which is prevalent in todays data communications. Chapter 16 explores some issues to do with security, which is becoming more and more important when we communicate over insecure channels. Chapter 17 discusses the theory of computation: what can and cannot be computed. Finally Chapter 18 gives some idea of artificial intelligence, a topic wih day-to-day challenges in computer science.

### 1.6.6 Part VI: Social media and social Issues
Part VI briefly discusses social media and social issues, two topics that students of computer science may be interested to explore.

## 1.7 END-CHAPTER MATERIALS
### 1.7.1 Recommended reading
For more details about the subjects discussed in this chapter, the following books are recommended:
*   Schneider, G. M. and Gersting, J. L. *Invitation to Computer Science*, Boston, MA: Course Technology, 2004
*   Dale, N. and Lewis, J. *Computer Science Illuminated*, Sudbury, MA: Jones and Bartlett, 2004
*   Patt, Y. and Patel, S. *Introduction to Computing Systems*, New York: McGraw-Hill, 2004

### 1.7.2 Key terms
*   algorithm
*   arithmetic logic unit (ALU)
*   computer languages
*   control unit
*   data processor
*   input data
*   input/output subsystem
*   instruction
*   integrated circuit
*   logical operation
*   memory
*   microcomputer
*   operating system
*   output data
*   program
*   structured programs
*   software engineering
*   Turing machine
*   Turing model
*   von Neumann model

### 1.7.3 Summary
*   The idea of a universal computational device was first put forward by Alan Turing in 1936. He proposed that all computations can be performed by a special kind of a machine, now called a Turing machine.
*   The von Neumann model defines a computer as four subsystems: memory, arithmetic logic unit, control unit, and input/output. The von Neumann model states that the program must be stored in memory.
*   We can think of a computer as made up of three components: computer hardware, data, and computer software.
*   The history of computing and computers can be divided into three periods: the period of mechanical machines (before 1930), the period of electronic computers (19301950), and the period that includes the five modern computer generations.
*   With the invention of computers a new discipline has evolved, *computer science*, which is now divided into several areas.
`,zh:`
# 



## 

- 
- 
- 
- 
- 
- 
- 

## 1.1 
 1936 ****

### 1.1.1 
**** 1.1

** 1.1 **
 ->  -> 



**

### 1.1.2 
****** 1.2 

** 1.2 **
 +  ->  -> 

********

****
 1.3 

*   ** 1**:  (3, 12, 8, 22) -> :  ->  (3, 8, 12, 22)
*   ** 2**:  (14, 6, 8, 12) -> :  ->  (6, 8, 12, 14)

****
 1.4 

*   ** 1**:  (3, 12, 8, 22) -> :  ->  (3, 8, 12, 22)
*   ** 2**:  (3, 12, 8, 22) -> :  ->  (45)
*   ** 3**:  (3, 12, 8, 22) -> :  ->  (3)

****


### 1.1.3 
**

## 1.2 
 1944-1945 

### 1.2.1 
/ 1.5

****


****
** (ALU)** **** 4 

****
********ALU /

**/**
********/

### 1.2.2 


** 0  1 

### 1.2.3 
****

## 1.3 


### 1.3.1 
/ 5 

### 1.3.2 


****


0  90  10  1

 3  0  1  4 

****
** 11-14 

### 1.3.3 
****/

****


****
 1.7 



****
**** 8 

****
****** 9 

****
******** 10 **

****
**** 7 

## 1.4 


### 1.4.1 1930 

*    Pascaline Niklaus Wirth  Pascal
*    (Leibniz Wheel)
*    (Jacquard loom)
*   1823  (Difference Engine) (Analytical Engine)  ( ALU) () ()  (/)
*   1890 

### 1.4.2 19301950
 1930  1950 

****

*   V 1939  ABC (-)
*    Konrad Zuse  Z1 
*    1930  IBM  Mark I 
*    Colossus () 
*    J.  ENIAC () 1946  18000  100  10  30 

****

 1950  EDVAC Maurice Wilkes  EDSAC

### 1.4.3 1950
1950 

****
 19501959

****
 19591965FORTRAN  COBOL 9  FORTRAN 

****
****** 1965  1975 

****
 19751985**** Altair 8800  1975  6 

****
 1985 CD-ROMDVD 

## 1.5 
**************************

## 1.6 


### 1.6.1 
 23  4  2  3  4 **

### 1.6.2 
 5  6  5  6 ** (internets)

### 1.6.3 
 789  10  7  8  9  10 

### 1.6.4 
**** 111213  14  11  12  13  14 

### 1.6.5 
 151617  18  15  16  17  18 

### 1.6.6 


## 1.7 
### 1.7.1 

*   Schneider, G. M. and Gersting, J. L. *Invitation to Computer Science*, Boston, MA: Course Technology, 2004
*   Dale, N. and Lewis, J. *Computer Science Illuminated*, Sudbury, MA: Jones and Bartlett, 2004
*   Patt, Y. and Patel, S. *Introduction to Computing Systems*, New York: McGraw-Hill, 2004

### 1.7.2 
*    (algorithm)
*    (ALU)
*    (computer languages)
*    (control unit)
*    (data processor)
*    (input data)
*   / (input/output subsystem)
*    (instruction)
*    (integrated circuit)
*    (logical operation)
*    (memory)
*    (microcomputer)
*    (operating system)
*    (output data)
*    (program)
*    (structured programs)
*    (software engineering)
*    (Turing machine)
*    (Turing model)
*    (von Neumann model)

### 1.7.3 
*    1936 
*   /
*   
*   1930 19301950
*   **
`},oN={en:`
# Chapter 2: Number Systems

This chapter is a prelude to Chapters 3 and 4. In Chapter 3 we will show how data is stored inside the computer. In Chapter 4 we will show how logic and arithmetic operations are performed on data. This chapter is a preparation for understanding the contents of Chapters 3 and 4. Readers who know about number systems can skip this chapter and move on to Chapter 3 without loss of continuity. Note that the number systems discussed in this chapter are paper and pencil representations: we show how these numbers are stored in a computer in Chapter 3.

## Objectives
After studying this chapter, the student should be able to:
- Understand the concept of number systems.
- Distinguish between nonpositional and positional number systems.
- Describe the decimal system (base 10).
- Describe the binary system (base 2).
- Describe the hexadecimal system (base 16).
- Describe the octal system (base 8).
- Convert a number in binary, octal, or hexadecimal to a number in the decimal system.
- Convert a number in the decimal system to a number in binary, octal, or hexadecimal.
- Convert a number in binary to octal and vice versa.
- Convert a number in binary to hexadecimal and vice versa.
- Find the number of digits needed in each system to represent a particular value.

## 2.1 INTRODUCTION
A **number system** (or numeral system) defines how a number can be represented using distinct symbols. A number can be represented differently in different systems. For example, the two numbers (2A) and (52) both refer to the same quantity, (42), but their representations are different. This is the same as using the words *cheval* (French) and *equus* (Latin) to refer to the same entity, a horse.

As we use symbols (characters) to create words in a language, we use symbols (digits) to represent numbers. However, we know that the number of symbols (characters) in any language is limited. We need to repeat characters and combine them to create words. It is the same for numbers: we have a limited number of symbols (digits) to represent numbers, which means that the digits need to be repeated.

Several number systems have been used in the past and can be categorized into two groups: positional and nonpositional systems. Our main goal is to discuss the positional number systems, but we also give examples of nonpositional systems.

## 2.2 POSITIONAL NUMBER SYSTEMS
In a **positional number system**, the position a symbol occupies in the number determines the value it represents. In this system, a number represented as:

 (S ... S S S . S S ... S)b

has the value of:

n =  S  b + ... + S  b + S  b + S  b + S  b + ... + S  b

in which S is the set of symbols, b is the **base** (or **radix**), which is equal to the total number of the symbols in the set S, and S and S are symbols in the whole and fraction parts of the number. Note that we have used an expression that can be extended from the right or from the left. In other words, the power of b can be 0 to K - 1 in one direction and -1 to -L in the other direction. The terms with non-negative powers of b are related to the integral part of the number, while the terms with negative power of b are related to the fractional part of the number. The  sign shows that the number can be either positive or negative. We will study several positional number systems in this chapter.

### 2.2.1 The decimal system (base 10)
The first positional number system we discuss in this chapter is the **decimal system**. The word *decimal* is derived from the Latin root *decem* (ten). In this system the base b = 10 and we use ten symbols to represent a number. The set of symbols is S = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9}. As we know, the symbols in this system are often referred to as **decimal digits** or just digits. In this chapter, we use  to show that a number can be positive or negative, but remember that these signs are not stored in computerscomputers handle the sign differently, as we discuss in Chapter 3.

In the decimal system, a number is written as:

 (S ... S S S . S S ... S)

but for simplicity, we often drop the parentheses, the base, and the plus sign (if the number is positive). For example, we write the number +(552.23) as 552.23the base and plus signs are implicit.

**Integers**
An **integer** (an integral number with no fractional part) in the decimal system is familiar to all of uswe use integers in our daily life. In fact, we have used them so much that they are intuitive. We represent an integer as  S ... S S. The value is calculated as:

N =  S  10 + S  10 + ... + S  10 + S  10 + S  10

in which S is a digit, b = 10 is the base, and K is the number of digits.
Another way to show an integer in a number system is to use **place values**, which are powers of 10 (10, 10, ..., 10) for decimal numbers.

**Example 2.1**
The following shows the place values for the integer +224 in the decimal system:
*   Place values: 10 10 10
*   Number: 2 2 4
*   Values: N = + 2  10 + 2  10 + 4  10

Note that the digit in position 1 has the value 20, but the same digit in position 2 has the value 200. Also note that we normally drop the plus sign, but it is implicit.

**Example 2.2**
The following shows the place values for the decimal number 7508. We have used 1, 10, 100, and 1000 instead of powers of 10:
*   Place values: 1000 100 10 1
*   Number: 7 5 0 8
*   Values: N =  (7  1000 + 5  100 + 0  10 + 8  1)

**Maximum value**
Sometimes we need to know the maximum value of a decimal integer that can be represented by K digits. The answer is N_max = 10  1. For example, if K = 5, then the maximum value is N_max = 10  1 = 99999.

**Reals**
A **real** (a number with a fractional part) in the decimal system is also familiar. For example, we use this system to show dollars and cents ($23.40). We can represent a real as  S ... S S . S ... S. The value is calculated as:

R =  S  10 + ... + S  10 + S  10 + S  10 + ... + S  10

in which S is a digit, b = 10 is the base, K is the number of digits in the integral part, and L is the number of digits in the fractional part. The decimal point we use in our representation separates the fractional part from the integral part.

**Example 2.3**
The following shows the place values for the real number +24.13:
*   Place values: 10 10 . 10 10
*   Number: 2 4 . 1 3
*   Values: R = + 2  10 + 4  1 + 1  0.1 + 3  0.01

### 2.2.2 The binary system (base 2)
The second positional number system we discuss in this chapter is the **binary system**. The word *binary* is derived from the Latin root *bini* (or two by two). In this system the base b = 2 and we use only two symbols, S = {0, 1}. The symbols in this system are often referred to as **binary digits** or **bits** (binary digit). As we will see in Chapter 3, data and programs are stored in the computer using binary patterns, a string of bits. This is because the computer is made of electronic switches that can have only two states, on and off. The bit 1 represents one of these two states and the bit 0 the other.

**Integers**
We can represent an integer as  (S ... S S). The value is calculated as:

N =  S  2 + S  2 + ... + S  2 + S  2 + S  2

in which S is a digit, b = 2 is the base, and K is the number of bits. Another way to show a binary number is to use place values (2, 2, ... 2).

**Example 2.4**
The following shows that the number (11001) in binary is the same as 25 in decimal. The subscript 2 shows that the base is 2:
*   Place values: 2 2 2 2 2
*   Number: 1 1 0 0 1
*   Decimal: N = 1  2 + 1  2 + 0  2 + 0  2 + 1  2
Note that the equivalent decimal number is N = 16 + 8 + 0 + 0 + 1 = 25.

**Maximum value**
The maximum value of a binary integer with K digits is N_max = 2  1. For example, if K = 5, then the maximum value is N_max = 2  1 = 31.

**Reals**
A reala number with an optional fractional partin the binary system can be made of K bits on the left and L bits on the right,  (S ... S S . S ... S). The value can be calculated as:

R =  S  2 x ... x S  2 x S  2 + S  2 + ... + S  2

in which S is a bit, b = 2 is the base, K is the number of bits to the left, and L is the number of bits to the right of the decimal point. Note that K starts from 0, but L starts from -1. The highest power is K  1 and the lowest power is -L.

**Example 2.5**
The following shows that the number (101.11) in binary is equal to the number 5.75 in decimal:
*   Place values: 2 2 2 . 2 2
*   Number: 1 0 1 . 1 1
*   Values: R = 1  2 + 0  2 + 1  2 + 1  2 + 1  2
Note that the value in the decimal system is R = 4 + 0 + 1 + 0.5 + 0.25 = 5.75.

### 2.2.3 The hexadecimal system (base 16)
Although the binary system is used to store data in computers, it is not convenient for representation of numbers outside the computer, as a number in binary notation is much longer than the corresponding number in decimal notation. However, the decimal system does not show what is stored in the computer as binary directlythere is no obvious relationship between the number of bits in binary and the number of decimal digits. Conversion from one to the other is not fast, as we will see shortly.

To overcome this problem, two positional systems were devised: hexadecimal and octal. We first discuss the hexadecimal system, which is more common. The word **hexadecimal** is derived from the Greek root *hex* (six) and the Latin root *decem* (ten). To be consistent with decimal and binary, it should really have been called *sexadecimal*, from the Latin roots *sex* and *decem*. In this system the base b = 16 and we use 16 symbols to represent a number. The set of symbols is S = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, F}. Note that the symbols A, B, C, D, E, F (uppercase or lowercase) are equivalent to 10, 11, 12, 13, 14, and 15 respectively. The symbols in this system are often referred to as **hexadecimal digits**.

**Integers**
We can represent an integer as  S ... S S. The value is calculated as:

N =  S  16 + S  16 + ... + S  16 + S  16 + S  16

in which S is a digit, b = 16 is the base, and K is the number of digits.
Another way to show a hexadecimal number is to use place values (16, 16, ..., 16).

**Example 2.6**
The following shows that the number (2AE) in hexadecimal is equivalent to 686 in decimal:
*   Place values: 16 16 16
*   Number: 2 A E
*   Values: N = 2  16 + 10  16 + 14  16
Note that the value in the decimal system is N = 512 + 160 + 14 = 686.

**Maximum value**
The maximum value of a hexadecimal integer with K digits is N_max = 16  1. For example, if K = 5, then the maximum value is N_max = 16  1 = 1048575.

**Reals**
Although a real number can be also represented in the hexadecimal system, it is not very common.

### 2.2.4 The octal system (base 8)
The second system that was devised to show the equivalent of the binary system outside the computer is the **octal system**. The word *octal* is derived from the Latin root *octo* (eight). In this system the base b = 8 and we use eight symbols to represent a number. The set of symbols is S = {0, 1, 2, 3, 4, 5, 6, 7}. The symbols in this system are often referred to as **octal digits**.

**Integers**
We can represent an integer as  S ... S S. The value is calculated as:

N =  S  8 + S  8 + ... + S  8 + S  8 + S  8

in which S is a digit, b = 8 is the base, and K is the number of digits.
Another way to show an octal number is to use place values (8, 8, ..., 8).

**Example 2.7**
The following shows that the number (1256) in octal is the same as 686 in decimal:
*   Place values: 8 8 8 8
*   Number: 1 2 5 6
*   Values: N = 1  8 + 2  8 + 5  8 + 6  8
Note that the decimal number is N = 512 + 128 + 40 + 6 = 686.

**Maximum Value**
The maximum value of an octal integer with K digits is N_max = 8  1. For example, if K = 5, then the maximum value is N_max = 8  1 = 32767.

**Reals**
Although a real number can be also represented in the octal system, it is not very common.

### 2.2.5 Summary of the four positional systems
Table 2.1 shows a summary of the four positional number systems discussed in this chapter.

**Table 2.1 Summary of the four positional number systems**
| System | Base | Symbols | Examples |
| :--- | :--- | :--- | :--- |
| Decimal | 10 | 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 | 2345.56 |
| Binary | 2 | 0, 1 | (1001.11) |
| Octal | 8 | 0, 1, 2, 3, 4, 5, 6, 7 | (156.23) |
| Hexadecimal | 16 | 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, F | (A2C.A1) |

Table 2.2 shows how the number 15 is represented with two digits in decimal, four digits in binary, two digits in octal, and only one digit in hexadecimal. The hexadecimal representation is definitely the shortest.

**Table 2.2 Comparison of numbers in the four systems**
| Decimal | Binary | Octal | Hexadecimal |
| :--- | :--- | :--- | :--- |
| 0 | 0 | 0 | 0 |
| 1 | 1 | 1 | 1 |
| 2 | 10 | 2 | 2 |
| 3 | 11 | 3 | 3 |
| 4 | 100 | 4 | 4 |
| 5 | 101 | 5 | 5 |
| 6 | 110 | 6 | 6 |
| 7 | 111 | 7 | 7 |
| 8 | 1000 | 10 | 8 |
| 9 | 1001 | 11 | 9 |
| 10 | 1010 | 12 | A |
| 11 | 1011 | 13 | B |
| 12 | 1100 | 14 | C |
| 13 | 1101 | 15 | D |
| 14 | 1110 | 16 | E |
| 15 | 1111 | 17 | F |

### 2.2.6 Conversion
We need to know how to convert a number in one system to the equivalent number in another system. Since the decimal system is more familiar than the other systems, we first show how to covert from any base to decimal. Then we show how to convert from decimal to any base. Finally, we show how we can easily convert from binary to hexadecimal or octal and vice versa.

**Any base to decimal conversion**
This type of conversion is easy and fast. We multiply each digit with its place value in the source system and add the results to get the number in the decimal system.

**Example 2.8**
The following shows how to convert the binary number (110.11) to decimal: (110.11) = 6.75:
*   Binary: 1 1 0 . 1 1
*   Place values: 2 2 2 . 2 2
*   Partial results: 4 + 2 + 0 + 0.5 + 0.25
*   Decimal: 6.75

**Example 2.9**
The following shows how to convert the hexadecimal number (1A.23) to decimal:
*   Hexadecimal: 1 A . 2 3
*   Place values: 16 16 . 16 16
*   Partial result: 16 + 10 + 0.125 + 0.012
*   Decimal: 26.137
Note that the result in the decimal notation is not exact, because 3  16 = 0.01171875. We have rounded this value to three digits (0.012). In other words, (1A.23)  26.137. When we convert a number in decimal to hexadecimal, we need to specify how many digits we allow to the right of the decimal point.

**Example 2.10**
The following shows how to convert (23.17) to decimal:
*   Octal: 2 3 . 1 7
*   Place values: 8 8 . 8 8
*   Partial result: 16 + 3 + 0.125 + 0.109
*   Decimal: 19.234
This means that (23.17)  19.234 in decimal. Again, we have rounded up 7  8 = 0.109375.

**Decimal to any base**
We can convert a decimal number to its equivalent in any base. We need two procedures, one for the integral part and one for the fractional part.

**Converting the integral part**
The integral part can be converted using repetitive division. We call the integral part of the decimal number the source and the integral part of the converted number the destination. We first create an empty destination. We then repetitively divide the source to get the quotient and the remainder. The remainder is inserted to the left of the destination. The quotient becomes a new source.

**Example 2.11**
The following shows how to convert 35 in decimal to binary. We start with the number in decimal, we move to the left while continuously finding the quotients and the remainder of division by 2. The result is 35 = (100011):
*   Decimal: 35
*   Divide by 2: 35/2 -> Q=17, R=1
*   Divide by 2: 17/2 -> Q=8, R=1
*   Divide by 2: 8/2 -> Q=4, R=0
*   Divide by 2: 4/2 -> Q=2, R=0
*   Divide by 2: 2/2 -> Q=1, R=0
*   Divide by 2: 1/2 -> Q=0, R=1
*   Binary: 100011

**Example 2.12**
The following shows how to convert 126 in decimal to its equivalent in the octal system. We move to the right while continuously finding the quotients and the remainder of division by 8. The result is 126 = (176):
*   Decimal: 126
*   Divide by 8: 126/8 -> Q=15, R=6
*   Divide by 8: 15/8 -> Q=1, R=7
*   Divide by 8: 1/8 -> Q=0, R=1
*   Octal: 176

**Example 2.13**
The following shows how we convert 126 in decimal to its equivalent in the hexadecimal system. We move to the right while continuously finding the quotients and the remainder of division by 16. The result is 126 = (7E):
*   Decimal: 126
*   Divide by 16: 126/16 -> Q=7, R=14 (E)
*   Divide by 16: 7/16 -> Q=0, R=7
*   Hexadecimal: 7E

**Converting the fractional part**
The fractional part can be converted using repetitive multiplication. We call the fractional part of the decimal number the source and the fractional part of the converted number the destination. We first create an empty destination. We then repetitively multiply the source to get the result. The integral part of the result is inserted to the right of the destination, while the fractional part becomes the new source.

**Example 2.14**
Convert the decimal number 0.625 to binary.
Solution: Since the number 0.625 has no integral part, the example shows how the fractional part is calculated. The base here is 2. Write the decimal number at the left corner. Multiply the number continuously by 2 and record the integral and fractional part of the result. The fractional part moves to the right, and the integral part is recorded under each operation. Stop when the fractional part is 0 or there are enough bits. The result is (0.101):
*   0.625 * 2 = 1.25 -> I=1, F=0.25
*   0.25 * 2 = 0.50 -> I=0, F=0.50
*   0.50 * 2 = 1.00 -> I=1, F=0.00
*   Binary: .101

**Example 2.15**
The following shows how to convert 0.634 to octal using a maximum of four digits. The result is 0.634 = (0.5044). Note that we multiply by 8 (base octal):
*   0.634 * 8 = 5.072 -> I=5
*   0.072 * 8 = 0.576 -> I=0
*   0.576 * 8 = 4.608 -> I=4
*   0.608 * 8 = 4.864 -> I=4
*   Octal: .5044

**Example 2.16**
The following shows how to convert 178.6 in decimal to hexadecimal using only one digit to the right of the decimal point. The result is 178.6 = (B2.9) Note that we divide or multiply by 16 (base hexadecimal):
*   Integral part 178: 178/16 -> Q=11 (B), R=2 -> B2
*   Fractional part 0.6: 0.6 * 16 = 9.6 -> I=9
*   Hexadecimal: B2.9

**Example 2.17**
An alternative method for converting a small decimal integer (usually less than 256) to binary is to break the number as the sum of numbers that are equivalent to the binary place values. Using this table, we can convert 165 to binary (10100101) as shown below:
165 = 128 + 0 + 32 + 0 + 0 + 4 + 0 + 1 -> 10100101

**Example 2.18**
A similar method can be used to convert a decimal fraction to binary when the denominator is a power of two. Using this table, we convert 27/64 to binary (0.011011) as shown below:
27/64 = 0 + 1/4 + 1/8 + 0 + 1/32 + 1/64 -> 0.011011

**Number of digits**
We often need to know the number of digits before converting a number from decimal to other bases. In a positional number system with base b, we can always find the number of digits of an integer using the relation K = log_b N, in which x means the smallest integer greater than or equal to x (it is also called the ceiling of x), and N is the decimal value of the integer.

**Binaryhexadecimal conversion**
We can easily change a number from binary to hexadecimal and vice versa. The reason is that there is a relationship between the two bases: four bits in binary is one digit in hexadecimal.

**Example 2.19**
Show the hexadecimal equivalent of the binary number (10011100010).
Solution: We first arrange the binary number in 4-bit patterns: 100 1110 0010. Note that the leftmost pattern can have one to four bits. We then use the equivalent of each pattern shown in Table 2.2 in section 2.2.5 to change the number to hexadecimal: (4E2).

**Example 2.20**
What is the binary equivalent of (24C)?
Solution: Each hexadecimal digit is converted to 4-bit patterns: 2  0010, 4  0100, and C  1100. The result is (001001001100).

**Binaryoctal conversion**
We can easily convert a number from binary to octal and vice versa. The reason is that there is an interesting relationship between the two bases: three bits is one octal digit.

**Example 2.21**
Show the octal equivalent of the binary number (101110010).
Solution: Each group of three bits is translated into one octal digit. The equivalent of each 3bit group is shown in Table 2.2 in section 2.2.5. The result is (562).

**Example 2.22**
What is the binary equivalent of for (24)?
Solution: Write each octal digit as its equivalent bit pattern to get (010100).

**Octalhexadecimal conversion**
It is not difficult to convert a number in octal to hexadecimal or vice versa. We can use the binary system as the intermediate system.
*   To convert from octal to hexadecimal, we first convert the number in the octal system to binary. We then rearrange the bits in groups of four bits to find the hexadecimal equivalent.
*   To convert from hexadecimal to octal, we first convert the number in the hexadecimal system to binary. We then rearrange the bits in groups of three to find the octal equivalent.

**Number of digits**
In conversion from one base to another, we often need to know the minimum number of digits we need in the destination system if we know the maximum number of digits in the source system. In general, assume that we are using K digits in base b system. The maximum number we can represent in the source system is b  1. The maximum number we can have in the destination system is b  1. Therefore, b  1  b  1. This means x  K  (log b / log b).

**Example 2.23**
Find the minimum number of binary digits required to store decimal integers with a maximum of six digits.
Solution: K = 6, b = 10, and b = 2. Then x = 6  (log 10 / log 2) = 6  3.322 = 19.93 = 20.

## 2.3 NONPOSITIONAL NUMBER SYSTEMS
Although nonpositional number systems are not used in computers, we give a short review here for comparison with positional number systems. A **nonpositional number system** still uses a limited number of symbols in which each symbol has a value. However, the position a symbol occupies in the number normally bears no relation to its valuethe value of each symbol is fixed. To find the value of a number, we add the value of all symbols present in the representation.

**Example 2.24**
The **Roman number system** is a good example of a nonpositional number system. This system was invented by the Romans and was used until the sixteenth century in Europe. Roman numerals are still used in sports events, clock dials, and other applications. This number system has a set of symbols S = {I, V, X, L, C, D, M}. The values of each symbol are shown in Table 2.3.

**Table 2.3 Values of symbols in the Roman number system**
| Symbol | I | V | X | L | C | D | M |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| Value | 1 | 5 | 10 | 50 | 100 | 500 | 1000 |

To find the value of a number, we need to add the value of symbols subject to specific rules:
1.  When a symbol with a smaller value is placed after a symbol having an equal or larger value, the values are added.
2.  When a symbol with a smaller value is placed before a symbol having a larger value, the smaller value is subtracted from the larger one.
3.  A symbol S cannot come before another symbol S if S  10  S. For example, I or V cannot come before C.
4.  For large numbers a bar is placed above any of the six symbols (all symbols except I) to express multiplication by 1000. For example, V = 5000 and M = 1000000.
5.  Although Romans used the word *nulla* (nothing) to convey the concept of zero, the Roman numerals lack a zero digit in their system.

The following shows some Roman numbers and their values:
*   III  1 + 1 + 1 = 3
*   IV  5  1 = 4
*   VIII  5 + 1 + 1 + 1 = 8
*   XVIII  10 + 5 + 1 + 1 + 1 = 18
*   XIX  10 + (10  1) = 19
*   LXXII  50 + 10 + 10 + 1 + 1 = 72
*   CI  100 + 1 = 101
*   MMVII  1000 + 1000 + 5 + 1 + 1 = 2007
*   MDC  1000 + 500 + 100 = 1600

## 2.4 END-CHAPTER MATERIALS
### 2.4.1 Recommended reading
For more details about the subjects discussed in this chapter, the following books are recommended:
*   Stalling, W. *Computer Organization and Architecture*, Upper Saddle River, NJ: Prentice-Hall, 2000
*   Mano, M. *Computer System Architecture*, Upper Saddle River, NJ: Prentice-Hall, 1993
*   Null, L. and Lobur, J. *Computer Organization and Architecture*, Sudbury, MA: Jones and Bartlett, 2003
*   Brown, S. and Vranesic, Z. *Fundamentals of Digital Logic with Verilog Design*, New York: McGraw-Hill, 2003

### 2.4.2 Key terms
*   base
*   binary digit
*   binary system
*   bit
*   decimal digit
*   decimal system
*   hexadecimal digit
*   hexadecimal system
*   integer
*   nonpositional number system
*   number system
*   octal digit
*   octal system
*   place value
*   positional number system
*   radix
*   real
*   Roman number system

### 2.4.3 Summary
*   A number system (or numeral system) is a system that uses distinct symbols to represent a number. In a positional number system, the position a symbol occupies in the number determines the value it represents. Each position has a place value associated with it. A nonpositional number system uses a limited number of symbols in which each symbol has a value. However, the position a symbol occupies in the number normally bears no relation to its value: the value of each symbol is normally fixed.
*   In the decimal system, the base b = 10 and we use ten symbols to represent numbers. The symbols in this system are often referred to as decimal digits or just digits. In the binary system, the base b = 2 and we use only two symbols to represent numbers. The symbols in this system are often referred to as binary digits or bits. In a hexadecimal system, the base = 16 and we use 16 symbols to represent numbers. The symbols in this system are often referred to as hexadecimal digits. In an octal system, the base b = 8 and we use eight symbols to represent numbers. The symbols in this system are often referred to as octal digits.
*   We can convert a number in any system to decimal. We multiply each digit with its place value in the source system and add the result to get the number in the decimal system. We can convert a decimal number to its equivalent in any base using two different procedures, one for the integral part and one for the fractional part. The integral part needs repeated division and the fraction part needs repeated multiplication.
*   Conversion from the binary system to the hexadecimal system and from the hexadecimal system to the binary system is very easy, because four bits in the binary system are represented as one digit in the hexadecimal system.
*   Conversion from the binary system to the octal system and from the octal system to the binary system is very easy, because three bits in the binary system are represented as one digit in the octal system.
`,zh:`
# 



## 

- 
- 
-  10
-  2
-  16
-  8
- 
- 
- 
- 
- 

## 2.1 
**** (2A)  (52)  (42) *cheval* *equus*





## 2.2 
****

 (S ... S S S . S S ... S)b



n =  S  b + ... + S  b + S  b + S  b + S  b + ... + S  b

 S b ******** S S  S b  0  K - 1 -1  -Lb  b  

### 2.2.1  10
****decimal *decem* b = 10 S = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9}****   3 



 (S ... S S S . S S ... S)

 +(552.23)  552.23

****
****  S ... S S

N =  S  10 + S  10 + ... + S  10 + S  10 + S  10

 S b = 10 K 
**** 10 10, 10, ..., 10

** 2.1**
 +224 
*   10 10 10
*   2 2 4
*   N = + 2  10 + 2  10 + 4  10

 1  20 2  200

** 2.2**
 7508  1, 10, 100, 1000  10 
*   1000 100 10 1
*   7 5 0 8
*   N =  (7  1000 + 5  100 + 0  10 + 8  1)

****
 K  N_max = 10  1 K = 5 N_max = 10  1 = 99999

****
**** ($23.40)  S ... S S . S ... S

R =  S  10 + ... + S  10 + S  10 + S  10 + ... + S  10

 S b = 10 K L 

** 2.3**
 +24.13 
*   10 10 . 10 10
*   2 4 . 1 3
*   R = + 2  10 + 4  1 + 1  0.1 + 3  0.01

### 2.2.2  2
****binary *bini* b = 2 S = {0, 1}******** (bit) 3  1  0 

****
  (S ... S S)

N =  S  2 + S  2 + ... + S  2 + S  2 + S  2

 S b = 2 K 2, 2, ... 2

** 2.4**
 (11001)  25  2  2
*   2 2 2 2 2
*   1 1 0 0 1
*   N = 1  2 + 1  2 + 0  2 + 0  2 + 1  2
 N = 16 + 8 + 0 + 0 + 1 = 25

****
 K  N_max = 2  1 K = 5 N_max = 2  1 = 31

****
 K  L   (S ... S S . S ... S)

R =  S  2 x ... x S  2 x S  2 + S  2 + ... + S  2

 S b = 2 K L K  0  L  -1  K  1 -L

** 2.5**
 (101.11)  5.75
*   2 2 2 . 2 2
*   1 0 1 . 1 1
*   R = 1  2 + 0  2 + 1  2 + 1  2 + 1  2
 R = 4 + 0 + 1 + 0.5 + 0.25 = 5.75

### 2.2.3  16


****Hexadecimal *hex* *decem* *sexadecimal* *sex*  *decem* b = 16 16  S = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, F} A, B, C, D, E, F 10, 11, 12, 13, 14  15****

****
  S ... S S

N =  S  16 + S  16 + ... + S  16 + S  16 + S  16

 S b = 16 K 
16, 16, ..., 16

** 2.6**
 (2AE)  686
*   16 16 16
*   2 A E
*   N = 2  16 + 10  16 + 14  16
 N = 512 + 160 + 14 = 686

****
 K  N_max = 16  1 K = 5 N_max = 16  1 = 1048575

****


### 2.2.4  8
*****Octal*  *octo* b = 8 S = {0, 1, 2, 3, 4, 5, 6, 7}****

****
  S ... S S

N =  S  8 + S  8 + ... + S  8 + S  8 + S  8

 S b = 8 K 
8, 8, ..., 8

** 2.7**
 (1256)  686 
*   8 8 8 8
*   1 2 5 6
*   N = 1  8 + 2  8 + 5  8 + 6  8
 N = 512 + 128 + 40 + 6 = 686

****
 K  N_max = 8  1 K = 5 N_max = 8  1 = 32767

****


### 2.2.5 
 2.1 

** 2.1 **
|  |  |  |  |
| :--- | :--- | :--- | :--- |
|  | 10 | 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 | 2345.56 |
|  | 2 | 0, 1 | (1001.11) |
|  | 8 | 0, 1, 2, 3, 4, 5, 6, 7 | (156.23) |
|  | 16 | 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, F | (A2C.A1) |

 2.2  15 

** 2.2 **
|  |  |  |  |
| :--- | :--- | :--- | :--- |
| 0 | 0 | 0 | 0 |
| 1 | 1 | 1 | 1 |
| 2 | 10 | 2 | 2 |
| 3 | 11 | 3 | 3 |
| 4 | 100 | 4 | 4 |
| 5 | 101 | 5 | 5 |
| 6 | 110 | 6 | 6 |
| 7 | 111 | 7 | 7 |
| 8 | 1000 | 10 | 8 |
| 9 | 1001 | 11 | 9 |
| 10 | 1010 | 12 | A |
| 11 | 1011 | 13 | B |
| 12 | 1100 | 14 | C |
| 13 | 1101 | 15 | D |
| 14 | 1110 | 16 | E |
| 15 | 1111 | 17 | F |

### 2.2.6 


****


** 2.8**
 (110.11) (110.11) = 6.75
*   1 1 0 . 1 1
*   2 2 2 . 2 2
*   4 + 2 + 0 + 0.5 + 0.25
*   6.75

** 2.9**
 (1A.23) 
*   1 A . 2 3
*   16 16 . 16 16
*   16 + 10 + 0.125 + 0.012
*   26.137
 3  16 = 0.01171875 (0.012)(1A.23)  26.137

** 2.10**
 (23.17) 
*   2 3 . 1 7
*   8 8 . 8 8
*   16 + 3 + 0.125 + 0.109
*   19.234
 (23.17)  19.234 () 7  8 = 0.109375 

****


****


** 2.11**
 35  2  35 = (100011)
*   35
*    235/2 -> =17, =1
*    217/2 -> =8, =1
*    28/2 -> =4, =0
*    24/2 -> =2, =0
*    22/2 -> =1, =0
*    21/2 -> =0, =1
*   100011

** 2.12**
 126  8  126 = (176)
*   126
*    8126/8 -> =15, =6
*    815/8 -> =1, =7
*    81/8 -> =0, =1
*   176

** 2.13**
 126  16  126 = (7E)
*   126
*    16126/16 -> =7, =14 (E)
*    167/16 -> =0, =7
*   7E

****


** 2.14**
 0.625 
 0.625  2 2 0  (0.101)
*   0.625 * 2 = 1.25 -> I=1, F=0.25
*   0.25 * 2 = 0.50 -> I=0, F=0.50
*   0.50 * 2 = 1.00 -> I=1, F=0.00
*   .101

** 2.15**
 0.634  0.634 = (0.5044) 8
*   0.634 * 8 = 5.072 -> I=5
*   0.072 * 8 = 0.576 -> I=0
*   0.576 * 8 = 4.608 -> I=4
*   0.608 * 8 = 4.864 -> I=4
*   .5044

** 2.16**
 178.6  178.6 = (B2.9)  16
*    178178/16 -> =11 (B), =2 -> B2
*    0.60.6 * 16 = 9.6 -> I=9
*   B2.9

** 2.17**
 256 165  (10100101)
165 = 128 + 0 + 32 + 0 + 0 + 4 + 0 + 1 -> 10100101

** 2.18**
 2  27/64  (0.011011)
27/64 = 0 + 1/4 + 1/8 + 0 + 1/32 + 1/64 -> 0.011011

****
 b  K = log_b N  x  x  x N 

****


** 2.19**
 (10011100010) 
 4 100 1110 0010 2.2.5  2.2 (4E2)

** 2.20**
(24C) 
 4 2  0010, 4  0100,  C  1100 (001001001100)

****


** 2.21**
 (101110010) 
 3  2.2.5  2.2  (562)

** 2.22**
(24) 
 (010100)

****

*   
*   

****
 b  K  b  1 b  1b  1  b  1 x  K  (log b / log b)

** 2.23**

K = 6, b = 10,  b = 2 x = 6  (log 10 / log 2) = 6  3.322 = 19.93 = 20

## 2.3 
****

** 2.24**
**** S = {I, V, X, L, C, D, M} 2.3 

** 2.3 **
|  | I | V | X | L | C | D | M |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
|  | 1 | 5 | 10 | 50 | 100 | 500 | 1000 |


1.  
2.  
3.   S  10  S S  S I  V  C 
4.   I  1000V = 5000  M = 1000000
5.   *nulla*


*   III  1 + 1 + 1 = 3
*   IV  5  1 = 4
*   VIII  5 + 1 + 1 + 1 = 8
*   XVIII  10 + 5 + 1 + 1 + 1 = 18
*   XIX  10 + (10  1) = 19
*   LXXII  50 + 10 + 10 + 1 + 1 = 72
*   CI  100 + 1 = 101
*   MMVII  1000 + 1000 + 5 + 1 + 1 = 2007
*   MDC  1000 + 500 + 100 = 1600

## 2.4 
### 2.4.1 

*   Stalling, W. *Computer Organization and Architecture*, Upper Saddle River, NJ: Prentice-Hall, 2000
*   Mano, M. *Computer System Architecture*, Upper Saddle River, NJ: Prentice-Hall, 1993
*   Null, L. and Lobur, J. *Computer Organization and Architecture*, Sudbury, MA: Jones and Bartlett, 2003
*   Brown, S. and Vranesic, Z. *Fundamentals of Digital Logic with Verilog Design*, New York: McGraw-Hill, 2003

### 2.4.2 
*    (base)
*    (binary digit)
*    (binary system)
*    (bit)
*    (decimal digit)
*    (decimal system)
*    (hexadecimal digit)
*    (hexadecimal system)
*    (integer)
*    (nonpositional number system)
*    (number system)
*    (octal digit)
*    (octal system)
*    (place value)
*    (positional number system)
*    (radix)
*    (real)
*    (Roman number system)

### 2.4.3 
*   
*    b = 10 b = 2 = 16 16  b = 8
*   
*   
*   
`},sN={en:`
# Chapter 3: Data Storage

As discussed in Chapter 1, a computer is a programmable data processing machine. Before we can talk about processing data, we need to understand the nature of data. In this chapter we discuss different data types and how they are stored inside a computer. In Chapter 4, we show how data is manipulated inside a computer.

## Objectives
After studying this chapter, the student should be able to:
- List five different data types used in a computer.
- Describe how different data is stored inside the computer as bit patterns.
- Describe how integers are stored in a computer using unsigned format.
- Describe how integers are stored in a computer using sign-and-magnitude format.
- Describe how integers are stored in twos complement format.
- Describe how reals are stored in a computer using floating-point format.
- Describe how text is stored in a computer using one of the various encoding systems.
- Describe how audio is stored in a computer using sampling, quantization, and encoding.
- Describe how images are stored in a computer using raster and vector graphics schemes.
- Describe how video is stored in a computer as a representation of images changing in time.

## 3.1 DATA TYPES
Data today come in different forms including numbers, text, audio, images, and video (Figure 3.1).
People need to be able to process many different types of data:
- An engineering program uses a computer mainly to process numbers: to do arithmetic, to solve algebraic or trigonometric equations, to find the roots of a differential equation, and so on.
- A word processing program, on the other hand, uses a computer mainly to process text: justify, move, delete, and so on.
- A computer also handles audio data. We can play music on a computer and can record sound as data.
- An image processing program uses a computer to manipulate images: create, shrink, expand, rotate, and so on.
- Finally, a computer can be used not only to show movies, but also to create the special effects seen in movies.

The computer industry uses the term **'multimedia'** to define information that contains numbers, text, audio, images, and video.

### 3.1.1 Data inside the computer
All data types are transformed into a uniform representation when they are stored in a computer and transformed back to their original form when retrieved. This universal representation is called a **bit pattern**, as discussed shortly.

#### Bits
A **bit** (binary digit) is the smallest unit of data that can be stored in a computer and has a value of 0 or 1. A bit represents the state of a device that can take one of two states. For example, a switch can be on or off. A convention can be established to represent the on state as 1 and the off state as 0, or vice versa. In this way, a switch can store one bit of information. Today, computers use various two-state devices to store data.

#### Bit patterns
To represent different types of data, we use a **bit pattern**, a sequence, or as it is sometimes called, a string of bits. Figure 3.2 shows a bit pattern made up of sixteen bits. It is a combination of sixteen 0s and 1s. This means that if we need to store a bit pattern made of sixteen bits, we need sixteen electronic switches. If we need to store 1000 bit patterns, each sixteen bits long, we need 16 000 switches, and so on. By tradition a bit pattern with eight bits is called a **byte**. Sometimes the term **word** is used to refer to a longer bit pattern.

As Figure 3.3 shows, a piece of data belonging to different data types can be stored as the same pattern in the memory.

If we are using a **text editor** (a word processor), the character A typed on the keyboard can be stored as the 8-bit pattern 01000001. The same 8-bit pattern can represent the number 65 if we are using a mathematical routine. Moreover, the same pattern can represent part of an image, part of a song, or part of a scene in a film. The computers memory stores all of them without recognizing what type of data they represent.

### 3.1.2 Data compression
To occupy less memory space, data is normally compressed before being stored in the computer. Data compression is a very broad and involved subject, so we have dedicated the whole of Chapter 15 to this subject.

### 3.1.3 Error detection and correction
Another issue related to data is the detection and correction of errors during transmission or storage. We discuss this issue briefly in Appendix H.

## 3.2 STORING NUMBERS
A number is changed to the binary system before being stored in the computer memory, as described in Chapter 2. However, there are still two issues that need to be handled:
1.  How to store the sign of the number.
2.  How to show the decimal point.

There are several ways to handle the sign issue, discussed later in this chapter. For the decimal point, computers use two different representations: **fixed-point** and **floating-point**. The first is used to store a number as an integerwithout a fractional part, the second is used to store a number as a realwith a fractional part.

### 3.2.1 Storing integers
Integers are whole numbers (numbers without a fractional part). For example, 134 and -125 are integers, whereas 134.23 and -0.235 are not. An integer can be thought of as a number in which the position of the decimal point is fixed: the decimal point is to the right of the least significant (rightmost) bit. For this reason, **fixed-point representation** is used to store an integer, as shown in Figure 3.4. In this representation the decimal point is assumed but not stored.

However, a user (or a program) may store an integer as a real with the fractional part set to zero. This may happen, for example, if an integer is too large to be stored in the size defined for an integer. To use computer memory more efficiently, unsigned and signed integers are stored inside the computer differently.

**An integer is normally stored in memory using fixed-point representation.**

#### Unsigned representation
An **unsigned integer** is an integer that can never be negative and can take only 0 or positive values. Its range is between 0 and positive infinity. However, since no computer can possibly represent all the integers in this range, most computers define a constant called the **maximum unsigned integer**, which has the value of $(2^n - 1)$ where $n$ is the number of bits allocated to represent an unsigned integer.

**Storing unsigned integers**
An input device stores an unsigned integer using the following steps:
1.  The integer is changed to binary.
2.  If the number of bits is less than $n$, 0s are added to the left of the binary integer so that there is a total of $n$ bits. If the number of bits is greater than $n$, the integer cannot be stored. A condition referred to as **overflow** will occur, which we discuss later.

> **Example 3.1**
> Store 7 in an 8-bit memory location using unsigned representation.
>
> **Solution**
> First change the integer to binary, $(111)_2$. Add five 0s to make a total of eight bits, $(00000111)_2$. The integer is stored in the memory location. Note that the subscript 2 is used to emphasize that the integer is binary, but the subscript is not stored in the computer:
> Change 7 to binary  1 1 1
> Add five bits at the left  0 0 0 0 0 1 1 1

> **Example 3.2**
> Store 258 in a 16-bit memory location.
>
> **Solution**
> First change the integer to binary $(100000010)_2$. Add seven 0s to make a total of sixteen bits $(0000000100000010)_2$. The integer is stored in the memory location:
> Change 258 to binary  1 0 0 0 0 0 0 1 0
> Add seven bits at the left  0 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0

**Retrieving unsigned integers**
An output device retrieves a bit string from memory as a bit pattern and converts it to an unsigned decimal integer.

> **Example 3.3**
> What is returned from an output device when it retrieves the bit string 00101011 stored in the memory as an unsigned integer?
>
> **Solution**
> Using the procedure shown in Chapter 2, the binary integer is converted to the unsigned integer 43.

**Overflow**
Due to size limitationsthe allocated number of bitsthe range of integers that can be represented is limited. In an $n$-bit memory location we can only store an unsigned integer between 0 and $2^n - 1$. Figure 3.5 shows what happens if we try to store an integer that is larger than $2^4 - 1 = 15$ in a memory location that can only hold four bits. This situation, called **overflow**, happens when, for example, we have stored the integer 11 in a memory location and then try to add 9 to the integer. The minimum number of bits we need to represent the decimal 20 is five bits. In other words, $20 = (10100)_2$, so the computer drops the leftmost bit and keeps the rightmost four bits $(0100)_2$. People are surprised when they see that the new integer is printed as 4 instead of 20. Figure 3.5 shows why this happens.

**Applications of unsigned integers**
Unsigned integer representation can improve the efficiency of storage because we do not need to store the sign of the integer. This means that the entire bit allocation can be used for storing the number. Unsigned integer representation can be used whenever we do not need negative integers. The following lists some cases:
- **Counting.** When we count, we do not need negative numbers. We start counting from 1 (sometimes 0) and go up.
- **Addressing.** Some computer programs store the address of a memory location inside another memory location. Addresses are positive integers starting from 0 (the first memory location) and going up to an integer representing the total memory capacity. Here again, we do not need negative integersunsigned integers can easily do the job.
- **Storing other data types.** Other data types (text, images, audio, and video), as we will discuss shortly, are stored as bit patterns, which can be interpreted as unsigned integers.

#### Sign-and-magnitude representation
Although the **sign-and-magnitude representation** format is not commonly used to store integers, this format is used to store part of a real number in a computer, as described in the next section. For this reason we briefly discuss this format here. In this method, the available range for unsigned integers ($0$ to $2^n - 1$) is divided into two equal subranges. The first half represents positive integers, the second half, negative integers. For example, if $n$ is 4, the range is 0000 to 1111. This range is divided into two halves: 0000 to 0111 and 1000 to 1111 (Figure 3.6). The bit patterns are then assigned to negative and positive integers. Note that the negative numbers appear to the right of the positive numbers, which is contrary to conventional thinking about positive and negative numbers. Also note that we have two 0s: positive zero (0000) and negative zero (1000).

Storing an integer in sign-and-magnitude format requires 1 bit to represent the sign (0 for positive, 1 for negative). This means that in an 8-bit allocation, we can only use seven bits to represent the absolute value of the number (number without the sign). Therefore, the maximum positive value is one half the unsigned value. The range of numbers that can be stored in an $n$-bit location is $-(2^{n-1} -1)$ to $+ (2^{n-1} -1)$. In an $n$-bit allocation, the leftmost bit is dedicated to store the sign (0 for positive, 1 for negative).

**In sign-and-magnitude representation, the leftmost bit defines the sign of the integer. If it is 0, the integer is positive. If it is 1, the integer is negative.**

> **Example 3.4**
> Store +28 in an 8-bit memory location using sign-and-magnitude representation.
>
> **Solution**
> The integer is changed to 7-bit binary. The leftmost bit is set to 0. The 8-bit number is stored:
> Change 28 to 7-bit binary: 0 0 1 1 1 0 0
> Add the sign and store: 0 0 0 1 1 1 0 0

> **Example 3.5**
> Store -28 in an 8-bit memory location using sign-and-magnitude representation.
>
> **Solution**
> The integer is changed to 7-bit binary. The leftmost bit is set to 1. The 8-bit number is stored:
> Change 28 to 7-bit binary: 0 0 1 1 1 0 0
> Add the sign and store: 1 0 0 1 1 1 0 0

> **Example 3.6**
> Retrieve the integer that is stored as 01001101 in sign-and-magnitude representation.
>
> **Solution**
> Since the leftmost bit is 0, the sign is positive. The rest of the bits (1001101) are changed to decimal as 77. After adding the sign, the integer is +77.

> **Example 3.7**
> Retrieve the integer that is stored as 10100001 in sign-and-magnitude representation.
>
> **Solution**
> Since the leftmost bit is 1, the sign is negative. The rest of the bits (0100001) are changed to decimal as 33. After adding the sign, the integer is -33.

**Overflow in sign-and-magnitude representation**
Like unsigned integers, signed integers are also subjected to overflow. However, in this case, we may have both positive and negative overflow. Figure 3.7 shows both positive and negative overflow when storing an integer in sign-and-magnitude representation using a 4-bit memory location. Positive overflow occurs when we try to store a positive integer larger than 7. For example, assume that we have stored integer 5 in a memory location and we then try to add 6 to the integer. We expect the result to be 11, but the computers response is 3. The reason is that if we start from 5 on a circular representation and go six units in the clockwise direction, we end up at 3. A positive overflow wraps the integer back to the range.
A negative overflow can happen when we try to store a integer that is less than 7, for example if we have stored the integer 5 in a memory and try to subtract 7 from it. We expect the result to be 12, but the computers response is +6. The reason is that if we start from 5 on a circular representation and go seven units in the counterclockwise direction, we end up at +6.

**There are two 0s in sign-and-magnitude representation: +0 and 0.**

**Applications of sign-and-magnitude representation**
Sign-and-magnitude representation is not used to store integers. However, it is used to store part of real numbers, as we will see shortly. In addition, sign-and-magnitude representation is often used when we quantize an analog signal, such as audio.

#### Twos complement representation
Almost all computers use **twos complement representation** to store a signed integer in an $n$-bit memory location. In this method, the available range for an unsigned integer of ($0$ to $2^n - 1$) is divided into two equal subranges. The first subrange is used to represent nonnegative integers, the second half to represent negative integers. For example, if $n$ is 4, the range is 0000 to 1111. This range is divided into two halves: 0000 to 0111 and 1000 to 1111. The two halves are swapped to be in agreement with the common convention of showing negative integers to the left of positive integers. The bit patterns are then assigned to negative and nonnegative (zero and positive) integers as shown in Figure 3.8.

Although the sign of the integer affects every bit in the binary integer stored, the first (leftmost) bit determines the sign. If the leftmost bit is 0, the integer is nonnegative: if the leftmost bit is 1, the integer is negative.

**In twos complement representation, the leftmost bit defines the sign of the integer. If it is 0, the integer is positive. If it is 1, the integer is negative.**

**Two operations**
Before we discuss this representation further, we need to introduce two operations. The first is called *ones completing* or *taking the ones complement of an integer*. The operation can be applied to any integer, positive or negative. This operation simply reverses (flips) each bit. A 0-bit is changed to a 1-bit, a 1-bit is changed to a 0-bit.

> **Example 3.8**
> The following shows how we take the **ones complement** of the integer 00110110:
> Original pattern: 0 0 1 1 0 1 1 0
> After applying ones complement operation: 1 1 0 0 1 0 0 1

> **Example 3.9**
> The following shows that we get the original integer if we apply the ones complement operations twice:
> Original pattern: 0 0 1 1 0 1 1 0
> Ones complementing once: 1 1 0 0 1 0 0 1
> Ones complementing twice: 0 0 1 1 0 1 1 0

The second operation is called *twos completing* or *taking the twos complement of an integer* in binary. This operation is done in two steps. First, we copy bits from the right until a 1 is copied, Then, we flip the rest of the bits.

> **Example 3.10**
> The following shows how we take the **twos complement** of the integer 00110100:
> Original integer: 0 0 1 1 0 1 0 0
> Twos complementing once: 1 1 0 0 1 1 0 0

> **Example 3.11**
> The following shows that we always get the original integer if we apply the twos complement operation twice:
> Original integer: 0 0 1 1 0 1 0 0
> Twos complementing once: 1 1 0 0 1 1 0 0
> Twos complementing twice: 0 0 1 1 0 1 0 0

An alternative way to take the twos complement of an integer is to first take the ones complement and then add 1 to the result (see Chapter 4 for binary addition).

**Storing an integer in twos complement format**
To store an integer in twos complement representation, the computer follows the steps below:
- The absolute value of the integer is changed to an $n$-bit binary.
- If the integer is positive or zero, it is stored as it is: if it is negative, the computer takes the twos complement of the integer and then stores it.

**Retrieving an integer in twos complement format**
To retrieve an integer in twos complement representation, the computer follows the steps below:
- If the leftmost bit is 1, the computer applies the twos complement operation to the integer. If the leftmost bit is 0, no operation is applied.
- The computer changes the integer to decimal.

> **Example 3.12**
> Store the integer 28 in an 8-bit memory location using twos complement representation.
>
> **Solution**
> The integer is positive (no sign means positive), so after decimal to binary transformation no more action is needed. Note that three extra 0s are added to the left of the integer to make it eight bits:
> Change 28 to 8-bit binary: 0 0 0 1 1 1 0 0

> **Example 3.13**
> Store -28 in an 8-bit memory location using twos complement representation.
>
> **Solution**
> The integer is negative, so after changing to binary, the computer applies the twos complement operation on the integer:
> Change 28 to 8-bit binary: 0 0 0 1 1 1 0 0
> Apply twos complement operation: 1 1 1 0 0 1 0 0

> **Example 3.14**
> Retrieve the integer that is stored as 00001101 in memory in twos complement format.
>
> **Solution**
> The leftmost bit is 0, so the sign is positive. The integer is changed to decimal and the sign is added:
> Leftmost bit is 0. The sign is positive. 0 0 0 0 1 1 0 1
> Integer changed to decimal: 13
> Sign is added: +13

> **Example 3.15**
> Retrieve the integer that is stored as 11100110 in memory using twos complement format.
>
> **Solution**
> The leftmost bit is 1, so the integer is negative. The integer needs to be twos complemented before changing to decimal:
> Leftmost bit is 1. The sign is negative. 1 1 1 0 0 1 1 0
> Apply twos complement operation. 0 0 0 1 1 0 1 0
> Integer changed to decimal. 26
> Sign is added. -26

A very interesting point about twos complement is that there is only one zero in this representation. In sign-and-magnitude representation, there are two zeros (+0 and -0).

**There is only one zero in twos complement notation.**

**Overflow in twos complement notation**
Like other representations, integers stored in twos complement format are also subject to overflow. Figure 3.9 shows both positive and negative overflow when storing a signed integer in a 4-bit memory location. Positive overflow occurs when we try to store a positive integer larger than 7. For example, assume that we have stored an integer value 5 in a memory location and we then try to add 6 to the integer. We expect the result to be 11, but the computers response is 5. The reason is if we start from 5 on the circular representation and move six units in the clockwise direction, we end up at 5. The positive overflow wraps the integer back to the range.
A negative overflow can happen when we try to store an integer that is less than 8, for example if we have stored 3 and try to subtract 7 from it. We expect the result to be 10, but the computers response is +6. The reason is that if we start from 3 on a circular representation and go seven units in the counterclockwise direction, we end up at +6.

**Applications of twos complement notation**
Twos complement representation is the standard representation for storing integers in computers today. In the next chapter we will see why this is the case when we see the simplicity of operations using twos complement.

### 3.2.2 Comparison of the three systems
Table 3.1 shows a comparison between unsigned, twos complement, and sign-and-magnitude integers. A 4-bit memory location can store an unsigned integer between 0 and 15, and the same location can store twos complement signed integers between -8 and +7. It is very important that we store and retrieve an integer in the same format. For example, if the integer 13 is stored in signed format, it needs to be retrieved in signed format: the same integer is retrieved as -3 in twos complement format.

**Table 3.1 Summary of integer representations**

| Contents of memory | Unsigned | Sign-and-magnitude | Twos complement |
| :--- | :--- | :--- | :--- |
| 0000 | 0 | 0 | +0 |
| 0001 | 1 | 1 | +1 |
| 0010 | 2 | 2 | +2 |
| 0011 | 3 | 3 | +3 |
| 0100 | 4 | 4 | +4 |
| 0101 | 5 | 5 | +5 |
| 0110 | 6 | 6 | +6 |
| 0111 | 7 | 7 | +7 |
| 1000 | 8 | -0 | -8 |
| 1001 | 9 | -1 | -7 |
| 1010 | 10 | -2 | -6 |
| 1011 | 11 | -3 | -5 |
| 1100 | 12 | -4 | -4 |
| 1101 | 13 | -5 | -3 |
| 1110 | 14 | -6 | -2 |
| 1111 | 15 | -7 | -1 |

### 3.2.3 Storing reals
A **real** is a number with an integral part and a fractional part. For example, 23.7 is a real numberthe integral part is 23 and the fractional part is 7/10. Although a fixed-point representation can be used to represent a real number, the result may not be accurate or it may not have the required precision. The next two examples explain why.

> **Example 3.16**
> In the decimal system, assume that we use a fixed-point representation with two digits at the right of the decimal point and fourteen digits at the left of the decimal point, for a total of sixteen digits. The precision of a real number in this system is lost if we try to represent a decimal number such as 1.00234: the system stores the number as 1.00.

> **Example 3.17**
> In the decimal system, assume that we use a fixed-point representation with six digits to the right of the decimal point and ten digits for the left of the decimal point, for a total of sixteen digits. The accuracy of a real number in this system is lost if we try to represent a decimal number such as 236154302345.00. The system stores the number as 6154302345.00: the integral part is much smaller than it should be.

**Real numbers with very large integral parts or very small fractional parts should not be stored in fixed-point representation.**

#### Floating-point representation
The solution for maintaining accuracy or precision is to use **floating-point representation**. This representation allows the decimal point to float: we can have different numbers of digits to the left or right of the decimal point. The range of real numbers that can be stored using this method increases tremendously: numbers with large integral parts or small fractional parts can be stored in memory. In floating-point representation, either decimal or binary, a number is made up of three sections, as shown in Figure 3.10.

The first section is the sign, either positive or negative. The second section shows how many places the decimal point should be shifted to the right or left to form the actual number. The third section is a fixed-point representation in which the position of the decimal is fixed.

**A floating-point representation of a number is made up of three parts: a sign, a shifter, and a fixed-point number.**

Floating-point representation is used in science to represent very small or very large decimal numbers. In this representation, which is called **scientific notation**, the fixed-point section has only one digit to the left of the decimal point and the shifter is the power of 10.

> **Example 3.18**
> The following shows the decimal number 7425000000000000000000.00 in scientific notation (floating-point representation):
>
> **Solution**
> Actual number  + 7425000000000000000000.00
> Scientific notation  + 7.425  10

The three sections are the sign (+), the shifter (21), and the fixed-point part (7.425). Note that the shifter is the exponent. We can easily see the advantage of this. Even if we just want to write the number on a piece of paper, the scientific notation is shorter and takes less space. The notation uses the concept of floating-point because the position of the decimal point, which is near the right-hand end in the example, has moved 21 digits to the left to make the fixed-point part of the number. Some programming languages and calculators show the number as +7.425E21 because the base 10 is understood and does not need to be mentioned.

> **Example 3.19**
> Show the number -0.0000000000000232 in scientific notation.
>
> **Solution**
> We use the same approach as in the previous examplewe move the decimal point after the digit 2, as shown below:
> Actual number  - 0.0000000000000232
> Scientific notation  - 2.32  10
> Note that the exponent is negative here because the decimal point in 2.32 needs to move to the left (fourteen positions) to form the original number. Again, we can say that the number in this notation is made of three parts: sign (-), the real number (2.32), and the negative integer (-14). Some programming languages and calculators show this as -2.32E-14.

Similar approaches have been used to represent very large or very small numbers (both integers and reals) in binary, to be stored in computers.

> **Example 3.20**
> Show the number $(101001000000000000000000000000000.00)_2$ in floating-point format.
>
> **Solution**
> We use the same idea, keeping only one digit to the left of the decimal point:
> Actual number  + $(101001000000000000000000000000000.00)_2$
> Scientific notation  + $1.01001  2^{32}$

Note that we dont have to worry about all those 0s at the right of the rightmost 1, because they are not significant when we use the real $(1.01001)_2$. The exponent is shown as 32, but it is actually stored in the computer in binary, as we will see shortly. We have also shown the sign as positive, but it would be stored as one bit.

> **Example 3.21**
> Show the number $-(0.00000000000000000000000101)_2$ in floating-point format.
>
> **Solution**
> We use the same idea, keeping only one non zero digit on the left-hand side of the decimal point:
> Actual number  - $(0.00000000000000000000000101)_2$
> Scientific notation  - $1.01  2^{-24}$
> Note that exponent is stored as a negative binary in the computer.

**Normalization**
To make the fixed part of the representation uniform, both the scientific method (for the decimal system) and the floating-point method (for the binary system) use only one non-zero digit on the left of the decimal point. This is called **normalization**. In the decimal system this digit can be 1 to 9, while in the binary system it can only be 0 or 1. In the following, d is a non zero digit, x is a digit, and y is either 0 or 1:
Decimal  d.xxxxxxxxxxxxxx (Note: d is 1 to 9 and each x is 0 to 9)
Binary  1.yyyyyyyyyyyyyy (Note: each y is 0 or 1)

**Sign, exponent, and mantissa**
After a binary number is normalized, only three pieces of information about the number are stored: sign, exponent, and mantissa (the bits to the right of the decimal point). For example, +1000111.0101 becomes:
Sign: + (1)
Exponent: $2^6$ (6)
Mantissa: $1.0001110101$ ($0001110101$)

**Note that the point and the bit 1 to the left of the fixed-point section are not storedthey are implicit.**

**Sign**
The sign of the number can be stored using 1 bit (0 or 1).

**Exponent**
The exponent (power of 2) defines the shifting of the decimal point. Note that the power can be negative or positive. The **Excess representation** (discussed later) is the method used to store the exponent.

**Mantissa**
The **mantissa** is the binary integer to the right of the decimal point. It defines the precision of the number. The mantissa is stored in fixed-point notation. If we think of the mantissa and the sign together, we can say this combination is stored as an integer in sign-and-magnitude format. However, we need to remember that it is not an integerit is a fractional part that is stored like an integer. We emphasize this point because in a mantissa, if we insert extra 0s to the right of the number, the value will not change, whereas in a real integer if we insert extra 0s to the left of the number, the value will not change.

**The mantissa is a fractional part that, together with the sign, is treated like an integer stored in sign-and-magnitude representation.**

**The Excess system**
The mantissa can be stored as an unsigned integer. The exponent, the power that shows how many bits the decimal point should be moved to the left or right, is a signed number. Although this could have been stored using twos complement representation, a new representation, called the Excess system, is used instead. In the Excess system, both positive and negative integers are stored as unsigned integers. To represent a positive or negative integer, a positive integer (called a bias) is added to each number to shift them uniformly to the nonnegative side. The value of this bias is $2^{m-1} - 1$, where $m$ is the size of the memory location to store the exponent.

> **Example 3.22**
> We can express sixteen integers in a number system with 4-bit allocation. Using one location for 0 and splitting the other fifteen (not quite equally) we can express integers in the range of -7 to 8, as shown in Figure 3.11. By adding seven units to each integer in this range, we can uniformly translate all integers to the right and make all of them positive without changing the relative position of the integers with respect to each other, as shown in the figure. The new system is referred to as Excess-7, or biased representation with biasing value of 7.

The advantage of this new representation compared to that before the translation is that all integers in the Excess system are positive, so we dont need to be concerned about the sign when we are comparing or doing operations on the integers. For 4-bit allocation, the bias is $2^{4-1} -1 = 7$, as we expected.

**IEEE standards**
The Institute of Electrical and Electronics Engineers (IEEE) has defined several standards for storing floating-point numbers. We discuss the two most common ones here, single precision and double precision. These formats are shown in Figure 3.12. The numbers above the boxes are the number of bits for each field.

**Single-precision** format uses a total of 32 bits to store a real number in floating-point representation. The sign occupies one bit (0 for positive and 1 for negative), the exponent occupies eight bits (using a bias of 127), the mantissa uses 23 bits (unsigned number). This standard is sometimes referred to as **Excess_127** because the bias is 127.

**Double-precision** format uses a total of 64 bits to store a real number in floating-point representation. The sign occupies one bit, the exponent occupies eleven bits (using a bias of 1023), and the mantissa uses 52 bits. The standard is sometimes referred to as **Excess_1023** because the bias is 1023. Table 3.2 summarizes the specification of the two standards.

**Table 3.2 Specifications of the two IEEE floating-point standards**

| Parameter | Single Precision | Double Precision |
| :--- | :--- | :--- |
| Memory location size (number of bits) | 32 | 64 |
| Sign size (number of bits) | 1 | 1 |
| Exponent size (number of bits) | 8 | 11 |
| Mantissa size (number of bits) | 23 | 52 |
| Bias (integer) | 127 | 1023 |

**Storage of IEEE standard floating-point numbers**
A real number can be stored in one of the IEEE standard floating-point formats using the following procedure, with reference to Figure 3.12:
- Store the sign in S (0 or 1).
- Change the number to binary.
- Normalize.
- Find the values of E and M.
- Concatenate S, E, and M.

> **Example 3.23**
> Show the Excess_127 (single precision) representation of the decimal number 5.75.
>
> **Solution**
> a. The sign is positive, so S = 0.
> b. Decimal to binary transformation: 5.75 = $(101.11)_2$.
> c. Normalization: $(101.11)_2 = (1.0111)_2 	imes 2^2$.
> d. E = 2 + 127 = 129 = $(10000001)_2$, M = 0111. We need to add 19 zeros at the right of M to make it 23 bits.
> e. The presentation is shown below:
> S: 0
> E: 10000001
> M: 01110000000000000000000
> The number is stored in the computer as 01000000101110000000000000000000.

> **Example 3.24**
> Show the Excess_127 (single precision) representation of the decimal number 161.875.
>
> **Solution**
> a. The sign is negative, so S = 1.
> b. Decimal to binary transformation: 161.875 = $(10100001.111)_2$.
> c. Normalization: $(10100001.111)_2 = (1.0100001111)_2 	imes 2^7$.
> d. E = 7 + 127 = 134 = $(10000110)_2$ and M = $(0100001111)_2$.
> e. Representation:
> S: 1
> E: 10000110
> M: 01000011110000000000000
> The number is stored in the computer as 11000011010000111100000000000000.

> **Example 3.25**
> Show the Excess_127 (single precision) representation of the decimal number 0.0234375.
>
> **Solution**
> a. S = 1 (the number is negative).
> b. Decimal to binary transformation: 0.0234375 = $(0.0000011)_2$.
> c. Normalization: $(0.0000011)_2 = (1.1)_2 	imes 2^{-6}$.
> d. E = 6 + 127 = 121 = $(01111001)_2$ and M = $(1)_2$.
> e. Representation:
> S: 1
> E: 01111001
> M: 10000000000000000000000
> The number is stored in the computer as 10111100110000000000000000000000.

**Retrieving numbers stored in IEEE standard floating-point format**
A number stored in one of the IEEE floating-point formats can be retrieved using the following method:
- Find the value of S, E, and M.
- If S = 0, set the sign to positive, otherwise, set the sign to negative.
- Find the shifter (E -127).
- Denormalize the mantissa.
- Change the denormalized number to binary to find the absolute value.
- Add the sign.

> **Example 3.26**
> The bit pattern $(11001010000000000111000100001111)_2$ is stored in memory in Excess_127 format. Show what is the value of the number in decimal notation.
>
> **Solution**
> a. The first bit represents S, the next eight bits, E and the remaining 23 bits, M:
> S: 1
> E: 10010100
> M: 00000000111000100001111
> b. The sign is negative.
> c. The shifter = E - 127 = 148 - 127 = 21.
> d. Denormalization gives us $(1.00000000111000100001111)_2 	imes 2^{21}$.
> e. The binary number is $(1000000001110001000011.11)_2$.
> f. The absolute value is 2104378.75.
> g. The number is -2104378.75.

> **Example 3.27**
> The bit pattern 01000011111000000000000000000000 is stored in memory in Excess_127 format. Show the value of the number in decimal notation.
>
> **Solution**
> a. The first bit represents S, the next eight bits E, and the remaining 23 bits, M:
> S: 0
> E: 10000111
> M: 11000000000000000000000
> b. The sign is positive.
> c. The shifter = E - 127 = 135 - 127 = 8.
> d. Denormalization gives us $(1.11000000000000000000000)_2 	imes 2^8$.
> e. The binary number is $(111000000.00)_2$.
> f. The absolute value is 448.
> g. The number is +448.

**Overflow and underflow**
In the case of floating-point numbers, we can have both an **overflow** and **underflow**. Figure 3.13 shows the ranges of floating-point representations using 32-bit memory locations (Excess_127). This representation cannot store numbers with very small or very large absolute values. An attempt to store numbers with very small absolute values results in an underflow condition, while an attempt to store numbers with very large absolute values results to an overflow condition. We leave the calculation of boundary values (+largest, -largest, +smallest, and -smallest) as problems.

**Storing zero**
You may have noticed that a real number with an integral part and the fractional part set to zero, that is, 0.0, cannot be stored using the steps discussed above. To handle this special case, it is agreed that in this case the sign, exponent, and the mantissa are set to 0s.

**Truncation errors**
When a real number is stored using floating-point representation, the value of the numbered stored may not be exactly as we expect it to be. For example, assume we need to store the number:
$(1111111111111111.11111111111)_2$
in memory using Excess_127 representation. After normalization, we have:
$(1.11111111111111111111111111)_2$
This means that the mantissa has 26 1s. This mantissa needs to be truncated to 23 1s. In other words, what is stored in the computer is:
$(1.11111111111111111111111)_2$
which means the original number is changed to:
$(1111111111111111.11111111)_2$
with the three 1s at the right of the fractional part truncated. The difference between the original number and what is retrieved is called the **truncation error**. This type of error is very important in areas in which very small or very large numbers are being used, such as calculations in the space industry. In such cases we need to use larger memory locations and other presentations. The IEEE defines other standards with larger mantissas for these purposes.

## 3.3 STORING TEXT
A section of **text** in any language is a sequence of symbols used to represent an idea in that language. For example, the English language uses 26 symbols (A, B, C,, Z) to represent uppercase letters, 26 symbols (a, b, c, , z) to represent lowercase letters, ten symbols (0, 1, 2, , 9) to represent numeric characters (not actual numbersnumbers are treated separately, as we explained in the previous section), and symbols (., ?, :, ; , , !) to represent punctuation. Other symbols such as blank, newline, and tab are used for text alignment and readability.
We can represent each symbol with a bit pattern. In other words, text such as CATS, which is made up from four symbols, can be represented as four n-bit patterns, each pattern defining a single symbol (Figure 3.14).

Now the question is: how many bits are needed in a bit pattern to represent a symbol in a language? It depends on how many symbols are in the set used for the language. For example, if we create an imaginary language that uses only English uppercase letters, we need only 26 symbols. A bit pattern in this language needs to represent at least 26 symbols.
For another language, such as Chinese, we may need many more symbols. The length of the bit pattern that represents a symbol in a language depends on the number of symbols used in that language. More symbols mean a longer bit pattern.
Although the length of the bit pattern depends on the number of symbols, the relationship is not linear: it is logarithmic. If we need two symbols, the length is one bit ($log_2 2$ is 1). If we need four symbols, the length is two bits ($log_2 4$ is 2). Table 3.3 shows the relationship. A bit pattern of two bits can take four different forms: 00, 01, 10, and 11. Each of these forms can represent a symbol. In the same way, a bit pattern of three bits can take eight different forms: 000, 001, 010, 011, 100, 101, 110, and 111.

**Table 3.3 Number of symbols and bit pattern length**

| Number of symbols | Bit pattern length | Number of symbols | Bit pattern length |
| :--- | :--- | :--- | :--- |
| 2 | 1 | 128 | 7 |
| 4 | 2 | 256 | 8 |
| 8 | 3 | 65536 | 16 |
| 16 | 4 | 4294967296 | 32 |

### 3.3.1 Codes
Different sets of bit patterns have been designed to represent text symbols. Each set is called a **code**, and the process of representing symbols is called **coding**. In this section, we explain the common codes.

**ASCII**
The **American National Standards Institute (ANSI)** developed a code called **American Standard Code for Information Interchange (ASCII)**. This code uses seven bits for each symbol. This means that $2^7 = 128$ different symbols can be defined in this code. The full bit patterns for ASCII code are included in Appendix A. Today ASCII is part of Unicode, which is discussed next.

**Unicode**
A coalition of hardware and software manufacturers have designed a code called **Unicode** that uses 32 bits and can therefore represent up to $2^{32} = 4294967296$ symbols. Different sections of the code are allocated to symbols from different languages in the world. Some parts of the code are used for graphical and special symbols. A brief set of Unicode symbols is listed in Appendix A. ASCII is part of Unicode today.

## 3.4 STORING AUDIO
**Audio** is a representation of sound or music. Audio, by nature, is different from the numbers or text we have discussed so far. Text is composed of countable entities (characters): we can count the number of characters in text. Text is an example of **digital** data. In contrast, audio is not countable. Audio is an entity that changes with timewe can only measure the intensity of the sound at each moment. When we discuss storing audio in computer memory, we mean storing the intensity of an audio signal, such as the signal from a microphone, over a period of time: one second, one hour.
Audio is an example of **analog** data. Even if we are able to measure all its values in a period of time, we cannot store these in the computers memory, as we would need an infinite number of memory locations. Figure 3.15 shows the nature of an analog signal, such as audio, that varies with time.

### 3.4.1 Sampling
If we cannot record all the values of an audio signal over an interval, we can record some of them. **Sampling** means that we select only a finite number of points on the analog signal, measure their values, and record them. Figure 3.16 shows a selection of ten samples from the signal: we can then record these values to represent the analog signal.

**Sampling rate**
The next logical question is, how many samples do we need in each second to be able to retrieve a replica of the original signal? The number of samples depends on the maximum number of changes in the analog signal. If the signal is smooth, we need fewer samples: if the signal is changing rapidly, we need more samples. It has been shown that a **sampling rate** of 40000 samples per second is good enough to reproduce an audio signal.

### 3.4.2 Quantization
The value measured for each sample is a real number. This means that we can store 40000 real values for each one second sample. However, it is simpler to use an unsigned number (a bit pattern) for each sample. **Quantization** refers to a process that rounds the value of a sample to the closest integer value. For example, if the real value is 17.2, it can be rounded down to 17: if the value is 17.7, it can be rounded up to 18.

### 3.4.3 Encoding
The next task is encoding. The quantized sample values need to be encoded as bit patterns. Some systems assign positive and negative values to samples, some just shift the curve to the positive part and assign only positive values. In other words, some systems use an unsigned integer to represent a sample, while others use signed integers to do so. However, the signed integers dont have to be in twos complement, they can be sign-and-magnitude values. The leftmost bit is used to represent the sign (0 for positive values and 1 for negative values), and the rest of the bits are used to represent the absolute values.

**Bit per sample**
The system needs to decide how many bits should be allocated for each sample. Although in the past only 8 bits were assigned to sound samples, today 16, 24, or even 32 bits per sample is normal. The number of bits per sample is sometimes referred to as the **bit depth**.

**Bit rate**
If we call the bit depth or number of bits per sample B, the number of samples per second, S, we need to store S  B bits for each second of audio. This product is sometimes referred to as **bit rate**, R. For example, if we use 40000 samples per second and 16 bits per sample, the bit rate is R = 40000  16 = 640000 bits per second = 640 kilobits per second.

### 3.4.4 Standards for sound encoding
Today the dominant standard for storing audio is **MP3** (short for MPEG Layer 3). This standard is a modification of the **MPEG** (Motion Picture Experts Group) compression method used for video. It uses 44100 samples per second and 16 bits per sample. The result is a signal with a bit rate of 705600 bits per second, which is compressed using a compression method that discards information that cannot be detected by the human ear. This is called lossy compression, as opposed to lossless compression: see Chapter 15.

## 3.5 STORING IMAGES
Images are stored in computers using two different techniques: raster graphics and vector graphics.

### 3.5.1 Raster graphics
**Raster graphics** (or **bitmap graphics**) is used when we need to store an analog image such as a photograph. A photograph consists of analog data, similar to audio information: the difference is that the intensity (color) of data varies in space instead of in time. This means that data must be sampled. However, sampling in this case is normally called **scanning**. The samples are called **pixels** (which stands for **picture elements**). In other words, the whole image is divided into small pixels where each pixel is assumed to have a single intensity value.

**Resolution**
Just like audio sampling, in image scanning we need to decide how many pixels we need to record for each square or linear inch. The scanning rate in image processing is called **resolution**. If the resolution is sufficiently high, the human eye cannot recognize the discontinuity in reproduced images.

**Color depth**
The number of bits used to represent a pixel, its **color depth**, depends on how a pixels color is handled by different encoding techniques. The perception of color is how our eyes respond to a beam of light. Our eyes have different types of *photoreceptor* cells: some respond to the three primary colors red, green, and blue (often called **RGB**), while others merely respond to the intensity of light.

**True-Color**
One of the techniques used to encode a pixel is called **True-Color**, which uses 24 bits to encode a pixel. In this technique, each of the three primary colors (RGB) are represented by eight bits. Since an 8-bit pattern can represent a number between 0 to 255 in this technique, each color is represented by three decimal numbers between 0 to 255. Table 3.4 shows the three values for some of the colors in this technique.

**Table 3.4 Some colors defined in True-Color**

| Color | Red | Green | Blue | Color | Red | Green | Blue |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| Black | 0 | 0 | 0 | Yellow | 255 | 255 | 0 |
| Red | 255 | 0 | 0 | Cyan | 0 | 255 | 255 |
| Green | 0 | 255 | 0 | Magenta | 255 | 0 | 255 |
| Blue | 0 | 0 | 255 | White | 255 | 255 | 255 |

Note that the True-Color scheme can encode $2^{24}$ or 16776216 colors. In other words, the color intensity of each pixel is one of these values.

**Indexed color**
The True-Color scheme uses more than 16 million colors. Many applications do not need such a large range of colors. The **indexed color**or **palette color**scheme uses only a portion of these colors. In this scheme each application selects a few (normally 256) colors from the large set of colors and indexes them, assigning a number between 0 and 255 to each selected color. This is similar to the way in which an artist might have a great many colors in their studio, but at each moment use only a few on their palette. Figure 3.17 illustrates the idea of indexed color.

The use of indexing reduces the number of bits required to store a pixel. For example, in the True-Color scheme 24 bits are needed to store a single pixel. The index color scheme normally uses 256 indexes, which needs only eight bits to store the same pixel. For example, a high-quality digital camera uses almost three million pixels for a 3  5 inch photo.
The following shows the number of bits that need to be stored using each scheme:
True-Color: 3000000  24 = 72000000
Indexed-Color: 3000000  8 = 24000000

**Standards for image encoding**
Several de facto standards for image encoding are in use. **JPEG (Joint Photographic Experts Group)** uses the True-Color scheme, but compresses the image to reduce the number of bits (see Chapter 15). **GIF (Graphic Interchange Format)**, on the other hand, uses the indexed color scheme.

### 3.5.2 Vector graphics
Raster graphics has two disadvantages: the file size is big and rescaling is troublesome. To enlarge a raster graphics image means enlarging the pixels, so the image looks ragged when it is enlarged. The **vector graphic** image encoding method, however, does not store the bit patterns for each pixel. An image is decomposed into a combination of geometrical shapes such as lines, squares, or circles. Each geometrical shape is represented by a mathematical formula. For example, a line may be described by the coordinates of its endpoints, and a circle may be described by the coordinates of its center and the length of its radius. A vector graphic image is made up from a series of commands that defines how these shapes should be drawn.
When the image is to be displayed or printed, the size of the image is given to the system as an input. The system rescales the image to the new size and uses the same formulae to draw the image. In this case, each time an image is drawn, the formulae are reevaluated. For this reason, vector graphics are also called *geometric modeling* or *object-oriented graphics*.

For example, consider a circle of radius r. The main pieces of information a program needs to draw this circle are:
1. The radius r and equation of a circle.
2. The location of the center point of the circle.
3. The stroke line style and color.
4. The fill style and color.

When the size of the circle is changed, the program changes the value of the radius and recalculates the information to draw the circle again. Rescaling does not change the quality of the drawing.

Vector graphics is not suitable for storing the subtleties of photographic images. JPEG or GIF raster graphics provide much better and more vivid pictures. Vector graphics is suitable for applications that use mainly geometric primitives to create images. It is used in applications such as FLASH, and to create TrueType (Microsoft, Apple) and PostScript (Adobe) fonts. Computer-aided design (CAD) also uses vector graphics for engineering drawings.

## 3.6 STORING VIDEO
**Video** is a representation of images (called **frames**) over time. A movie consists of a series of frames shown one after another to create the illusion of motion. In other words, video is the representation of information that changes in space (single image) and in time (a series of images). So, if we know how to store an image inside a computer, we also know how to store video: each image or frame is transformed into a set of bit patterns and stored. The combination of the images then represents the video. Today video is normally compressed. In Chapter 15 we discuss MPEG, a common video compression technique.

## 3.7 END-CHAPTER MATERIALS
### 3.7.1 Recommended reading
For more details about the subjects discussed in this chapter, the following books are recommended:
- Halsall, F. *Multimedia Communication*, Boston, MA: Addison-Wesley, 2001
- Koren, I. *Computer Arithmetic Algorithms*, Natick, MA: A K Peters, 2001
- Long, B. *Complete Digital Photography*, Hignham, MA: Charles River Media, 2003
- Mano, M. *Computer System Architecture*, Upper Saddle River, NJ: Prentice-Hall, 1993
- Miano, J. *Compressed Image File Formats*, Boston, MA: Addison-Wesley, 1999

### 3.7.2 Key terms
- American National Standards Institute (ANSI)
- American Standard Code for Information Interchange (ASCII)
- analog
- audio
- binary digit
- bit
- bit depth
- bitmap graphic
- bit pattern
- bit rate
- byte
- code
- color depth
- digital
- Excess_1023
- Excess_127
- Excess representation
- floating-point representation
- frames
- Graphic Interchange Format (GIF)
- indexed color
- Joint Photographer Experts Group (JPEG)
- mantissa
- MP3
- MPEG
- normalization
- ones complement
- overflow
- palette color
- picture element
- pixel
- quantization
- raster graphic
- real
- resolution
- RGB
- sampling
- sampling rate
- scanning
- scientific notation
- sign-and-magnitude representation
- text
- text editor
- True-Color
- truncation error
- twos complement
- twos complement representation
- underflow
- Unicode
- unsigned integer
- vector graphic
- video

### 3.7.3 Summary
- Data comes in different forms, including numbers, text, audio, image, and video. All data types are transformed into a uniform representation called a bit pattern.
- A number is changed to the binary system before being stored in computer memory. There are several ways to handle the sign. There are two ways to handle the decimal point: fixed-point and floating-point. An integer can be thought of as a number in which the position of the decimal point is fixed: the decimal point is at the right of the least significant bit. An unsigned integer is an integer that can never be negative. One of the methods used to store a signed integer is the sign-and-magnitude format. In this format, the leftmost bit is used to show the sign and the rest of the bits define the magnitude. Sign and magnitude are separated from each other. Almost all computers use the twos complement representation to store a signed integer in an n-bit memory location. In this method, the available range for unsigned integers is divided into two equal subranges. The first half is used to represent non negative integers, the second half is used to represent negative integers. In twos complement representation, the leftmost bit defines the sign of the integer, but sign and magnitude are not separated from each other. A real is a number with an integral part and a fractional part. Real numbers are stored in the computer using floating-point representation. In floating-point representation a number is made up of three sections: a sign, a shifter, and a fixed-point number.
- A piece of text in any language is a sequence of symbols. We can represent each symbol with a bit pattern. Different sets of bit patterns (codes) have been designed to represent text symbols. A coalition of hardware and software manufacturers have designed a code called Unicode that uses 32 bits to represent a symbol.
- Audio is a representation of sound or music. Audio is analog data. We cannot record an infinite number of values in an interval, we can only record some samples. The number of samples depends on the maximum number of changes in the analog signal. The values measured for each sample is a real number. Quantization refers to a process that rounds up the sample values to integers.
- Storage of images is done using two different techniques: raster graphics and vector graphics. Raster graphics are used when we need to store an analog image such as a photograph. The image is scanned (sampled) and pixels are stored. In the vector graphic method, an image is decomposed into a combination of geometrical shapes such as lines, squares, or circles. Each geometrical shape is represented by a mathematical formula.
- Video is a representation of images (called frames) in time. A movie is a series of frames shown one after another to create the illusion of continuous motion. In other words, video is the representation of information that changes in space (single image) and in time (a series of images).

## 3.8 PRACTICE SET
### 3.8.1 Quizzes
A set of interactive quizzes for this chapter can be found on the books website. It is strongly recommended that the student takes the quizzes to check his/her understanding of the materials before continuing with the practice set.

### 3.8.2 Review questions
1. Name five types of data that a computer can process.
2. How is bit pattern length related to the number of symbols the bit pattern can represent?
3. How does the bitmap graphic method represent an image as a bit pattern?
4. What is the advantage of the vector graphic method over the bitmap graphic method? What is the disadvantage?
5. What steps are needed to convert audio data to bit patterns?
6. Compare and contrast the representation of positive integers in unsigned, sign-and-magnitude format, and twos complement format.
7. Compare and contrast the representation of negative integers in sign-and-magnitude and twos complement format.
8. Compare and contrast the representation of zero in sign-and-magnitude, twos complement, and Excess formats.
9. Discuss the role of the leftmost bit in sign-and-magnitude, and twos complement formats.
10. Answer the following questions about floating-point representations of real numbers:
    a. Why is normalization necessary?
    b. What is the mantissa?
    c. After a number is normalized, what kind of information does a computer store in memory?

### 3.8.3 Problems
1. How many distinct 5-bit patterns can we have?
2. In some countries vehicle license plates have two decimal digits (0 to 9). How many distinct plates can we have? If the digit 0 is not allowed on the license plate, how many distinct plates can we have?
3. Redo Problem P3-2 for a license plate that has two digits followed by three uppercase letters (A to Z).
4. A machine has eight different cycles. How many bits are needed to represent each cycle?
5. A students grade in a course can be A, B, C, D, F, W (withdraw), or I (incomplete). How many bits are needed to represent the grade?
6. A company has decided to assign a unique bit pattern to each employee. If the company has 900 employees, what is the minimum number of bits needed to create this system of representation? How many patterns are unassigned? If the company hires another 300 employees, should it increase the number of bits? Explain your answer.
7. If we use a 4-bit pattern to represent the digits 0 to 9, how many bit patterns are wasted?
8. An audio signal is sampled 8000 times per second. Each sample is represented by 256 different levels. How many bits per second are needed to represent this signal?
9. Change the following decimal numbers to 8-bit unsigned integers.
    a. 23
    b. 121
    c. 34
    d. 342
10. Change the following decimal numbers to 16-bit unsigned integers.
    a. 41
    b. 411
    c. 1234
    d. 342
11. Change the following decimal numbers to 8-bit twos complement integers.
    a. 12
    b. 145
    c. 56
    d. 142
12. Change the following decimal numbers to 16-bit twos complement integers.
    a. 102
    b. 179
    c. 534
    d. 62,056
13. Change the following 8-bit unsigned numbers to decimal.
    a. 01101011
    b. 10010100
    c. 00000110
    d. 01010000
14. Change the following 8-bit twos complement numbers to decimal.
    a. 01110111
    b. 11111100
    c. 01110100
    d. 11001110
15. The following are twos complement binary numbers. Show how to change the sign of the number.
    a. 01110111
    b. 11111100
    c. 01110111
    d. 11001110
16. If we apply the twos complement operation to a number twice, we should get the original number. Apply the twos complement operation to each of the following numbers and see if we can get the original number.
    a. 01110111
    b. 11111100
    c. 01110100
    d. 11001110
17. Normalize the following binary floating-point numbers. Explicitly show the value of the exponent after normalization.
    a. 1.10001
    b. $2^3 \\times 111.1111$
    c. $2^{-2} \\times 101.110011$
    d. $2^{-5} \\times 101101.00000110011000$
18. Convert the following numbers in 32-bit IEEE format.
    a. $-2^0 \\times 1.10001$
    b. $+2^3 \\times 1.111111$
    c. $+2^{-4} \\times 1.01110011$
    d. $-2^{-5} \\times 1.01101000$
19. Convert the following numbers in 64-bit IEEE format.
    a. $-2^0 \\times 1.10001$
    b. $+2^3 \\times 1.111111$
    c. $+2^{-4} \\times 1.01110011$
    d. $-2^{-5} \\times 1.01101000$
20. Convert the following numbers in 32-bit IEEE format.
    a. 7.1875
    b. 12.640625
    c. 11.40625
    d. 0.375
21. The following are sign-and-magnitude binary numbers in a 8-bit allocation. Convert them to decimal.
    a. 01110111
    b. 11111100
    c. 01110100
    d. 11001110
22. Convert the following decimal integers to sign-and-magnitude with 8-bit allocation.
    a. 53
    b. 107
    c. 5
    d. 154
23. One method of representing signed numbers in a computer is ones complement representation. In this representation, to represent a positive number, we store the binary number. To represent a negative number, we apply the ones complement operation on the number. Store the following decimal integers to ones complement with 8-bit allocation.
    a. 53
    b. 107
    c. 5
    d. 154
24. The following are ones complement binary numbers in a 8-bit allocation. Convert them to decimal.
    a. 01110111
    b. 11111100
    c. 01110100
    d. 11001110
25. If we apply the ones complement operation to a number twice, we should get the original number. Apply the ones complement operation twice to each of the following numbers and see if you can get the original number.
    a. 01110111
    b. 11111100
    c. 01110100
    d. 11001110
26. An alternative method to find the twos complement of a number is to first take the ones complement of the number and then add 1 to the result. (Adding binary integers is explained in Chapter 4). Try both methods using the following numbers. Compare and contrast the results.
    a. 01110111
    b. 11111100
    c. 01110100
    d. 11001110
27. The equivalent of ones complement in the binary system is nines complement in the decimal system ($1 = 2 - 1$ and $9 = 10 - 1$). With $n$-digit allocation, we can represent nines complement numbers in the range of: $- [(10^n/2) - 1]$ to $+ [(10^n/2 - 1)]$. The nines complement of a number with $n$ digit allocation is obtained as follows. If the number is positive, the nines complement of the number is itself. If the number is negative, we subtract each digit from 9. Answer the following questions for three-digit allocation:
    a. What is the range of the numbers we can represent using nines complement?
    b. In this system, how can we determine the sign of a number?
    c. Do we have two zeros in this system?
    d. If the answer to c. is yes, what is the representation for +0 and -0?
28. Assuming three-digit allocation, find the nines complement of the following decimal numbers.
    a. +234
    b. +560
    c. -125
    d. -111
29. The equivalent of twos complement in the binary system is tens complement in the decimal system (in the binary system, 2 is the base, in the decimal system, 10 is the base). Using $n$-digit allocation, we can represent numbers in the range of: $-(10^n/2)$ to $+(10^n/2 - 1)$ in tens complement format. The tens complement of a number with $n$-digit allocation is obtained by first finding the nines complement of the number and then adding 1 to the result. Answer the following questions for three-digit allocation.
    a. What is the range of the numbers we can represent using tens complement?
    b. In this system, how can we determine the sign of a number?
    c. Do we have two zeros in this system?
    d. If the answer to c. is yes, what is the representation for +0 and 0?
30. Assuming three-digit allocation, find the tens complement of the following decimal numbers.
    a. +234
    b. +560
    c. -125
    d. -111
31. The equivalent of ones complement in the binary system is fifteens complement in the hexadecimal system ($1 = 2 - 1$ and $15 = 16 - 1$).
    a. What range of numbers can we represent with three-digit allocation in fifteens complement?
    b. Explain how the fifteens complement of a number is obtained in the hexadecimal system.
    c. Do we have two zeros in this system?
    d. If the answer to c. is yes, what is the representation for +0 and 0?
32. Assuming three-digit allocation, find the fifteens complement of the following hexadecimal numbers.
    a. +B14
    b. +FE1
    c. -1A
    d. -1E2
33. The equivalent of twos complement in the binary system is sixteens complement in the hexadecimal system.
    a. What range of numbers can we represent with three-digit allocation in sixteens complement?
    b. Explain how a sixteens complement of a number is obtained in the hexadecimal system.
    c. Do we have two zeros in this system?
    d. If the answer to c. is yes, what is the representation for +0 and 0?
34. Assuming three-digit allocation, find the sixteens complement of the following hexadecimal numbers.
    a. +B14
    b. +FE1
    c. 1A
    d. 1E2
`,zh:`
# 



## 

- 
- 
- 
- 
- 
- 
- 
- 
- 
- 

## 3.1 
 ( 3.1)

- 
- 
- 
- 
- 



### 3.1.1 


** (Bits)**
**** 0  1 1 0

** (Bit patterns)**
**** 3.2  0  1  1000  16000 ** (byte)*** (word)* 

 3.3 

**** A  8  01000001 8  65

### 3.1.2 
 15 

### 3.1.3 
 H 

## 3.2 
 2 
1.  
2.  



### 3.2.1 
134  -125  134.23  -0.235 **** 3.4 



****

#### 
**** 0  0 ** $(2^n - 1)$ $n$ 

****

1.  
2.   $n$ 0 $n$  $n$* (overflow)* 

> ** 3.1**
>  7  8 
>
> ****
>  $(111)_2$ 0  $(00000111)_2$ 2 
>  7   1 1 1
>   0 0 0 0 0 1 1 1

> ** 3.2**
>  258  16 
>
> ****
>  $(100000010)_2$ 0  $(0000000100000010)_2$
>  258   1 0 0 0 0 0 0 1 0
>   0 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0

****


> ** 3.3**
>  00101011 
>
> ****
>  2  43

****
 $n$  0  $2^n - 1$  3.5  $2^4 - 1 = 15$ **** 11 9  20 $20 = (10100)_2$ $(0100)_2$ 4  20  3.5 

****

- ** (Counting)** 1 0
- ** (Addressing)** 0
- ****

#### 
****$0$  $2^n - 1$ $n$  4 0000  11110000  0111  1000  1111 3.6 0 (0000)  (1000)

 1 0 1  8  $n$  $-(2^{n-1} -1)$  $+ (2^{n-1} -1)$ $n$ 0 1 

** 0 1**

> ** 3.4**
>  +28  8 
>
> ****
>  7  0 8 
>  28  7 0 0 1 1 1 0 0
> 0 0 0 1 1 1 0 0

> ** 3.5**
>  -28  8 
>
> ****
>  7  1 8 
>  28  7 0 0 1 1 1 0 0
> 1 0 0 1 1 1 0 0

> ** 3.6**
>  01001101 
>
> ****
>  0 (1001101)  77 +77

> ** 3.7**
>  10100001 
>
> ****
>  1 (0100001)  33 -33

****
 3.7  4  7  5 6  11 3 5  3
 7  5 7 12 +6 5  +6

** 0+0  0**

****


#### 
**** $n$  ($0$  $2^n - 1$)  $n$  4 0000  11110000  0111  1000  1111 3.8 

 0 1

** 0 1**

****
****0  1 1  0 

> ** 3.8**
>  00110110 ****
> 0 0 1 1 0 1 1 0
> 1 1 0 0 1 0 0 1

> ** 3.9**
> 
> 0 0 1 1 0 1 1 0
> 1 1 0 0 1 0 0 1
> 0 0 1 1 0 1 1 0

**** 1

> ** 3.10**
>  00110100 ****
> 0 0 1 1 0 1 0 0
> 1 1 0 0 1 1 0 0

> ** 3.11**
> 
> 0 0 1 1 0 1 0 0
> 1 1 0 0 1 1 0 0
> 0 0 1 1 0 1 0 0

 1 4 

****

-  $n$ 
- 

****

-  1 0
- 

> ** 3.12**
>  28  8 
>
> ****
>  0 
>  28  8 0 0 0 1 1 1 0 0

> ** 3.13**
>  -28  8 
>
> ****
> 
>  28  8 0 0 0 1 1 1 0 0
> 1 1 1 0 0 1 0 0

> ** 3.14**
>  00001101
>
> ****
>  0
>  00 0 0 0 1 1 0 1
> 13
> +13

> ** 3.15**
>  11100110
>
> ****
>  1
>  11 1 1 0 0 1 1 0
> 0 0 0 1 1 0 1 0
> 26
> -26

+0  -0

****

****
 3.9  4  7  5 6  11 5 5  5
 8  3  7 10 +6 3  +6

****


### 3.2.2 
 3.1 4  0  15  -8  +7  13  -3

** 3.1 **

|  |  |  |  |
| :--- | :--- | :--- | :--- |
| 0000 | 0 | 0 | +0 |
| 0001 | 1 | 1 | +1 |
| 0010 | 2 | 2 | +2 |
| 0011 | 3 | 3 | +3 |
| 0100 | 4 | 4 | +4 |
| 0101 | 5 | 5 | +5 |
| 0110 | 6 | 6 | +6 |
| 0111 | 7 | 7 | +7 |
| 1000 | 8 | -0 | -8 |
| 1001 | 9 | -1 | -7 |
| 1010 | 10 | -2 | -6 |
| 1011 | 11 | -3 | -5 |
| 1100 | 12 | -4 | -4 |
| 1101 | 13 | -5 | -3 |
| 1110 | 14 | -6 | -2 |
| 1111 | 15 | -7 | -1 |

### 3.2.3 
****23.7  23 7/10

> ** 3.16**
>  1.00234  1.00

> ** 3.17**
>  236154302345.00  6154302345.00

****

#### 
**** 3.10 



****

**** 10 

> ** 3.18**
>  7425000000000000000000.00
>
> ****
>   + 7425000000000000000000.00
>   + 7.425  10

 (+) (21)  (7.425) 21  +7.425E21 10 

> ** 3.19**
>  -0.0000000000000232
>
> ****
>  2 
>   - 0.0000000000000232
>   - 2.32  10
>  2.32  (-) (2.32)  (-14) -2.32E-14



> ** 3.20**
>  $(101001000000000000000000000000000.00)_2$
>
> ****
> 
>   + $(101001000000000000000000000000000.00)_2$
>   + $1.01001  2^{32}$

 1  0 $(1.01001)_2$  32

> ** 3.21**
>  $-(0.00000000000000000000000101)_2$
>
> ****
> 
>   - $(0.00000000000000000000000101)_2$
>   - $1.01  2^{-24}$
> 

****
**** 1  9 0  1d x y  0  1
  d.xxxxxxxxxxxxxxd  1  9 x  0  9
  1.yyyyyyyyyyyyyy y  0  1

****
+1000111.0101 
+ (1)
$2^6$ (6)
$1.0001110101$ ($0001110101$)

** 1 **

****
 1 0  1

****
2 ****

****
**** 0 0

****

****
 $2^{m-1} - 1$ $m$ 

> ** 3.22**
>  4  0  -7  8  3.11  Excess-7 7 

 4  $2^{4-1} -1 = 7$

**IEEE **
 (IEEE)  3.12 

**** 32 0 1  127  23  **Excess_127** 127

**** 64  1023  52  **Excess_1023** 1023 3.2 

** 3.2  IEEE **

|  |  |  |
| :--- | :--- | :--- |
|  | 32 | 64 |
|  | 1 | 1 |
|  | 8 | 11 |
|  | 23 | 52 |
|  | 127 | 1023 |

**IEEE **
 3.12 IEEE 
-  S 0  1
- 
- 
-  E  M 
-  SE  M

> ** 3.23**
>  5.75  Excess_127
>
> ****
> a.  S = 0
> b. 5.75 = $(101.11)_2$
> c. $(101.11)_2 = (1.0111)_2 	imes 2^2$
> d. E = 2 + 127 = 129 = $(10000001)_2$M = 0111 M  19  23 
> e. 
> S: 0
> E: 10000001
> M: 01110000000000000000000
>  01000000101110000000000000000000

> ** 3.24**
>  161.875  Excess_127
>
> ****
> a.  S = 1
> b. 161.875 = $(10100001.111)_2$
> c. $(10100001.111)_2 = (1.0100001111)_2 	imes 2^7$
> d. E = 7 + 127 = 134 = $(10000110)_2$  M = $(0100001111)_2$
> e. 
> S: 1
> E: 10000110
> M: 01000011110000000000000
>  11000011010000111100000000000000

> ** 3.25**
>  0.0234375  Excess_127
>
> ****
> a. S = 1
> b. 0.0234375 = $(0.0000011)_2$
> c. $(0.0000011)_2 = (1.1)_2 	imes 2^{-6}$
> d. E = 6 + 127 = 121 = $(01111001)_2$  M = $(1)_2$
> e. 
> S: 1
> E: 01111001
> M: 10000000000000000000000
>  10111100110000000000000000000000

** IEEE **
 IEEE 
-  SE  M 
-  S = 0
-  (E - 127)
- 
- 
- 

> ** 3.26**
>  $(11001010000000000111000100001111)_2$  Excess_127 
>
> ****
> a.  S E 23  M
> S: 1
> E: 10010100
> M: 00000000111000100001111
> b. 
> c.  = E - 127 = 148 - 127 = 21
> d.  $(1.00000000111000100001111)_2 	imes 2^{21}$
> e.  $(1000000001110001000011.11)_2$
> f.  2104378.75
> g.  -2104378.75

> ** 3.27**
>  01000011111000000000000000000000  Excess_127 
>
> ****
> a.  S E 23  M
> S: 0
> E: 10000111
> M: 11000000000000000000000
> b. 
> c.  = E - 127 = 135 - 127 = 8
> d.  $(1.11000000000000000000000)_2 	imes 2^8$
> e.  $(111000000.00)_2$
> f.  448
> g.  +448

****
******** 3.13  32  (Excess_127) +-+-

****
 0.0 0

****

$(1111111111111111.11111111111)_2$
 Excess_127 
$(1.11111111111111111111111111)_2$
 26  1 23  1
$(1.11111111111111111111111)_2$

$(1111111111111111.11111111)_2$
 1 ****IEEE 

## 3.3 
**** 26  (A, B, C,, Z) 26  (a, b, c, , z)  (0, 1, 2, , 9)  (., ?, :, ; , , !) 
CATS n  3.14

 26  26 

 ($log_2 2$  1) ($log_2 4$  2) 3.3 00, 01, 10  11000, 001, 010, 011, 100, 101, 110  111

** 3.3 **

|  |  |  |  |
| :--- | :--- | :--- | :--- |
| 2 | 1 | 128 | 7 |
| 4 | 2 | 256 | 8 |
| 8 | 3 | 65536 | 16 |
| 16 | 4 | 4294967296 | 32 |

### 3.3.1 
********

**ASCII**
** (ANSI)** ** (ASCII)**  $2^7 = 128$ ASCII  A  ASCII  Unicode  Unicode

**Unicode**
 **Unicode**  32  $2^{32} = 4294967296$  A  Unicode ASCII  Unicode 

## 3.4 
********
**** 3.15 

### 3.4.1 
**** 3.16 

****
 40000 ****

### 3.4.2 
 40000 **** 17.2 17 17.7 18

### 3.4.3 
0 1 

****
 8  1624  32 ****

****
 B S S  B **** R 40000  16  R = 40000  16 = 640000  = 640 kbps

### 3.4.4 
 **MP3**MPEG Layer 3  **MPEG** 44100  16  705600 bps  15 

## 3.5 


### 3.5.1 
********************

****
****

****
****** **RGB**

** (True-Color)**
**** 24 RGB 8  0  255  0  255  3.4 

** 3.4 **

|  |  |  |  |  |  |  |  |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
|  | 0 | 0 | 0 |  | 255 | 255 | 0 |
|  | 255 | 0 | 0 |  | 0 | 255 | 255 |
|  | 0 | 255 | 0 |  | 255 | 0 | 255 |
|  | 0 | 0 | 255 |  | 255 | 255 | 255 |

 $2^{24}$  16776216 

****
 1600 ******** 256  0  255  3.17 

 24  256  3  5 

3000000  24 = 72000000
3000000  8 = 24000000

****
**JPEG ()**  15 **GIF ()** 

### 3.5.2 
****
****

 r 
1.  r 
2. 
3. 
4. 



JPEG  GIF  FLASH  TrueType (Microsoft, Apple)  PostScript (Adobe)  (CAD) 

## 3.6 
******** 15  MPEG

## 3.7 
### 3.7.1 

- Halsall, F. *Multimedia Communication*, Boston, MA: Addison-Wesley, 2001
- Koren, I. *Computer Arithmetic Algorithms*, Natick, MA: A K Peters, 2001
- Long, B. *Complete Digital Photography*, Hignham, MA: Charles River Media, 2003
- Mano, M. *Computer System Architecture*, Upper Saddle River, NJ: Prentice-Hall, 1993
- Miano, J. *Compressed Image File Formats*, Boston, MA: Addison-Wesley, 1999

### 3.7.2 
-  (ANSI)
-  (ASCII)
-  (analog)
-  (audio)
-  (binary digit)
-  (bit)
-  (bit depth)
-  (bitmap graphic)
-  (bit pattern)
-  (bit rate)
-  (byte)
-  (code)
-  (color depth)
-  (digital)
- Excess_1023
- Excess_127
-  (Excess representation)
-  (floating-point representation)
-  (frames)
-  (GIF)
-  (indexed color)
-  (JPEG)
-  (mantissa)
- MP3
- MPEG
-  (normalization)
-  (ones complement)
-  (overflow)
-  (palette color)
-  (picture element)
-  (pixel)
-  (quantization)
-  (raster graphic)
-  (real)
-  (resolution)
- RGB
-  (sampling)
-  (sampling rate)
-  (scanning)
-  (scientific notation)
-  (sign-and-magnitude representation)
-  (text)
-  (text editor)
-  (True-Color)
-  (truncation error)
-  (twos complement)
-  (twos complement representation)
-  (underflow)
- Unicode
-  (unsigned integer)
-  (vector graphic)
-  (video)

### 3.7.3 
- 
-  $n$ 
-  Unicode  32 
- 
- 
- 

## 3.8 
### 3.8.1 
/

### 3.8.2 
1. 
2. 
3. 
4. 
5. 
6. 
7. 
8. 
9. 
10. 
    a. 
    b. 
    c. 

### 3.8.3 
1.  5 
2. 0  9 0
3. A  Z P3-2
4. 
5.  ABCDFW I
6.  900  300 
7.  4  0  9
8.  8000  256 
9.  8 
    a. 23
    b. 121
    c. 34
    d. 342
10.  16 
    a. 41
    b. 411
    c. 1234
    d. 342
11.  8 
    a. 12
    b. 145
    c. 56
    d. 142
12.  16 
    a. 102
    b. 179
    c. 534
    d. 62,056
13.  8 
    a. 01101011
    b. 10010100
    c. 00000110
    d. 01010000
14.  8 
    a. 01110111
    b. 11111100
    c. 01110100
    d. 11001110
15. 
    a. 01110111
    b. 11111100
    c. 01110111
    d. 11001110
16. 
    a. 01110111
    b. 11111100
    c. 01110100
    d. 11001110
17. 
    a. 1.10001
    b. $2^3 \\times 111.1111$
    c. $2^{-2} \\times 101.110011$
    d. $2^{-5} \\times 101101.00000110011000$
18.  32  IEEE 
    a. $-2^0 \\times 1.10001$
    b. $+2^3 \\times 1.111111$
    c. $+2^{-4} \\times 1.01110011$
    d. $-2^{-5} \\times 1.01101000$
19.  64  IEEE 
    a. $-2^0 \\times 1.10001$
    b. $+2^3 \\times 1.111111$
    c. $+2^{-4} \\times 1.01110011$
    d. $-2^{-5} \\times 1.01101000$
20.  32  IEEE 
    a. 7.1875
    b. 12.640625
    c. 11.40625
    d. 0.375
21.  8 
    a. 01110111
    b. 11111100
    c. 01110100
    d. 11001110
22.  8 
    a. 53
    b. 107
    c. 5
    d. 154
23.  8 
    a. 53
    b. 107
    c. 5
    d. 154
24.  8 
    a. 01110111
    b. 11111100
    c. 01110100
    d. 11001110
25. 
    a. 01110111
    b. 11111100
    c. 01110100
    d. 11001110
26.  1 4 
    a. 01110111
    b. 11111100
    c. 01110100
    d. 11001110
27. $1 = 2 - 1$  $9 = 10 - 1$ $n$  $- [(10^n/2) - 1]$  $+ [(10^n/2 - 1)]$  $n$  9 
    a. 
    b. 
    c. 
    d.  c +0  -0 
28. 
    a. +234
    b. +560
    c. -125
    d. -111
29. 2 10  $n$  $-(10^n/2)$  $+(10^n/2 - 1)$  $n$  1 
    a. 
    b. 
    c. 
    d.  c +0  -0 
30. 
    a. +234
    b. +560
    c. -125
    d. -111
31. $1 = 2 - 1$  $15 = 16 - 1$
    a. 
    b. 
    c. 
    d.  c +0  -0 
32. 
    a. +B14
    b. +FE1
    c. -1A
    d. -1E2
33. 
    a. 
    b. 
    c. 
    d.  c +0  -0 
34. 
    a. +B14
    b. +FE1
    c. 1A
    d. 1E2
`},lN={en:`
# Chapter 4: Operations on Data

In Chapter 3 we showed how to store different types of data in a computer. In this chapter, we show how to operate on data stored in a computer. Operations on data can be divided into three broad categories: logic operations, shift operations, and arithmetic operations.

## Objectives
After studying this chapter, the student should be able to:
- List the three categories of operations performed on data.
- Perform unary and binary logic operations on bit patterns.
- Distinguish between logic shift operations and arithmetic shift operations.
- Perform logic shift operations on bit patterns.
- Perform arithmetic shift operations on integers stored in twos complement format.
- Perform addition and subtraction on integers when they are stored in twos complement format.
- Perform addition and subtraction on integers when they are stored in sign-and-magnitude format.
- Perform addition and subtraction operations on reals when they are stored in floating-point format.
- Understand some applications of logical and shift operations such as setting, unsetting, and flipping specific bits.

## 4.1 LOGIC OPERATIONS
In Chapter 3 we discussed the fact that data inside a computer is stored as patterns of bits. Logic operations refer to those operations that apply the same basic operation on individual bits of a pattern, or on two corresponding bits in two patterns. This means that we can define logic operations at the bit level and at the pattern level. A logic operation at the pattern level is $n$ logic operations, of the same type, at the bit level where $n$ is the number of bits in the pattern.

### 4.1.1 Logic operations at bit level
A bit can take one of the two values: 0 or 1. If we interpret 0 as the value *false* and 1 as the value *true*, we can apply the operations defined in **Boolean algebra** to manipulate bits. Boolean algebra, named in honor of George Boole, belongs to a special field of mathematics called *logic*. Boolean algebra and its application to building logic circuits in computers are briefly discussed in Appendix E. In this section, we show briefly four bit-level operations that are used to manipulate bits: NOT, AND, OR, and XOR.

Figure 4.1 shows the symbols for these four bit-level operators and their truth tables. A **truth table** defines the values of output for each possible input or inputs. Note that the output of each operator is always one bit, but the input can be one or two bits.

**NOT**
The **NOT operator** is a unary operator: it takes only one input. The output bit is the complement of the input. If the input is 0, the output is 1, if the input is 1, the output is 0. In other words, the NOT operator flips its input. The truth table of the NOT operator has only two rows because the single input can be either 0 or 1: two possibilities.

| x | NOT x |
| :--- | :--- |
| 0 | 1 |
| 1 | 0 |

**AND**
The **AND operator** is a binary operator: it takes two inputs. The output bit is 1 if both inputs are 1s and the output is 0 in the other three cases. The truth table of the AND operator has four rows because, with two inputs, there are four possible input combinations.

| x | y | x AND y |
| :--- | :--- | :--- |
| 0 | 0 | 0 |
| 0 | 1 | 0 |
| 1 | 0 | 0 |
| 1 | 1 | 1 |

**A property**
One interesting point about the AND operator is that if a bit in one input is 0, we do not have to check the corresponding bit in the other input: we can quickly conclude that the result is 0. We use this property when we discuss the application of this operator in relation to a bit pattern:
For x = 0 or 1: x AND 0  0 and 0 AND x  0

**OR**
The **OR operator** is a also a binary operator: it takes two inputs. The output bit is 0 if both inputs are 0s and the output is 1 in the other three cases. The truth table of the OR operator has also four rows. The OR operator is sometimes called the *inclusive-or operator* because the output is 1 not only when one of the inputs is 1, but also when both inputs are 1s. This is in contrast to the operator we introduce next.

| x | y | x OR y |
| :--- | :--- | :--- |
| 0 | 0 | 0 |
| 0 | 1 | 1 |
| 1 | 0 | 1 |
| 1 | 1 | 1 |

**A property**
One interesting point about the OR operator is that if a bit in one input is 1, we do not have to check the corresponding bit in the other input: we can quickly conclude that the result is 1. We use this property when we discuss the application of this operator in relation to a bit pattern:
For x = 0 or 1: x OR 1  1 and 1 OR x  1

**XOR**
The **XOR operator** (pronounced exclusive-or) is also a binary operator like the OR operator, with only one difference: the output is 0 if both inputs are 1s. We can look at this operator in another way: the output is 0 when both inputs are the same, and the output is 1 when the inputs are different.

| x | y | x XOR y |
| :--- | :--- | :--- |
| 0 | 0 | 0 |
| 0 | 1 | 1 |
| 1 | 0 | 1 |
| 1 | 1 | 0 |

> **Example 4.1**
> In English we use the conjunction or sometimes to mean an inclusive-or, and sometimes to mean an exclusive-or.
> a. The sentence I wish to have a car *or* a house uses or in the inclusive senseI wish a car, a house, or both.
> b. The sentence Today is either Monday *or* Tuesday uses or in the exclusive sensetoday is either Monday or Tuesday, but it cannot be both.

> **Example 4.2**
> The XOR operator is not actually a new operator. We can always simulate it using the other three operators. The following two expressions are equivalent:
> x XOR y  [x AND (NOT y)] OR [(NOT x) AND y]
> The equivalence can be proved if we make the truth table for both.

**A property**
A property of XOR is that if a bit in one input is 1, the result is the complement of the corresponding bit in the other input. We use this property when we discuss the application of this operator in relation to a bit pattern:
For x = 0 or 1: 1 XOR x  NOT x and x XOR 1  NOT x

### 4.1.2 Logic operations at pattern level
The same four operators (NOT, AND, OR, and XOR) can be applied to an $n$-bit pattern. The effect is the same as applying each operator to each individual bit for NOT and to each corresponding pair of bits for other three operators. Figure 4.2 shows these four operators with input and output patterns.

> **Example 4.3**
> Use the NOT operator on the bit pattern 10011000.
>
> **Solution**
> The solution is shown below. Note that the NOT operator changes every 0 to 1 and every 1 to 0:
> Input: 1 0 0 1 1 0 0 0
> NOT: 0 1 1 0 0 1 1 1

> **Example 4.4**
> Use the AND operator on the bit patterns 10011000 and 00101010.
>
> **Solution**
> The solution is shown below. Note that only one bit in the output is 1, where both corresponding inputs are 1s:
> Input 1: 1 0 0 1 1 0 0 0
> Input 2: 0 0 1 0 1 0 1 0
> AND: 0 0 0 0 1 0 0 0

> **Example 4.5**
> Use the OR operator on the bit patterns 10011001 and 00101110.
>
> **Solution**
> The solution is shown below. Note that only one bit in the output is 0, where both corresponding inputs are 0s:
> Input 1: 1 0 0 1 1 0 0 1
> Input 2: 0 0 1 0 1 1 1 0
> OR: 1 0 1 1 1 1 1 1

> **Example 4.6**
> Use the XOR operator on the bit patterns 10011001 and 00101110.
>
> **Solution**
> The solution is shown below. Compare the output in this example with the one in Example 4.5. The only difference is that when the two inputs are 1s, the result is 0 (the effect of exclusion):
> Input 1: 1 0 0 1 1 0 0 1
> Input 2: 0 0 1 0 1 1 1 0
> XOR: 1 0 1 1 0 1 1 1

**Applications**
Four logic operations can be used to modify a bit pattern.

**Complementing**
The only application of the NOT operator is to complement the whole pattern. Applying this operator to a pattern changes every 0 to 1 and every 1 to 0. This is sometimes referred to as a ones complement operation. Example 4.3 shows the effect of complementing.

**Unsetting specific bits**
One of the applications of the AND operator is to unset (force to 0) specific bits in a bit pattern. The second input in this case is called a **mask**. The 0-bits in the mask unset the corresponding bits in the first input: the 1-bits in the mask leave the corresponding bits in the first input unchanged. This is due to the property we mentioned for the AND operator: if one of the inputs is 0, the output is 0 no matter what the other input is. Unsetting the bits in a pattern can have many applications. For example, if an image is using only one bit per pixel (a black and white image), then we can make a specific pixel black using a mask and the AND operator.

> **Example 4.7**
> Use a mask to unset (clear) the five leftmost bits of a pattern. Test the mask with the pattern 10100110.
>
> **Solution**
> The mask is 00000111. The result of applying the mask is:
> Input: 1 0 1 0 0 1 1 0
> Mask: 0 0 0 0 0 1 1 1
> AND: 0 0 0 0 0 1 1 0
> Note that the three rightmost bits remain unchanged, while the five leftmost bits are unset (changed to 0) no matter what their previous values.

**Setting specific bits**
One of the applications of the OR operator is to set (force to 1) specific bits in a bit pattern. Again we can use a mask, but a different one. The 1-bits in the mask set the corresponding bits in the first input, and the 0-bits in the mask leave the corresponding bits in the first input unchanged. This is due to the property we mentioned for the OR operator: if one of the inputs is 1, the output is 1 no matter what the other input is. Setting the bits in a pattern has many applications. For example, if an image is using only one bit per pixel (a black and white image), then we can make a specific pixel white using a mask and the OR operator.

> **Example 4.8**
> Use a mask to set the five leftmost bits of a pattern. Test the mask with the pattern 10100110.
>
> **Solution**
> The mask is 11111000. The result of applying the mask is:
> Input: 1 0 1 0 0 1 1 0
> Mask: 1 1 1 1 1 0 0 0
> OR: 1 1 1 1 1 1 1 0

**Flipping specific bits**
One of the applications of the XOR operator is to flip (complement) specific bits in a bit pattern. Again we can use a mask, but a different one. The 1-bits in the mask flip the corresponding bits in the first input, and the 0-bits in the mask leave the corresponding bits in the first input unchanged. This is due to the property we mentioned for the XOR operator: if one of the inputs is 1, the output is the complement of the corresponding bit. Note the difference between the NOT operator and the XOR operator. The NOT operator complements all the bits in the input, while the XOR operator complements only the specific bits in the first input as defined by the mask.

> **Example 4.9**
> Use a mask to flip the five leftmost bits of a pattern. Test the mask with the pattern 10100110.
>
> **Solution**
> The mask is 11111000. The result of applying the mask is:
> Input: 1 0 1 0 0 1 1 0
> Mask: 1 1 1 1 1 0 0 0
> XOR: 0 1 0 1 1 1 1 0

## 4.2 SHIFT OPERATIONS
Shift operations move the bits in a pattern, changing the positions of the bits. They can move bits to the left or to the right. We can divide shift operations into two categories: logical shift operations and arithmetic shift operations.

### 4.2.1 Logical shift operations
A **logical shift operation** is applied to a pattern that does not represent a signed number. The reason is that these shift operation may change the sign of the number that is defined by the leftmost bit in the pattern. We distinguish two types of logical shift operations, as described below.

**Simple shift**
A **simple right shift** operation shifts each bit one position to the right. In an $n$-bit pattern, the rightmost bit is lost and a 0 fills the leftmost bit. A **simple left shift** operation shifts each bit one position to the left. In an $n$-bit pattern, the leftmost bit is lost and a 0 fills the rightmost bit. Figure 4.3 shows the simple right shift and simple left shift operations for an 8-bit pattern.

> **Example 4.10**
> Use a simple left shift operation on the bit pattern 10011000.
>
> **Solution**
> The solution is shown below. The leftmost bit is lost and a 0 is inserted as the rightmost bit:
> Original: 1 0 0 1 1 0 0 0
> After shift: 0 0 1 1 0 0 0 0

**Circular shift**
A **circular shift operation** (or **rotate operation**) shifts bits, but no bit is lost or added. A **circular right shift** (or **right rotate**) shifts each bit one position to the right. The rightmost bit is circulated and becomes the leftmost bit. A **circular left shift** (or **left rotate**) shifts each bit one position to the left. The leftmost bit circulates and become the rightmost bit. Figure 4.4 shows the circular shift left and circular shift right operation.

> **Example 4.11**
> Use a circular left shift operation on the bit pattern 10011000.
>
> **Solution**
> The solution is shown below. The leftmost bit is circulated and becomes the rightmost bit:
> Original: 1 0 0 1 1 0 0 0
> After shift: 0 0 1 1 0 0 0 1

> **Example 4.12**
> Combining logic operations and logical shift operations gives us some tools for manipulating bit patterns. Assume that we have a pattern and we need to use the third bit (from the right) of this pattern in a decision-making process. We want to know if this particular bit is 0 or 1. The following shows how we can find out:
> Original: h g f e d c b a
> One right shift: 0 h g f e d c b
> Two right shifts: 0 0 h g f e d c
> Mask: 0 0 0 0 0 0 0 1
> AND result: 0 0 0 0 0 0 0 c
> We shift the pattern two bits to the right so that the target bit moves to the rightmost position. The result is then ANDed with a mask which has one 1 at the rightmost position. The result is a pattern with seven 0s and the target bit at the rightmost position. We can then test the result: if it is an unsigned integer 1, the target bit was 1, whereas if the result is an unsigned integer 0, the target bit was 0.

**Arithmetic shift operations**
**Arithmetic shift operations** assume that the bit pattern is a signed integer in twos complement format. **Arithmetic right shift** is used to divide an integer by two, while **arithmetic left shift** is used to multiply an integer by two. These operations should not change the sign (leftmost) bit. An arithmetic right shift retains the sign bit, but also copies it into the next right bit, so that the sign is preserved. An arithmetic left shift discards the sign bit and accepts the bit to the left of the sign bit as the sign. If the new sign bit is the same as the previous one, the operation is successful, otherwise an overflow or underflow has occurred and the result is not valid. Figure 4.5 shows these two operations.

> **Example 4.13**
> Use an arithmetic right shift operation on the bit pattern 10011001. The pattern is an integer in twos complement format.
>
> **Solution**
> The solution is shown below. The leftmost bit is retained and also copied to its right neighbor bit. The rightmost bit is lost:
> Original: 1 0 0 1 1 0 0 1
> After shift: 1 1 0 0 1 1 0 0
> The original number was 103 and the new number is 52, which is the result of dividing 103 by 2 truncated to the smaller integer.

> **Example 4.14**
> Use an arithmetic left shift operation on the bit pattern 11011001. The pattern is an integer in twos complement format.
>
> **Solution**
> The solution is shown below. The leftmost bit is lost and a 0 is inserted as the rightmost bit:
> Original: 1 1 0 1 1 0 0 1
> After shift: 1 0 1 1 0 0 1 0
> The original number was 39 and the new number is 78. The original number is multiplied by two. The operation is valid because no underflow occurred.

> **Example 4.15**
> Use an arithmetic left shift operation on the bit pattern 01111111. The pattern is an integer in twos complement format.
>
> **Solution**
> The solution is shown below. The leftmost bit is lost and a 0 is inserted as the rightmost bit:
> Original: 0 1 1 1 1 1 1 1
> After shift: 1 1 1 1 1 1 1 0
> The original number was 127 and the new number is 2. Here the result is not valid because an overflow has occurred. The expected answer 127  2 = 254 cannot be represented by an 8-bit pattern.

## 4.3 ARITHMETIC OPERATIONS
**Arithmetic operations** involve adding, subtracting, multiplying, and dividing. We can apply these operations to integers and floating-point numbers.

### 4.3.1 Arithmetic operations on integers
All arithmetic operations such as addition, subtraction, multiplication, and division can be applied to integers. Although multiplication (division) of integers can be implemented using repeated addition (subtraction), the procedure is not efficient. There are more efficient procedures for multiplication and division, such as Booth procedures, but these are beyond the scope of this book. For this reason, we only discuss addition and subtraction of integers here.

**Addition and subtraction for twos complement integers**
We first discuss addition and subtraction for integers in twos complement representation, because it is more common. As we discussed in Chapter 3, integers are normally stored in twos complement format. One of the advantages of twos complement representation is that there is no difference between addition and subtraction. When the subtraction operation is encountered, the computer simply changes it to an addition operation, but makes twos complement of the second number. In other words:
$A - B leftrightarrow A + (\bar{B} + 1)$ where $(\bar{B} + 1)$ means the twos complement of B.

This means that we only need to discuss addition. Adding numbers in twos complement is like adding the numbers in decimal: we add column by column, and if there is a carry, it is added to the next column. However, the carry produced from the last column is discarded.
We should remember that we add integers column by column. In each column, we have either two bits to add if there is no carry from the previous column, or three bits to add if there is a carry from the previous column.
The procedure is as follows:
1. If the operation is subtraction, we take the twos complement of the second integer. Otherwise, we move to the next step.
2. We add the two integers.

> **Example 4.16**
> Two integers A and B are stored in twos complement format. Show how B is added to A:
> A = $(00010001)_2$ B = $(00010110)_2$
>
> **Solution**
> The operation is adding. A is added to B and the result is stored in R:
> A: 0 0 0 1 0 0 0 1
> B: 0 0 0 1 0 1 1 0
> R: 0 0 1 0 0 1 1 1
> We check the result in decimal: (+17) + (+22) = (+39).

> **Example 4.17**
> Two integers A and B are stored in twos complement format. Show how B is added to A:
> A = $(00011000)_2$ B = $(11101111)_2$
>
> **Solution**
> The operation is adding. A is added to B and the result is stored in R. Note that the last carry is discarded because the size of the memory is only 8 bits:
> A: 0 0 0 1 1 0 0 0
> B: 1 1 1 0 1 1 1 1
> R: 0 0 0 0 0 1 1 1
> Checking the result in decimal, (+24) + (17) = (+7).

> **Example 4.18**
> Two integers A and B are stored in twos complement format. Show how B is subtracted from A:
> A = $(00011000)_2$ B = $(11101111)_2$
>
> **Solution**
> The operation is subtracting. A is added to $(\bar{B} + 1)$ and the result is stored in R:
> $(\bar{B} + 1) = 00010001$
> A: 0 0 0 1 1 0 0 0
> $(\bar{B} + 1)$: 0 0 0 1 0 0 0 1
> R: 0 0 1 0 1 0 0 1
> Checking the result in decimal, (+24)  (17) = (+41).

> **Example 4.19**
> Two integers A and B are stored in twos complement format. Show how B is subtracted from A:
> A = $(11011101)_2$ B = $(00010100)_2$
>
> **Solution**
> The operation is subtracting. A is added to $(\bar{B} + 1)$ and the result is stored in R:
> $(\bar{B} + 1) = 11101100$
> A: 1 1 0 1 1 1 0 1
> $(\bar{B} + 1)$: 1 1 1 0 1 1 0 0
> R: 1 1 0 0 1 0 0 1
> Checking the result in decimal, (35)  (+20) = (55). Note that the last carry is discarded.

> **Example 4.20**
> Two integers A and B are stored in twos complement format. Show how B is added to A:
> A = $(01111111)_2$ B = $(00000011)_2$
>
> **Solution**
> The operation is adding. A is added to B and the result is stored in R:
> A: 0 1 1 1 1 1 1 1
> B: 0 0 0 0 0 0 1 1
> R: 1 0 0 0 0 0 1 0
> We expect the result to be 127 + 3 = 130, but the answer is 126. The error is due to overflow, because the expected answer (+130) is not in the range 128 to +127.
> When we do arithmetic operations on numbers in a computer, we should remember that each number and the result should be in the range defined by the bit allocation.

**Addition or subtraction for sign-and-magnitude integers**
Addition or subtraction for integers in sign-and-magnitude representation looks very complex. We have four different combinations of signs (two signs, each of two values) for addition, and four different conditions for subtraction. This means that we need to consider eight different situations. For those interested readers, we describe these in more detail in Appendix I.

### 4.3.2 Arithmetic operations on reals
All arithmetic operations such as addition, subtraction, multiplication, and division can be applied to reals stored in floating-point format. Multiplication of two reals involves multiplication of two integers in sign-and-magnitude representation. Division of two reals involves division of two integers in sign-and-magnitude representations. Since we did not discuss the multiplication or division of integers in sign-and-magnitude representation, we will not discuss the multiplication and division of reals, and only show addition and subtractions for reals in Appendix J.

## 4.4 END-CHAPTER MATERIALS
### 4.4.1 Recommended Reading
For more details about the subjects discussed in this chapter, the following books are recommended:
- Mano, M. *Computer System Architecture*, Upper Saddle River, NJ: Prentice-Hall, 1993
- Null, L. and Lobur, J. *Computer Organization and Architecture*, Sudbury, MA: Jones and Bartlett, 2003
- Stalling, W. *Computer Organization and Architecture*, Upper Saddle River, NJ: Prentice-Hall, 2000

### 4.4.2 Key terms
- AND operation
- arithmetic operation
- arithmetic shift operation
- Boolean algebra
- circular shift operation
- logical shift operation
- mask
- NOT operation
- OR operation
- truth table
- XOR operation

### 4.4.3 Summary
- Operations on data can be divided into three broad categories: logic operations, shift operations, and arithmetic operations. Logic operations refer to those operations that apply the same basic operation to individual bits of a pattern or to two corresponding bits in two patterns. Shift operations move the bits in the pattern. Arithmetic operations involve adding, subtracting, multiplying, and dividing.
- The four logic operators discussed in this chapter (NOT, AND, OR, and XOR) can be used at the bit level or the pattern level. The NOT operator is a unary operator, while the AND, OR, and XOR operators are binary operators.
- The only application of the NOT operator is to complement the whole pattern. One of the applications of the AND operator is to unset (force to 0) specific bits in a bit pattern. One of the applications of the OR operator is to set (force to 1) specific bits in a bit pattern. One of the applications of the XOR operator is to flip (complement) specific bits in a bit pattern.
- Shift operations move the bits in the pattern: they change the positions of the bits. We can divide shift operations into two categories: logical shift operations and arithmetic shift operations. A logical shift operation is applied to a pattern that does not represent a signed number. Arithmetic shift operations assume that the bit pattern is a signed integer in twos complement format.
- All arithmetic operations such as addition, subtraction, multiplication, and division can be applied to integers. Integers are normally stored in twos complement format. One of the advantages of twos complement representation is that there is no difference between addition and subtraction. When the subtraction operation is encountered, the computer simply changes it to an addition operation, but forms the twos complement of the second number. Addition and subtraction for integers in sign-and-magnitude representation looks very complex. We have eight situations to consider.
- All arithmetic operations such as addition, subtraction, multiplication, and division can be applied to reals stored in floating-point format. Addition and subtraction of real numbers stored in floating-point numbers is reduced to addition and subtraction of two integers stored in sign-and-magnitude after the alignment of decimal points.

## 4.5 PRACTICE SET
### 4.5.1 Quizzes
A set of interactive quizzes for this chapter can be found on the books website. It is strongly recommended that the student takes the quizzes to check his/her understanding of the materials before continuing with the practice set.

### 4.5.2 Review questions
1. What is the difference between an arithmetic operation and a logical operation?
2. What happens to the carry from the leftmost column in the addition of integers in twos complement format?
3. Can n, the bit allocation, equal 1? Why, or why not?
4. Define the term overflow.
5. In the addition of floating-point numbers, how do we adjust the representation of numbers with different exponents?
6. What is the difference between a unary operation and a binary operation?
7. Name the logical binary operations.
8. What is a truth table?
9. What does the NOT operator do?
10. When is the result of an AND operator true?
11. When is the result of an OR operator true?
12. When is the result of an XOR operator true?
13. Mention an important property of the AND operator discussed in this chapter.
14. Mention an important property of the OR operator discussed in this chapter.
15. Mention an important property of the XOR operator discussed in this chapter.
16. What binary operation can be used to set bits? What bit pattern should the mask have?
17. What binary operation can be used to unset bits? What bit pattern should the mask have?
18. What binary operation can be used to flip bits? What bit pattern should the mask have?
19. What is the difference between simple and arithmetic shifts?

### 4.5.3 Problems
1. Show the result of the following operations:
    a. NOT (99)16
    b. NOT (FF)16
    c. NOT (00)16
    d. NOT (01)16
2. Show the result of the following operations:
    a. (99)16 AND (99)16
    b. (99)16 AND (00)16
    c. (99)16 AND (FF)16
    d. (FF)16 AND (FF)16
3. Show the result of the following operations:
    a. (99)16 OR (99)16
    b. (99)16 OR (00)16
    c. (99)16 OR (FF)16
    d. (FF)16 OR (FF)16
4. Show the result of the following operations:
    a. NOT [(99)16 OR (99)16)]
    b. (99)16 OR [NOT (00)16]
    c. [(99)16 AND (33)16)] OR [(00)16 AND (FF)16]
    d. (99)16 OR (33)16 AND [(00)16 OR (FF)16]
5. We need to unset (force to 0) the four leftmost bits of a pattern. Show the mask and the operation.
6. We need to set (force to 1) the four rightmost bits of a pattern. Show the mask and the operation.
7. We need to flip the three rightmost and the two leftmost bits of a pattern. Show the mask and the operation.
8. We need to unset the three leftmost bits and set the two rightmost bits of a pattern. Show the masks and operations.
9. Use the shift operation to divide an integer by 4.
10. Use the shift operation to multiply an integer by 8.
11. Use a combination of logical and shift operations to extract the fourth and fifth bits from the left of an unsigned integer.
12. Using an 8-bit allocation, first convert each of the following integers to twos complement, do the operation, and then convert the result to decimal.
    a. 19 + 23
    b. 19  23
    c. 19 + 23
    d. 19  23
13. Using a 16-bit allocation, first convert each of the following numbers to twos complement, do the operation, and then convert the result to decimal.
    a. 161 + 1023
    b. 161  1023
    c. 161 + 1023
    d. 161  1023
14. Which of the following operations creates an overflow if the numbers and the result are represented in 8-bit twos complement representation?
    a. 11000010 + 00111111
    b. 00000010 + 00111111
    c. 11000010 + 11111111
    d. 00000010 + 11111111
15. Without actually doing the calculation, can we tell which of the following creates an overflow if the numbers and the result are in 8-bit twos complement representation?
    a. 32 + 105
    b. 32  105
    c. 32 + 105
    d. 32  105
16. Show the result of the following operations assuming that the numbers are stored in 16-bit twos complement representation. Show the result in hexadecimal notation.
    a. (012A)16 + (0E27)16
    b. (712A)16 + (9E00)16
    c. (8011)16 + (0001)16
    d. (E12A)16 + (9E27)16
17. Using an 8-bit allocation, first convert each of the following numbers to sign-and-magnitude representation, do the operation, and then convert the result to decimal.
    a. 19 + 23
    b. 19  23
    c. 19 + 23
    d. 19  23
18. Show the result of the following floating-point operations using IEEE_127see Chapter 3.
    a. 34.75 + 23.125
    b. 12.625 + 451.00
    c. 33.1875  0.4375
    d. 344.3125  123.5625
19. In which of the following situations does an overflow never occur? Justify the answer.
    a. Adding two positive integers.
    b. Adding one positive integer to a negative integer.
    c. Subtracting one positive integer from a negative integer.
    d. Subtracting two negative integers.
20. What is the result of adding an integer to its ones complement?
21. What is the result of adding an integer to its twos complement?
`,zh:`
# 



## 

- 
- 
- 
- 
- 
- 
- 
- 
- 

## 4.1 
 $n$  $n$ 

### 4.1.1 
0  1 0 * (false)* 1 * (true)***** (George Boole) ** E NOTANDOR  XOR

 4.1 ****

**NOT**
**NOT ** 0 1 1 0NOT NOT  0  1

| x | NOT x |
| :--- | :--- |
| 0 | 1 |
| 1 | 0 |

**AND**
**AND ** 1 1 0AND 

| x | y | x AND y |
| :--- | :--- | :--- |
| 0 | 0 | 0 |
| 0 | 1 | 0 |
| 1 | 0 | 0 |
| 1 | 1 | 1 |

****
 AND  0 0
 x = 0  1x AND 0  0  0 AND x  0

**OR**
**OR ** 0 0 1OR OR * (inclusive-or) * 1  1 1  1

| x | y | x OR y |
| :--- | :--- | :--- |
| 0 | 0 | 0 |
| 0 | 1 | 1 |
| 1 | 0 | 1 |
| 1 | 1 | 1 |

****
 OR  1 1
 x = 0  1x OR 1  1  1 OR x  1

**XOR**
**XOR ** OR  1 0 0 1

| x | y | x XOR y |
| :--- | :--- | :--- |
| 0 | 0 | 0 |
| 0 | 1 | 1 |
| 1 | 0 | 1 |
| 1 | 1 | 0 |

> ** 4.1**
>  (or)
> a. **
> b. **

> ** 4.2**
> XOR 
> x XOR y  [x AND (NOT y)] OR [(NOT x) AND y]
> 

****
XOR  1
 x = 0  11 XOR x  NOT x  x XOR 1  NOT x

### 4.1.2 
NOTANDOR  XOR $n$  NOT  4.2 

> ** 4.3**
>  10011000  NOT 
>
> ****
> NOT  0  1 1  0
> 1 0 0 1 1 0 0 0
> NOT0 1 1 0 0 1 1 1

> ** 4.4**
>  10011000  00101010  AND 
>
> ****
>  1 1
>  11 0 0 1 1 0 0 0
>  20 0 1 0 1 0 1 0
> AND0 0 0 0 1 0 0 0

> ** 4.5**
>  10011001  00101110  OR 
>
> ****
>  0 0
>  11 0 0 1 1 0 0 1
>  20 0 1 0 1 1 1 0
> OR1 0 1 1 1 1 1 1

> ** 4.6**
>  10011001  00101110  XOR 
>
> ****
>  4.5  1  0
>  11 0 0 1 1 0 0 1
>  20 0 1 0 1 1 1 0
> XOR1 0 1 1 0 1 1 1

****


****
NOT  0  1 1  0 4.3 

****
AND  0**** 0  1  AND  0 0 AND 

> ** 4.7**
>  10100110 
>
> ****
>  00000111
> 1 0 1 0 0 1 1 0
> 0 0 0 0 0 1 1 1
> AND0 0 0 0 0 1 1 0
>  0

****
OR  1 1  0  OR  1 1 OR 

> ** 4.8**
>  10100110 
>
> ****
>  11111000
> 1 0 1 0 0 1 1 0
> 1 1 1 1 1 0 0 0
> OR1 1 1 1 1 1 1 0

****
XOR  1  0  XOR  1 NOT  XOR NOT  XOR 

> ** 4.9**
>  10100110 
>
> ****
>  11111000
> 1 0 1 0 0 1 1 0
> 1 1 1 1 1 0 0 0
> XOR0 1 0 1 1 1 1 0

## 4.2 


### 4.2.1 
****

****
**** $n$  0**** $n$  0 4.3  8 

> ** 4.10**
>  10011000 
>
> ****
>  0
> 1 0 0 1 1 0 0 0
> 0 0 1 1 0 0 0 0

****
************************ 4.4 

> ** 4.11**
>  10011000 
>
> ****
> 
> 1 0 0 1 1 0 0 0
> 0 0 1 1 0 0 0 1

> ** 4.12**
>  0  1
> h g f e d c b a
> 0 h g f e d c b
> 0 0 h g f e d c
> 0 0 0 0 0 0 0 1
> AND 0 0 0 0 0 0 0 c
>  1  AND  0  1 1 0 0

****
************ 4.5 

> ** 4.13**
>  10011001 
>
> ****
> 
> 1 0 0 1 1 0 0 1
> 1 1 0 0 1 1 0 0
>  103 52 103  2 

> ** 4.14**
>  11011001 
>
> ****
>  0
> 1 1 0 1 1 0 0 1
> 1 0 1 1 0 0 1 0
>  39 78

> ** 4.15**
>  01111111 
>
> ****
>  0
> 0 1 1 1 1 1 1 1
> 1 1 1 1 1 1 1 0
>  127 2 127  2 = 254  8 

## 4.3 
****

### 4.3.1 


****

$A - B leftrightarrow A + (\bar{B} + 1)$  $(\bar{B} + 1)$  B 




1. 
2. 

> ** 4.16**
>  A  B  B  A
> A = $(00010001)_2$ B = $(00010110)_2$
>
> ****
>  A  B R 
> A0 0 0 1 0 0 0 1
> B0 0 0 1 0 1 1 0
> R0 0 1 0 0 1 1 1
> (+17) + (+22) = (+39)

> ** 4.17**
>  A  B  B  A
> A = $(00011000)_2$ B = $(11101111)_2$
>
> ****
>  A  B R  8 
> A0 0 0 1 1 0 0 0
> B1 1 1 0 1 1 1 1
> R0 0 0 0 0 1 1 1
> (+24) + (17) = (+7)

> ** 4.18**
>  A  B  A  B
> A = $(00011000)_2$ B = $(11101111)_2$
>
> ****
>  A  $(\bar{B} + 1)$ R 
> $(\bar{B} + 1) = 00010001$
> A0 0 0 1 1 0 0 0
> $(\bar{B} + 1)$0 0 0 1 0 0 0 1
> R0 0 1 0 1 0 0 1
> (+24)  (17) = (+41)

> ** 4.19**
>  A  B  A  B
> A = $(11011101)_2$ B = $(00010100)_2$
>
> ****
>  A  $(\bar{B} + 1)$ R 
> $(\bar{B} + 1) = 11101100$
> A1 1 0 1 1 1 0 1
> $(\bar{B} + 1)$1 1 1 0 1 1 0 0
> R1 1 0 0 1 0 0 1
> (35)  (+20) = (55)

> ** 4.20**
>  A  B  B  A
> A = $(01111111)_2$ B = $(00000011)_2$
>
> ****
>  A  B R 
> A0 1 1 1 1 1 1 1
> B0 0 0 0 0 0 1 1
> R1 0 0 0 0 0 1 0
>  127 + 3 = 130 126 (+130)  128  +127 
> 

****
 I 

### 4.3.2 
 J 

## 4.4 
### 4.4.1 

- Mano, M. *Computer System Architecture*, Upper Saddle River, NJ: Prentice-Hall, 1993
- Null, L. and Lobur, J. *Computer Organization and Architecture*, Sudbury, MA: Jones and Bartlett, 2003
- Stalling, W. *Computer Organization and Architecture*, Upper Saddle River, NJ: Prentice-Hall, 2000

### 4.4.2 
- AND 
- 
- 
- 
- 
- 
- 
- NOT 
- OR 
- 
- XOR 

### 4.4.3 
- 
- NOTANDOR  XORNOT  ANDOR  XOR 
- NOT AND  0OR  1XOR 
- 
- 
- 

## 4.5 
### 4.5.1 
/

### 4.5.2 
1. 
2. 
3.  n  1 
4. 
5. 
6. 
7. 
8. 
9. NOT 
10. AND 
11. OR 
12. XOR 
13.  AND 
14.  OR 
15.  XOR 
16. 
17. 
18. 
19. 

### 4.5.3 
1. 
    a. NOT (99)16
    b. NOT (FF)16
    c. NOT (00)16
    d. NOT (01)16
2. 
    a. (99)16 AND (99)16
    b. (99)16 AND (00)16
    c. (99)16 AND (FF)16
    d. (FF)16 AND (FF)16
3. 
    a. (99)16 OR (99)16
    b. (99)16 OR (00)16
    c. (99)16 OR (FF)16
    d. (FF)16 OR (FF)16
4. 
    a. NOT [(99)16 OR (99)16)]
    b. (99)16 OR [NOT (00)16]
    c. [(99)16 AND (33)16)] OR [(00)16 AND (FF)16]
    d. (99)16 OR (33)16 AND [(00)16 OR (FF)16]
5.  0
6.  1
7. 
8. 
9.  4
10.  8
11. 
12.  8 
    a. 19 + 23
    b. 19  23
    c. 19 + 23
    d. 19  23
13.  16 
    a. 161 + 1023
    b. 161  1023
    c. 161 + 1023
    d. 161  1023
14.  8 
    a. 11000010 + 00111111
    b. 00000010 + 00111111
    c. 11000010 + 11111111
    d. 00000010 + 11111111
15.  8 
    a. 32 + 105
    b. 32  105
    c. 32 + 105
    d. 32  105
16.  16 
    a. (012A)16 + (0E27)16
    b. (712A)16 + (9E00)16
    c. (8011)16 + (0001)16
    d. (E12A)16 + (9E27)16
17.  8 
    a. 19 + 23
    b. 19  23
    c. 19 + 23
    d. 19  23
18.  IEEE_127  3 
    a. 34.75 + 23.125
    b. 12.625 + 451.00
    c. 33.1875  0.4375
    d. 344.3125  123.5625
19. 
    a. 
    b. 
    c. 
    d. 
20. 
21. 
`},cN={en:`
# Chapter 5: Computer Organization

In this chapter we discuss the organization of a stand-alone computer. We explain how every computer is made up of three subsystems. We also show how a simple, hypothetical computer can run a simple program to perform primitive arithmetic or logic operations.

## Objectives
After studying this chapter, the student should be able to:
- List the three subsystems of a computer.
- Describe the role of the central processing unit (CPU) in a computer.
- Describe the fetchdecodeexecute phases of a cycle in a typical computer.
- Describe the main memory and its addressing space.
- Distinguish between main memory and cache memory.
- Define the input/output subsystem.
- Understand the interconnection of subsystems and list different bus systems.
- Describe different methods of input/output addressing.
- Distinguish the two major trends in the design of computer architecture.
- Understand how computer throughput can be improved using pipelining.
- Understand how parallel processing can improve the throughput of computers.

## 5.1 INTRODUCTION
We can divide the parts that make up a computer into three broad categories or subsystems: the **central processing unit (CPU)**, the **main memory**, and the **input/output subsystem**. The next three sections discuss these subsystems and how they are connected to make a standalone computer. Figure 5.1 shows the three subsystems of a standalone computer.

## 5.2 CENTRAL PROCESSING UNIT
The **central processing unit (CPU)** performs operations on data. In most architectures it has three parts: an **arithmetic logic unit (ALU)**, a **control unit**, and a set of **registers** (Figure 5.2).

### 5.2.1 The arithmetic logic unit (ALU)
The **arithmetic logic unit (ALU)** performs logic, shift, and arithmetic operations on data.

**Logic operations**
We discussed several logic operations, such as NOT, AND, OR, and XOR, in Chapter 4. These operations treat the input data as bit patterns and the result of the operation is also a bit pattern.

**Shift operations**
We discussed two groups of shift operations on data in Chapter 4: logical shift operations and arithmetic shift operations. Logical shift operations are used to shift bit patterns to the left or right, while arithmetic operations are applied to integers. Their main purpose is to divide or multiply integers by two.

**Arithmetic operation**
We discussed some arithmetic operations on integers and reals on Chapter 4. We mentioned that some operations can be implemented more efficiently in hardware.

### 5.2.2 Registers
**Registers** are fast stand-alone storage locations that hold data temporarily. Multiple registers are needed to facilitate the operation of the CPU. Some of these registers are shown in Figure 5.2.

**Data registers**
In the past computers had only a few data registers to hold the input data and the result of the operations. Today, computers use dozens of registers inside the CPU to speed up their operations, because complex operations are done using hardware instead of software. These require several registers to hold the intermediate results. Data registers are named $R_0$ to $R_n$ in Figure 5.2.

**Instruction registers**
Today computers store not only data, but also programs, in their memory. The CPU is responsible for fetching instructions one by one from memory, storing them in the **instruction register (IR)** (in Figure 5.2), decoding them, and executing them. We will discuss this issue later in the chapter.

**Program counter**
Another common register in the CPU is the **program counter (PC)** (in Figure 5.2). The program counter keeps track of the instruction currently being executed. After execution of the instruction, the counter is incremented to point to the address of the next instruction in memory.

### 5.2.3 The control unit
The third part of any CPU is the control unit. The **control unit** controls the operation of each subsystem. Controlling is achieved through signals sent from the control unit to other subsystems.

## 5.3 MAIN MEMORY
**Main memory** is the second major subsystem in a computer (Figure 5.3). It consists of a collection of storage locations, each with a unique identifier, called an **address**. Data is transferred to and from memory in groups of bits called **words**. A word can be a group of 8 bits, 16 bits, 32 bits, or 64 bits (and growing). If the word is 8 bits, it is referred to as a **byte**. The term byte is so common in computer science that sometimes a 16-bit word is referred to as a 2-byte word, or a 32-bit word is referred to as a 4-byte word.

### 5.3.1 Address space
To access a word in memory requires an identifier. Although programmers use a name to identify a word (or a collection of words), at the hardware level each word is identified by an address. The total number of uniquely identifiable locations in memory is called the **address space**. For example, a memory with 64 kilobytes and a word size of 1 byte has an address space that ranges from 0 to 65535.

Table 5.1 shows the units used to refer to memory. Note that the terminology is misleading: it approximates the number of bytes in powers of 10, but the actual number of bytes is in powers of 2. Units in powers of 2 facilitates addressing.

**Table 5.1 Memory units**

| Unit | Exact Number of Bytes | Approximation |
| :--- | :--- | :--- |
| kilobyte | $2^{10}$ (1024) bytes | $10^3$ bytes |
| megabyte | $2^{20}$ (1048576) bytes | $10^6$ bytes |
| gigabyte | $2^{30}$ (1073741824) bytes | $10^9$ bytes |
| terabyte | $2^{40}$ bytes | $10^{12}$ bytes |

**Addresses as bit patterns**
Because computers operate by storing numbers as bit patterns, a memory address is also represented as a bit pattern. So if a computer has 64 kilobytes ($2^{16}$) of memory with a word size of 1 byte, we need a bit pattern of 16 bits to define an address. Recall from Chapter 3 that addresses can be represented as unsigned integers (we do not have negative addresses). In other words, the first location is referred to as address 0000000000000000 (address 0), and the last location is referred to as address 1111111111111111 (address 65535). In general, if a computer has $N$ words of memory, we need an unsigned integer of size $\\log_2 N$ bits to refer to each memory location.

**Memory addresses are defined using unsigned binary integers.**

> **Example 5.1**
> A computer has 32 MB (megabytes) of memory. How many bits are needed to address any single byte in memory?
>
> **Solution**
> The memory address space is 32 MB, or $2^{25}$ ($2^5 \\times 2^{20}$). This means that we need $\\log_2 2^{25}$, or 25 bits, to address each byte.

> **Example 5.2**
> A computer has 128 MB of memory. Each word in this computer is eight bytes. How many bits are needed to address any single word in memory?
>
> **Solution**
> The memory address space is 128 MB, which means $2^{27}$. However, each word is eight ($2^3$) bytes, which means that we have $2^{24}$ words. This means that we need $\\log_2 2^{24}$, or 24 bits, to address each word.

### 5.3.2 Memory types
Two main types of memory exist: RAM and ROM.

**RAM**
**Random access memory (RAM)** makes up most of the main memory in a computer. In a random access device, a data item can be accessed randomlyusing the address of the memory locationwithout the need to access all data items located before it. However, the term is confusing, because ROM can also be accessed randomly. What distinguishes RAM from ROM is that RAM can be read from and written to. The CPU can write something to RAM and later overwrite it. Another characteristic of RAM is that it is **volatile**: the information (program or data) is lost if the computer is powered down. In other words, all information in RAM is erased if you turn off the computer or if there is a power outage. RAM technology is divided into two broad categories: SRAM and DRAM.

**SRAM**
**Static RAM (SRAM)** technology uses traditional flip-flop gates (see Appendix E) to hold data. The gates hold their state (0 or 1), which means that data is stored as long as the power is on and there is no need to refresh memory locations. SRAM is fast but expensive.

**DRAM**
**Dynamic RAM (DRAM)** technology uses capacitors, electrical devices that can store energy, for data storage. If a capacitor is charged, the state is 1; if it is discharged, the state is 0. Because a capacitor loses some of its charge with time, DRAM memory cells need to be refreshed periodically. DRAMs are slow but inexpensive.

**ROM**
The contents of **read-only memory (ROM)** are written by the manufacturer, and the CPU can read from, but not write to, ROM. Its advantage is that it is **nonvolatile**its contents are not lost if you turn off the computer. Normally, it is used for programs or data that must not be erased or changed even if you turn off the computer. For example, some computers come with ROM that holds the boot program that runs when we switch on the computer.

**PROM**
One variation of ROM is **programmable read-only memory (PROM)**. This type of memory is blank when the computer is shipped. The user of the computer, with some special equipment, can store programs on it. When programs are stored, it behaves like ROM and cannot be overwritten. This allows a computer user to store specific programs in PROM.

**EPROM**
A variation of PROM is **erasable programmable read-only memory (EPROM)**. It can be programmed by the user, but can also be erased with a special device that applies ultraviolet light. To erase EPROM memory requires physical removal and reinstallation of the EPROM.

**EEPROM**
A variation of EPROM is **electrically erasable programmable read-only memory (EEPROM)**. EEPROM can be programmed and erased using electronic impulses without being removed from the computer.

### 5.3.3 Memory hierarchy
Computer users need a lot of memory, especially memory that is very fast and inexpensive. This demand is not always possible to satisfyvery fast memory is usually not cheap. A compromise needs to be made. The solution is hierarchical levels of memory (Figure 5.4). The hierarchy is based on the following:
- Use a very small amount of costly high-speed memory where speed is crucial. The registers inside the CPU are of this type.
- Use a moderate amount of medium-speed memory to store data that is accessed often. Cache memory, discussed next, is of this type.
- Use a large amount of low-speed memory for data that is accessed less often. Main memory is of this type.

### 5.3.4 Cache memory
**Cache memory** is faster than main memory but slower than the CPU and its registers. Cache memory, which is normally small in size, is placed between the CPU and main memory (Figure 5.5).

Cache memory at any time contains a copy of a portion of main memory. When the CPU needs to access a word in main memory, it follows this procedure:
1.  The CPU checks the cache.
2.  If the word is there, it copies the word: if not, the CPU accesses main memory and copies a block of memory starting with the desired word. This block replaces the previous contents of cache memory.
3.  The CPU accesses the cache and copies the word.

This procedure can expedite operations; if the word is in the cache, it is accessed immediately. If the word is not in the cache, the word and a whole block are copied to the cache. Since it is probable that the CPU, in its next cycle, will need to access the words following the first word, the existence of the cache speeds processing.

We might wonder why cache memory is so efficient despite its small size. The answer lies in the 8020 rule. It has been observed that most computers typically spend 80 per cent of their time accessing only 20 per cent of the data. In other words, the same data is accessed over and over again. Cache memory, with its high speed, can hold this 20 per cent to make access faster at least 80 per cent of the time.

## 5.4 INPUT/OUTPUT SUBSYSTEM
The third major subsystem in a computer is the collection of devices referred to as the **input/output (I/O) subsystem**. This subsystem allows a computer to communicate with the outside world, and to store programs and data even when the power is off. Input/output devices can be divided into two broad categories: nonstorage and storage devices.

### 5.4.1 Nonstorage devices
**Nonstorage devices** allow the CPU/memory to communicate with the outside world, but they cannot store information.

**Keyboard and monitor**
Two of the more common nonstorage input/output devices are the **keyboard** and the **monitor**. The keyboard provides input, the monitor displays output and at the same time echoes input typed on the keyboard. Programs, commands, and data are input or output using strings of characters. The characters are encoded using a code such as ASCII (see Appendix A). Other devices that fall in this category are mice, joysticks, and so on.

**Printer**
A **printer** is an **output device** that creates a permanent record. A printer is a nonstorage device because the printed material cannot be directly entered into a computer again unless someone retypes or scans it.

### 5.4.2 Storage devices
**Storage devices**, although classified as I/O devices, can store large amounts of information to be retrieved at a later time. They are cheaper than main memory, and their contents are nonvolatilethat is, not erased when the power is turned off. They are sometimes referred to as **auxiliary storage devices**. We can categorize them as either magnetic or optical.

**Magnetic storage devices**
Magnetic storage devices use magnetization to store bits of data. If a location is magnetized, it represents 1, if not magnetized, it represents 0.

**Magnetic disks**
A **magnetic disk** consists of one or more disks stacked on top of each other. The disks are coated with a thin magnetic film. Information is stored on and retrieved from the surface of the disk using a **read/write head** for each magnetized surface of the disk. Figure 5.6 shows the physical layout of a magnetic disk drive and the organization of a disk.
- **Surface organization.** To organize data stored on the disk, each surface is divided into **tracks**, and each track is divided into **sectors** (Figure 5.6). The tracks are separated by an **intertrack gap**, and the sectors are separated by an **intersector gap**.
- **Data access.** A magnetic disk is considered a random access device. In a random access device, a data item can be accessed randomly without the need to access all other data items located before it. However, the smallest storage area that can be accessed at one time is a sector. A block of data can be stored in one or more sectors and retrieved without the need to retrieve the rest of the information on the disk.
- **Performance.** The performance of a disk depends on several factors, the most important being the rotational speed, the seek time, and the transfer time. The **rotational speed** defines how fast the disk is spinning. The **seek time** defines the time to move the read/write head to the desired track where the data is stored. The **transfer time** defines the time to move data from the disk to the CPU/memory.

**Magnetic tape**
**Magnetic tape** comes in various sizes. One common type is half-inch plastic tape coated with a thick magnetic film. The tape is mounted on two reels and uses a read/write head that reads or writes information when the tape is passed through it. Figure 5.7 shows the mechanical configuration of a magnetic tape drive.
- **Surface organization.** The width of the tape is divided into nine tracks, each location on a track storing 1 bit of information. Nine vertical locations can store 8 bits of information related to a byte plus a bit for error detection (Figure 5.7).
- **Data access.** A magnetic tape is considered a sequential access device. Although the surface may be divided into blocks, there is no addressing mechanism to access each block. To retrieve a specific block on the tape, we need to pass through all the previous blocks.
- **Performance.** Although magnetic tape is slower than a magnetic disk, it is cheaper. Today, people use magnetic tape to back up large amounts of data.

**Optical storage devices**
**Optical storage devices**, a relatively recent technology, use laser light to store and retrieve data. The use of optical storage technology followed the invention of the **compact disk (CD)** used to store audio information. Today, the same technologyslightly improvedis used to store information in a computer. Devices that use this technology include CD-ROMs, CD-Rs, CD-RWs, and DVDs.

**CD-ROMs**
**Compact disk read-only memory (CD-ROM)** disks use the same technology as the audio CD, originally developed by Phillips and Sony for recording music. The only difference between these two technologies is enhancement: a CD-ROM drive is more robust and checks for errors. Figure 5.8 shows the steps involved in creating and using a CD-ROM.
- **Creation.** CD-ROM technology uses three steps to create a large number of discs:
  a. A **master disk** is created using a high-power infrared laser that creates bit patterns on coated plastic. The laser translates the bit patterns into a sequence of **pits** (holes) and **lands** (no holes). The pits usually represent 0s and the lands usually represent 1s. However, this is only a convention, and it can be reversed. Other schemes use a transition (pit to land or land to pit) to represent 1, and a lack of transition to represent 0.
  b. From the master disk, a mold is made. In the mold, the pits (holes) are replaced by bumps.
  c. Molten **polycarbonate resin** is injected into the mold to produce the same pits as the master disk. A very thin layer of aluminum is added to the polycarbonate to provide a reflective surface. On top of this, a protective layer of lacquer is applied and a label is added. Only this last step needs to be repeated for each disk.
- **Reading.** The CD-ROM is read using a low-power laser beam. The beam is reflected by the aluminum surface when passing through a land. It is reflected twice when it encounters a pit, once by the pit boundary and once by the aluminum boundary. The two reflections have a destructive effect, because the depth of the pit is chosen to be exactly one-fourth of the beam wavelength. In other words, the sensor installed in the drive detects more light when the location is a land and less light when the location is a pit, so can read what was recorded on the original master disk and copied to the CD-ROM.
- **Format.** CD-ROM technology uses a different format than magnetic disk (Figure 5.9). The format of data on a CD-ROM is based on:
  a. A block of 8-bit data transformed into a 14-bit symbol using an error-correction method called Hamming code.
  b. A frame made up from 42 symbols (14 bits/symbol).
  c. A sector made up from 98 frames (2352 bytes).
- **Speed.** CD-ROM drives come in different speeds. Single speed is referred to as 1x, double speed 2x, and so on. If the drive is single speed, it can read up to 153 600 bytes per second. Table 5.2 shows the speeds and their corresponding data rates.

**Table 5.2 CD-ROM speeds**
| Speed | Data rate | Approximation |
|---|---|---|
| 1x | 153600 bytes per second | 150 KB/s |
| 2x | 307200 bytes per second | 300 KB/s |
| 4x | 614400 bytes per second | 600 KB/s |
| 6x | 921600 bytes per second | 900 KB/s |
| 8x | 1228800 bytes per second | 1.2 MB/s |
| 12x | 1843200 bytes per second | 1.8 MB/s |
| 16x | 2457600 bytes per second | 2.4 MB/s |
| 24x | 3688400 bytes per second | 3.6 MB/s |
| 32x | 4915200 bytes per second | 4.8 MB/s |
| 40x | 6144000 bytes per second | 6 MB/s |

- **Application.** The expense involved in creating a master disk, mold, and the actual disk can be justified if there are a large number of potential customers. In other words, this technology is economical if the discs are mass produced.

**CD-R**
Clearly, CD-ROM technology is justifiable only if the manufacturer can create a large number of disks. On the other hand, the **compact disk recordable (CD-R)** format allows users to create one or more disks without going through the expense involved in creating CD-ROMs. It is particularly useful for making backups. You can write once to CD-R disks, but they can be read many times. This is why the format is sometimes called **write once, read many (WORM)**.
- **Creation.** CD-R technology uses the same principles as CD-ROM to create a disk (Figure 5.10). The following lists the differences:
  a. There is no master disk or mold.
  b. The reflective layer is made of gold instead of aluminum.
  c. There are no physical pits (holes) in the polycarbonate: the pits and lands are only simulated. To simulate pits and lands, an extra layer of dye, similar to the material used in photography, is added between the reflective layer and the polycarbonate.
  d. A high-power laser beam, created by the CD burner of the drive, makes a dark spot in the dye, changing its chemical composition, which simulates a pit. The areas not struck by the beam become lands.
- **Reading.** CD-Rs can be read by a CD-ROM or a CD-R drive. This means that any differences should be transparent to the drive. The same low-power laser beam passes in front of the simulated pits and lands. For a land, the beam reaches the reflective layer and is reflected. For a simulated pit, the spot is opaque, so the beam cannot be reflected back.
- **Format and speed.** The format, capacity, and speed of CD-Rs are the same as CD-ROMs.
- **Application.** This technology is very attractive for the creation and distribution of a small number of disks. It is also very useful for making archive files and backups.

**CD-RW**
Although CD-Rs have become very popular, they can be written to only once. To overwrite previous materials, a new technology allows a new type of disk called **compact disk rewritable (CD-RW)**. It is sometimes called an *erasable optical disk*.
- **Creation.** CD-RW technology uses the same principles as CD-R to create the disk (Figure 5.11). The following lists the differences:
  a. Instead of dye, the technology uses an alloy of silver, indium, antimony, and tellurium. This alloy has two stable states: crystalline (transparent) and amorphous (nontransparent).
  b. The drive uses high-power lasers to create simulated pits in the alloy (changing it from crystalline to amorphous).
- **Reading.** The drive uses the same type of low-power laser beam as CD-ROM and CD-R to detect pits and lands.
- **Erasing.** The drive uses a medium-power laser beam to change pits to lands. The beam changes a location from the amorphous state to the crystalline state.
- **Format and speed.** The format, capacity, and speed of CD-RWs are the same as CD-ROMs.
- **Application.** The technology is definitely more attractive than CD-R technology. However, CD-Rs are more popular for two reasons. First, blank CD-R discs are less expensive than blank CD-RW discs. Second, CD-Rs are preferable in cases where the created disk must not be changed, either accidentally or intentionally.

**DVD**
The industry has felt the need for digital storage media with even higher capacity. The capacity of a CD-ROM (650 MB) is insufficient to store video information. The latest optical memory storage device on the market is called a **digital versatile disk (DVD)**. It uses a technology similar to CD-ROM, but with the following differences:
a. The pits are smaller: 0.4 microns in diameter instead of the 0.8 microns used in CDs.
b. The tracks are closer to each other.
c. The beam is a red laser instead of infrared.
d. DVDs use one to two recording layers, and can be single-sided or double-sided.
- **Capacity.** These improvements result in higher capacities (Table 5.3).

**Table 5.3 DVD capacities**
| Feature | Capacity |
|---|---|
| Single-sided, single-layer | 4.7 GB |
| Single-sided, dual-layer | 8.5 GB |
| Double-sided, single-layer | 9.4 GB |
| Double-sided, dual-layer | 17 GB |

- **Compression.** DVD technology uses MPEG (see Chapter 15) for compression. This means that a single-sided, single-layer DVD can hold 133 minutes of video at high resolution. This also includes both audio and subtitles.
- **Application.** Today, the high capacity of DVDs attracts many applications that need to store a high volume of data.

## 5.5 SUBSYSTEM INTERCONNECTION
The previous sections outlined the characteristics of the three subsystems (CPU, main memory, and I/O) in a stand-alone computer. In this section, we explore how these three subsystems are interconnected. The interconnection plays an important role because information needs to be exchanged between the three subsystems.

### 5.5.1 Connecting CPU and memory
The CPU and memory are normally connected by three groups of connections, each called a **bus**: data bus, address bus, and control bus (Figure 5.12).

**Data bus**
The **data bus** is made of several connections, each carrying 1 bit at a time. The number of connections depends on the size of the word used by the computer. If the word is 32 bits (4 bytes), we need a data bus with 32 connections so that all 32 bits of a word can be transmitted at the same time.

**Address bus**
The **address bus** allows access to a particular word in memory. The number of connections in the address bus depends on the address space of the memory. If the memory has $2^n$ words, the address bus needs to carry $n$ bits at a time. Therefore, it must have $n$ connections.

**Control bus**
The **control bus** carries communication between the CPU and memory. For example, there must be a code, sent from the CPU to memory, to specify a read or write operation. The number of connections used in the control bus depends on the total number of control commands a computer needs. If a computer has $2^m$ control actions, we need $m$ connections for the control bus, because $m$ bits can define $2^m$ different operations.

### 5.5.2 Connecting I/O devices
I/O devices cannot be connected directly to the buses that connect the CPU and memory because the nature of I/O devices is different from the nature of CPU and memory. I/O devices are electromechanical, magnetic, or optical devices, whereas the CPU and memory are electronic devices. I/O devices also operate at a much slower speed than the CPU/memory. There is a need for some sort of intermediary to handle this difference. Input/output devices are therefore attached to the buses through **input/output controllers** or **interfaces**. There is one specific **controller** for each input/output device (Figure 5.13).

**Controllers**
Controllers or interfaces bridge the gap between the nature of the I/O device and the CPU and memory. A controller can be a serial or parallel device. A serial controller has only one data wire, while a parallel controller has several data connections so that several bits can be transferred at a time.
Several kinds of controllers are in use. The most common ones today are SCSI, FireWire, USB, and HDMI.

**SCSI**
The **small computer system interface (SCSI)** was first developed for Macintosh computers in 1984. Today it is used in many systems. It has a parallel interface with 8, 16, or 32 connections. The SCSI interface provides a daisy-chained connection, as shown in Figure 5.14. Both ends of the chain must be connected to a special device called a *terminator*, and each device must have a unique address (target ID).

**FireWire**
IEEE standard 1394 defines a serial interface commonly called **FireWire**. It is a high-speed serial interface that transfers data in packets, achieving a transfer rate of up to 50 MB/sec, or double that in the most recent version. It can be used to connect up to 63 devices in a daisy chain or a tree connection (using only one connection). Figure 5.15 shows the connection of input/output devices to a FireWire controller. There is no need for termination as there is for SCSI.

**USB**
**Universal Serial Bus (USB)** is a competitor for FireWire. Although the nomenclature uses the term *bus*, USB is a serial controller that connects both low- and high-speed devices to the computer bus. Figure 5.16 shows the connection of the USB controller to the bus and the connection of devices to the controller.

Multiple devices can be connected to a USB controller, which is also referred to as a *root hub*. USB-2 (USB Version 2.0) allows up to 127 devices to be connected to a USB controller using a tree-like **topology** with the controller as the root of the tree, **hubs** as the intermediate nodes, and the devices as the end nodes. The difference between the controller (root hub) and the other hubs is that the controller is aware of the presence of other hubs in the tree, but other hubs are passive devices that simply pass the data.
Devices can easily be removed or attached to the tree without powering down the computer. This is referred to as *hot-swappable*. When a hub is removed from the system, all devices and other hubs connected to it are also removed.
USB uses a cable with four wires. Two wires (+5 volts and ground) are used to provide power for low-power devices such as keyboards or mice. A high-power device needs to be connected to a power source. A hub gets its power from the bus and can provide power for low-power devices. The other two wires (twisted together to reduce noise) are used to carry data, addresses, and control signals. USB uses two different connectors: A and B. The A connector (downstream connector) is rectangular and is used to connect to the USB controller or the hub. The B connector (upstream connector) is close to square and is used to connect to the device. Recently two new connectors, mini A and mini B, have been introduced that are used for connecting to small devices and laptop computers.
USB-2 provides three data transfer rates: 1.5 Mbps (megabits per second), 12 Mbps, and 480 Mbps. The low data rate can be used with slow devices such as keyboards and mice, the medium data rate with printers, and the high data rate with mass storage devices.

Data is transferred over USB in packets (see Chapter 6). Each packet contains an address part (device identifier), a control part, and part of the data to be transmitted to that device. All devices will receive the same packet, but only those devices with the address defined in the packet will accept it.
USB 3.0 is another revision of the Universal Serial Bus (USB) standard for computer connectivity. USB 3.0 adds a new transfer mode called *SuperSpeed* capable of transferring data at up to 4.8 Gbit/s. It is promised to update USB 3.0 to 10 Gbit/s.

**HDMI**
**HDMI (High-Definition Multimedia Interface)** is a digital replacement for existing analog video standards. It can be used for transferring video data digital audio data from a source to a compatible computer monitor, video projector, digital television, or digital audio device. There are a number of HDMI-standard cables available including standard, enhanced, high definition, and 3D video signals; up to eight channels of compressed or uncompressed digital audio; a CEC (Consumer Electronics Control) connection; and an Ethernet data connection.

### 5.5.3 Addressing input/output devices
The CPU usually uses the same bus to read data from or write data to main memory and I/O device. The only difference is the instruction. If the instruction refers to a word in main memory, data transfer is between main memory and the CPU. If the instruction identifies an I/O device, data transfer is between the I/O device and the CPU. There are two methods for handling the addressing of I/O devices: isolated I/O and memory-mapped I/O.

**Isolated I/O**
In the **isolated I/O** method, the instructions used to read/write memory are totally different than the instructions used to read/write I/O devices. There are instructions to test, control, read from, and write to I/O devices. Each I/O device has its own address. The I/O addresses can overlap with memory addresses without any ambiguity because the instruction itself is different. For example, the CPU can use a command Read 101 to read from memory word 101, and it can use a command Input 101 to read from I/O device 101. There is no confusion, because the read command is for reading from memory and the input command is for reading from an I/O device (Figure 5.17).

**Memory-mapped I/O**
In the **memory-mapped I/O** method, the CPU treats each register in the I/O controller as a word in memory. In other words, the CPU does not have separate instructions for transferring data from memory and I/O devices. For example, there is only one Read instruction. If the address defines a word from memory, the data is read from that word. If the address defines a register from an I/O device, the data is read from that register. The advantage of the memory-mapped configuration is a smaller number of instructions: all the memory instructions can be used by I/O devices. The disadvantage is that part of the memory address space is allocated to registers in I/O controllers. For example, if we have five I/O controllers and each has four registers, 20 addresses are used for this purpose. The size of the memory is reduced by 20 words. Figure 5.18 shows the memory-mapped I/O concept.

## 5.6 PROGRAM EXECUTION
Today, general-purpose computers use a set of instructions called a *program* to process data. A computer executes the program to create output data from input data. Both the program and the data are stored in memory.

**At the end of this chapter we give some examples of how a hypothetical simple computer executes a program.**

### 5.6.1 Machine cycle
The CPU uses repeating **machine cycles** to execute instructions in the program, one by one, from beginning to end. A simplified cycle can consist of three phases: **fetch**, **decode**, and **execute** (Figure 5.19).

**Fetch**
In the **fetch** phase, the control unit orders the system to copy the next instruction into the instruction register in the CPU. The address of the instruction to be copied is held in the program counter register. After copying, the program counter is incremented to refer to the next instruction in memory.

**Decode**
The second phase in the cycle is the **decode** phase. When the instruction is in the instruction register, it is decoded by the control unit. The result of this decode step is the binary code for some operation that the system will perform.

**Execute**
After the instruction is decoded, the control unit sends the task order to a component in the CPU. For example, the control unit can tell the system to load (read) a data item from memory, or the CPU can tell the ALU to add the contents of two input registers and put the result in an output register. This is the **execute** phase.

### 5.6.2 Input/output operation
Commands are required to transfer data from I/O devices to the CPU and memory. Because I/O devices operate at much slower speeds than the CPU, the operation of the CPU must be somehow synchronized with the I/O devices. Three methods have been devised for this synchronization: programmed I/O, interrupt-driven I/O, and direct memory access (DMA).

**Programmed I/O**
In the **programmed I/O** method, synchronization is very primitive: the CPU waits for the I/O device (Figure 5.20).

The transfer of data between the I/O device and the CPU is done by an instruction in the program. When the CPU encounters an I/O instruction, it does nothing else until the data transfer is complete. The CPU constantly checks the status of the I/O device: if the device is ready to transfer, data is transferred to the CPU. If the device is not ready, the CPU continues checking the device status until the I/O device is ready. The big issue here is that CPU time is wasted by checking the status of the I/O device for each unit of data to be transferred. Note that data is transferred to memory after the input operation, while data is transferred from memory before the output operation.

**Interrupt-driven I/O**
In the **interrupt-driven I/O** method, the CPU informs the I/O device that a transfer is going to happen, but it does not test the status of the I/O device continuously. The I/O device informs (interrupts) the CPU when it is ready. During this time, the CPU can do other jobs such as running other programs or transferring data from or to other I/O devices (Figure 5.21).
In this method, CPU time is not wastedthe CPU can do something else while the slow I/O device is finishing a task. Note that, like programmed I/O, this method also transfers data between the device and the CPU. Data is transferred to memory after the input operation, while data is transferred from memory before the output operation.

**Direct memory access (DMA)**
The third method used for transferring data is **direct memory access (DMA)**. This method transfers a large block of data between a high-speed I/O device, such as a disk, and memory directly without passing it through the CPU. This requires a DMA controller that relieves the CPU of some of its functions. The DMA controller has registers to hold a block of data before and after memory transfer. Figure 5.22 shows the DMA connection to the data, address, and control buses.

Using this method for an I/O operation, the CPU sends a message to the DMA. The message contains the type of transfer (input or output), the beginning address of the memory location, and the number of bytes to be transferred. The CPU is then available for other jobs (Figure 5.23).
When ready to transfer data, the DMA controller informs the CPU that it needs to take control of the buses. The CPU stops using the buses and lets the controller use them. After data transfer directly between the DMA and memory, the CPU continues its normal operation. Note that, in this method, the CPU is idle for a time. However, the duration of this idle period is very short compared to other methodsthe CPU is idle only during the data transfer between the DMA and memory, not while the device prepares the data.

## 5.7 DIFFERENT ARCHITECTURES
The architecture and organization of computers have gone through many changes in recent decades. In this section we discuss some common architectures and organizations that differ from the simple computer architecture we discussed earlier.

### 5.7.1 CISC
CISC (pronounced *sisk*) stands for **complex instruction set computer (CISC)**. The strategy behind CISC architectures is to have a large set of instructions, including complex ones. Programming CISC-based computers is easier than in other designs because there is a single instruction for both simple and complex tasks. Programmers therefore do not have to write a set of instructions to do a complex task.

The complexity of the instruction set makes the circuitry of the CPU and the control unit very complicated. The designers of CISC architectures have come up with a solution to reduce this complexity: programming is done on two levels. An instruction in machine language is not executed directly by the CPUthe CPU performs only simple operations, called *microoperations*. A complex instruction is transformed into a set of these simple operations and then executed by the CPU. This necessitates the addition of a special memory called *micromemory* that holds the set of operations for each complex instruction in the instruction set. The type of programming that uses microoperations is called *microprogramming*.
One objection to CISC architecture is the overhead associated with microprogramming and access to micromemory. However, proponents of the architecture argue that this compensates for smaller programs at the machine level. An example of CISC architecture can be seen in the Pentium series of processors developed by Intel.

### 5.7.2 RISC
RISC (pronounced *risk*) stands for **reduced instruction set computer**. The strategy behind RISC architecture is to have a small set of instructions that do a minimum number of simple operations. Complex instructions are simulated using a subset of simple instructions. Programming in RISC is more difficult and time-consuming than in the other design because most of the complex instructions are simulated using simple instructions.

### 5.7.3 Pipelining
We have learned that a computer uses three phases of *fetch*, *decode*, and *execute* for each instruction. In early computers, these three phases needed to be done in series for each instruction. In other words, instruction $n$ needs to finish all of these phases before the instruction $n + 1$ can start its own phases. Modern computers use a technique called **pipelining** to improve the **throughput** (the total number of instructions performed in each period of time). The idea is that if the control unit can do two or three of these phases simultaneously, the next instruction can start before the previous one is finished.
Figure 5.24.a shows how three consecutive instructions are handled in a computer that uses no pipelining. Figure 5.24.b shows how pipelining can increase the throughput of the computer by allowing different types of phases belonging to different instructions to be done simultaneously. In other words, when the CPU is performing the decode phase of the first instruction, it can also perform the fetch phase of the second instruction. The first computer can perform on average 9 phases in the specific period of time, while the pipelined computer can perform 24 phases in the same period of time. If we assume that each phase uses the same amount of time, the first computer has done 9/3 = 3 instructions while the second computer has done 24/3 = 8 instructions. The throughput is therefore increased 8/3 or 266 per cent.
Of course, pipelining is not as easy as this. There are some problems, such as when a jump instruction is encountered. In this case, the instruction in the *pipe* should be discarded. However, new CPU designs have overcome most drawbacks. Some new CPU designs can even do several fetch cycles simultaneously.

### 5.7.4 Parallel processing
Traditionally a computer had a single control unit, a single arithmetic logic unit, and a single memory unit. With the evolution in technology and the drop in the cost of computer hardware, today we can have a single computer with multiple control units, multiple arithmetic logic units and multiple memory units. This idea is referred to as *parallel processing*. Like pipelining, parallel processing can improve throughput.
**Parallel processing** involves many different techniques. A general view of parallel processing is given by the taxonomy proposed by M. J. Flynn. This taxonomy divides the computers organization (in term of processing data) into four categories, as shown in Figure 5.25. According to Flynn, parallel processing may occur in the data stream, the instruction stream, or both.

**SISD organization**
A **single instruction-stream, single data-stream (SISD)** organization represents a computer that has one control unit, one arithmetic logic unit, and one multiple memory units. The instructions are executed sequentially and each instruction may access one or more data items in the data stream. Our simple computer introduced earlier in the chapter is an example of SISD organization. Figure 5.26 shows the concept of configuration for an SISD organization.

**SIMD organization**
A **single instruction-stream, multiple data-stream (SIMD)** organization represents a computer that has one control unit, multiple processing units, and multiple memory units. All processor units receive the same instruction from the control unit, but operate on different items of data. An array processor that simultaneously operates on an array of data belongs to this category. Figure 5.27 shows the concept and implementation of an SIMD organization.

**MISD organization**
A **multiple instruction-stream, single data-stream (MISD)** architecture is one in which several instructions belonging to several instruction streams simultaneously operate on the same data stream. Figure 5.28 shows the concept, but it has never been implemented.

**MIMD organization**
A **multiple instruction-stream, multiple data-stream (MIMD)** architecture is one in which several instructions belonging to several instruction streams simultaneously operate on several data streams (each instruction on one data stream). Figure 5.29 shows the concept and implementation. MIMD organization is considered as a true parallel processing architecture by some experts. In this architecture several tasks can be performed simultaneously. The architecture can use a single shared memory or multiple memory sections.

Parallel processing has found some applications, mostly in the scientific community, in which a task may take several hours or days if done using a traditional computer architecture. Some examples of this can be found in multiplication of very large matrices, in simultaneous processing of large amounts of data for weather prediction, or in space flight simulations.

## 5.8 A SIMPLE COMPUTER
To explain the architecture of computers as well as their instruction processing, we introduce a simple (unrealistic) computer, as shown in Figure 5.30. Our simple computer has three components: CPU, memory, and an input/output subsystem.

### 5.8.1 CPU
The CPU itself is divided into three sections: data registers, arithmetic logic unit (ALU), and the control unit.

**Data registers**
There are sixteen 16-bit data registers with hexadecimal addresses $(0, 1, 2, ..., F)_{16}$, but we refer to them as $R_0$ to $R_{15}$. In most instructions, they hold 16-bit data, but in some instructions they may hold other information.

**Control unit**
The control unit has the circuitry to control the operations of the ALU, access to memory, and access to the I/O subsystem. In addition, it has two dedicated registers: program counter and instruction register. The program counter (PC), which can hold only eight bits, keeps track of which instruction is to be executed next. The contents of the PC points to the address of the memory location of the main memory that holds the next program instruction. After each machine cycle the program counter is incremented by one to point to the next program instruction. The instruction register (IR) holds a 16-bit value which is the encoded instruction for the current cycle.

### 5.8.2 Main memory
The main memory has 256 16-bit memory locations with binary addresses $(00000000 \\text{ to } 11111101)_2$ or hexadecimal addresses $(00 \\text{ to } FD)_{16}$. The main memory holds both data and program instruction. The first 64 locations $(00 \\text{ to } 3F)_{16}$ are dedicated to program instructions. Program instructions for any program are stored in consecutive memory locations. Memory locations $(40 \\text{ to } FD)_{16}$ are used for storing data.

### 5.8.3 Input/output subsystem
Our simple computer has a very primitive input/output subsystem. The subsystem consists of a keyboard and a monitor. Although we show the keyboard and monitor in a separate box in Figure 5.30, the subsystem is part of the memory address-wise. These devices have memory-mapped addresses, as discussed earlier in the chapter. We assume that the keyboard (as the input device) and monitor (as the only output device) act like memory locations with addresses $(FE)_{16}$ and $(FF)_{16}$ respectively, as shown in the figure. In other words, we assume that they behave as 16-bit registers that interact with the CPU as a memory location would. These two devices transfer data from the outside world to the CPU and vice versa.

### 5.8.4 Instruction set
Our simple computer is capable of having a set of 16 instructions, although we are using only 14 of these instructions. Each computer instruction consists of two parts: the **operation code (opcode)** and the **operand(s)**. The opcode specifies the type of operation to be performed on the operand(s). Each instruction consists of 16 bits divided into four 4-bit fields. The leftmost field contains the opcode and the other three fields contain the operand or address of operand(s), as shown in Figure 5.31.

The instructions are listed in Table 5.4 below. Note that not every instruction requires three operands. Any operand field not needed is filled with $(0)_{16}$. For example, all three operand fields of the halt instruction, and the last field of the move and NOT instructions, are filled with $(0)_{16}$. Also note that a register address is described by a single hexadecimal digit and thus uses a single field, but a memory location is described by two hexadecimal digits and uses two fields.
There are two add instructions: one for adding integers (ADDI) and one for adding floating points numbers (ADDF). The simple computer can take input from keyboard if we use address $(FE)_{16}$ as the second operand of the LOAD instruction. Similarly, the computer sends output to the monitor if we use the address $(FF)_{16}$ as the second operand of the STORE instruction. If the third operand of the ROTATE instruction is 0, the instruction circularly rotates the bit pattern in R to the right $n$ places: if the third operand is 1, it rotates it to the left. We have also included one increment (INC) and one decrement (DEC) instruction.

**Table 5.4 List of instructions for the simple computer**
| Instruction | Code $d_1$ | Operands $d_2, d_3, d_4$ | Action |
|---|---|---|---|
| HALT | 0 | | Stops the execution of the program |
| LOAD | 1 | $R_D$ $M_S$ | $R_D \\leftarrow M_S$ |
| STORE | 2 | $M_D$ $R_S$ | $M_D \\leftarrow R_S$ |
| ADDI | 3 | $R_D$ $R_{S1}$ $R_{S2}$ | $R_D \\leftarrow R_{S1} + R_{S2}$ |
| ADDF | 4 | $R_D$ $R_{S1}$ $R_{S2}$ | $R_D \\leftarrow R_{S1} + R_{S2}$ |
| MOVE | 5 | $R_D$ $R_S$ | $R_D \\leftarrow R_S$ |
| NOT | 6 | $R_D$ $R_S$ | $R_D \\leftarrow \\overline{R_S}$ |
| AND | 7 | $R_D$ $R_{S1}$ $R_{S2}$ | $R_D \\leftarrow R_{S1} \\text{ AND } R_{S2}$ |
| OR | 8 | $R_D$ $R_{S1}$ $R_{S2}$ | $R_D \\leftarrow R_{S1} \\text{ OR } R_{S2}$ |
| XOR | 9 | $R_D$ $R_{S1}$ $R_{S2}$ | $R_D \\leftarrow R_{S1} \\text{ XOR } R_{S2}$ |
| INC | A | $R$ | $R \\leftarrow R + 1$ |
| DEC | B | $R$ | $R \\leftarrow R - 1$ |
| ROTATE | C | $R$ $n$ 0 or 1 | Rot$_n$ $R$ |
| JUMP | D | $R$ $n$ | IF $R_0 \\neq R$ then PC = $n$, otherwise continue |

Key:
$R_S, R_{S1}, R_{S2}$: Hexadecimal address of source registers
$R_D$: Hexadecimal address of destination register
$M_S$: Hexadecimal address of source memory location
$M_D$: Hexadecimal address of destination memory location
$n$: Hexadecimal number
$d_1, d_2, d_3, d_4$: First, second, third, and fourth hexadecimal digits

### 5.8.5 Processing the instructions
Our simple computer, like most computers, uses machine cycles. A cycle is made of three phases: *fetch*, *decode*, and *execute*. During the fetch phase, the instruction whose address is determined by the PC is obtained from the memory and loaded into the IR. The PC is then incremented to point to the next instruction. During the *decode* phase, the instruction in the IR is decoded and the required operands are fetched from the register or from memory. During the *execute* phase, the instruction is executed and the results are placed in the appropriate memory location or the register. Once the third phase is completed, the control unit starts the cycle again, but now the PC is pointing to the next instruction. The process continues until the CPU reaches a HALT instruction.

**An example**
Let us show how our simple computer can add two integers A and B and create the result as C. We assume that integers are in twos complement format. Mathematically, we show this operation as:
$C = A + B$
To solve this problem with the simple computer, it is necessary for the first two integers to be held in two registers (for example, $R_0$ and $R_1$) and the result of the operation to be held in a third register (for example $R_2$). The ALU can only operate on the data that is stored in data registers in the CPU. However, most computers, including our simple computer, have a limited number of registers in the CPU. If the number of data items is large and they are supposed to stay in the computer for the duration of the program, it is better to store them in memory and only bring them to the registers temporarily. So we assume that the first two integers are stored in memory locations $(40)_{16}$ and $(41)_{16}$ and the result should be stored in memory location $(42)_{16}$. This means that two integers need to be loaded into the CPU and the result needs to be stored in the memory. Therefore, a simple program to do the simple addition needs five instructions, as shown below:

1.  Load the contents of $M_{40}$ into register $R_0$ ($R_0 \\leftarrow M_{40}$).
2.  Load the contents of $M_{41}$ into register $R_1$ ($R_1 \\leftarrow M_{41}$).
3.  Add the contents of $R_0$ and $R_1$ and place the result in $R_2$ ($R_2 \\leftarrow R_0 + R_1$).
4.  Store the contents $R_2$ in $M_{42}$ ($M_{42} \\leftarrow R_2$).
5.  Halt.

In the language of our simple computer, these five instructions are encoded as:

| Code | Interpretation |
|---|---|
| $(1040)_{16}$ | 1: LOAD 0: $R_0$ 40: $M_{40}$ |
| $(1141)_{16}$ | 1: LOAD 1: $R_1$ 41: $M_{41}$ |
| $(3201)_{16}$ | 3: ADDI 2: $R_2$ 0: $R_0$ 1: $R_1$ |
| $(2422)_{16}$ | 2: STORE 42: $M_{42}$ 2: $R_2$ |
| $(0000)_{16}$ | 0: HALT |

### 5.8.6 Storing program and data
To follow the von Neumann model, we need to store the program and the data in memory. We can store the five-line program in memory starting from location $(00)_{16}$ to $(04)_{16}$. We already know that the data needs to be stored in memory locations $(40)_{16}$, $(41)_{16}$, and $(42)_{16}$.

### 5.8.7 Cycles
Our computer uses one cycle per instruction. If we have a small program with five instructions, we need five cycles. We also know that each cycle is normally made up of three steps: *fetch*, *decode*, *execute*. Assume for the moment that we need to add $161 + 254 = 415$. The numbers are shown in memory in hexadecimal is, $(00A1)_{16}$, $(00FE)_{16}$, and $(019F)_{16}$.

**Cycle 1**
At the beginning of the first cycle (Figure 5.32), the PC points to the first instruction of the program, which is at memory location $(00)_{16}$. The control unit goes through three steps:
1.  The control unit *fetches* the instruction stored in memory location $(00)_{16}$ and puts it in the IR. After this step, the value of the PC is incremented.
2.  The control unit *decodes* the instruction $(1040)_{16}$ as $R_0 \\leftarrow M_{40}$.
3.  The control unit *executes* the instruction, which means that a copy of the integer stored in memory location (40) is loaded into register $R_0$.

**Cycle 2**
At the beginning of the second cycle (Figure 5.33), the PC points to the second instruction of the program, which is at memory location $(01)_{16}$. The control unit goes through three steps:
1.  The control unit *fetches* the instruction stored in memory location $(01)_{16}$ and puts it in the IR. After this step, the value of the PC is incremented.
2.  The control unit *decodes* the instruction $(1141)_{16}$ as $R_1 \\leftarrow M_{41}$.
3.  The control unit *executes* the instruction, which means that a copy of integer stored in memory location $(41)_{16}$ is loaded into register $R_1$.

**Cycle 3**
At the beginning of the third cycle (Figure 5.34), the PC points to the third instruction of the program, which is at memory location $(02)_{16}$. The control unit goes through three steps:
1.  The control unit *fetches* the instruction stored in memory location $(02)_{16}$ and puts it in the IR. After this step, the value of the PC is incremented.
2.  The control unit *decodes* the instruction $(3201)_{16}$ as $R_2 \\leftarrow R_0 + R_1$.
3.  The control unit *executes* the instruction, which means that the contents of $R_0$ is added to the content of $R_1$ (by the ALU) and the result is put in $R_2$.

**Cycle 4**
At the beginning of the fourth cycle (Figure 5.35), the PC points to the fourth instruction of the program, which is at memory location $(03)_{16}$. The control unit goes through three steps:
1.  The control unit *fetches* the instruction stored in memory location $(03)_{16}$ and puts it in the IR. After this step, the value of the PC is incremented.
2.  The control unit *decodes* the instruction $(2422)_{16}$ as $M_{42} \\leftarrow R_2$.
3.  The control unit *executes* the instruction, which means a copy of integer in register $R_2$ is stored in memory location $(42)_{16}$.

**Cycle 5**
At the beginning of the fifth cycle (Figure 5.36), the PC points to the fifth instruction of the program, which is at memory location $(04)_{16}$. The control unit goes through three steps:
1.  The control unit *fetches* the instruction stored in memory location $(04)_{16}$ and puts it in the IR. After this step, the value of the PC is incremented.
2.  The control unit *decodes* the instruction $(0000)_{16}$ as Halt.
3.  The control unit *executes* the instruction, which means that the computer stops.

### 5.8.8 Another example
In the previous example we assumed that the two integers to be added were already in memory. We also assume that the result of addition will be held in memory. You may ask how we can store the two integers we want to add in memory, or how we use the result when it is stored in the memory. In a real situation, we enter the first two integers into memory using an input device such as keyboard, and we display the third integer through an output device such as a monitor. Getting data via an input device is normally called a *read* operation, while sending data to an output device is normally called a *write* operation. To make our previous program more practical, we need to modify it as follows:

1.  Read an integer into $M_{40}$.
2.  $R_0 \\leftarrow M_{40}$.
3.  Read an integer into $M_{41}$.
4.  $R_1 \\leftarrow M_{41}$.
5.  $R_2 \\leftarrow R_0 + R_1$.
6.  $M_{42} \\leftarrow R_2$.
7.  Write the integer from $M_{42}$.
8.  Halt.

There are many ways to implement input and output. Most computers today do direct data transfer from an input device to memory and direct data transfer from memory to an output device. However, our simple computer is not one of them. In our computer we can simulate read and write operations using the LOAD and STORE instruction. Furthermore, LOAD and STORE read data input to the CPU and write data from the CPU. We need two instructions to read data into memory or write data out of memory. The read operation is:

$R \\leftarrow M_{FE}$ Because the keyboard is assumed to be memory location $(FE)_{16}$
$M \\leftarrow R$

The write operation is:

$R \\leftarrow M$
$M_{FF} \\leftarrow R$ Because the monitor is assumed to be memory location $(FF)_{16}$

You may ask, if the operations are supposed to be done in the CPU, why do we transfer the data from the keyboard to the CPU, then to the memory, then to the CPU for processing? Could we directly transfer data to the CPU? The answer is that we can do this for this small problem, but we should not do it in principle. Think what happens if we need to add 1000 numbers or sort 1000000 integers. The number of registers in the CPU is limited (it may be hundreds in a real computer, but still not enough).

**The input operation must always read data from an input device into memory: the output operation must always write data from memory to an output device.**

With this in mind, the program is coded as:
1 $(1FFE)_{16}$   5 $(1040)_{16}$   9 $(1F42)_{16}$
2 $(240F)_{16}$   6 $(1141)_{16}$   10 $(2FFF)_{16}$
3 $(1FFE)_{16}$   7 $(3201)_{16}$   11 $(0000)_{16}$
4 $(241F)_{16}$   8 $(2422)_{16}$

Operations 1 to 4 are for input and operations 9 and 10 are for output. When we run this program, it waits for the user to input two integers on the keyboard and press the enter key. The program then calculates the sum and displays the result on the monitor.

### 5.8.9 Reusability
One of the advantages of a computer over a non-programmable calculator is that we can use the same program over and over. We can run the program several times and each time enter different inputs and obtain a different output.

## 5.9 END-CHAPTER MATERIALS
### 5.9.1 Recommended reading
For more details about subjects discussed in this chapter, the following books are recommended:
- Englander, I. *The Architecture of Computer Hardware and Systems Software*, Hoboken, NJ: Wiley, 2003
- Mano, M. *Computer System Architecture*, Upper Saddle River, NJ: Prentice-Hall, 1993
- Null, L. and Lobur, J. *Computer Organization and Architecture*, Sudbury, MA: Jones and Bartlett, 2003
- Hamacher, C., Vranesic, Z. and Zaky, S. *Computer Organization*, New York: McGraw-Hill, 2002
- Warford, S. *Computer Systems*, Sudbury, MA: Jones and Bartlett, 2005
- Ercegovac, M., Lang, T. and Moreno, J. *Introduction to Digital Systems*, Hoboken, NJ: Wiley, 1998
- Cragon, H. *Computer Architecture and Implementation*, Cambridge: Cambridge University Press, 2000
- Stallings, W. *Computer Organization and Architecture*, Upper Saddle River, NJ: Prentice-Hall, 2002

### 5.9.2 Key terms
- address bus
- address space
- arithmetic logic unit (ALU)
- bus
- cache memory
- central processing unit (CPU)
- compact disk (CD)
- compact disk read-only memory (CD-ROM)
- compact disk recordable (CD-R)
- complex instruction set computer (CISC)
- control bus
- controller
- control unit
- data bus
- decode
- digital versatile disk (DVD)
- direct memory access (DMA)
- dynamic RAM (DRAM)
- electrically erasable programmable read-only memory (EEPROM)
- erasable programmable read-only memory (EPROM)
- execute
- fetch
- FireWire
- HDMI (High-Definition Multimedia Interface)
- hub
- input/output controller
- input/output subsystem
- instruction register
- interrupt-driven I/O
- intersector gap
- intertrack gap
- isolated I/O
- land
- machine cycle
- programmable read-only memory (PROM)
- magnetic disk
- magnetic tape
- main memory
- master disk
- memory mapped I/O
- monitor
- multiple instruction-stream, multiple data stream (MIMD)
- multiple instruction-stream, single data stream (MISD)
- nonstorage device
- optical storage device
- output device
- parallel processing
- pipelining
- pit
- polycarbonate resin
- printer
- program counter
- programmed I/O
- random access memory (RAM)
- read-only memory (ROM)
- read/write head
- reduced instruction set computer (RISC)
- register
- rotational speed
- sector
- seek time
- single instruction-stream, multiple data stream (SIMD)
- static RAM (SRAM)
- storage device
- throughput
- topology
- track
- transfer time
- Universal Serial Bus (USB)
- write once, read many (WORM)

### 5.9.3 Summary
- The parts that make up a computer can be divided into three broad categories or subsystems: the central processing unit (CPU), the main memory, and the input/output subsystem.
- The central processing unit (CPU) performs operations on data. It has three parts: an arithmetic logic unit (ALU), a control unit, and a set of registers. The arithmetic logic unit (ALU) performs logic, shift, and arithmetic operations on data. Registers are fast stand-alone storage locations that hold data temporarily. The control unit controls the operation of each part of the CPU.
- Main memory is a collection of storage locations, each with a unique identifier called the address. Data is transferred to and from memory in groups of bits called words. The total number of uniquely identifiable locations in memory is called the address space. Two types of memory are available: random access memory (RAM) and read-only memory (ROM).
- The collection of devices referred to as the input/output (I/O) subsystem allows a computer to communicate with the outside world and to store programs and data even when the power is off. Input/output devices can be divided into two broad categories: nonstorage and storage devices. Nonstorage devices allow the CPU/memory to communicate with the outside world. Storage devices can store large amounts of information to be retrieved at a later time. Storage devices are categorized as either magnetic or optical.
- The interconnection of the three subsystems of a computer plays an important role, because information needs to be exchanged between these subsystems. The CPU and memory are normally connected by three groups of connections, each called a bus: data bus, address bus, and control bus. Input/output devices are attached to the buses through an input/output controller or interface. Several kinds of controllers are in use. The most common ones today are SCSI, FireWire, and USB.
- There are two methods of handling the addressing of I/O devices: isolated I/O and memory-mapped I/O. In the isolated I/O method, the instructions used to read/write to and from memory are different from the instructions used to read/write to and from input/output devices. In the memory-mapped I/O method, the CPU treats each register in the I/O controller as a word in memory.
- Today, general-purpose computers use a set of instructions called a program to process data. A computer executes the program to create output data from input data. Both the program and the data are stored in memory. The CPU uses repeating machine cycles to execute instructions in the program, one by one, from beginning to end. A simplified cycle can consist of three phases: fetch, decode, and execute.
- Three methods have been devised for synchronization between I/O devices and the CPU: programmed I/O, interrupt-driven I/O, and direct memory access (DMA).
- The architecture and organization of computers have gone through many changes during recent decades. We can divide computer architecture into two broad categories: CISC (complex instruction set computers) and RISC (reduced instruction set computers).
- Modern computers use a technique called pipelining to improve their throughput. The idea is to allow the control unit to perform two or three phases simultaneously, which means that processing of the next instruction can start before the previous one is finished.
- Traditionally, a computer had a single control unit, a single arithmetic logic unit, and a single memory unit. Parallel processing can improve throughput by using multiple instruction streams to handle multiple data streams.
`,zh:`
# 



## 

- 
-  (CPU) 
- --
- 
- 
- /
- 
- /
- 
- 
- 

## 5.1 
** (CPU)********/** 5.1 

## 5.2 
** (CPU)** ** (ALU)********** 5.2

### 5.2.1  (ALU)
** (ALU)** 

****
 NOTANDOR  XOR

****


****


### 5.2.2 
**** CPU  5.2 

****
 CPU  5.2  $R_0$  $R_n$

****
CPU ** (IR)** 5.2 

****
CPU ** (PC)** 5.2 

### 5.2.3 
 CPU ****

## 5.3 
**** 5.3****** (word)**  8 16 32  64  8 ** (byte)** 16  2  32  4 

### 5.3.1 
**** 64 KB  1  0  65535

 5.1  10  2 2 

** 5.1 **

|  |  |  |
| :--- | :--- | :--- |
| kilobyte (KB) | $2^{10}$ (1024) bytes | $10^3$ bytes |
| megabyte (MB) | $2^{20}$ (1048576) bytes | $10^6$ bytes |
| gigabyte (GB) | $2^{30}$ (1073741824) bytes | $10^9$ bytes |
| terabyte (TB) | $2^{40}$ bytes | $10^{12}$ bytes |

****
 64 KB ($2^{16}$)  1  16  3  0000000000000000 0 1111111111111111 65535 $N$  $\\log_2 N$ 

****

> ** 5.1**
>  32 MB () 
>
> ****
>  32 MB $2^{25}$ ($2^5 \\times 2^{20}$) $\\log_2 2^{25}$ 25 

> ** 5.2**
>  128 MB 
>
> ****
>  128 MB $2^{27}$ ($2^3$)  $2^{24}$  $\\log_2 2^{24}$ 24 

### 5.3.2 
RAM  ROM

**RAM**
** (RAM)**  ROM  RAM  ROM  RAM CPU  RAMRAM ****RAM RAM SRAM  DRAM

**SRAM**
** RAM (SRAM)**  E0  1SRAM 

**DRAM**
** RAM (DRAM)**  1 0DRAM DRAM 

**ROM**
** (ROM)** CPU  ROM **** ROM

**PROM**
ROM ** (PROM)** ROM  PROM 

**EPROM**
PROM ** (EPROM)** EPROM  EPROM

**EEPROM**
EPROM ** (EEPROM)**EEPROM 

### 5.3.3 
 5.4
- CPU 
- 
- 

### 5.3.4 
**** CPU  CPU  5.5

 CPU 
1.  CPU 
2.  CPU 
3.  CPU 

 CPU 

80-20  80%  20%  20%  80% 

## 5.4 /
**/ (I/O) **/

### 5.4.1 
**** CPU/

****
/******** ASCII  A

****
********

### 5.4.2 
**** I/O ****

****
 1 0

****
******/** 5.6 
- **** ** (tracks)**** (sectors)** 5.6********
- **** 
- **** ********/**** CPU/

****
****/ 5.7 
- ****  1  8  5.7
- **** 
- **** 

****
****** (CD)**  CD-ROMCD-RCD-RW  DVD

**CD-ROM**
** (CD-ROM)**  CD CD-ROM  5.8  CD-ROM 
- **** CD-ROM 
  a. ** (master disk)**** (pits)**** (lands)** 0 1 1 0
  b. 
  c. ****
- ****  CD-ROM CD-ROM 
- **** CD-ROM  5.9CD-ROM 
  a.  8  14 
  b.  42 14 /
  c.  98 2352 
- **** CD-ROM  1x 2x 153,600  5.2 

** 5.2 CD-ROM **
|  |  |  |
|---|---|---|
| 1x |  153600  | 150 KB/s |
| 2x |  307200  | 300 KB/s |
| 4x |  614400  | 600 KB/s |
| 6x |  921600  | 900 KB/s |
| 8x |  1228800  | 1.2 MB/s |
| 12x |  1843200  | 1.8 MB/s |
| 16x |  2457600  | 2.4 MB/s |
| 24x |  3688400  | 3.6 MB/s |
| 32x |  4915200  | 4.8 MB/s |
| 40x |  6144000  | 6 MB/s |

- **** 

**CD-R**
CD-ROM ** (CD-R)**  CD-ROM  CD-R ** (WORM)**
- **** CD-R  CD-ROM  5.10
  a. 
  b. 
  c. 
  d.  CD 
- **** CD-R  CD-ROM  CD-R 
- **** CD-R  CD-ROM 
- **** 

**CD-RW**
 CD-R ** (CD-RW)****
- **** CD-RW  CD-R  5.11
  a. 
  b. 
- ****  CD-ROM  CD-R 
- **** 
- **** CD-RW  CD-ROM 
- ****  CD-R CD-R  CD-R  CD-RW CD-R 

**DVD**
CD-ROM (650 MB) ** (DVD)** CD-ROM 
a.  0.4  CD  0.8 
b. 
c. 
d. DVD 
- ****  5.3

** 5.3 DVD **
|  |  |
|---|---|
|  | 4.7 GB |
|  | 8.5 GB |
|  | 9.4 GB |
|  | 17 GB |

- **** DVD  MPEG 15  DVD  133 
- **** DVD 

## 5.5 
CPU I/O

### 5.5.1  CPU 
CPU ** (bus)** 5.12

****
**** 1  32 4  32  32 

****
**** $2^n$  $n$  $n$ 

****
**** CPU  CPU  $2^m$  $m$  $m$  $2^m$ 

### 5.5.2  I/O 
I/O  CPU  I/O  CPU I/O  CPU I/O  CPU//**/******/**** 5.13

****
 I/O  CPU 
 SCSIFireWireUSB  HDMI

**SCSI**
** (SCSI)**  1984  816  32 SCSI  5.14 ** ID

**FireWire**
IEEE  1394  **FireWire ()**  50 MB/sec 63  5.15 / FireWire  SCSI 

**USB**
** (USB)**  FireWire ** USB  5.16  USB 

 USB * (root hub)*USB-2USB 2.0 **** 127  USB ** (hubs)** 
**
USB +5 USB A  BA  USB B mini A  mini B
USB-2 1.5 Mbps12 Mbps  480 Mbps

 USB  6 
USB 3.0  (USB) USB 3.0  *SuperSpeed*  4.8 Gbit/s  USB 3.0  10 Gbit/s

**HDMI**
**HDMI ()**  HDMI  3D CEC () 

### 5.5.3 /
CPU  I/O  CPU  I/O  I/O  CPU  I/O  I/O  I/O

** I/O**
** I/O** // I/O  I/O  I/O I/O CPU Read 101 101 Input 101 I/O  101  I/O  5.17

** I/O**
** I/O** CPU  I/O CPU  I/O Read I/O  I/O  I/O  I/O  20  20  5.18  I/O 

## 5.6 
**

****

### 5.6.1 
CPU **************** 5.19

****
**** CPU 

****
****

****
 CPU  CPU  ALU ****

### 5.6.2 /
 I/O  CPU  I/O  CPU  CPU  I/O  I/O I/O  (DMA)

** I/O**
** I/O** CPU  I/O  5.20

I/O  CPU  CPU  I/O CPU  I/O  CPUCPU  I/O  CPU  I/O 

** I/O**
** I/O** CPU  I/O  I/O I/O CPUCPU  I/O  I/O  5.21
CPU CPU  I/O  I/O  CPU 

** (DMA)**
** (DMA)** I/O  CPU DMA  CPU DMA  5.22  DMA 

 I/O CPU  DMA  CPU  5.23
DMA  CPU CPU  DMA CPU CPU CPU  DMA 

## 5.7 


### 5.7.1 CISC
CISC *sisk*** (CISC)**CISC  CISC 

 CPU CISC  CPU CPU ** CPU ****
 CISC CISC  Intel  Pentium 

### 5.7.2 RISC
RISC *risk*****RISC RISC 

### 5.7.3  (Pipelining)
****** $n$  $n + 1$ ********
 5.24.a  5.24.b  CPU  9  24  9/3 = 3  24/3 = 8  8/3  266%
** CPU  CPU 

### 5.7.4 
**
****M. J. Flynn  5.25  Flynn 

**SISD **
** (SISD)**  SISD  5.26  SISD 

**SIMD **
** (SIMD)**  5.27  SIMD 

**MISD **
** (MISD)**  5.28 

**MIMD **
** (MIMD)**  5.29 MIMD 



## 5.8 
 5.30 CPU/

### 5.8.1 CPU
CPU  (ALU) 

****
 16  16  $(0, 1, 2, ..., F)_{16}$ $R_0$  $R_{15}$ 16 

****
 ALU  I/O  (PC) PC  (IR)  16 

### 5.8.2 
 256  16  $(00000000 \\text{  } 11111101)_2$  $(00 \\text{  } FD)_{16}$ 64  $(00 \\text{  } 3F)_{16}$  $(40 \\text{  } FD)_{16}$ 

### 5.8.3 /
/ 5.30  $(FE)_{16}$  $(FF)_{16}$ 16  CPU  CPU

### 5.8.4 
 16  14 ** (opcode)**  ** (operand(s))** 16  4  5.31 

 5.4  $(0)_{16}$ NOT  $(0)_{16}$
 (ADDI) (ADDF) $(FE)_{16}$  LOAD  $(FF)_{16}$  STORE  ROTATE  0 R  $n$  1 (INC)  (DEC) 

** 5.4 **
|  |  $d_1$ |  $d_2, d_3, d_4$ |  |
|---|---|---|---|
| HALT | 0 | |  |
| LOAD | 1 | $R_D$ $M_S$ | $R_D \\leftarrow M_S$ |
| STORE | 2 | $M_D$ $R_S$ | $M_D \\leftarrow R_S$ |
| ADDI | 3 | $R_D$ $R_{S1}$ $R_{S2}$ | $R_D \\leftarrow R_{S1} + R_{S2}$ |
| ADDF | 4 | $R_D$ $R_{S1}$ $R_{S2}$ | $R_D \\leftarrow R_{S1} + R_{S2}$ |
| MOVE | 5 | $R_D$ $R_S$ | $R_D \\leftarrow R_S$ |
| NOT | 6 | $R_D$ $R_S$ | $R_D \\leftarrow \\overline{R_S}$ |
| AND | 7 | $R_D$ $R_{S1}$ $R_{S2}$ | $R_D \\leftarrow R_{S1} \\text{ AND } R_{S2}$ |
| OR | 8 | $R_D$ $R_{S1}$ $R_{S2}$ | $R_D \\leftarrow R_{S1} \\text{ OR } R_{S2}$ |
| XOR | 9 | $R_D$ $R_{S1}$ $R_{S2}$ | $R_D \\leftarrow R_{S1} \\text{ XOR } R_{S2}$ |
| INC | A | $R$ | $R \\leftarrow R + 1$ |
| DEC | B | $R$ | $R \\leftarrow R - 1$ |
| ROTATE | C | $R$ $n$ 0  1 | Rot$_n$ $R$ |
| JUMP | D | $R$ $n$ |  $R_0 \\neq R$  PC = $n$ |


$R_S, R_{S1}, R_{S2}$
$R_D$
$M_S$
$M_D$
$n$
$d_1, d_2, d_3, d_4$

### 5.8.5 
****** PC  IR  PC **IR ** PC  CPU  HALT 

****
 A  B  C
$C = A + B$
 $R_0$  $R_1$ $R_2$ALU  CPU CPU  $(40)_{16}$  $(41)_{16}$ $(42)_{16}$ CPU

1.   $M_{40}$  $R_0$ ($R_0 \\leftarrow M_{40}$)
2.   $M_{41}$  $R_1$ ($R_1 \\leftarrow M_{41}$)
3.   $R_0$  $R_1$  $R_2$ ($R_2 \\leftarrow R_0 + R_1$)
4.   $R_2$  $M_{42}$ ($M_{42} \\leftarrow R_2$)
5.  



|  |  |
|---|---|
| $(1040)_{16}$ | 1: LOAD 0: $R_0$ 40: $M_{40}$ |
| $(1141)_{16}$ | 1: LOAD 1: $R_1$ 41: $M_{41}$ |
| $(3201)_{16}$ | 3: ADDI 2: $R_2$ 0: $R_0$ 1: $R_1$ |
| $(2422)_{16}$ | 2: STORE 42: $M_{42}$ 2: $R_2$ |
| $(0000)_{16}$ | 0: HALT |

### 5.8.6 
 $(00)_{16}$  $(04)_{16}$  $(40)_{16}$$(41)_{16}$  $(42)_{16}$

### 5.8.7 
****** $161 + 254 = 415$ $(00A1)_{16}$$(00FE)_{16}$  $(019F)_{16}$

** 1**
 5.32PC  $(00)_{16}$
1.  ** $(00)_{16}$  IRPC 
2.   $(1040)_{16}$ ** $R_0 \\leftarrow M_{40}$
3.  ** (40)  $R_0$

** 2**
 5.33PC  $(01)_{16}$
1.  ** $(01)_{16}$  IRPC 
2.   $(1141)_{16}$ ** $R_1 \\leftarrow M_{41}$
3.  ** $(41)_{16}$  $R_1$

** 3**
 5.34PC  $(02)_{16}$
1.  ** $(02)_{16}$  IRPC 
2.   $(3201)_{16}$ ** $R_2 \\leftarrow R_0 + R_1$
3.  ** $R_0$  $R_1$  ALU  $R_2$

** 4**
 5.35PC  $(03)_{16}$
1.  ** $(03)_{16}$  IRPC 
2.   $(2422)_{16}$ ** $M_{42} \\leftarrow R_2$
3.  ** $R_2$  $(42)_{16}$

** 5**
 5.36PC  $(04)_{16}$
1.  ** $(04)_{16}$  IRPC 
2.   $(0000)_{16}$ ** Halt
3.  **

### 5.8.8 
****

1.   $M_{40}$
2.  $R_0 \\leftarrow M_{40}$
3.   $M_{41}$
4.  $R_1 \\leftarrow M_{41}$
5.  $R_2 \\leftarrow R_0 + R_1$
6.  $M_{42} \\leftarrow R_2$
7.   $M_{42}$ 
8.  

 LOAD  STORE LOAD  STORE  CPU  CPU 

$R \\leftarrow M_{FE}$  $(FE)_{16}$
$M \\leftarrow R$



$R \\leftarrow M$
$M_{FF} \\leftarrow R$  $(FF)_{16}$

 CPU  CPU CPU  CPU  1000  1000000 CPU 

****


1 $(1FFE)_{16}$   5 $(1040)_{16}$   9 $(1F42)_{16}$
2 $(240F)_{16}$   6 $(1141)_{16}$   10 $(2FFF)_{16}$
3 $(1FFE)_{16}$   7 $(3201)_{16}$   11 $(0000)_{16}$
4 $(241F)_{16}$   8 $(2422)_{16}$

 1  4  9  10  Enter 

### 5.8.9 


## 5.9 
### 5.9.1 

- Englander, I. *The Architecture of Computer Hardware and Systems Software*, Hoboken, NJ: Wiley, 2003
- Mano, M. *Computer System Architecture*, Upper Saddle River, NJ: Prentice-Hall, 1993
- Null, L. and Lobur, J. *Computer Organization and Architecture*, Sudbury, MA: Jones and Bartlett, 2003
- Hamacher, C., Vranesic, Z. and Zaky, S. *Computer Organization*, New York: McGraw-Hill, 2002
- Warford, S. *Computer Systems*, Sudbury, MA: Jones and Bartlett, 2005
- Ercegovac, M., Lang, T. and Moreno, J. *Introduction to Digital Systems*, Hoboken, NJ: Wiley, 1998
- Cragon, H. *Computer Architecture and Implementation*, Cambridge: Cambridge University Press, 2000
- Stallings, W. *Computer Organization and Architecture*, Upper Saddle River, NJ: Prentice-Hall, 2002

### 5.9.2 
-  (address bus)
-  (address space)
-  (ALU)
-  (bus)
-  (cache memory)
-  (CPU)
-  (CD)
-  (CD-ROM)
-  (CD-R)
-  (CISC)
-  (control bus)
-  (controller)
-  (control unit)
-  (data bus)
-  (decode)
-  (DVD)
-  (DMA)
-  RAM (DRAM)
-  (EEPROM)
-  (EPROM)
-  (execute)
-  (fetch)
- FireWire ()
- HDMI ()
-  (hub)
- / (input/output controller)
- / (input/output subsystem)
-  (instruction register)
-  I/O (interrupt-driven I/O)
-  (intersector gap)
-  (intertrack gap)
-  I/O (isolated I/O)
-  (land)
-  (machine cycle)
-  (PROM)
-  (magnetic disk)
-  (magnetic tape)
-  (main memory)
-  (master disk)
-  I/O (memory mapped I/O)
-  (monitor)
-  (MIMD)
-  (MISD)
-  (nonstorage device)
-  (optical storage device)
-  (output device)
-  (parallel processing)
-  (pipelining)
-  (pit)
-  (polycarbonate resin)
-  (printer)
-  (program counter)
-  I/O (programmed I/O)
-  (RAM)
-  (ROM)
- / (read/write head)
-  (RISC)
-  (register)
-  (rotational speed)
-  (sector)
-  (seek time)
-  (SIMD)
-  RAM (SRAM)
-  (storage device)
-  (throughput)
-  (topology)
-  (track)
-  (transfer time)
-  (USB)
-  (WORM)

### 5.9.3 
-  (CPU)/
-  (CPU)  (ALU) (ALU)  CPU 
-  (RAM)  (ROM)
- / (I/O) / CPU/
- CPU // SCSIFireWire  USB
-  I/O  I/O  I/O I/O /// I/O CPU  I/O 
- CPU 
-  I/O  CPU  I/O I/O  (DMA)
- CISC RISC
- 
- 
`},hN={en:`
# Chapter 6: Computer Networks and Internet

The development of the personal computer has brought about tremendous changes for business, industry, science, and education. A similar revolution has occurred in networking. Technological advances are making it possible for communication links to carry more and faster signals. As a result, services are evolving to allow use of this expanded capacity. Research in this area has resulted in new technologies. One goal is to be able to exchange data such as text, audio, and video from all parts of the world. We want to access the Internet to download and upload information quickly and accurately and at any time.

## Objectives
After studying this chapter, the student should be able to:
- Describe local and wide area networks (LANs and WANs).
- Distinguish an internet from the Internet.
- Describe the TCP/IP protocol suite as the network model in the Internet.
- Define the layers in the TCP/IP protocol suite and their relationship.
- Describe some applications at the application layer.
- Describe the services provided by the transport-layer protocols.
- Describe the services provided by the network-layer protocols.
- Describe different protocols used at the data-link layer.
- Describe the duties of the physical layer.
- Describe the different transmission media used in computer networking.

## 6.1 OVERVIEW
Although the goal of this chapter is to discuss the Internet, a system that interconnects billions of computers in the world, we think of the Internet not as a single network, but as an **internetwork**, a combination of networks. Therefore, we start our journey by first defining a network. We then show how we can connect networks to create small internetworks. Finally, we show the structure of the Internet and open the gate to study the Internet in the rest of this chapter.

### 6.1.1 Networks
A **network** is the interconnection of a set of devices capable of communication. In this definition, a device can be a **host** (or an **end system** as it is sometimes called) such as a large computer, desktop, laptop, workstation, cellular phone, or security system. A device in this definition can also be a **connecting device** such as a **router** which connects the network to other networks, a **switch** which connects devices together, a **modem** (modulator-demodulator) that changes the form of data, and so on. These devices in a network are connected using wired or wireless transmission media such as cable or air. When we connect two computers at home using a plug-and-play router, we have created a network, although very small.

**Local area network**
A **local area network (LAN)** is usually privately owned and connects some hosts in a single office, building, or campus. Depending on the needs of an organization, a LAN can be as simple as two PCs and a printer in someones home office, or it can extend throughout a company and include audio and video devices. Each host in a LAN has an identifier, an address, that uniquely defines the host in the LAN. A packet sent by a host to another host carries both the source hosts and the destination hosts addresses.

**Wide area network**
A **wide area network (WAN)** is also an interconnection of devices capable of communication. However, there are some differences between a LAN and a WAN. A LAN is normally limited in size, spanning an office, a building, or a campus; a WAN has a wider geographical span, spanning a town, a state, a country, or even the world. A LAN interconnects hosts; a WAN interconnects connecting devices such as switches, routers, or modems. A LAN is normally privately owned by the organization that uses it; a WAN is normally created and run by communication companies and leased by an organization that uses it. We see two distinct examples of WANs today: **point-to-point WANs** and **switched WANs**.

A **point-to-point WAN** is a network that connects two communicating devices through a transmission medium (cable or air).

A **switched WAN** is a network with more than two ends. A switched WAN, as we will see shortly, is used in the backbone of global communication today. We can say that a switched WAN is a combination of several point-to-point WANs that are connected by switches.

**Internetwork**
Today, it is very rare to see a LAN or a WAN in isolation; they are connected to one another. When two or more networks are connected, they make an **internetwork**, or **internet**. As an example, assume that an organization has two offices. Each office has a LAN that allows all employees in the office to communicate with each other. To make the communication between employees at different offices possible, the management leases a point-to-point dedicated WAN from a service provider, such as a telephone company, and connects the two LANs. Now the company has an internetwork, or a private internet (with lowercase i). Communication between offices is now possible.

### 6.1.2 The Internet
As we discussed before, an internet (note the lowercase i) is two or more networks that can communicate with each other. The most notable internet is called the **Internet** (uppercase I), and is composed of thousands of interconnected networks.

The Internet is composed of several **backbones**, **provider networks**, and **customer networks**. At the top level, the **backbones** are large networks owned by some communication companies. The backbone networks are connected through some complex switching systems, called **peering points**. At the second level, there are smaller networks, called **provider networks**, that use the services of the backbones for a fee. The provider networks are connected to backbones and sometimes to other provider networks. The **customer networks** are networks at the edge of the Internet that actually use the services provided by the Internet. They pay fees to provider networks for receiving services.

Backbones and provider networks are also called **internet service providers (ISPs)**. The backbones are often referred to as international ISPs; the provider networks are often referred to as national or regional ISPs.

### 6.1.3 Hardware and software
We have given the overview of the Internet structure, which is made of small and large networks glued together with connecting devices. It should be clear, however, that if we only connect these pieces nothing will happen. For communication to happen, we need both **hardware** and **software**. This is similar to a complex computation in which we need both a computer and a program. In the next section, we show how these combinations of hardware and software are coordinated with each other using *protocol layering*.

### 6.1.4 Protocol layering
A word we hear all the time when we talk about the Internet is *protocol*. A **protocol** defines the rules that both the sender and receiver and all intermediate devices need to follow to be able to communicate effectively. When communication is simple, we may need only one simple protocol; when the communication is complex, we may need to divide the task between different layers, in which case we need a protocol at each layer, or **protocol layering**.

**A scenario**
Let us develop a simple scenario to better understand the need for protocol layering. We assume that Ann and Maria are neighbors with a lot of common ideas. They communicate with each other every time they meet about a project for the time when they will be retired. Suddenly, Ann is offered a higher-level position in her company, but needs to move to another branch located in a city very far from Maria. The two friends still want to continue their communication and exchange ideas because they have come up with an innovative project to start a new business when they both retire. They decide to continue their conversation using regular mail through the post office. However, they do not want their ideas to be revealed to other people if the letters are intercepted. They agree on an encryption/decryption technique. The sender of the letter encrypts it to make it unreadable by an intruder; the receiver of the letter decrypts it to get the original letter. We discuss the encryption/decryption methods in Chapter 16, but for the moment we assume that Maria and Ann use one technique that makes it hard to decrypt the letter if one does not have the key for doing so. Now we can say that the communication between Maria and Ann takes place in three layers. We assume that Ann and Maria each have three machines (or robots) that can perform the task at each layer.

Let us assume that Maria sends the first letter to Ann. Maria talks to the machine at the third layer as though the machine is Ann and is listening to her. The third-layer machine listens to what Maria says and creates the plaintext (a letter in English), which is passed to the second-layer machine. The second-layer machine takes the plaintext, encrypts it, and creates the **ciphertext**, which is passed to the first-layer machine. The first layer machine, presumably a robot, takes the ciphertext, puts it in an envelope, adds the sender and receiver addresses, and mails it.
At Anns side, the first-layer machine picks up the letter from Anns mail box, recognizing the letter from Maria by the sender address. The machine takes out the ciphertext from the envelope and delivers it to the second-layer machine. The second-layer machine decrypts the message, creates the plaintext, and passes the plaintext to the third-layer machine. The third-layer machine takes the plaintext and reads it as though Maria is speaking.

Protocol layering enables us to divide a complex task into several smaller and simpler tasks. For example, we could have used only one machine to do the job of all three machines. However, if Maria and Ann decide that the encryption/decryption done by the machine is not enough to protect their secrecy, they have to change the whole machine. In the present situation, they need to change only the second-layer machine; the other two can remain the same. This is referred to as **modularity**. Modularity in this case means independent layers. A layer (**module**) can be defined as a black box with inputs and outputs, without concern about how inputs are changed to outputs. If two machines provide the same outputs when given the same inputs, they can replace each other. For example, Ann and Maria can buy the second-layer machine from two different manufacturers. As long as the two machines create the same ciphertext from the same plaintext and vice versa, they do the job.

One of the advantages of protocol layering is that it allows us to separate the services from the implementation. A layer needs to be able to receive a set of services from the lower layer and to give the services to the upper layer; we dont care about how the layer is implemented. For example, Maria may decide not to buy the machine (robot) for the first layer; she can do the job herself. As long as Maria can do the tasks provided by the first layer, in both directions, the communication system works.

Another advantage of protocol layering, which cannot be seen in our simple examples, but reveals itself when we discuss protocol layering in the Internet, is that communication does not always use only two end systems; there are intermediate systems that need only some layers, but not all layers. If we did not use protocol layering, we would have to make each intermediate system as complex as the end systems, which makes the whole system more expensive.

Is there any disadvantage to protocol layering? One can argue that having a single layer makes the job easier. There is no need for each layer to provide a service to the upper layer and give a service to the lower layer. For example, Ann and Maria could find or build one machine that could do all three tasks. However, as mentioned above, if one day they found that their code was broken, each would have to replace the whole machine with a new one instead of just changing the machine in the second layer.

**Principles of protocol layering**
Let us discuss some principles of protocol layering. The first principle dictates that if we want bidirectional communication, we need to make each layer so that it is able to perform two opposite tasks, one in each direction. For example, the third-layer task is to *listen* (in one direction) and *talk* (in the other direction). The second layer needs to be able to encrypt and decrypt. The first layer needs to send and receive mail.
The second important principle that we need to follow in protocol layering is that the two objects under each layer at both sites should be identical. For example, the object under layer 3 at both sites should be a plaintext letter. The object under layer 2 at both sites should be a ciphertext letter. The object under layer 1 at both sites should be a piece of mail.

**Logical connections**
After following the above two principles, we can think about logical connection between each layer. This means that we have layer-to-layer communication. Maria and Ann can think that there is a logical (imaginary) connection at each layer through which they can send the object created from that layer. We will see that the concept of logical connection will help us better understand the task of layering we encounter in data communication and networking.

### 6.1.5 TCP/IP protocol suite
Now that we know about the concept of protocol layering and the logical communication between layers in our second scenario, we can introduce the **TCP/IP (Transmission Control Protocol/Internet Protocol)**. TCP/IP is a protocol suite (a set of protocols organized in different layers) used in the Internet today. It is a hierarchical protocol made up of interactive modules, each of which provides a specific functionality. The term *hierarchical* means that each upper-level protocol is supported by the services provided by one or more lower-level protocols. The TCP/IP protocol suite is made of five layers:
1.  **Application Layer** (Layer 5)
2.  **Transport Layer** (Layer 4)
3.  **Network Layer** (Layer 3)
4.  **Data link Layer** (Layer 2)
5.  **Physical Layer** (Layer 1)

**Layered architecture**
To show how the layers in the TCP/IP protocol suite are involved in communication between two hosts, we assume that we want to use the suite in a small internet made up of three LANs (links), each with a link-layer switch. We also assume that the links are connected by one router.

Let us assume that computer A communicates with computer B. We have five communicating devices in this communication: source host (computer A), the link-layer switch in link 1, the router, the link-layer switch in link 2, and the destination host (computer B). Each device is involved with a set of layers depending on the role of the device in the internet. The two hosts are involved in all five layers; the source host needs to create a message in the **application layer** and send it down the layers so that it is physically sent to the destination host. The destination host needs to receive the communication at the **physical layer** and then deliver it through the other layers to the application layer.

The router is involved only in three layers; there is no transport or application layer in a router as long as the router is used only for **routing**. Although a router is always involved in one network layer, it is involved in $n$ combinations of link and physical layers in which $n$ is the number of links the router is connected to. The reason is that each link may use its own data-link or physical protocol. Each link may be using different link-layer and physical-layer protocols; the router needs to receive a packet from link 1 based on one pair of protocols and deliver it to link 2 based on another pair of protocols.

A link-layer switch in a link, however, is involved only in two layers, data-link and physical. Although each switch has two different connections, the connections are in the same link, which uses only one set of protocols. This means that, unlike a router, a link-layer switch is involved only in one data-link and one physical layer.

**Addressing and packet names**
It is worth mentioning another two concepts related to protocol layering in the Internet: *addressing* and *packet names*. As we discussed before, we have logical communication between pairs of layers in this model. Any communication that involves two parties needs two addresses: source address and destination address. Although it looks as if we need five pairs of addresses, one pair per layer, we normally have only four because the physical layer does not need addresses; the unit of data exchange at the physical layer is a bit, which definitely cannot have an address.

There is a relationship between the layer, the address used in that layer, and the packet name at that layer. At the application layer, we normally use **names** to define the site that provides services, such as *someorg.com*, or the email address, such as *somebody@coldmail.com*. The packet name at this layer is **message**.
At the transport layer, addresses are called **port numbers**, and these define the application-layer programs at the source and destination. Port numbers are local addresses that distinguish between several programs running at the same time. The packet name at this layer is **segment** or **user datagram**.
At the **network-layer**, the addresses are **logical addresses** (global), with the whole Internet as the scope. A network-layer address uniquely defines the connection of a device to the Internet. The packet name is **datagram**.
The link-layer addresses, sometimes called **MAC addresses** or **link-layer addresses**, are locally defined addresses, each of which defines a specific host or router in a network (LAN or WAN). The packet name is **frame**.
At the physical layer, the unit is a **bit**.

## 6.2 APPLICATION LAYER
After the brief discussion of networks, internetworks, and the Internet, we are ready to give some discussion about each layer of the TCP/IP protocol. We start from the fifth layer and move to the first layer.

The fifth layer of the TCP/IP protocol is called the application layer. The application layer provides services to the user. Communication is provided using a logical connection, which means that the two application layers assume that there is an imaginary direct connection through which they can send and receive messages.

Consider a scenario in which a scientist working in a research company, Sky Research, needs to order a book related to her research from an online bookseller, Scientific Books. Logical connection takes place between the application layer at a computer at Sky Research and the application layer of a server at Scientific Books. We call the first host Alice and the second one Bob. The communication at the application layer is logical, not physical. Alice and Bob assume that there is a two-way logical channel between them through which they can send and receive messages. The actual communication, however, takes place through several devices and several physical channels.

### 6.2.1 Providing services
The application layer is somehow different from other layers in that it is the highest layer in the suite. The protocols in this layer do not provide services to any other protocol in the suite; they only receive services from the protocols in the transport layer. This means that protocols can be removed from this layer easily. New protocols can be also added to this layer as long as the new protocol can use the service provided by one of the transport-layer protocols.

Since the application layer is the only layer that provides services to the Internet user, the flexibility of the application layer, as described above, allows new application protocols to be easily added to the Internet, which has been occurring during the lifetime of the Internet. When the Internet was created, only a few application protocols were available to the users; today we cannot give a number for these protocols because new ones are being added constantly.

### 6.2.2 Application-layer paradigms
It should be clear that to use the Internet we need two application programs to interact with each other: one running on a computer somewhere in the world, the other running on another computer somewhere else in the world. The two programs need to send messages to each other through the Internet infrastructure. However, we have not discussed what the relationship should be between these programs. Should both application programs be able to request services and provide services, or should the application programs just do one or the other? Two paradigms have been developed during the lifetime of the Internet to answer this question: the *clientserver paradigm* and the *peer-to-peer paradigm*. We briefly introduce these two paradigms here.

**Traditional paradigm: clientserver**
The traditional paradigm is called the **clientserver paradigm**. It was the most popular paradigm until a few years ago. In this paradigm, the service provider is an application program, called the **server process**; it runs continuously, waiting for another application program, called the **client process**, to make a connection through the Internet and ask for service. There are normally some server processes that can provide a specific type of service, but there are many clients that request service from any of these server processes. The server process must be running all the time; the client process is started when the client needs to receive service.

Although the communication in the clientserver paradigm is between two application programs, the role of each program is totally different. In other words, we cannot run a client program as a server program or vice versa.

One problem with this paradigm is that the concentration of the communication load is on the shoulder of the server, which means the server should be a powerful computer. Even a powerful computer may become overwhelmed if a large number of clients try to connect to the server at the same time. Another problem is that there should be a service provider willing to accept the cost and create a powerful server for a specific service, which means the service must always return some type of income for the server in order to encourage such an arrangement.

Several traditional services are still using this paradigm, including the **World Wide Web (WWW)** and its vehicle **HyperText Transfer Protocol (HTTP)**, file transfer protocol (FTP), secure shell (SSH), email, and so on. We discuss some of these protocols and applications later in the chapter.

**New paradigm: peer-to-peer**
A new paradigm, called the **peer-to-peer paradigm** (often abbreviated **P2P paradigm**) has emerged to respond to the needs of some new applications. In this paradigm, there is no need for a server process to be running all the time and waiting for the client processes to connect. The responsibility is shared between peers. A computer connected to the Internet can provide service at one time and receive service at another time. A computer can even provide and receive services at the same time.

One of the areas that really fits in this paradigm is Internet telephony. Communication by phone is indeed a peer-to-peer activity; no party needs to be running forever waiting for the other party to call. Another area in which the peer-to-peer paradigm can be used is when some computers connected to the Internet have something to share with each other. For example, if an Internet user has a file available to share with other Internet users, there is no need for the file holder to become a server and run a server process all the time waiting for other users to connect and retrieve the file.

Although the peer-to-peer paradigm has been proved to be easily scalable and cost-effective in eliminating the need for expensive servers to be running and maintained all the time, there are also some challenges. The main challenge has been **security**; it is more difficult to create secure communication between distributed services than between those controlled by some dedicated servers. The other challenge is applicability; it appears that not all applications can use this new paradigm. For example, not many Internet users are ready to become involved, if one day the Web can be implemented as a peer-to-peer service.

### 6.2.3 Standard clientserver applications
During the lifetime of the Internet, several clientserver application programs have been developed. We do not have to redefine them, but we need to understand what they do. We have selected six standard application programs in this section. We start with HTTP and the World Wide Web because they are used by almost all Internet users. We then introduce file transfer and electronic mail applications which have high traffic loads on the Internet. Next, we explain remote logging and how it can be achieved using the TELNET and SSH protocols. Finally, we discuss DNS, which is used by all application programs to map the application layer identifier to the corresponding host IP address.

**World Wide Web and HTTP**
In this section, we first introduce the World Wide Web (abbreviated WWW or Web). We then discuss the HyperText Transfer Protocol (HTTP), the most common clientserver application program used in relation to the Web.

**World Wide Web**
The Web today is a repository of information in which the documents, called **Web pages**, are distributed all over the world and related documents are linked together. The popularity and growth of the Web can be related to two terms in the above statement: distributed and linked. Distribution allows the growth of the Web. Each web server in the world can add a new web page to the repository and announce it to all Internet users without overloading a few servers. Linking allows one web page to refer to another web page stored in another server somewhere else in the world. The linking of web pages was achieved using a concept called **hypertext**, which was introduced many years before the advent of the Internet. The idea was to use a machine that automatically retrieved another document stored in the system when a link to it appeared in the document. The Web implemented this idea electronically: to allow the linked document to be retrieved when the link was clicked by the user. Today, the term hypertext, coined to mean linked text documents, has been changed to **hypermedia**, to show that a web page can be a text document, an image, an audio file, or a video file.

The WWW today is a distributed clientserver service, in which a client using a **browser** can access a service using a server. However, the service provided is distributed over many locations called *sites*. Each site holds one or more documents, referred to as **web pages**. Each web page, however, can contain some links to other web pages in the same or other sites. In other words, a web page can be simple or composite. A simple web page has no links to other web pages; a composite web page has one or more links to other web pages. Each web page is a file with a name and address.

**Web client (browser)**
A variety of vendors offer commercial **browsers** that interpret and display a web page, and all of them use nearly the same architecture. Each browser usually consists of three parts: a controller, client protocols, and interpreters.
The controller receives input from the keyboard or the mouse and uses the client programs to access the document. After the document has been accessed, the controller uses one of the interpreters to display the document on the screen. The client protocol can be one of the protocols described later, such as HTTP or FTP. The interpreter can be **HyperText Markup Language (HTML)**, Java, or JavaScript, depending on the type of document. Some commercial browsers include Internet Explorer, Netscape Navigator, and Firefox.

**Web server**
The web page is stored at the server. Each time a request arrives, the corresponding document is sent to the client.

**Uniform resource locator (URL)**
A web page, as a file, needs to have a unique identifier to distinguish it from other web pages. To define a web page, we need three identifiers: *host*, *port*, and *path*. However, before defining the web page, we need to tell the browser what clientserver application we want to use, which is called the *protocol*. This means we need four identifiers to define the web page. The first is the type of vehicle to be used to fetch the web page; the last three make up the combination that defines the destination object (web page).
- **Protocol**. The first identifier is the abbreviation for the clientserver program that we need in order to access the web page.
- **Host identifier**. The host identifier can be the IP address of the server or the unique name given to the server.
- **Port number**. The port, a 16-bit integer, is normally predefined for the clientserver application.
- **Path**. The path identifies the location and the name of the file in the underlying operating system. The format of this identifier normally depends on the operating system. In UNIX, a path is a set of directory names followed by the file name, all separated by a slash.
To combine these four pieces together, the **uniform resource locator (URL)** has been designed; it uses three different separators between the four pieces as shown below:
\`protocol://host:port/path\`

**HyperText Transfer Protocol (HTTP)**
The **HyperText Transfer Protocol (HTTP)** is a protocol that is used to define how the clientserver programs can be written to retrieve web pages from the Web. An HTTP client sends a request; an HTTP server returns a response. The server uses the port number 80; the client uses a temporary port number.

**6.2.4 File Transfer Protocol (FTP)**
**File Transfer Protocol (FTP)** is the standard protocol provided by TCP/IP for copying a file from one host to another. Although transferring files from one system to another seems simple and straightforward, some problems must be dealt with first. For example, two systems may use different file name conventions. Two systems may have different ways to represent data. Two systems may have different directory structures. All of these problems have been solved by FTP in a very simple and elegant approach.

The client has three components: user interface, client control process, and the client data transfer process. The server has two components: the server control process and the server data transfer process. The control connection is made between the control processes. The data connection is made between the data transfer processes.
Separation of commands and data transfer makes FTP more efficient. The control connection uses very simple rules of communication. We need to transfer only a line of command or a line of response at a time. The data connection, on the other hand, needs more complex rules due to the variety of data types transferred.

**Lifetimes of two connections**
The two connections in FTP have different lifetimes. The control connection remains connected during the entire interactive FTP session. The data connection is opened and then closed for each file transfer activity. It opens each time commands that involve transferring files are used, and it closes when the file is transferred. In other words, when a user starts an FTP session, the control connection opens. While the control connection is open, the data connection can be opened and closed multiple times if several files are transferred.

**6.2.5 Electronic mail**
**Electronic mail** (or **email**) allows users to exchange messages. The nature of this application, however, is different from other applications discussed so far. In an application such as HTTP or FTP, the server program is running all the time, waiting for a request from a client. When the request arrives, the server provides the service. There is a request and there is a response. In the case of electronic mail, the situation is different. First, email is considered a one-way transaction. When Alice sends an email to Bob, she may expect a response, but this is not a mandate. Bob may or may not respond. If he does respond, it is another one-way transaction. Second, it is neither feasible nor logical for Bob to run a server program and wait until someone sends an email to him. Bob may turn off his computer when he is not using it. This means that the idea of client/server programming should be implemented in another way: using some intermediate computers (servers). The users run only client programs when they want and the intermediate servers apply the client/server paradigm.

**Architecture**
To explain the architecture of email, we give a common scenario.
In the common scenario, the sender and the receiver of the email, Alice and Bob respectively, are connected via a LAN or a WAN to two mail servers. The administrator has created one **mailbox** for each user where the received messages are stored. A mailbox is part of a server hard drive, a special file with permission restrictions. Only the owner of the mailbox has access to it. The administrator has also created a queue (spool) to store messages waiting to be sent.
A simple email from Alice to Bob takes nine different steps. Alice and Bob use three different agents: a **user agent (UA)**, a **Mail Transfer Agent (MTA)**, and a **Message Access Agent (MAA)**. When Alice needs to send a message to Bob, she runs a UA program to prepare the message and send it to her mail server. The mail server at her site uses a queue (spool) to store messages waiting to be sent. The message, however, needs to be sent through the Internet from Alices site to Bobs site using an MTA. Here two message transfer agents are needed: one client and one server. Like most clientserver programs on the Internet, the server needs to run all the time because it does not know when a client will ask for a connection. The client, on the other hand, can be triggered by the system when there is a message in the queue to be sent. The user agent at Bobs site allows Bob to read the received message. Bob later uses an MAA client to retrieve the message from an MAA server running on the second server.
Bob needs another pair of clientserver programs: message access programs. This is because an MTA clientserver program is a *push* program: the client pushes the message to the server. Bob needs a *pull* program. The client needs to pull the message from the server.

**6.2.6 TELNET**
A server program can provide a specific service to its corresponding client program. For example, the FTP server is designed to let the FTP client store or retrieve files on the server site. However, it is impossible to have a client/server pair for each type of service we need; the number of servers soon becomes intractable. The idea is not scalable. Another solution is to have a specific client/server program for a set of common scenarios, but to have some generic client/server programs that allow a user on the client site to log into the computer at the server site and use the services available there. For example, if a student needs to use the Java compiler program at her university lab, there is no need for a Java compiler client and a Java compiler server. The student can use a client logging program to log into the university server and use the compiler program at the university. We refer to these generic client/server pairs as **remote login** applications.
One of the original remote logging protocols is **TELNET**, which is an abbreviation for TErminaL NETwork. Although TELNET requires a logging name and password, it is vulnerable to hacking because it sends all data including the password in plaintext (not encrypted). A hacker can eavesdrop and obtain the logging name and password. Because of this security issue, the use of TELNET has diminished in favor of another protocol, Secure Shell (SSH).

**6.2.7 Secure Shell (SSH)**
Although **Secure Shell (SSH)** is a secure application program that can be used today for several purposes such as remote logging and file transfer, it was originally designed to replace TELNET. There are two versions of SSH: SSH-1 and SSH-2, which are totally incompatible. The first version, SSH-1, is now deprecated because of security flaws in it. The current version is called SSH-2.

**6.2.8 Domain Name System (DNS)**
The last clientserver application program we discuss has been designed to help other application programs. To identify an entity, TCP/IP protocols use the IP address, which uniquely identifies the connection of a host to the Internet. However, people prefer to use names instead of numeric addresses. Therefore, the Internet needs to have a directory system that can map a name to an address. This is analogous to the telephone network. A telephone network is designed to use telephone numbers, not names. People can either keep a private file to map a name to the corresponding telephone number or can call the telephone directory to do so.
Since the Internet is so huge today, a central directory system cannot hold all the mapping. In addition, if the central computer fails, the whole communication network will collapse. A better solution is to distribute the information among many computers in the world. In this method, the host that needs mapping can contact the closest computer holding the needed information. The TCP/IP uses a **DNS** client and a DNS server to map a name to an address. A user wants to use a file transfer client to access the corresponding file transfer server running on a remote host. The user knows only the file transfer server name, such as *afilesource.com*. However, the TCP/IP suite needs the IP address of the file transfer server to make the connection. The following six steps map the host name to an IP address:
1.  The user passes the host name to the file transfer client.
2.  The file transfer client passes the host name to the DNS client.
3.  Each computer, after being booted, knows the address of one DNS server. The DNS client sends a message to a DNS server with a query that gives the file transfer server name using the known IP address of the DNS server.
4.  The DNS server responds with the IP address of the desired file transfer server.
5.  The DNS client passes the IP address to the file transfer server.
6.  The file transfer client now uses the received IP address to access the file transfer server.

**Name space**
To be unambiguous, the names assigned to machines must be carefully selected from a name space with complete control over the binding between the names and IP addresses. In other words, the names must be unique because the addresses are unique. A **name space** can map each address to a unique name and is normally organized hierarchically. In a hierarchical *name space*, each name is made of several parts. The first part can define the nature of the organization, the second part can define the name of an organization, the third part can define departments in the organization, and so on. In this case, the authority to assign and control the name spaces can be decentralized. A central authority can assign the part of the name that defines the nature of the organization and the name of the organization. The responsibility for the rest of the name can be given to the organization itself. The organization can add suffixes (or prefixes) to the name to define its host or resources. The management of the organization need not worry that the prefix chosen for a host is taken by another organization because, even if part of an address is the same, the whole address is different.

**DNS in the Internet**
DNS is a protocol that can be used in different platforms. In the Internet, the **domain name space** (tree) was originally divided into three different sections: generic domains, country domains, and the inverse domain. However, due to the rapid growth of the Internet, it became extremely difficult to keep track of the inverse domains, which could be used to find the name of a host when given the IP address. The inverse domains are now deprecated. We, therefore, concentrate on the first two.

**Generic domains**
The **generic domains** define registered hosts according to their generic behavior. Each node in the tree defines a domain, which is an index to the **domain name** space database. Looking at the tree, we see that the first level in the generic domains section allows 14 possible labels. These labels describe the organization types:
*   **aero**: Airlines and aerospace
*   **biz**: Businesses or firms
*   **com**: Commercial organizations
*   **coop**: Cooperative organizations
*   **edu**: Educational institutions
*   **gov**: Government institutions
*   **info**: Information service providers
*   **int**: International organizations
*   **mil**: Military groups
*   **museum**: Museums
*   **name**: Personal names (individuals)
*   **net**: Network support centers
*   **org**: Nonprofit organizations
*   **pro**: Professional organizations

**Country domains**
The **country domains** section uses two-character country abbreviations (e.g., us for United States). Second labels can be organizational, or they can be more specific, national designations. The United States, for example, uses state abbreviations as a subdivision of us (e.g., ca.us.).

**6.2.9 Peer-to-peer paradigm**
We discussed the clientserver paradigm early in the chapter. The first instance of peer-to-peer file sharing goes back to December 1987 when Wayne Bell created *WWIVnet*, the network component of WWIV (World War Four) bulletin board software. In July 1999, Ian Clarke designed *Freenet*, a decentralized, censorship-resistant distributed data store, aimed to provide freedom of speech through a peer-to-peer network with strong protection of anonymity.
Peer-to-peer gained popularity with Napster (19992001), an online music file sharing service created by Shawn Fanning. Although free copying and distributing of music files by the users led to a copyright violation lawsuit against Napster, and eventually closing of the service, it paved the way for peer-to-peer file-distribution models that came later. Gnutella had its first release in March 2000. It was followed by FastTrack (used by the Kazaa), BitTorrent, WinMX, and GNUnet in March, April, May, and November of 2001 respectively.

Internet users that are ready to share their resources become peers and form a network. When a peer in the network has a file (for example, an audio or video file) to share, it makes it available to the rest of the peers. An interested peer can connect itself to the computer where the file is stored and download it. After a peer downloads a file, it can make it available for other peers to download. As more peers join and download that file, more copies of the file become available to the group. Since lists of peers may grow and shrink, the question is how the paradigm keeps track of loyal peers and the location of the files. To answer this question, we first need to divide the P2P networks into two categories: centralized and decentralized.

**Centralized networks**
In a **centralized P2P network**, the directory system listing of the peers and what they offer uses the clientserver paradigm, but the storing and downloading of the files are done using the peer-to-peer paradigm. For this reason, a centralized P2P network is sometimes referred to as a hybrid P2P network. Napster was an example of a centralized P2P. In this type of network, a peer first registers itself with a central server. The peer then provides its IP address and a list of files it has to share. To avoid system collapse, Napster used several servers for this purpose.
A peer, looking for a particular file, sends a query to a central server. The server searches its directory and responds with the IP addresses of nodes that have a copy of the file. The peer contacts one of the nodes and downloads the file. The directory is constantly updated as nodes join or leave the peer.
Centralized networks make the maintenance of the directory simple but have several drawbacks. Accessing the directory can generate huge traffic and slow down the system. The central servers are vulnerable to attack, and if all of them fail, the whole system goes down.

**Decentralized network**
A decentralized P2P network does not depend on a centralized directory system. In this model, peers arrange themselves into an *overlay network*, which is a logical network made on top of the physical network. Depending on how the nodes in the overlay network are linked, a decentralized P2P network is classified as either unstructured or structured.
In an *unstructured* P2P network, the nodes are linked randomly. A search in an unstructured P2P is not very efficient because a query to find a file must be flooded through the network, which produces significant traffic and still the query may not be resolved. Two examples of this type of network are Gnutella and Freenet.
A *structured* network uses a predefined set of rules to link nodes so that a query can be effectively and efficiently resolved. The most common technique used for this purpose is the *Distributed Hash Table (DHT)*. DHT is used in many applications including Distributed Data Structure (DDS), Content Distributed Systems (CDS), Domain Name System (DNS), and P2P file sharing. One popular P2P file sharing protocol that uses the DHT is BitTorrent.

## 6.3 TRANSPORT LAYER
The **transport layer** in the TCP/IP suite is located between the application layer and the network layer. It provides services to the application layer and receives services from the network layer. The transport layer acts as a liaison between a client program and a server program, a **process-to-process** connection. The transport layer is the heart of the TCP/IP protocol suite; it is the end-to-end logical vehicle for transferring data from one point to another in the Internet. Only the two end systems use the service of the transport layer; all intermediate routers use only the first three layers.

### 6.3.1 Transport-layer services
In this section, we discuss the services that can be provided by the transport layer; in the next section, we discuss several transport-layer protocols.

**Process-to-process communication**
The first duty of a transport-layer protocol is to provide *process-to-process communication*. A process is an application-layer entity (running program) that uses the services of the transport layer.
The network layer (discussed later) is responsible for communication at the computer level (host-to-host communication). A network-layer protocol can deliver the message only to the destination computer. However, this is an incomplete delivery. The message still needs to be handed to the correct process. This is where a transport-layer protocol takes over. A transport-layer protocol is responsible for delivery of the message to the appropriate process.

**Addressing: port numbers**
Although there are a few ways to achieve process-to-process communication, the most common is through the clientserver paradigm. A process on the local host, called a *client*, needs services from a process usually on the remote host, called a *server*. Both processes (client and server) have the same name. For example, to get the day and time from a remote machine, we need a daytime client process running on the local host and a daytime server process running on a remote machine. A remote computer can run several server programs at the same time, just as several local computers can run one or more client programs at the same time. For communication, we must define the local host, local process, remote host, and remote process. The local host and the remote host are defined using IP addresses (discussed in the next section). To define the processes, we need second identifiers, called **port numbers**. In the TCP/IP protocol suite, the port numbers are integers between 0 and 65535 (16 bits).
The client program defines itself with a port number, called the **ephemeral port number**. The word ephemeral means *short-lived* and is used because the life of a client is normally short. An ephemeral port number is recommended to be greater than 1023 for some client/server programs to work properly. The server process must also define itself with a port number. This port number, however, cannot be chosen randomly. TCP/IP has decided to use universal port numbers for servers; these are called **well-known port numbers**. Every client process knows the well-known port number of the corresponding server process.

### 6.3.2 Transport-layer protocols
Although the Internet uses several transport-layer protocols, we discuss only two in this section: UDP and TCP.

**User Datagram Protocol (UDP)**
The **User Datagram Protocol (UDP)** is a connectionless, unreliable transport protocol. It does not add anything to the services of network layer except for providing process-to-process communication instead of host-to-host communication. If UDP is so powerless, why would a process want to use it? With the disadvantages come some advantages. UDP is a very simple protocol using a minimum of overhead. If a process wants to send a small message and does not care much about reliability, it can use UDP. Sending a small message using UDP takes much less interaction between the sender and receiver than using TCP.

**User datagrams**
UDP packets, called **user datagrams**, have a fixed-size **header** of 8 bytes. However, the total length needs to be less because a UDP user datagram is stored in an **IP datagram** with the total length of 65535 bytes.

**Transmission Control Protocol (TCP)**
**Transmission Control Protocol (TCP)** is a connection-oriented, reliable protocol. TCP explicitly defines connection establishment, data transfer, and connection teardown phases to provide a connection-oriented service. Connection-oriented service here means that there is a connection (relationship) between all packets (segments) belonging to the same message (coming from the application layer). TCP uses sequence numbers to define the order of the segments. The sequence number is related to the number of bytes in each segment. For example, if the message is 6000 bytes, the first segment has a sequence number 0, the second has the sequence number 2000, and the third segment has the sequence number 4000 (the process is more complicated, we try to simplify it). In this way, if a segment is lost, the receiver holds the other two until the lost one is reset by the sender.

**Segments**
At the transport layer, TCP groups a number of bytes together into a packet called a **segment**. TCP adds a header to each segment (for control purposes) and delivers the segment to the network layer for transmission. The segments are encapsulated in an IP datagram.

## 6.4 NETWORK LAYER
The **network layer** in the TCP/IP protocol suite is responsible for the host-to-host delivery of messages.
The network layer is involved at the source host, destination host, and all routers in the path. At the source host, the network layer accepts a packet from a transport layer, encapsulates the packet in a **datagram**, and delivers the packet to the data-link layer. At the destination host, the datagram is decapsulated, the packet is extracted and delivered to the corresponding transport layer. Although the source and destination hosts are involved in all five layers of the TCP/IP suite, the routers use three layers if they are routing packets only; however, they may need the transport and application layers for control purposes. A router in the path is normally shown with two data-link layers and two physical layers, because it receives a packet from one network and delivers it to another network.

### 6.4.1 Services Provided by network layer
The network layer is located under the transport layer; this means that the network layer provides service to the transport layer. We discuss some aspects of this service below.

**Packetizing**
The first duty of the network layer is definitely **packetizing**: encapsulating the payload (data received from the upper layer) in a network-layer packet at the source and decapsulating the payload from the network-layer packet at the destination. In other words, one duty of the network layer is to carry a payload from the source to the destination without changing it or using it. The network layer is doing the service of a carrier such as the post office, which is responsible for delivery of packages from a sender to a receiver without changing or using the contents.
1. The source network-layer protocol receives a packet from the transport-layer protocol, adds a header that contains the source and destination addresses and some other information that is required by the network-layer protocol.
2. The network layer protocol then logically delivers the packet to the network-layer protocol at the destination.
3. The destination host receives the network-layer packet, decapsulates the payload and delivers to the upper-layer protocol.
If the packet is fragmented at the source or at routers along the path, the network layer is responsible for waiting until all fragments arrive, reassembling them, and delivering them to the upper-layer protocol.
A transport-layer payload may be encapsulated in several network-layer packets.

**Packet delivery**
Packet delivery at the network layer is unreliable and connectionless. We briefly discuss these two concepts next.

**Unreliable delivery**
The delivery of packets at the network layer is **unreliable**. This means that the packets can be corrupted, lost, duplicated. In other words, the network layer provides a best-effort delivery, but there is no guarantee that a packet will reach the destination as we expect. This is the same service we receive from the post office when we mail a regular letter. The reason in both cases is the cost. If we need a guarantee from the post office, the cost is higher (registered mail for example). If we need a guarantee from the network layer, the delivery of packets will be delayed. Each packet needs to be checked at each router and destination and resent if corrupted. Checking the lost packets is even more costly. Does it mean that messages we send by the Internet are not reliable? The answer is that if we want to guarantee that the messages are not corrupted, we need to use the TCP protocol at the transport layer. If a payload at the transport layer is corrupted (because of unreliable delivery at the data-link layer), TCP drops the packet and requests resending of the data as we discussed in the previous section.

**Connectionless delivery**
The delivery at the network layer is also **connectionless**, but the word connectionless here does not mean that there is no physical connection between the sender and receiver. It means that the network layer treats each packet independently (like the way the post office does with the letters). In other words, there is no relationship between packets belonging to the same transport-layer payload. If a transport-layer packet results in four network-layer packets, there is no guarantee that the packets arrive in the same order as sent because each packet may follow a different path to reach the destination. A transport-layer packet is divided into four network-layer packets. They are sent in order (1, 2, 3, 4), but they are received out of order (2, 4, 3, 1). The transport layer at the destination is responsible for holding packets until all of them arrive before putting them in order and delivering them to the application layer.

**Routing**
Another duty of the network layer, which is as important as the others, is **routing**. The network layer is responsible for routing the packet from its source to the destination. A physical network is a combination of networks (LANs and WANs) and routers that connect them. This means that there is more than one route from the source to the destination. The network layer is responsible for finding the *best* one among these possible routes. The network layer needs to have some specific strategies for defining the best route. In the Internet today, this is done by running some *routing protocols* to help the routers coordinate their knowledge about the neighborhood and to come up with consistent tables to be used when a packet arrives.

### 6.4.2 Network-layer protocols
Although there are several protocols at the network layer, the main protocol is called the **Internet Protocol (IP)**. Other protocols are auxiliary protocols that help IP. Today, two versions of IP protocol are in use: IPv4 and IPv6. We discuss each in the next two sections.

**Internet Protocol Version 4 (IPv4)**
Today most systems are using the Internet Protocol Version 4 (IPv4), but this will be changed in future because of smaller address space and packet format of this protocol (among other reasons).

**IPv4 addressing**
The identifier used in the IPv4 layer of the TCP/IP protocol suite to identify the connection of each device to the Internet is called the **Internet address** or **IP address**. An IPv4 address is a 32-bit address that uniquely and universally defines the connection of a host or a router to the Internet. The IP address is the address of the connection, not the host or the router, because if the device is moved to another network, the IP address may be changed. IPv4 addresses are unique in the sense that each address defines one, and only one, connection to the Internet. If a device, such as a router, has several connections to the Internet, via several networks, it has several IPv4 addresses. IPv4 addresses are universal in the sense that the addressing system must be accepted by any host that wants to be connected to the Internet.

There are three common notations to show an IPv4 address: binary notation (base 2), dotted-decimal notation (base 256), and hexadecimal notation (base 16). In binary notation, an IPv4 address is displayed as 32 bits. To make the address more readable, one or more spaces are usually inserted between each octet (8 bits). Each octet is often referred to as a byte. To make the IPv4 address more compact and easier to read, it is usually written in decimal form with a decimal point (dot) separating the bytes. This format is referred to as **dotted-decimal notation**. Note that because each byte (octet) is only 8 bits, each number in the dotted-decimal notation is between 0 and 255. We sometimes see an IPv4 address in hexadecimal notation. Each hexadecimal digit is equivalent to four bits. This means that a 32-bit address has 8 hexadecimal digits. This notation is often used in network programming.

In any communication network that involves delivery, such as a telephone network or a postal network, the addressing system is hierarchical. In a postal network, the postal address (mailing address) includes the country, city, street, house number, and the name of the mail recipient. Similarly, a telephone number is divided into the country code, area code, local exchange, and the connection.
A 32-bit IPv4 address is also hierarchical, but divided only into two parts. The first part of the address, called the **prefix**, defines the network; the second part of the address, called the **suffix**, defines the node (connection of a device to the Internet). The prefix length is $n$ bits and the suffix length is $(32 - n)$ bits. The prefix and suffix lengths depend on the site of the network (organization).

**IPv4 datagram**
Packets used by the IP are called *datagrams*. A datagram is a variable-length packet consisting of two parts: header and payload (data). The header is 20 to 60 bytes in length and contains information essential to routing and delivery. Note that a byte is 8 bits.

**Internet Protocol Version 6 (IPv6)**
Some shortcomings of IPv4 such as address depletion prompted a new version of IP protocol in the early 1990s. The new version, which is called **Internet Protocol version 6 (IPv6)** or **IP new generation (IPng)** was a proposal to augment the address space of IPv4 and at the same time redesign the format of the IP packet and revise some auxiliary protocols. It is interesting to know that IPv5 was a proposal that never materialized. The following shows the main changes in the IPv6 protocol.

**IPv6 addressing**
To prevent the address depletion, IPv6 uses 128 bits to define any device connected to the Internet. An address is represented as either binary or colon-hexadecimal form. The first form is used to store an address in the computer; the second form is used by humans.
The address in IPv6 actually defines three levels of hierarchy: site (organization), subnetwork, and connection to the host.

**IPv6 datagram**
A datagram in this version is also a variable-length packet consisting of two parts: header and payload (data). The header is 40 bytes. However, some extension headers are considered part of the payload in this version.

## 6.5 DATA-LINK LAYER
The TCP/IP suite does not define any protocol in the **data-link layer**. This layer is the territory of networks that when connected make up the Internet. These networks, wired or wireless, receive services and provide services to the network layer. This may give us a clue that there are several standard protocols in the market today.
In the previous section, we learned that communication at the network layer is host-to-host. The Internet, however, is a combination of networks glued together by connecting devices (routers or switches). If a datagram is to travel from a host to another host, it needs to pass through these networks.
Communication at the data-link layer is made up of separate logical connections between the data-link layers in the path. Only one data-link layer is involved at the source or the destination, but two data-link layers are involved at each router. The reason is that source and destination computers are each connected to a single network; each router, however, takes input from one network and sends output to another network.

### 6.5.1 Nodes and links
Although communication at the application, transport, and network layers is end-to-end, communication at the data-link layer is **node-to-node**. Data units from one point in the Internet need to pass through many networks (LANs and WANs) to reach another point. These LANs and WANs are connected by routers. It is customary to refer to the two end hosts and the routers as **nodes** and the networks in between as **links**. The link that connects the nodes are either local area networks (LANs) or Wide Area Networks (WANs).

### 6.5.2 Local area networks (LANs)
In the beginning of this chapter, we learned that a local area network (LAN) is a computer network that is designed for a limited geographic area such as a building or a campus. Although a LAN can be used as an isolated network to connect computers in an organization for the sole purpose of sharing resources, most LANs today are also linked to a wide area network (WAN) or the Internet.
LANs can be wired or wireless networks. In the first group, the stations in the LANs are connected by wire; in the second group the stations are logically connected by air. We discuss each group separately.

**Wired LANS: Ethernet**
Although several wired LANs were invented in the past, only one has survived: the Ethernet. Maybe the reason is that Ethernet was upgraded several times according to the needs of the Internet community.
The Ethernet LAN was developed in the 1970s by Robert Metcalfe and David Boggs. Since then, it has gone through four generations: **Standard Ethernet** (10 Mbps), **Fast Ethernet** (100 Mbps), **Gigabit Ethernet** (1 Gbps), and **10-Gigabit Ethernet** (10 Gbps). The data rate, the speed in which bits are sent in each second, has been increased ten times in each generation.

**Standard Ethernet**
We refer to the original Ethernet technology with the data rate of 10 Mbps (ten million bits per second) as the Standard Ethernet. The data rate in this case defines the speed in which data can be sent out of the station to the LAN. In the case of the Ethernet, the speed is 10 million bits per second. The bits, however, are not sent one by one, a group of bits are packaged together and are referred to as a **frame**. A frame does not carry only data from the sender to the destination. It also carries some information such as the source address (48 bits), the destination address (48 bits), the type of data, the actual data, and some other control bits as a guard to help checking the integrity of data during transition. If we can think of a frame as an envelope carrying a letter from the sender to the receiver, the data is inside the envelope, but there is other information, such as addresses on the envelope. In the case of the LAN all are encapsulated in a frame.

**Fast Ethernet (100 Mbps)**
In the 1990s, Ethernet made a big jump by increasing the **transmission rate** to 100 Mbps, and the new generation was called the Fast Ethernet. The designers of the Fast Ethernet needed to make it compatible with the Standard Ethernet. Most of the protocol such as addressing, frame format remained unchanged. By increasing the transmission rate, features of the Standard Ethernet that depend on the transmission rate had to be revised.

**Gigabit Ethernet**
The need for an even higher data rate resulted in the design of the **Gigabit Ethernet Protocol** (1000 Mbps). The goals of the Gigabit Ethernet were to upgrade the data rate to 1 Gbps, but keep the address length, the frame format, and the maximum and minimum frame length the same.

**10-Gigabit Ethernet**
In recent years, there has been another look into the Ethernet for use in metropolitan areas. The idea is to extend the technology, the data rate, and the coverage distance so that the Ethernet can be used as LAN and MAN (**metropolitan area network**). The goals of the 10-Gigabit Ethernet design can be summarized as upgrading the data rate to 10 Gbps, keeping the same frame size and format, and allowing the interconnection of LANs, MANs, and WAN possible. This data rate is possible only with fiber-optic technology at this time.

**Wireless LANs**
Wireless communication is one of the fastest-growing technologies. The demand for connecting devices without the use of cables is increasing everywhere. Wireless LANs can be found on college campuses, in office buildings, and in many public areas. The first difference we can see between a wired and a wireless LAN is the medium. In a wired LAN, we use wires to connect hosts. In a wireless LAN, the medium is air, the signal is generally broadcast. When hosts in a wireless LAN communicate with each other, they are sharing the same medium (multiple access). Two technologies have been instrumental in this area: Wireless Ethernet and Bluetooth.

**Wireless Ethernet (WiFi)**
Institute of Electrical and Electronics Engineers (IEEE) has defined the specifications for a wireless LAN, which sometimes is referred to as wireless Ethernet or **WiFi** (short for wireless fidelity). WiFi, however, is a wireless LAN that is certified by the WiFi Alliance, a global, nonprofit industry association of more than 300 member companies. The standard defines two kinds of services: the **basic service set (BSS)** and the **extended service set (ESS)**. The second service uses an extra device (access point or AP) that serves as a switch for connection to other LANs or WANs.

**Bluetooth**
**Bluetooth** is a wireless LAN technology designed to connect devices of different functions such as telephones, notebooks, computers (desktop and laptop), cameras, printers, and even coffee makers when they are at a short distance from each other. A Bluetooth LAN is an *ad hoc* network, which means that the network is formed spontaneously; the devices, sometimes called *gadgets*, find each other and make a network called a **piconet**. A Bluetooth LAN can even be connected to the Internet if one of the gadgets has this capability. A Bluetooth LAN, by nature, cannot be large. If there are many gadgets that try to connect, there is chaos.
Bluetooth technology has several applications. Peripheral devices such as a wireless mouse or keyboard can communicate with the computer through this technology. Monitoring devices can communicate with sensor devices in a small health care center. Home security devices can use this technology to connect different sensors to the main security controller. Conference attendees can synchronize their laptop computers at a conference.
Bluetooth was originally started as a project by the Ericsson Company. It is named after Harald Blaatand, the King of Denmark (940981) who united Denmark and Norway. *Blaatand* translates to *Bluetooth* in English.

### 6.5.3 Wide area networks (WANs)
As we discussed before, the networks connecting two nodes in the Internet can be a LAN or a WAN. As in the case of the LANs, WANs can be wired or wireless. We briefly discuss each separately.

**Wired WANs**
We have a variety of wired WANs in todays Ethernet. Some are point-to-point and some are switched WANs.

**Point-to-point wireless WANs**
Today we can use several point-to-point wireless networks to provide what is called *last-mile* service to connect residents and businesses to the Internet.

**Dial-up service**
A dial-up network or connection uses the services provided by the telephone networks to transmit data. The telephone network had its beginnings in the late 1800s. The entire network was originally a system to transmit voice. With the advent of the computer era, the network, in the 1980s, began to carry data in addition to voice. During the last decade, the telephone network has undergone many technical changes. The need to communicate digital data resulted in the invention of the dial-up modem.
The term **modem** is a composite word that refers to the two functional entities that make up the device: a signal **modulator** and a signal **demodulator**. A modulator creates signal from data. A demodulator recovers the data from the modulated signal.

**Digital subscriber line (DSL)**
After traditional modems reached their peak data rate, telephone companies developed another technology, DSL, to provide higher-speed access to the Internet. **Digital subscriber line (DSL)** technology is one of the most promising for supporting high-speed communication over the existing telephone. DSL technology is a set of technologies, each differing in the first letter (ADSL, VDSL, HDSL, and SDSL). The set is often referred to as *xDSL*, where *x* can be replaced by A, V, H, or S. We just discuss the first, ADSL. The first technology in the set is **asymmetric DSL (ADSL)**. ADSL provides higher speed (**bit rate**) in the downstream direction (from the Internet to the resident) than in the upstream direction (from the resident to the Internet). That is the reason it is called *asymmetric*.
ADSL allows the subscriber to use the voice channel and the data channel at the same time. The rate for the upstream can reach 1.44 Mbps. However, the data rate is normally below 500 kbps because of the high-level noise in this channel. The downstream data rate can reach 13.4 Mbps. However, the data rate is normally below 8 Mbps because of noise in this channel. A very interesting point is that the telephone company in this case serves as the ISP, so services such as email or Internet access are provided by the telephone company itself.

**Cable network**
Cable networks were originally created to provide access to TV programs for those subscribers who had no reception because of natural obstructions such as mountains. Later the cable networks became popular with people who just wanted a better signal. In addition, cable networks enabled access to remote broadcasting stations via microwave connections. Cable TV also found a good market in Internet access provision, using some of the channels originally designed for video.
Cable companies are now competing with telephone companies for the residential customer who wants high-speed data transfer. DSL technology provides high-data-rate connections for residential subscribers over the local loop. However, DSL uses the existing unshielded twisted-pair cable, which is very susceptible to interference. This imposes an upper limit on the data rate. A solution is the use of the cable TV network.

**Switched wired WANs**
It is obvious that the Internet today cannot be operative with only point-to-point wired WANs that provide the last-mile connection. We need switched wired WANs to connect the backbone of the Internet. Several protocols in the past have been designed for this purpose such as SONET or ATM. However, these are complex networks, discussion of which is beyond the scope of this book.

**Wireless WANs**
The service area of the Internet is so large today that sometimes using only wired WANs cannot provide services to each corner of the world. We definitely need wireless WANs. Several technologies have been used for this purpose as described below.

**WiMax**
The **Worldwide Interoperability Access (WiMax)** is the wireless version of DSL or Cable connection to the Internet. It provides two types of services (fixed WiMax) to connect the main station to fixed station or to mobile stations such as cellular phones.

**Cellular telephony network**
Another wireless WAN today is the **cellular telephony** which was originally designed for voice communication, but it is also used today for Internet communication. We all know that the cellular network divides the earth into cells. The mobile stations communicate with the fixed antenna in the cell that they are inside at each moment. When the user moves to another cell, the communication is between the mobile device and the new antenna.

**Satellite networks**
A **satellite network** is a combination of nodes, some of which are satellites, that provides communication from one point on the Earth to another. A node in the network can be a satellite, an Earth station, or an end-user terminal or telephone.
Satellite networks are like cellular networks in that they divide the planet into cells. Satellites can provide transmission capability to and from any location on Earth, no matter how remote. This advantage makes high-quality communication available to less well-developed parts of the world without requiring a huge investment in ground-based infrastructure.

## 6.6 PHYSICAL LAYER
Our discussion of the TCP/IP protocol suite would be incomplete without the discussion of the physical layer. The role of the physical layer is to transfer the bits received from the data-link layer and convert them to electromagnetic signals for transmission. After the bits are converted to signals, the signals are delivered to the transmission media, which are the subject of our discussion in the next section.

### 6.6.1 Data and signals
At the physical layer, the communication is node-to-node, but the nodes exchange electromagnetic signals.
One of the major functions of the physical layer is to route bits between nodes. However, bits, as the representation of two possible values stored in the memory of a node (host, router, or switch), cannot be sent directly to the transmission medium (wire or air); the bits need to be changed to signals before transmission. So the main duty of the physical layer is to efficiently convert these bits into electromagnetic signals. We first need to understand the nature of the data and then the types of signals to see how we can do this conversion efficiently.

**Analog and Digital**
Data can be analog or digital. The term **analog data** refers to information that is continuous. Analog data, such as the sounds made by a human voice, take on continuous values. When someone speaks, an analog wave is created in the air. This can be captured by a microphone and converted to an analog signal or sampled and converted to a digital signal.
**Digital data** take on discrete values. For example, data are stored in computer memory in the form of 0s and 1s. They can be converted to a digital signal or modulated into an analog signal for transmission across a medium.
Like the data they represent, signals can be either analog or digital. An **analog signal** has infinitely many levels of intensity over a period of time. As the wave moves from value A to value B, it passes through and includes an infinite number of values along its path. A **digital signal**, on the other hand, can have only a limited number of defined values. Although each value can be any number, it is often as simple as 1 and 0. The simplest way to show signals is by plotting them on a pair of perpendicular axes. The vertical axis represents the value or strength of a signal. The horizontal axis represents time.

### 6.6.2 Digital transmission
A computer network is designed to send information from one point to another. This information needs to be converted to either a digital signal or an analog signal for transmission. If data is digital, we need to use **digital-to-digital conversion** techniques, methods which convert digital data to digital signals. If data is analog, we need to use **analog-to-digital conversion** techniques, methods which change an analog signal to a digital signal.

**Digitaltodigital conversion**
If our data is digital and we need to transmit digital signal, we can use digital-to-digital conversion to change the digital data to digital signal. Although there are many techniques for doing so, in its simplest form, a bit or group of bits is represented by a signal level.

**Analog-to-digital conversion**
Sometimes we have an analog signal such as one created by a microphone or camera. The tendency today is to change an analog signal to digital data because the digital signal is less susceptible to noise. Although there are several techniques for doing so, the simplest one is to sample the analog signal to create a digital data and convert the digital data to digital signal as discussed before.

### 6.6.3 Analog transmission
While digital transmission is desirable, it needs a dedicated channel; analog transmission is the only choice if we do not have a dedicated channel. For example, if we are broadcasting in the air, the air belongs to everyone, so we can use only part of the channel available. Based on the data type available, we can use either digital-to-analog or analog-to-analog conversion.

**Digital-to-analog conversion**
**Digital-to-analog conversion** is the process of changing one of the characteristics of an analog signal based on the information in digital data.

**Analog-to-analog conversion**
**Analog-to-analog conversion** is the process of changing one of the characteristics of an analog signal based on the information in digital data.

## 6.7 TRANSMISSION MEDIA
Electrical signals created at the physical layer need transmission media to go from one point to another. Transmission media are actually located below the physical layer and are directly controlled by the physical layer. We could say that transmission media belong to layer zero.
A **transmission medium** can be broadly defined as anything that can carry information from a source to a destination. For example, the transmission medium for two people having a dinner conversation is the air. The air can also be used to convey the message in a smoke signal or semaphore. For a written message, the transmission medium might be a mail carrier, a truck, or an airplane.
In telecommunications, transmission media can be divided into two broad categories: guided and unguided. Guided media include twisted-pair cable, coaxial cable, and fiber-optic cable. Unguided medium is free space.

### 6.7.1 Guided media
**Guided media**, which are those that provide a conduit from one device to another, include **twisted-pair cable**, **coaxial cable**, and **fiber-optic cable**.

**Twisted-pair cable**
A twisted-pair consists of two conductors (normally copper), each with its own plastic insulation, twisted together. One of the wires is used to carry signals to the receiver, and the other is used only as a ground reference. The receiver uses the difference between the two.
In addition to the signal from the sender, interference (noise) may affect both wires and create unwanted signals. If the two wires are parallel, the effect of these unwanted signals is not the same in both wires because they are at different locations relative to the noise sources. By twisting the pairs, a balance is maintained.
The DSL lines that are used by the telephone companies to provide high-data-rate connections are also twisted-pair cables.

**Coaxial cable**
Instead of having two wires, coax has a central core conductor of solid or stranded wire (usually copper) enclosed in an insulating sheath, which is, in turn, encased in an outer conductor of metal foil, braid, or a combination of the two. The outer metallic wrapping serves both as a shield against noise and as the second conductor, which completes the circuit. This outer conductor is also enclosed in an insulating sheath, and the whole cable is protected by a plastic cover.
Cable TV networks use coaxial cable. In the traditional cable TV network, the entire network used coaxial cable. Later, however, cable TV providers replaced most of the media with fiber-optic cable; hybrid networks use coaxial cable only at the network boundaries, near the consumer premises.

**Fiber-optic cable**
A fiber-optic cable is made of glass or plastic and transmits signals in the form of light. This technology uses the property of a beam of light that is refracted (comes back) when it encounters a medium of less density. Covering a glass or plastic medium by another less dense medium (called cladding) guides the light through the medium.
Fiber-optic cable is often found in backbone networks because its wide bandwidth is cost-effective.

### 6.7.2 Unguided media: wireless
Unguided media transport electromagnetic waves without using a physical conductor. This type of communication is often referred to as **wireless communication**. Signals are normally broadcast through free space and thus are available to anyone who has a device capable of receiving them.
Communication today uses three different ranges of electromagnetic spectrum: radio waves, microwaves, and infrared.

**Radio waves**
Electromagnetic waves ranging in frequencies between 3 kHz and 1 GHz are normally called **radio waves**. They are used mostly for radio communication.

**Microwaves**
Electromagnetic waves having frequencies between 1 and 300 GHz are called **microwaves**. Microwaves are unidirectional. When an antenna transmits microwaves, they can be narrowly focused. This means that the sending and receiving antennas need to be aligned. The unidirectional property has an obvious advantage. A pair of antennas can be aligned without interfering with another pair of aligned antennas.

**Infrared**
**Infrared waves**, with frequencies from 300 GHz to 400 THz (wavelengths from 1 mm to 770 nm), can be used for short-range communication. Infrared waves, having high frequencies, cannot penetrate walls. This advantageous characteristic prevents interference between one system and another; a short-range communication system in one room cannot be affected by another system in the next room. When we use our infrared remote control, we do not interfere with the use of the remote by our neighbors. However, this same characteristic makes infrared signals useless for long-range communication. In addition, we cannot use infrared waves outside a building because the suns rays contain infrared waves that can interfere with the communication.

## 6.8 END-CHAPTER MATERIALS
### 6.8.1 Recommended reading
For more details about subjects discussed in this chapter, the following books are recommended:
- Forouzan, B. and Mosharrf, F. *Computer Networks: A Top-Down Approach*, New York: McGraw-Hill Education, 2012
- Forouzan, B. *Data Communication and Networking*, New York: McGraw-Hill Education, 2013
- Forouzan, B. *TCP/IP Protocol Suite*, New York: McGraw-Hill Education, 2010
- Forouzan, B. *Local Area Networks*, New York: McGraw-Hill Education, 2003
- Kurose, J. and Ross, K. *Computer Networking*, Reading, MA: Addison-Wesley, 2007

### 6.8.2 Key terms
- 10-Gigabit Ethernet
- analog-to-analog conversion
- analog-to-digital conversion
- analog data
- analog signal
- application layer
- bit rate
- Bluetooth
- cellular telephony
- ciphertext
- clientserver paradigm
- coaxial cable
- connecting device
- connectionless protocol
- country domain
- demodulator
- digital-to-analog conversion
- digital-to-digital conversion
- digital data
- digital signal
- digital subscriber line (DSL)
- domain name
- Domain Name System (DNS)
- domain name space
- dotted-decimal notation
- electronic mail (email)
- end system
- ephemeral port number
- Fast Ethernet
- fiber-optic cable
- File Transfer Protocol (FTP)
- frame
- generic domain
- Gigabit Ethernet
- guided media
- hardware
- header
- host
- host identifier
- hypertext
- HyperText Markup Language (HTML)
- HyperText Transfer Protocol (HTTP)
- infrared waves
- internet
- Internet
- Internet address
- Internet Protocol
- Internet Protocol version 6 (IPv6)
- internet service provider (ISP)
- Internetwork
- IP address
- IP datagram
- IP new generation (IPng)
- link
- local area network (LAN)
- Message Access Agent (MAA)
- message transfer agent (MTA)
- metropolitan area network (MAN)
- modem
- modularity
- modulator
- module
- name space
- network layer
- node
- packetizing
- peer-to-peer (P2P) paradigm
- physical layer
- port number
- protocol
- protocol layering
- remote login
- router
- Secure Shell (SHH)
- segment
- software
- source to destination delivery
- Standard Ethernet
- switch
- switched WAN
- TCP/IP protocol suite
- TELNET (terminal network)
- Transmission Control Protocol (TCP)
- transmission medium
- transmission rate
- twisted-pair cable
- unguided media
- uniform resource locator (URL)
- user agent (UA)
- user datagram
- User Datagram Protocol (UDP)
- web page
- well-known port number
- wide area network (WAN)
- Worldwide Interoperability Access (WiMAX)
- World Wide Web (WWW)
- write once, read many (WORM)

### 6.8.3 Summary
- A network is a set of devices connected by communication links. Today when we speak of networks, we are generally referring to two primary categories: local area networks and wide area networks. The Internet today is made up of many wide and local area networks joined by connecting devices and switching stations. A protocol is a set of rules that governs communication. TCP/IP is a hierarchical protocol suite made of five layers: application, transport, network, data-link, and physical.
- Applications in the Internet are designed using either a clientserver paradigm or a peer-to-peer paradigm. The World Wide Web (WWW) is a repository of information linked together from points all over the world. The HyperText Transfer Protocol (HTTP) is the main protocol used to access data on the World Wide Web (WWW). File Transfer Protocol (FTP) is a TCP/IP clientserver application for copying files from one host to another. Electronic mail is one of the most common applications on the Internet. TELNET is a clientserver application that allows a user to log into a remote machine, giving the user access to the remote system. The Domain Name System (DNS) is a clientserver application that identifies each host on the Internet with a unique name.
- The main duty of a transport-layer protocol is to provide process-to-process communication. UDP is a transport protocol that provides unreliable and connectionless service. Transmission Control Protocol (TCP) is another transport-layer protocol that provides reliable and connection-oriented service.
- The network layer supervises the handling of packets by the underlying physical networks. IPv4 is an unreliable connectionless protocol responsible for source-to-destination delivery. The identifiers used in the IP layer of the TCP/IP protocol suite are called the IP addresses. An IPv4 address is 32 bits long. IPv6, the latest version of the Internet Protocol, has a 128-bit address space.
- The data-link layer involves local and wide area networks (LANs and WANs). LANs and WANs can be wired or wireless. Ethernet is the most widely used wired local area network protocol. Dial-up service, DSL, and cable are mostly used for point-to-point wired WANs. Wireless LANs became formalized with wireless Ethernet. Bluetooth is a wireless LAN technology that connects devices (called gadgets) in a small area. WiMAX is a wireless access network that may replace DSL and cable in the future.
- Data must be transformed to electromagnetic signals to be transmitted. Analog data are continuous and take continuous values. Digital data have discrete states and take discrete values. Digital-to-digital conversion changes digital data to digital signal. Digital-to-analog conversion is the process of changing digital data to analog signal. Analog-to-digital conversion is the process of sampling analog data and changing it to digital signal. Analog-to-analog signal means changing analog data to analog signal.
- Transmission media lie below the physical layer. A guided medium provides a physical conduit from one device to another. Twisted-pair cable, coaxial cable, and optical fiber are the most popular types of guided media. Unguided media (free space) transport electromagnetic waves without the use of a physical conductor.
`,zh:`
# 



## 

-  (LAN)  (WAN)
-  internet ()  Internet ()
-  TCP/IP 
-  TCP/IP 
- 
- 
- 
- 
- 
- 

## 6.1 
** (internetwork)**

### 6.1.1 
****************************

****
** (LAN)** LAN  PC LAN  LAN 

****
** (WAN)** LAN  WAN LAN WAN LAN WAN LAN WAN  WAN ** WAN**  ** WAN**

** WAN** 

** WAN**  WAN  WAN  WAN 

****
 LAN  WAN** (internetwork)**  **internet** LAN WAN LAN internet i

### 6.1.2  (The Internet)
internet i **Internet** I

** (backbones)**** (provider networks)**  ** (customer networks)** ****** (peering points)**********

** (ISPs)** ISP ISP

### 6.1.3 
**********

### 6.1.4 
**********

****
 Ann  Maria Ann  Maria / 16 / Maria  Ann  Maria  Ann  Ann  Maria 

 Maria  Ann Maria  Ann  Maria ** (ciphertext)**
 Ann  Ann  Maria  Maria 

 Maria  Ann /** (modularity)******Ann  Maria 

Maria  Maria 



Ann  Maria 

****
****
 3  2  1 

****
Maria  Ann 

### 6.1.5 TCP/IP 
 **TCP/IP (/)**TCP/IP **TCP/IP 
1.  **** ( 5 )
2.  **** ( 4 )
3.  **** ( 3 )
4.  **** ( 2 )
5.  **** ( 1 )

****
 TCP/IP  LAN LAN 

 A  B  A 1  2  B********

**** $n$  $n$  1  2



****
****

**** *someorg.com* *somebody@coldmail.com*** (message)**
** (port numbers)**** (segment)** ** (user datagram)**
********** (datagram)**
 **MAC ******LAN  WAN** (frame)**
** (bit)**

## 6.2 
 TCP/IP 

TCP/IP 

Sky Research  Scientific Books  Sky Research  Scientific Books  Alice BobAlice  Bob 

### 6.2.1 




### 6.2.2 
* (client-server) ** (peer-to-peer) *

****
****** (server process)**** (client process)**





** (WWW)**  ** (HTTP)** (FTP) (SSH)

****
**** **P2P **



**** Web 

### 6.2.3 
 HTTP  TELNET  SSH  DNS IP 

** HTTP**
 WWW  Web (HTTP) Web 

****
 Web ****Web  Web ** (hypertext)** Web ** (hypermedia)**

 WWW **********

**Web **
****
 HTTP  FTP** (HTML)**Java  JavaScript Internet ExplorerNetscape Navigator  Firefox

**Web **


** (URL)**
********
- ****
- **** IP 
- **** 16 
- **** UNIX 
** (URL)**
\`protocol://host:port/path\`

** (HTTP)**
** (HTTP)**  Web HTTP HTTP  80

**6.2.4  (FTP)**
** (FTP)**  TCP/IP  FTP 


 FTP 

****
FTP  FTP  FTP 

**6.2.5 **
**** **email** HTTP  FTP  Alice  Bob Bob Bob Bob 

****

 Alice  Bob LAN  WAN ****spool
 Alice  Bob Alice  Bob ** (UA)**** (MTA)**  ** (MAA)** Alice  Bob  UA spool MTA  Alice  Bob Bob  Bob Bob  MAA  MAA 
Bob  MTA **Bob **

**6.2.6 TELNET**
FTP  FTP  Java  Java  Java ****
 **TELNET** TErminaL NETwork  TELNET TELNET  (SSH)

**6.2.7  (SSH)**
** (SSH)**  TELNETSSH SSH-1  SSH-2 SSH-1  SSH-2

**6.2.8  (DNS)**
TCP/IP  IP 
TCP/IP  **DNS**  DNS  *afilesource.com*TCP/IP  IP  IP 
1.  
2.   DNS 
3.   DNS DNS  DNS  DNS  IP 
4.  DNS  IP 
5.  DNS  IP 
6.   IP 

****
 IP ******

** DNS**
DNS **** IP 

****
******** 14 
*   **aero**
*   **biz**
*   **com**
*   **coop**
*   **edu**
*   **gov**
*   **info**
*   **int**
*   **mil**
*   **museum**
*   **name**
*   **net**
*   **org**
*   **pro**

****
****us  us ca.us.

**6.2.9 **
 1987  12  Wayne Bell  *WWIVnet* WWIV1999  7 Ian Clarke  *Freenet*
 Napster (19992001)  Shawn Fanning  Napster Gnutella  2000  3  FastTrack Kazaa BitTorrentWinMX  GNUnet 2001  3 4 5  11 

 P2P 

****
** P2P ** P2P  P2P Napster  P2P  IP Napster 
 IP 


****
 P2P ** P2P 
** P2P  P2P  Gnutella  Freenet
*** (DHT)*DHT  (DDS) (CDS) (DNS)  P2P **BitTorrent**  DHT  P2P 

## 6.3 
TCP/IP ******** TCP/IP 

### 6.3.1 


****
**


****
**** daytime  daytime  IP **** TCP/IP  0  65535 16 
**** ephemeral ** 1023TCP/IP ****

### 6.3.2 
UDP  TCP

** (UDP)**
** (UDP)**  UDP UDP  UDP UDP  TCP 

****
UDP **** 8 **** UDP  65535  **IP **

** (TCP)**
** (TCP)** TCP TCP  6000  0 2000 4000

****
TCP ** (segment)** TCP  IP 

## 6.4 
TCP/IP ****
**** TCP/IP 

### 6.4.1 


****
****
1. 
2. 
3. 



****


****
**** TCP TCP 

****
**** (1, 2, 3, 4)  (2, 4, 3, 1) 

****
****LAN  WAN****

### 6.4.2 
** (IP)** IP  IP IPv4  IPv6

** (IPv4)**
 (IPv4)

**IPv4 **
TCP/IP  IPv4 **** **IP **IPv4  32 IP IP IPv4  IPv4 IPv4 

 IPv4  2 256 16IPv4  32 8  IPv4 **** 8  0  255  IPv4  32  8 


32  IPv4 ******** $n$  $(32 - n)$ 

**IPv4 **
IP ** 20  60  8 

** (IPv6)**
IPv4  1990  IP ** (IPv6)**  **IP  (IPng)** IPv4  IP IPv5  IPv6 

**IPv6 **
IPv6  128 
IPv6 

**IPv6 **
 40 

## 6.5 
TCP/IP ****



### 6.5.1 
****LAN  WAN LAN  WAN ******** (LAN)  (WAN)

### 6.5.2  (LAN)
 (LAN)  LAN  LAN  (WAN) 
LAN LAN 

** LAN**
 LAN
 LAN  Robert Metcalfe  David Boggs  1970 **** (10 Mbps)**** (100 Mbps)**** (1 Gbps)  **10 ** (10 Gbps)

****
 10 Mbps LAN  1000 ****48 48  LAN 

** (100 Mbps)**
 1990 **** 100 Mbps 

****
**** (1000 Mbps)  1 Gbps

**10 **
 LAN  MAN****10  10 Gbps LANMAN  WAN 

** LAN**
 LAN  LAN  LAN  LAN  LAN 

** (WiFi)**
 (IEEE)  LAN  **WiFi**WiFi  WiFi  LANWiFi  300 ** (BSS)**  ** (ESS)** AP LAN  WAN

****
**** LAN  LAN * (ad hoc)* **** (piconet)**  LAN  LAN 

 (940981) *Blaatand*  *Bluetooth*

### 6.5.3  (WAN)
 LAN  WAN LAN WAN 

** WAN**
 WAN WAN

** WAN**
**

****
 1800  1980 
** (modem)** ********

** (DSL)**
 DSL** (DSL)** DSL ADSLVDSLHDSL  SDSL *xDSL* *x*  AVH  SADSL** DSL (ADSL)**ADSL ******
ADSL  1.44 Mbps 500 kbps 13.4 Mbps 8 Mbps ISP

****

DSL DSL 

** WAN**
 WAN  WAN  SONET  ATM

** WAN**
 WAN  WAN

**WiMax**
** (WiMax)**  DSL  WiMax

****
 WAN ****

****
****


## 6.6 
 TCP/IP 

### 6.6.1 



****
****
**** 0  1 
**** A  B**** 1  0

### 6.6.2 
********

****


****


### 6.6.3 


****
****

****
****

## 6.7 

****


### 6.7.1 
****************

****


 DSL 

****



****



### 6.7.2 
****


****
 3 kHz  1 GHz ****

****
 1  300 GHz ****

****
**** 300 GHz  400 THz 1  770 

## 6.8 
### 6.8.1 

- Forouzan, B. and Mosharrf, F. *Computer Networks: A Top-Down Approach*, New York: McGraw-Hill Education, 2012
- Forouzan, B. *Data Communication and Networking*, New York: McGraw-Hill Education, 2013
- Forouzan, B. *TCP/IP Protocol Suite*, New York: McGraw-Hill Education, 2010
- Forouzan, B. *Local Area Networks*, New York: McGraw-Hill Education, 2003
- Kurose, J. and Ross, K. *Computer Networking*, Reading, MA: Addison-Wesley, 2007

### 6.8.2 
- 10 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
-  (DSL)
- 
-  (DNS)
- 
- 
-  (email)
- 
- 
- 
- 
-  (FTP)
- 
- 
- 
- 
- 
- 
- 
- 
- 
-  (HTML)
-  (HTTP)
- 
-  (internet)
-  (Internet)
- 
- 
-  (IPv6)
-  (ISP)
-  (Internetwork)
- IP 
- IP 
- IP  (IPng)
- 
-  (LAN)
-  (MAA)
-  (MTA)
-  (MAN)
- 
- 
- 
- 
- 
- 
- 
- 
-  (P2P) 
- 
- 
- 
- 
- 
- 
-  (SHH)
- 
- 
- 
- 
- 
-  WAN
- TCP/IP 
- TELNET ()
-  (TCP)
- 
- 
- 
- 
-  (URL)
-  (UA)
- 
-  (UDP)
- 
- 
-  (WAN)
-  (WiMAX)
-  (WWW)
-  (WORM)

### 6.8.3 
- TCP/IP 
-  (WWW)  (HTTP)  (WWW)  (FTP)  TCP/IP TELNET  (DNS) 
- UDP  (TCP) 
- IPv4 TCP/IP  IP  IP IPv4  32 IPv6  128 
-  (LAN)  (WAN)LAN  WAN DSL  WAN LAN  LAN WiMAX  DSL 
- 
- 
`},dN={en:`
# Chapter 7: Operating Systems

This is the first chapter in this book to deal with computer software. In this chapter we explore the role of the operating system in a computer.

## Objectives
After studying this chapter, the student should be able to:
- Understand the role of the operating system in a computer system.
- Give a definition of an operating system.
- Understand the process of bootstrapping to load the operating system into memory.
- List the components of an operating system.
- Discuss the role of the memory manager in an operating system.
- Discuss the role of the process manager in an operating system.
- Discuss the role of the device manager in an operating system.
- Discuss the role of the file manager in an operating system.
- Understand the main features of three common operating systems: UNIX, Linux, and Windows.

## 7.1 INTRODUCTION
A computer is a system composed of two major components: hardware and software. Computer hardware is the physical equipment. Software is the collection of programs that allows the hardware to do its job. Computer **software** is divided into two broad categories: the **operating system** and **application programs** (Figure 7.1). Application programs use the computer hardware to solve users problems. The operating system, on the other hand, controls the access to hardware by users.

### 7.1.1 Operating system
An **operating system** is complex, so it is difficult to give a simple universal definition. Instead, here are some common definitions:
- An operating system is an interface between the hardware of a computer and the user (programs or humans).
- An operating system is a program (or a set of programs) that facilitates the execution of other programs.
- An operating system acts as a general manager supervising the activity of each component in the computer system. As a general manager, the operating system checks that hardware and software resources are used efficiently, and when there is a conflict in using a resource, the operating system mediates to solve it.

**An operating system is an interface between the hardware of a computer and the user (programs or humans) that facilitates the execution of other programs and the access to hardware and software resources.**

Two major design goals of an operating system are:
- Efficient use of hardware.
- Easy use of resources.

### 7.1.2 Bootstrap process
The operating system, based on the above definitions, provides support for other programs. For example, it is responsible for loading other programs into memory for execution. However, the operating system itself is a program that needs to be loaded into the memory and be run. How is this dilemma solved?

The problem can be solved if the operating system is stored (by the manufacturer) in part of memory using ROM technology. The program counter of the CPU (see Chapter 5) can be set to the beginning of this ROM memory. When the computer is turned on, the CPU reads instructions from ROM and executes them. This solution, however, is not very efficient, because a significant part of the memory would need to be composed of ROM and could not therefore be used by other programs. Todays technology needs to allocate just a small part of memory to part of the operating system.

The solution adopted today is a two-stage process. A very small section of memory is made of ROM and holds a small program called the **bootstrap program**. When the computer is turned on, the CPU counter is set to the first instruction of this bootstrap program and executes the instructions in this program. This program is only responsible for loading the operating system itself, or that part of it required to start up the computer, into RAM memory. When loading is done, the program counter in the CPU is set to the first instruction of the operating system in RAM and the operating system is executed. Figure 7.2 illustrates the bootstrap process.

## 7.2 EVOLUTION
Operating systems have gone through a long history of evolution, which we summarize next.

### 7.2.1 Batch systems
**Batch operating systems** were designed in the 1950s to control mainframe computers. At that time, computers were large machines that used punched cards for input, line printers for output, and tape drives for secondary storage media.

Each program to be executed was called a job. A programmer who wished to execute a job sent a request to the operating room along with punched cards for the program and data. The punched cards were fed into the computer by an operator. If the program was successful, a printout of the result was sent to the programmerif not, a printout of the error was sent.

Operating systems during this era were very simple: they only ensured that all of the computers resources were transferred from one job to the next.

### 7.2.2 Time-sharing systems
To use computer system resources efficiently, **multiprogramming** was introduced. The idea is to hold several jobs in memory at a time, and only assign a resource to a job that needs it on the condition that the resource is available. For example, when one program is using an input/output device, the CPU is free and can be used by another program. We discuss multiprogramming later in this chapter.

Multiprogramming brought the idea of **time sharing**: resources could be shared between different jobs, with each job being allocated a portion of time to use a resource. Because a computer is much faster than a human, time sharing is hidden from the usereach user has the impression that the whole system is serving them exclusively.

Multiprogramming, and eventually time sharing, improved the efficiency of computer systems tremendously. However, they required a more complex operating system. The operating system now had to do **scheduling**: allocating resources to different programs and deciding which program should use which resource, and when. During this era, the relationship between a computer and a user also changed. The user could directly interact with the system without going through an operator. A new term was also coined: **process**. A job is a program to be run, while a process is a program that is in memory and waiting for resources.

### 7.2.3 Personal systems
When personal computers were introduced, there was a need for an operating system for this new type of computer. During this era, **single-user operating systems** such as **DOS (Disk Operating System)** were introduced.

### 7.2.4 Parallel systems
The need for more speed and efficiency led to the design of **parallel systems**: multiple CPUs on the same machine. Each CPU can be used to serve one program or a part of a program, which means that many tasks can be accomplished in parallel instead of serially. The operating systems required for this are more complex than those that support single CPUs.

### 7.2.5 Distributed systems
Networking and internetworking, as we saw in Chapter 6, have created a new dimension in operating systems. A job that was previously done on one computer can now be shared between computers that may be thousands of miles apart. A program can be run partially on one computer and partially on another if they are connected through an internetwork such as the Internet. In addition, resources can be distributed. A program may need files located in different parts of the world. **Distributed systems** combine features of the previous generation with new duties such as controlling security.

### 7.2.6 Real-time systems
A **real-time system** is expected to do a task within specific time constraints. They are used with real-time applications, which monitor, respond to, or control external processes or environments. Examples can be found in traffic control, patient monitoring, or military control systems. The application program can sometimes be an embedded system such as a component of a large system, such as the control system in an automobile.

The requirements for a real-time operating system are often different than those for a general-purpose system. For this reason, we do not discuss them in this chapter.

## 7.3 COMPONENTS
Todays operating systems are very complex. An operating system needs to manage different resources in a computer system. It resembles an organization with several managers at the top level. Each manager is responsible for managing their department, but also needs to cooperate with others and coordinate activities. A modern operating system has at least four duties: memory manager, process manager, device manager, and file manager. Like many organizations that have a department that is not necessarily under any specific manager, an operating system also has such a component, which is usually called a user interface or a shell. The user interface is responsible for communication outside the operating system. Figure 7.3 shows the typical components of an operating system.

### 7.3.1 User interface
Each operating system has a **user interface**, a program that accepts requests from users (processes) and interprets them for the rest of the operating system. A user interface in some operating systems, such as UNIX, is called a **shell**. In others, it is called a window to denote that it is menu driven and has a **GUI (graphical user interface)** component.

### 7.3.2 Memory manager
One of the responsibilities of a modern computer system is **memory management**. Although the memory size of computers has increased tremendously in recent years, so has the size of the programs and data to be processed. Memory allocation must be managed to prevent applications from running out of memory. Operating systems can be divided into two broad categories of memory management: monoprogramming and multiprogramming.

**Monoprogramming**
**Monoprogramming** belongs to the past, but it is worth mentioning because it helps us to understand multiprogramming. In monoprogramming, most of the memory capacity is dedicated to a single program (we consider the data to be processed by a program as part of the program): only a small part is needed to hold the operating system. In this configuration, the whole program is in memory for execution. When the program finishes running, the program area is occupied by another program (Figure 7.4).

The job of the memory manager is straightforward here. It loads the program into memory, runs it, and replaces it with the next program. However, there are several problems with this technique:
- The program must fit into memory. If the size of memory is less than the size of the program, the program cannot be run.
- When one program is being run, no other program can be executed. A program, during its execution, often needs to receive data from input devices and needs to send data to output devices. Input/output devices are slow compared with the CPU, so when the input/output operations are being carried out, the CPU is idle. It cannot serve another program because this program is not in memory. This is a very inefficient use of memory and CPU time.

**Multiprogramming**
In **multiprogramming**, more than one program is in memory at the same time, and they are executed concurrently, with the CPU switching rapidly between the programs. Figure 7.5 shows memory in a multiprogramming environment.
Since the 1960s, multiprogramming has gone through several improvements that can be seen in the taxonomy in Figure 7.6.

We discuss each scheme very briefly in the next few sections. Two techniques belong to the *nonswapping* category, which means that the program remains in memory for the duration of execution. The other two techniques belong to the *swapping* category. This means that, during execution, the program can be swapped between memory and disk one or more times.

**Partitioning**
The first technique used in multiprogramming is called **partitioning**. In this scheme, memory is divided into variable-length sections. Each section or partition holds one program. The CPU switches between programs. It starts with one program, executing some instructions until it either encounters an input/output operation or the time allocated for that program has expired. The CPU then saves the address of the memory location where the last instruction was executed and moves to the next program. The same procedure is repeated with the second program. After all the programs have been served, the CPU moves back to the first program. Priority levels can also be used to control the amount of CPU time allocated to each program (Figure 7.7).

With this technique, each program is entirely in memory and occupying contiguous locations. Partitioning improves the efficiency of the CPU, but there are still some issues:
- The size of the partitions has to be determined beforehand by the memory manager. If partition sizes are small, some programs cannot be loaded into memory. If partition sizes are large, there might be some holes (unused locations) in memory.
- Even if partitioning is perfect when the computer is started, there may be some holes after completed programs are replaced by new ones.
- When there are many holes, the memory manager can compact the partitions to remove the holes and create new partitions, but this creates extra overhead on the system.

**Paging**
**Paging** improves the efficiency of partitioning. In paging, memory is divided into equally sized sections called **frames**. Programs are also divided, into equally sized sections called **pages**. The size of a page and a frame is usually the same and equal to the size of the block used by the system to retrieve information from a storage device (Figure 7.8).

A page is loaded into a frame in memory. If a program has three pages, it occupies three frames in memory. With this technique, the program does not have to be contiguous in memory: two consecutive pages can occupy noncontiguous frames in memory. The advantage of paging over partitioning is that two programs, each using three noncontiguous frames, can be replaced by one program that needs six frames. There is no need for the new program to wait until six contiguous frames are free before being loaded into memory.

Paging improves efficiency to some extent, but the whole program still needs to be in memory before being executed. This means that a program that needs six frames, for example, cannot be loaded into memory if there are currently only four unoccupied frames.

**Demand paging**
Paging does not require that the program be in contiguous memory locations, but it does require that the entire program be in memory for execution. **Demand paging** has removed this last restriction. In demand paging the program is divided into pages, but the pages can be loaded into memory one by one, executed, and replaced by another page. In other words, memory can hold pages from multiple programs at the same time. In addition, consecutive pages from the same program do not have to be loaded into the same framea page can be loaded into any free frame. An example of demand paging is shown in Figure 7.9. Two pages from program A, one page from program B, and one page from program C are in the memory.

**Demand segmentation**
A technique similar to paging is **segmentation**. In paging, a program is divided into equally sized pages, which is not the way a programmer thinksa programmer thinks in terms of modules. As we will see in later chapters, a program is usually made up of a main program and subprograms. In **demand segmentation**, the program is divided into segments that match the programmers view. These are loaded into memory, executed, and replaced by another module from the same or a different program. An example of demand segmentation is shown in Figure 7.10. Since segments in memory are of equal size, part of a segment may remain empty.

**Demand paging and segmentation**
Demand paging and segmentation can be combined to further improve the efficiency of the system. A segment may be too large to fit any available free space in memory. Memory can be divided into frames, and a module can be divided into pages. The pages of a module can then be loaded into memory one by one and executed.

**Virtual memory**
Demand paging and demand segmentation mean that, when a program is being executed, part of the program is in memory and part is on disk. This means that, for example, a memory size of 10 MB can execute ten programs, each of size 3 MB, for a total of 30 MB. At any moment, 10 MB of the ten programs are in memory and 20 MB are on disk. There is therefore an actual memory size of 10 MB, but a virtual memory size of 30 MB. Figure 7.11 shows the concept. **Virtual memory**, which implies demand paging, demand segmentation, or both, is used in almost all operating systems today.

### 7.3.3 Process manager
A second function of an operating system is process management, but before discussing this concept, we need to define some terms.

**Program, job, and process**
Modern operating systems use three terms that refer to a set of instructions: program, job, and process. Although the terminology is vague and varies from one operating system to another, we can define these terms informally.

**Program**
A **program** is a nonactive set of instructions stored on disk (or tape). It may or may not become a job.

**Job**
A program becomes a **job** from the moment it is selected for execution until it has finished running and becomes a program again. During this time a job may or may not be executed. It may be located on disk waiting to be loaded to memory, or it may be loaded into memory and waiting for execution by the CPU. It may be on disk or in memory waiting for an input/output event, or it may be in memory while being executed by the CPU. The program is a job in all of these situations. When a job has finished executing (either normally or abnormally), it becomes a program and once again resides on the disk. The operating system no longer governs the program. Note that every job is a program, but not every program is a job.

**Process**
A **process** is a program in execution. It is a program that has started but has not finished. In other words, a process is a job that is being run in memory. It has been selected among other waiting jobs and loaded into memory. A process may be executing or it may be waiting for CPU time. As long as the job is in memory, it is a process. Note that every process is a job, but not every job is a process.

**State diagrams**
The relationship between a program, a job, and a process becomes clearer if we consider how a program becomes a job and how a job becomes a process. This can be illustrated with a **state diagram** that shows the different states of each of these entities. Figure 7.12 is a state diagram using boundaries between a program, a job, and a process.

A program becomes a job when selected by the operating system and brought to the **hold state**. It remains in this state until it can be loaded into memory. When there is memory space available to load the program totally or partially, the job moves to the **ready state**. It now becomes a process. It remains in memory and in this state until the CPU can execute it, moving to the **running state** at this time. When in the running state, one of three things can happen:
- The process executes until it needs I/O resources
- The process exhausts its allocated time slot
- The process terminates
In the first case, the process goes into the **waiting state** and waits until I/O is complete. In the second case, it goes directly to the ready state. In the third case, it goes into the **terminated state** and is no longer a process. A process can move between the running, waiting, and ready states many times before it goes to the terminated state. Note that the diagram can be much more complex if the system uses virtual memory and swaps programs in and out of main memory.

**Schedulers**
To move a job or process from one state to another, the process manager uses two **schedulers**: the job scheduler and the process scheduler.

**Job scheduler**
The **job scheduler** moves a job from the hold state to the ready state or from the running state to the terminated state. In other words, a job scheduler is responsible for creating a process from a job and terminating a process. Figure 7.13 shows the job scheduler.

**Process scheduler**
The **process scheduler** moves a process from one state to another. It moves a process from the running state to the waiting state when the process is waiting for some event to happen. It moves the process from the waiting state to the ready state when the event has occurred. It moves a process from the running state to the ready state if the process time allotment has expired. When the CPU is ready to run the process, the process scheduler moves the process from the ready state to the running state. Figure 7.14 shows the process scheduler.

**Other schedulers**
Some operating systems use other types of schedulers to make switching between processes more efficient.

**Queuing**
Our state diagram shows one job or process moving from one state to another. In reality, there are many jobs and many processes competing with each other for computer resources. For example, when some jobs are in memory, others must wait until space is available. Or when a process is running using the CPU, others must wait until the CPU is free. To handle multiple processes and jobs, the process manager uses **queues** (waiting lists). A *job control block* or *process control block* is associated with each job or process. This is a block of memory that stores information about that job or process. The process manager stores the job or process control block in the queues instead of the job or process itself. The job or process itself remains in memory or disk, as it is too big to be duplicated in a queue: the job control block or process control block is the representative of the waiting job or process.
An operating system can have several queues. For example, Figure 7.15 shows the circulation of jobs and processes through three queues: the job queue, the ready queue, and the I/O queue. The job queue holds the jobs that are waiting for memory. The ready queue holds the processes that are in memory, ready to be run and waiting for the CPU. The I/O queue holds the processes that are waiting for an I/O device (there can be several I/O queues, one for each input/output device, but we show only one for simplicity).

The process manager can have different policies for selecting the next job or process from a queue: it could be first in, first out (FIFO), shortest length first, highest priority first, and so on.

**Process synchronization**
The whole idea behind process management is to synchronize different processes with different resources. Whenever resources can be used by more than one user (or process, in this case), we can have two problematic situations: *deadlock* and *starvation*. A brief discussion of these two situations follows.

**Deadlock**
Instead of a formal definition of **deadlock**, we give an example. Assume that there are two processes, A and B. Process A is holding a file, File1 (that is, File1 is assigned to A) and cannot release it until it acquires another file, File2 (that is, A has requested File2). Process B is holding File2 (that is, File2 is assigned to B) and cannot release it until it has File1 (that is, B has requested File1). Files in most systems are not sharablewhen in use by one process, a file cannot be used by another process. If there is no provision in this situation to force a process to release a file, deadlock is created (Figure 7.16).

As an analogy, Figure 7.17 shows deadlock on a narrow bridge. The situation is similar because the resource (part of the bridge) is held by a vehicle that does not release it until it gets the other part of the bridge, which is held by the other vehicle, and *vice versa*.

Deadlock occurs if the operating system allows a process to start running without first checking to see if the required resources are ready, and allows a process to hold a resource as long as it wants. There should be some provision in the system to prevent deadlock. One solution is not to allow a process to start running until the required resources are free, but we will see later that this creates another problem. The second solution is to limit the time a process can hold a resource.

**Deadlock occurs when the operating system does not put resource restrictions on processes.**

Deadlock does not always occur. There are four necessary conditions for deadlock as shown below:
- **Mutual exclusion**. Only one process can hold a resource
- **Resource holding**. A process holds a resource even though it cannot use it until other resources are available
- **No preemption**. The operating system cannot temporarily reallocate a resource
- **Circular waiting**. All processes and resources involved form a loop, as in Figure 7.16
All four conditions are required for deadlock to occur. However, these conditions are only necessary preconditions, and are not sufficient to cause deadlock of themselvesthey must be present for deadlock, but they might not be enough to cause it. If one of these conditions is missing, deadlock cannot occur. This gives us a method for preventing or avoiding deadlock: do not allow one of these conditions to happen.

**Starvation**
**Starvation** is the opposite of deadlock. It can happen when the operating system puts too many resource restrictions on a process. For example, imagine an operating system that specifies that a process must have possession of its required resources before it can be run.
In Figure 7.18, imagine that process A needs two files, File1 and File2. File1 is being used by process B and File2 is being used by process E. Process B terminates first and releases File1. Process A cannot be started, because File2 is still not available. At this moment, process C, which needs only File1, is allowed to run. Now process E terminates and releases File2, but process A still cannot run because File1 is unavailable.

A classic starvation problem is the one introduced by Edsger Dijkstra. Five philosophers are sitting at a round table (Figure 7.19). Each philosopher needs two chopsticks to eat a bowl of rice. However, one or both chopsticks could be used by a neighbor. A philosopher could starve if two chopsticks are not available at the same time.

### 7.3.4 Device manager
The **device manager**, or input/output manager, is responsible for access to input/output devices. There are limitations on the number and speed of input/output devices in a computer system. Because these devices are slower in speed compared with the CPU and memory, when a process accesses an input/output device, the device is not available to other processes for a period of time. The device manager is responsible for the efficient use of input/output devices.

A detailed discussion of device managers requires advanced knowledge of operating system principles and is beyond the scope of this book. However, we can briefly list the responsibilities of a device manager:
- The device manager monitors every input/output device constantly to ensure that the device is functioning properly. The manager also needs to know when a device has finished serving one process and is ready to serve the next process in the queue.
- The device manager maintains a queue for each input/output device or one or more queues for similar input/output devices. For example, if there are two fast printers in the system, the manager can have one queue for each or one queue for both.
- The device manager controls the different policies for accessing input/output devices. For example, it may use FIFO for one device and shortest length first for another.

### 7.3.5 File manager
Operating systems today use a **file manager** to control access to files. A detailed discussion of the file manager also requires advanced knowledge of operating system principles and file access concepts that are beyond the scope of this book. We discuss some issues related to file access in Chapter 13, but this is not adequate to understand the actual operation of a file manager. Here is a brief list of the responsibilities of a file manager:

- The file manager controls access to files. Access is permitted only by permitted applications and/or users, and the type of access can vary. For example, a process (or a user that calls a process) may be allowed to read from a file but is allowed to write to it (that is, change it). Another process may be allowed to execute a file and a process, but not allowed to read its contents, and so on.
- The file manager supervises the creation, deletion, and modification of files.
- The file manager can control the naming of files.
- The file manager supervises the storage of files: how they are stored, where they are stored, and so on.
- The file manager is responsible for archiving and backups.

## 7.4 A SURVEY OF OPERATING SYSTEMS
In this section we introduce some popular operating systems and encourage you to study them further. We have chosen three operating systems that are familiar to most computer users: UNIX, Linux, and Windows.

### 7.4.1 UNIX
**UNIX** was originally developed in 1969 by Thomson and Ritchie of the Computer Science Research Group at Bell Laboratories. UNIX has gone through many versions since then. It has been a popular operating system among computer programmers and computer scientists. It is a very powerful operating system with three outstanding features. First, UNIX is a portable operating system that can be moved from one platform to another without many changes. The reason is that it is written mostly in the C language (instead of a machine language specific to a particular computer system). Second, UNIX has a powerful set of utilities (commands) that can be combined (in an executable file called a *script*) to solve many problems that require programming in other operating systems. Third, it is device-independent, because it includes device drivers in the operating system itself, which means that it can be easily configured to run any device.
UNIX is a multiuser, multiprocessing, portable operating system designed to facilitate programming, text processing, communication, and many other tasks that are expected from an operating system. It contains hundreds of simple, single-purpose functions that can be combined to do virtually every processing task imaginable. Its flexibility is demonstrated by the fact that it is used in three different computing environments: stand-alone personal environments, time-sharing systems, and clientserver systems.

**UNIX is a multiuser, multiprocessing, portable operating system. It is designed to facilitate programming, text processing, and communication.**

**UNIX structure**
UNIX consists of four major components: the *kernel*, the *shell*, a standard set of *utilities*, and *application programs*. These components are shown in Figure 7.20.

**The kernel**
The **kernel** is the heart of the UNIX system. It contains the most basic parts of the operating system: memory management, process management, device management, and file management. All other components of the system call on the kernel to perform these services for them.

**The shell**
The **shell** is the part of UNIX that is most visible to the user. It receives and interprets the commands entered by the user. In many respects, this makes it the most important component of the UNIX structure. It is certainly the part that users get to know best. To do anything in the system, we must give the shell a command. If the command requires a utility, the shell requests that the kernel execute the utility. If the command requires an application program, the shell requests the kernel to run it. Some operating systems, such as UNIX, have several different shells.

**Utilities**
There are literally hundreds of UNIX utilities. A **utility** is a standard UNIX program that provides a support process for users. Three common utilities are text editors, search programs, and sort programs.
Many of the system utilities are actually sophisticated applications. For example, the UNIX email system is considered a utility, as are the three common text editors, **vi**, **emacs**, and **pico**. All four of these utilities are large systems in themselves. Other utilities are shorter, simpler functions. For example, the list (**ls**) utility displays the files in a disk directory.

**Applications**
Applications in UNIX are programs that are not a standard part of the operating system distribution. Written by systems administrators, professional programmers, or users, they provide extended capabilities to the system. In fact, many of the standard utilities started out as applications years ago and proved so useful that they are now part of the system.

### 7.4.2 Linux
In 1991, Linus Torvalds, a Finnish student at the University of Helsinki at the time, developed a new operating system that is known today as **Linux**. The initial kernel, which was similar to a small subset of UNIX, has grown into a full-scale operating system today. The Linus 2.0 kernel, released in 1997, was accepted as a commercial operating system: it has all the features traditionally attributed to UNIX.

**Components**
Linux has the following components.

**Kernel**
The kernel is responsible for all duties attributed to a kernel, such as memory management, process management, device management, and file management.

**System libraries**
The system libraries hold a set of functions used by the application programs, including the shell, to interact with the kernel.

**System utilities**
The system utilities are individual programs that use the services provided by the system libraries to perform management tasks.

**Networking capabilities**
Linux supports the standard Internet protocols discussed in Chapter 6. It supports three layers: the socket interface, protocol drivers, and network device drivers.

**Security**
Linux security mechanism provides the security aspects defined traditionally for UNIX, such as **authentication** and access control.

### 7.4.3 Windows
In the late 1980s, Microsoft started development of a new single-user operating system to replace **MS-DOS** (Microsoft Disk Operating System). **Windows** was the result. Several versions of Windows followed. We refer to all of these versions as Windows.

**Design goals**
Design goals released by Microsoft are *extensibility*, *portability*, *reliability*, *compatibility*, and *performance*.

**Extensibility**
Windows is designed as a modular architecture with several layers. The purpose is to let the higher layers to be changed with time without affecting the lower layers.

**Portability**
Windows, like UNIX, is mostly is written in C or C++ and the code is independent of the machine language of the computer on which it is running.

**Reliability**
Windows was designed to handle error conditions including protection from malicious software.

**Compatibility**
Windows was designed to run programs written for other operating systems and the earlier versions of Windows.

**Performance**
Windows was designed to have a fast response time to applications that run on top of the operating system.

**Architecture**
Windows uses a layered architecture, as shown in Figure 7.21.

**HAL**
The **hardware abstraction layer (HAL)** hides hardware differences from the upper layers.

**Kernel**
The kernel is the heart of the operating system. It is an object-oriented piece of software that sees any entity as an object.

**Executive**
The Windows executive provides services for the whole operating system. It is made up of six subsystems: object manager, security reference monitor, process manager, virtual memory manager, local procedure call facility, and the I/O manager. Most of these subsystems are familiar from our previous discussions of operating subsystems. Some subsystems, like the object manager, are added to Windows because of its object-oriented nature. The executive runs in kernel (privileged) mode.

**Environmental subsystems**
These are subsystems designed to allow Windows to run application programs designed for Windows, for other operating systems, or for earlier versions of Windows. The native subsystem that runs applications designed for Windows is called Win32. The environment subsystems run in the user mode (a non-privileged mode).

## 7.5 END-CHAPTER MATERIALS
### 7.5.1 Recommended reading
For more details about the subjects discussed in this chapter, the following books are recommended:
- Bic, L. and Shaw, A. *Operating Systems Principles*, Upper Saddle River, NJ: Prentice- Hall, 2003
- McHoes, A. and Flynn, I. *Understanding Operating Systems*, Boston, MA: Course Technology, 2007
- Nutt, G. *Operating Systems: A Modern Perspective*, Reading, MA: Addison-Wesley, 2001
- Silberschatz, A. and Galvin, P. *Operating System Concepts*, New York: Wiley, 2004

### 7.5.2 Key terms
- authentication
- batch operating system
- bootstrap
- circular waiting
- deadlock
- demand paging
- demand paging and segmentation
- demand segmentation
- device manager
- distributed system
- emacs
- frame
- graphical user interface (GUI)
- hardware abstraction layer (HAL)
- hold state
- job
- job scheduler
- kernel
- Linux
- memory management
- Microsoft Disk Operating System (MS-DOS)
- monoprogramming
- multiprogramming
- mutual exclusion
- no preemption
- operating system
- page
- paging
- parallel system
- partitioning
- pico
- portability
- portability process scheduler
- process
- process manager
- program
- queue
- ready state
- real-time system
- reliability
- resource holding
- running state
- scheduler
- scheduling
- shell
- single-user operating system
- software
- starvation
- state diagram
- terminated state
- time sharing
- UNIX
- user interface
- utility
- vi
- virtual memory
- waiting state
- Windows

### 7.5.3 Summary
- An operating system is an interface between the hardware of a computer and the user that facilitates the execution of programs and access to hardware and software resources. Two major design goals of an operating system are efficient use of hardware and ease of use of resources.
- Operating systems have gone through a long history of evolution: batch systems, time-sharing systems, personal systems, parallel systems, and distributed systems. A modern operating system has at least four functional areas: memory manager, process manager, device manager, and file manager. An operating system also provides a user interface.
- The first responsibility of a modern computer system is memory management. Memory allocation must be controlled by the operating system. Memory management techniques can be divided into two categories: monoprogramming and multiprogramming. In monoprogramming, most of the memory capacity is dedicated to one single program. In multiprogramming, more than one program can be in memory at the same time.
- The second responsibility of an operating system is process management. A process is a program in execution. The process manager uses schedulers and queues to manage processes. Process management involves synchronizing different processes with different resources. This may potentially create resource deadlock or starvation. Deadlock occurs when the operating system does not put resource restrictions on processes: starvation can happen when the operating system puts too many resource restrictions on a process.
- The third responsibility of an operating system is device or input/output management.
- The fourth responsibility of an operating system is file management. An operating system uses a file manager to control access to files. Access is permitted only by processes or users that are allowed access to specific files, and the type of access can vary.
- Two common operating systems with some similarities are UNIX and Linux. UNIX is a multiuser, multiprocessing, portable operating system made up from four parts: the kernel, the shell, a standard set of utilities, and application programs. Linux has three components: a kernel, a system utilities, and a system library.
- A popular family of operating systems from Microsoft is referred to as Windows. Windows is an object-oriented, multi-layer operating system. It uses several layers, including a hardware abstract layer (HAL), executive layer, and environment subsystem layer.
`,zh:`
# 



## 

- 
- 
-  (bootstrapping)
- 
- 
- 
- 
- 
- UNIXLinux  Windows

## 7.1 
************ 7.1

### 7.1.1 
****
- 
- 
- 

****


- 
- 

### 7.1.2  (Bootstrap process)


 ROM CPU  5  ROM CPU  ROM  ROM 

 ROM ** (bootstrap program)** CPU  RAM CPU  RAM  7.2 

## 7.2 


### 7.2.1 
**** 1950 

 (job)



### 7.2.2 
** (multiprogramming)**/CPU 

** (time sharing)** 

** (scheduling)**** (process)**

### 7.2.3 
**** **DOS ()**

### 7.2.4 
**** CPU CPU  CPU 

### 7.2.5 
 6 ****

### 7.2.6 
****



## 7.3 
 shell 7.3 

### 7.3.1 
**** UNIX **shell** **GUI ()** 

### 7.3.2 
****

** (Monoprogramming)**
**** 7.4


- 
-  CPU //CPU  CPU 

** (Multiprogramming)**
****CPU  7.5 
 1960  7.6 

* (nonswapping)* * (swapping)* 

** (Partitioning)**
****CPU / CPU CPU  CPU  7.7

 CPU 
- 
- 
- 

** (Paging)**
****** (frames)**** (pages)** 7.8





** (Demand paging)**
**** 7.9  A  B  C 

** (Demand segmentation)**
******** 7.10 

****


** (Virtual memory)**
10 MB  3 MB 30 MB 10 MB 20 MB  10 MB 30 MB 7.11 ****

### 7.3.3 


****


** (Program)**
****

** (Job)**
**** CPU / CPU 

** (Process)**
**** CPU 

****
**** 7.12 

** (hold state)** ** (ready state)** CPU ** (running state)**
-  I/O 
- 
- 
** (waiting state)**  I/O ** (terminated state)**

****
****

** (Job scheduler)**
**** 7.13 

** (Process scheduler)**
**** CPU  7.14 

****


** (Queuing)**
 CPU  CPU ********
 7.15  I/O  CPU I/O  I/O  I/O /

 (FIFO)

****
****

** (Deadlock)**
**** A  B A  File1 File1  A File2  A  File2 B  File2 File2  B File1  B  File1 7.16

 7.17 



****


- ** (Mutual exclusion)**
- ** (Resource holding)**
- ** (No preemption)**
- ** (Circular waiting)** 7.16 


** (Starvation)**
****
 7.18  A  File1  File2File1  B File2  E  B  File1 A  File2  File1  C  E  File2 A  File1 

 Edsger Dijkstra  7.19

### 7.3.4 
****/// CPU //


- /
- //
- / FIFO

### 7.3.5 
**** 13 

- /
- 
- 
- 
- 

## 7.4 
UNIXLinux  Windows

### 7.4.1 UNIX
**UNIX**  Thomson  Ritchie  1969 UNIX UNIX  C UNIX **
UNIX 

**UNIX **

**UNIX **
UNIX ***shell***** 7.20 

** (The kernel)**
**** UNIX 

**Shell**
**Shell**  UNIX  UNIX  shell shell shell  UNIX shell

** (Utilities)**
 UNIX **** UNIX 
UNIX  **vi****emacs**  **pico**  (**ls**) 

** (Applications)**
UNIX 

### 7.4.2 Linux
1991  Linus Torvalds  **Linux** UNIX Linus 2.0  1997  UNIX 

****
Linux 

** (Kernel)**


** (System libraries)**
 shell

** (System utilities)**


** (Networking capabilities)**
Linux  6 

** (Security)**
Linux  UNIX ****

### 7.4.3 Windows
 1980  **MS-DOS****Windows**  Windows Windows

****
**********

** (Extensibility)**
Windows 

** (Portability)**
 UNIX Windows  C  C++ 

** (Reliability)**
Windows 

** (Compatibility)**
Windows  Windows 

** (Performance)**
Windows 

****
Windows  7.21 

**HAL**
** (HAL)** 

** (Kernel)**


** (Executive)**
Windows  I/O  Windows 

** (Environmental subsystems)**
 Windows  Windows Windows  Windows  Win32

## 7.5 
### 7.5.1 

- Bic, L. and Shaw, A. *Operating Systems Principles*, Upper Saddle River, NJ: Prentice- Hall, 2003
- McHoes, A. and Flynn, I. *Understanding Operating Systems*, Boston, MA: Course Technology, 2007
- Nutt, G. *Operating Systems: A Modern Perspective*, Reading, MA: Addison-Wesley, 2001
- Silberschatz, A. and Galvin, P. *Operating System Concepts*, New York: Wiley, 2004

### 7.5.2 
-  (authentication)
-  (batch operating system)
-  (bootstrap)
-  (circular waiting)
-  (deadlock)
-  (demand paging)
-  (demand paging and segmentation)
-  (demand segmentation)
-  (device manager)
-  (distributed system)
- emacs
-  (frame)
-  (graphical user interface, GUI)
-  (hardware abstraction layer, HAL)
-  (hold state)
-  (job)
-  (job scheduler)
-  (kernel)
- Linux
-  (memory management)
-  (Microsoft Disk Operating System, MS-DOS)
-  (monoprogramming)
-  (multiprogramming)
-  (mutual exclusion)
-  (no preemption)
-  (operating system)
-  (page)
-  (paging)
-  (parallel system)
-  (partitioning)
- pico
-  (portability)
-  (portability process scheduler)
-  (process)
-  (process manager)
-  (program)
-  (queue)
-  (ready state)
-  (real-time system)
-  (reliability)
-  (resource holding)
-  (running state)
-  (scheduler)
-  (scheduling)
- shell
-  (single-user operating system)
-  (software)
-  (starvation)
-  (state diagram)
-  (terminated state)
-  (time sharing)
- UNIX
-  (user interface)
-  (utility)
- vi
-  (virtual memory)
-  (waiting state)
- Windows

### 7.5.3 
- 
- 
- 
- 
- /
- 
-  UNIX  LinuxUNIX shellLinux 
-  WindowsWindows  (HAL)
`},uN={en:`
# Chapter 8: Algorithms

In this chapter we introduce the concept of algorithms, step-by-step procedures for solving a problem. We then discuss the tools used to develop algorithms. Finally, we give some examples of common iterative and recursive algorithms.

## Objectives
After studying this chapter, the student should be able to:
- Define an algorithm and relate it to problem solving.
- Define three constructssequence, selection, and repetitionand describe their use in algorithms.
- Describe UML diagrams and how they can be used when representing algorithms.
- Describe pseudocode and how it can be used when representing algorithms.
- List basic algorithms and their applications.
- Describe the concept of sorting and understand the mechanisms behind three primitive sorting algorithms.
- Describe the concept of searching and understand the mechanisms behind two common searching algorithms.
- Define subalgorithms and their relations to algorithms.
- Distinguish between iterative and recursive algorithms.

## 8.1 CONCEPT
In this section we informally define an **algorithm** and elaborate on the concept using an example.

### 8.1.1 Informal definition
An informal definition of an algorithm is:

**Algorithm: a step-by-step method for solving a problem or doing a task.**

In this definition, an algorithm is independent of the computer system. More specifically, we should also note that the algorithm accepts **input data** and creates **output data** (Figure 8.1).

### 8.1.2 Example
Let us elaborate on this simple definition with an example. We want to develop an algorithm for finding the largest integer among a list of positive integers. The algorithm should find the largest integer among a list of any size (for example 5, 1000, 10000, 1000000). The algorithm should be general and not depend on the number of integers.

It is obvious that finding the largest integer among many integers is a task that cannot be done in one step, either by a human or a computer. The algorithm needs to test each integer one by one.

To solve this problem, we need an intuitive approach. First use a small number of integers (for example, five), then extend the solution to any number of integers. Our solution for five integers follows the same principles and restrictions for one thousand or one million integers. Assume, even for a five-integer case, that the algorithm handles the integers one by one. It looks at the first integer without knowing the values of the remaining integers. After it handles the first one, it looks at the second integer, and so on. Figure 8.2 shows one way to solve this problem.

We call the algorithm FindLargest. Each algorithm has a name to distinguish it from other algorithms. The algorithm receives a list of five integers as input and gives the largest integer as output.

**Input**
The algorithm accepts the list of five integers as input.

**Processing**
The algorithm uses the following five steps to find the largest integer:
**Step 1**
In this step, the algorithm inspects the first integer (12). Since it does not know the values of other integers, it decides that the largest integer (so far) is the first integer. The algorithm defines a data item, called Largest, and sets its value to the first integer (12).
**Step 2**
The largest integer so far is 12, but the new integer may change the situation. The algorithm makes a comparison between the value of Largest (12) and the value of the second integer (8). It finds that Largest is larger than the second integer, which means that Largest is still holding the largest integer. There is no need to change the value of Largest.
**Step 3**
The largest integer so far is 12, but the new integer (13) is larger than Largest. This means than the value of Largest is no longer valid. The value of Largest should be replaced by the third integer (13). The algorithm changes the value of Largest to 13 and moves to the next step.
**Step 4**
Nothing is changed in this step because Largest is larger than the fourth integer (9).
**Step 5**
Again nothing is changed because Largest is larger than the fifth integer (11).

**Output**
Because there are no more integers to be processed, the algorithm outputs the value of Largest, which is 13.

### 8.1.3 Defining actions
Figure 8.2 does not show what should be done in each step. We can modify the figure to show more details. For example, in step 1, set Largest to the value of the first integer. In steps 2 to 5, however, additional actions are needed to compare the value of Largest with the current integer being processed. If the current integer is larger than Largest, set the value of Largest to the current integer (Figure 8.3).

### 8.1.4 Refinement
This algorithm needs refinement to be acceptable to the programming community. There are two problems. First, the action in the first step is different than those for the other steps. Second, the wording is not the same in steps 2 to 5. We can easily redefine the algorithm to remove these two inconveniences by changing the wording in steps 2 to 5 to If the current integer is greater than Largest, set Largest to the current integer. The reason that the first step is different than the other steps is because Largest is not initialized.

If we initialize Largest to $-\\infty$ (minus infinity), then the first step can be the same as the other steps, so we add a new step, calling it step 0 to show that it should be done before processing any integers.
Figure 8.4 shows the result of this refinement. Note that we do not have to show all the steps, because they are now the same.

### 8.1.5 Generalization
Is it possible to generalize the algorithm? We want to find the largest of $n$ positive integers, where $n$ can be 1000, 1000000, or more. Of course, we can follow Figure 8.4 and repeat each step. But if we change the algorithm to a program, then we need to actually type the actions for $n$ steps!
There is a better way to do this. We can tell the computer to repeat the steps $n$ times. We now include this feature in our pictorial algorithm (Figure 8.5).

## 8.2 THREE CONSTRUCTS
Computer scientists have defined three constructs for a structured program or algorithm. The idea is that a program must be made of a combination of only these three constructs: *sequence*, *decision*, and *repetition* (Figure 8.6). It has been proven there is no need for any other constructs. Using only these constructs makes a program or an algorithm easy to understand, debug, or change.

### 8.2.1 Sequence
The first construct is called the **sequence**. An algorithm, and eventually a program, is a sequence of instructions, which can be a simple instruction or either of the other two constructs.

### 8.2.2 Decision
Some problems cannot be solved with only a sequence of simple instructions. Sometimes we need to test a condition. If the result of testing is true, we follow a sequence of instructions: if it is false, we follow a different sequence of instructions. This is called the **decision (selection)** construct.

### 8.2.3 Repetition
In some problems, the same sequence of instructions must be repeated. We handle this with the **repetition** or **loop** construct. Finding the largest integer among a set of integers can use a construct of this kind.

## 8.3 ALGORITHM REPRESENTATION
So far, we have used figures to convey the concept of an algorithm. During the last few decades, tools have been designed for this purpose. Two of these tools, UML and pseudocode, are presented here.

### 8.3.1 UML
**Unified Modeling Language (UML)** is a pictorial representation of an algorithm. It hides all the details of an algorithm in an attempt to give the big picture and to show how the algorithm flows from beginning to end.
UML is covered in detail in Appendix B. Here we show only how the three constructs are represented using UML (Figure 8.7). Note that UML allows us a lot of flexibility, as shown in Appendix B. For example, the decision construct can be simplified if there are no actions on the false part.

### 8.3.2 Pseudocode
**Pseudocode** is an English-language-like representation of an algorithm. There is no standard for pseudocodesome people use a lot of detail, others use less. Some use a code that is close to English, while others use a syntax like the Pascal programming language. Pseudocode is covered in detail in Appendix C. Here we show only how the three constructs can be represented by pseudocode (Figure 8.8).

> **Example 8.1**
> Write an algorithm in pseudocode that finds the sum of two integers.
>
> **Solution**
> This is a simple problem that can be solved using only the sequence construct. Note also that we name the algorithm, define the input to the algorithm and, at the end, we use a return instruction to return the sum (Algorithm 8.1).
>
> **Algorithm 8.1 Calculating the sum of two integers**
> Algorithm: SumOfTwo (first, second)
> Purpose: Find the sum of two integers
> Pre: Given: two integers (first and second)
> Post: None
> Return: The sum value
> {
>   sum  first + second
>   return sum
> }

> **Example 8.2**
> Write an algorithm to change a numeric grade to a pass/no pass grade.
>
> **Solution**
> This problem cannot be solved with only the sequence construct. We also need the decision construct. The computer is given an integer between 0 and 100. It returns pass if the integer is greater than or equal to 70, and returns no pass if the integer is less than 70. Algorithm 8.2 shows the pseudocode for this algorithm.
>
> **Algorithm 8.2 Assigning pass/no pass grade**
> Algorithm: Pass/NoPass (score)
> Purpose: Creates a pass/no pass grade given the score
> Pre: Given: the score to be changed to grade
> Post: None
> Return: The grade
> {
>   if (score  70)
>     grade  pass
>   else
>     grade  nopass
>   return grade
> }

> **Example 8.3**
> Write an algorithm to change a numeric grade (integer) to a letter grade.
>
> **Solution**
> This problem needs more than one decision. The pseudocode in Algorithm 8.3 shows one way to solve the problemnot the best one, but an easy one to understand. Again, an integer is given between 0 and 100, and we want to change it to a letter grade (A, B, C, D, or F).
>
> **Algorithm 8.3 Assigning a letter grade**
> Algorithm: LetterGrade (score)
> Purpose: Find the letter grade corresponding to the given score
> Pre: Given: a numeric score
> Post: None
> Return: A letter grade
> {
>   if (100  score  90)
>     grade  A
>   if (89  score  80)
>     grade  B
>   if (79  score  70)
>     grade  C
>   if (69  score  60)
>     grade  D
>   if (59  score  0)
>     grade  F
>   return grade
> }
> Note that the decision constructs do not need an else section, because we do nothing if the condition is false.

> **Example 8.4**
> Write an algorithm to find the largest of a set of integers. We do not know the number of integers.
>
> **Solution**
> We use the concept in Figure 8.5 on page 217 to write an algorithm for this problem (see Algorithm 8.4).
>
> **Algorithm 8.4 Finding the largest integer among a set of integers**
> Algorithm: FindLargest (list)
> Purpose: Find the largest integer among a set of integers
> Pre: Given: the set of integers
> Post: None
> Return: The largest integer
> {
>   largest  
>   while (more integers to check)
>   {
>     current  next integer
>     if (current > largest)
>       largest  current
>   }
>   return largest
> }

> **Example 8.5**
> Write an algorithm to find the smallest of the first 1000 integers in a set of integers.
>
> **Solution**
> Here we need a counter to count the number of integers. We initialize the counter to 1 and increment it in each repetition. When the counter is greater than 1000, we exit from the loop (see Algorithm 8.5). Note that there are more than 1000 integers in the list, but we want to find the smallest among the first 1000.
>
> **Algorithm 8.5 Find the smallest integers among 1000 integers**
> Algorithm: FindSmallest (list)
> Purpose: Find and return the smallest integer among the first 1000 integers
> Pre: Given the set of integers with more than 1000 integers
> Post: None
> Return: The smallest integer
> {
>   smallest  +
>   counter  1
>   while (counter  1000)
>   {
>     current  next integer
>     if (current < smallest)
>       smallest  current
>     counter  counter + 1
>   }
>   return smallest
> }

## 8.4 A MORE FORMAL DEFINITION
Now that we have discussed the concept of an algorithm and shown its representation, here is a more formal definition. Let us elaborate on this definition.

**Algorithm: An ordered set of unambiguous steps that produces a result and terminates in a finite time.**

### 8.4.1 Well-Defined
An algorithm must be a well-defined, ordered set of instructions.

### 8.4.2 Unambiguous steps
Each step in an algorithm must be clearly and unambiguously defined. If one step is to *add two integers*, we must define both integers as well as the add operation: we cannot for example use the same symbol to mean addition in one place and multiplication somewhere else.

### 8.4.3 Produce a result
An algorithm must produce a result, otherwise it is useless. The result can be data returned to the calling algorithm, or some other effect (for example, printing).

### 8.4.4 Terminate in a finite time
An algorithm must terminate (halt). If it does not (that is, it has an infinite loop), we have not created an algorithm. In Chapter 17 we will discuss *solvable* and *unsolvable* problems, and we will see that a solvable problem has a solution in the form of an algorithm that terminates.

## 8.5 BASIC ALGORITHMS
Several algorithms are used in computer science so prevalently that they are considered basic. We discuss the most common here. This discussion is very general: implementation depends on the language.

### 8.5.1 Summation
One commonly used algorithm in computer science is **summation**. We can add two or three integers very easily, but how can we add many integers? The solution is simple: we use the add operator in a loop (Figure 8.9).
A summation algorithm has three logical parts:
1.  Initialization of the sum at the beginning.
2.  The loop, which in each iteration adds a new integer to the sum.
3.  Return of the result after exiting from the loop.

### 8.5.2 Product
Another common algorithm is finding the **product** of a list of integers. The solution is simple: use the multiplication operator in a loop (Figure 8.10). A product algorithm has three logical parts:
1.  Initialization of the product at the beginning.
2.  The loop, which in each iteration multiplies a new integer with the product.
3.  Return of the result after exiting from the loop.

For example, the preceding algorithm can be used to calculate $x^n$ using a minor modificationthis is left as an exercise. As another example, the same algorithm can be used to calculate the factorial of an integer, which is discussed later in the chapter.

### 8.5.3 Smallest and largest
We discussed the algorithm for finding the largest among a list of integers at the beginning of this chapter. The idea was to write a decision construct to find the larger of two integers. If we put this construct in a loop, we can find the largest of a list of integers.
Finding the smallest integer among a list of integers is similar, with two minor differences. First, we use a decision construct to find the smaller of two integers. Second, we initialize with a very large integer instead of a very small one. Figure 8.11 shows the algorithm to find the smallest among a list of integers. The figure to find the largest is similar and left as an exercise.

### 8.5.4 Sorting
One of the most common applications in computer science is **sorting**, which is the process by which data is arranged according to its values. People are surrounded by data. If the data was not ordered, it would take hours and hours to find a single piece of information. Imagine the difficulty of finding someones telephone number in a telephone book that is not ordered.
In this section, we introduce three sorting algorithms: selection sort, bubble sort, and insertion sort. These three sorting algorithms are the foundation of faster sorting algorithms used in computer science today.

**Selection sorts**
In a **selection sort**, the list to be sorted is divided into two sublistssorted and unsortedwhich are separated by an imaginary wall. We find the smallest element from the unsorted sublist and swap it with the element at the beginning of the unsorted sublist. After each selection and swap, the imaginary wall between the two sublists moves one element ahead, increasing the number of sorted elements and decreasing the number of unsorted ones. Each time we move one element from the unsorted sublist to the sorted sublist, we have completed a sort pass. A list of $n$ elements requires $n - 1$ passes to completely rearrange the data. Selection sort is presented graphically in Figure 8.12.

Figure 8.13 traces a set of six integers as we sort them.
The figure shows how the wall between the sorted and unsorted sublists moves in each pass. As we study the figure, we will see that the list is sorted after five passes, which is one less than the number of elements in the list. Thus, if we use a loop to control the sorting, the loop will have one less iteration than the number of elements to be sorted.

**A selection sort algorithm**
The algorithm uses two loops, one inside the other. The outer loop is iterated for each pass: the inner loop finds the smallest element in the unsorted list. Figure 8.14 shows the UML for the selection sort algorithm. The inner loop is not explicitly shown in the figure, but the first instruction in the loop is itself a loop. We leave the demonstration of the loop as an exercise.

**Bubble sorts**
In the **bubble sort** method, the list to be sorted is also divided into two sublistssorted and unsorted. The smallest element is *bubbled up* from the unsorted sublist and moved to the sorted sublist. After the smallest element has been moved to the sorted list, the wall moves one element ahead, increasing the number of sorted elements and decreasing the number of unsorted ones. Each time an element moves from the unsorted sublist to the sorted sublist, one sort pass is completed (Figure 8.15). Given a list of $n$ elements, bubble sort requires up to $n - 1$ passes to sort the data.

Figure 8.16 shows how the wall moves one element in each pass. Looking at the first pass, we start with 56 and compare it to 32. Since 56 is not less than 32, it is not moved, and we step down one element. No exchanges take place until we compare 45 to 8. Since 8 is less than 45, the two elements are exchanged, and we step down one element. Because 8 was moved down, it is now compared to 78, and these two elements are exchanged. Finally, 8 is compared to 23 and exchanged. This series of exchanges places 8 in the first location, and the wall is moved up one position. The algorithm gets its name from the way in which numbersin this example, 8appear to move to the start, or top, of the list in the same way that bubbles rise through water.
Note that we have stopped before the wall moves to the end of the list, because the list is already sorted. We can always include an indicator in the algorithm to stop the passes if no number exchanges occur in a pass. This fact can be used to improve the efficiency of the bubble sort by reducing the number of steps.
The bubble sort was originally written to bubble down the highest element in the list. From an efficiency point of view, it makes no difference whether high elements are moved or low elements are moved up. From a consistency point of view, however, it makes comparisons between the sort algorithms easier if all of them work in the same manner. For that reason, we have chosen to move the lowest value up in each pass.

**A bubble sort algorithm**
Bubble sorts also use two loops, one inside the other. The outer loop is iterated for each pass, while each iteration of the inner loop tries to bubble one element up to the top (left). We leave the UML and pseudocode as exercises.

**Insertion sorts**
The **insertion sort** algorithm is one of the most common sorting techniques, and it is often used by card players. Each card a player picks up is inserted into the proper place in their hand of cards to maintain a particular sequence. (Card sorting is an example of a sort that uses two criteria for sorting: suit and rank.)
In an insertion sort, as in the other two sorting algorithms discussed above, the list is divided into two partssorted and unsorted. In each pass, the first element of the unsorted sublist is transferred to the sorted sublist and inserted at the appropriate place (Figure 8.17). Note that a list of $n$ elements will take $n - 1$ passes to sort the data.

Figure 8.18 traces an insertion sort through our list of six numbers. The wall moves with each pass as an element is removed from the unsorted sublist and inserted into the sorted sublist.

**Insertion sort algorithm**
The design of insertion sort follows the same pattern seen in both selection sort and bubble sort. The outer loop is iterated for each pass, and the inner loop finds the position of insertion. We leave the UML diagram and pseudocode as exercises.

**Other sorting algorithms**
The three sorting algorithms discussed here are the least efficient sorting algorithms, and should not be used if the list to be sorted has more than a few hundred elements. We have discussed these algorithms here for educational purposes, but they are not practical. There are however several reasons for discussing these sorting algorithms in an introductory book:
- They are the simplest algorithms to understand and analyze.
- They are the foundation of more efficient algorithms such as *quicksort, heap sort, Shell sort, bucket sort, merge sort, radix sort*, and so on.
Most such advanced sorting algorithms are discussed in books on data structures.
We may ask why there are so many sorting algorithms. The reason lies in the type of data that needs to be sorted. One algorithm may be more efficient for a list that is partially sorted, whereas another algorithm may be more efficient for a list that is completely unsorted. To decide which algorithm is best suited for a particular application, a measurement called the complexity of algorithms is needed. We discuss this issue in Chapter 17, but a thorough understanding requires additional courses in programming and data structures.

### 8.5.5 Searching
Another common algorithm in computer science is **searching**, which is the process of finding the location of a target among a list of objects. In the case of a list, searching means that given a value, we want to find the location of the first element in the list that contains that value. There are two basic searches for lists: **sequential search** and **binary search**. Sequential search can be used to locate an item in any list, whereas binary search requires the list first to be sorted.

**Sequential search**
**Sequential search** is used if the list to be searched is not ordered. Generally, we use this technique only for small lists, or lists that are not searched often. In other cases, the best approach is to first sort the list and then search it using the binary search discussed later.
In a sequential search, we start searching for the target from the beginning of the list. We continue until we either find the target or reach the end of the list. Figure 8.19 traces the steps to find the value 62. The search algorithm needs to be designed so that the search stops when we find the target or when we reach the end of the list.

**Binary search**
The sequential search algorithm is very slow. If we have a list of a million elements, we must do a million comparisons in the worst case. If the list is not sorted, this is the only solution. If the list is sorted, however, we can use a more efficient algorithm called **binary search**. Generally speaking, programmers use a binary search when a list is large.

A binary search starts by testing the data in the element at the middle of the list. This determines whether the target is in the first half or the second half of the list. If it is in the first half, there is no need to further check the second half. If it is in the second half, there is no need to further check the first half. In other words, we eliminate half the list from further consideration.
We repeat this process until we either find the target or satisfy ourselves that it is not in the list. Figure 8.20 shows how to find the target, 22, in a list of 12 numbers using three references: first, mid, and last.
1.  At the beginning, *first* shows 1 and *last* shows 12. Let *mid* show the middle position, (1 + 12) / 2, or 6 if truncated to an integer. Now compare the target (22) with data at position 6 (21). The target is greater than this value, so we ignore the first half of the list.
2.  Move *first* after *mid*, to position 7. Let *mid* show the middle of the second half, (7 + 12) / 2, or 9. Now compare the target (22) with data at position 9 (62). The target is smaller than this value, so we ignore the integers from this value (62) to the end.
3.  Move *last* before *mid* to position 8. Recalculate *mid* again, (8 + 7) / 2, or 7. Compare the target (22) with the value at this position (22). We have found the target and can quit.

The algorithm for binary search needs to be designed to find the target or to stop if the target is not in the list. It can be shown that if the target is not found in the list, the value of *last* becomes smaller than the value of *first*, an abnormal condition that helps us to know when to come out of the loop.

## 8.6 SUBALGORITHMS
The three programming constructs described in Section 8.2 allow us to create an algorithm for any solvable problem. The principles of structured programming, however, require that an algorithm be broken into small units called **subalgorithms**. Each subalgorithm is in turn divided into smaller subalgorithms. A good example is the algorithm for the selection sort in Figure 8.14. Finding the smallest integer in the unsorted sublist is an independent task that can be considered as a subalgorithm. (Figure 8.21). The algorithm SelectionSort calls the subalgorithm FindSmallest in each iteration.

Using subalgorithms has at least two advantages:
- It is more understandable. Looking at the SelectionSort algorithm, we can immediately see that a task (finding the smallest integer among the unsorted list) is repeated.
- A subalgorithm can be called many times in different parts of the main algorithm without being rewritten.

### 8.6.1 Structure chart
Another tool programmers use is the **structure chart**. A structure chart is a high-level design tool that shows the relationship between algorithms and subalgorithms. It is used mainly at the design level rather than at the programming level. We briefly discuss the structure chart in Appendix D.

## 8.7 RECURSION
In general, there are two approaches to writing algorithms for solving a problem. One uses *iteration*, the other uses *recursion*. **Recursion** is a process in which an algorithm calls itself.

### 8.7.1 Iterative definition
To study a simple example, consider the calculation of a factorial. The factorial of a integer is the product of the integral values from 1 to the integer. The definition is *iterative* (Figure 8.22). An algorithm is iterative whenever the definition does not involve the algorithm itself.
Factorial (n) =
1 if n = 0
n  (n  1)  (n  2)  ...  3  2  1 if n > 0

### 8.7.2 Recursive definition
An algorithm is defined recursively whenever the algorithm appears within the definition itself. For example, the factorial function can be defined recursively as shown in Figure 8.23.
Factorial (n) =
1 if n = 0
n  Factorial (n  1) if n > 0

The decomposition of factorial (3), using recursion, is shown in Figure 8.24. If we study the figure carefully, we will note that the recursive solution for a problem involves a two-way journey. First we decompose the problem from top to bottom, and then we solve it from bottom to top.

Judging by this example, it looks as if the recursive calculation is much longer and more difficult. So why would we want to use the recursive method? Although the recursive calculation looks more difficult when using paper and pencil, it is often a much easier and more elegant solution when using computers. Additionally, it offers a conceptual simplicity to the creator and the reader.

**Iterative solution**
Let us write an algorithm to solve the factorial problem iteratively. This solution usually involves a loop such as seen in Algorithm 8.6.

**Algorithm 8.6 Iteration solution to factorial problem**
Algorithm: Factorial (n)
Purpose: Find the factorial of a number using a loop
Pre: Given: n
Post: None
Return: n!
{
  F  1
  i  1
  while (i  n)
  {
    F  F  i
    i  i + 1
  }
  return F
}

**Recursive solution**
The recursive solution to factorials is shown in Algorithm 8.7. It does not need a loop, as the recursion concept itself involves repetition. In the recursive version, we let the algorithm Factorial call itself.

**Algorithm 8.7 A recursive solution of the factorial problem**
Algorithm: Factorial (n)
Purpose: Find the factorial of a number using recursion
Pre: Given: n
Post: None
Return: n!
{
  if (n = 0)
    return 1
  else
    return n  Factorial (n  1)
}

## 8.8 END-CHAPTER MATERIALS
### 8.8.1 Recommended reading
For more details about the subjects discussed in this chapter, the following books are recommended:
- Aho, A., Hopcroft, J. and Ullman, J. *The Design and Analysis of Computer Algorithms*, Boston, MA: Addison-Wesley, 1974
- Cormen, T., Leiserson, C. and Rivest, R. *Introduction to Algorithms*, New York: McGraw-Hill, 2003
- Gries, D. *The Science of Programming*, New York: Springer, 1998
- Tardos, E. and Kleinberg, J. *Algorithm Design*, Boston, MA: Addison-Wesley, 2006
- Roberts, E. *Thinking Recursively*, New York: Wiley, 1998

### 8.8.2 Key terms
- algorithm
- binary search
- bubble sort
- decision
- input data
- insertion sort
- loop
- output data
- product
- pseudocode
- recursion
- repetition
- searching
- selection
- selection sort
- sequence
- sequential search
- sorting
- structure chart
- subalgorithm
- summation
- Unified Modeling Language (UML)

### 8.8.3 Summary
- An algorithm can be informally defined as a step-by-step method for solving a problem or doing a task. More formally, an algorithm is defined as an ordered set of unambiguous steps that produces a result and terminates in a finite time.
- Computer scientists have defined three constructs for a structured program or algorithm: sequence, decision (selection), and repetition (loop).
- Several tools have been designed to show an algorithm: UML, pseudocode, and structure charts. UML is a pictorial representation of an algorithm. Pseudocode is an English-language-like representation of an algorithm. A structure chart is a high-level design tool that shows the relationship between algorithms and subalgorithms.
- Several algorithms are used in computer science so prevalently that they are considered basic. We discussed the most common in this chapter: summation, product, finding the smallest and largest, sorting, and searching.
- One of the most common applications in computer science is sorting, which is the process by which data is arranged according to its value. We introduced three primitive but fundamental, sorting algorithms: selection sort, bubble sort, and insertion sort. These three sorting algorithms are the foundation of the faster sorts used in computer science today.
- Another common algorithm in computer science is searching, which is the process of finding the location of a target among a list of objects. There are two basic searches for lists: sequential search and binary search. Sequential search can be used to locate an item in any list, whereas binary search requires the list to be sorted.
- The principles of structured programming require that an algorithm be broken into small units called subalgorithms. Each subalgorithm is in turn divided into smaller subalgorithms.
- In general, there are two approaches to writing algorithms to solve a problem. One uses iteration, the other uses recursion. An algorithm is iterative whenever the definition does not involve the algorithm itself. An algorithm is defined recursively whenever the algorithm appears within the definition itself.

## 8.9 PRACTICE SET
### 8.9.1 Quizzes
A set of interactive quizzes for this chapter can be found on the books website. It is strongly recommended that the student takes the quizzes to check his/her understanding of the materials before continuing with the practice set.

### 8.9.2 Review questions
1. What is the formal definition of an algorithm?
2. Define the three constructs used in structured programming.
3. How is a UML diagram related to an algorithm?
4. How is pseudocode related to an algorithm?
5. What is the purpose of a sorting algorithm?
6. What are the three basic sorting algorithms discussed in this chapter?
7. What is the purpose of a searching algorithm?
8. What are the two basic searching algorithms discussed in this chapter?
9. Give a definition and an example of an iterative process.
10. Give a definition and an example of a recursive process.

### 8.9.3 Problems
1. Using the summation algorithm, make a table to show the value of the sum after each integer in the following list is processed:
   20 12 70 81 45 13 81
2. Using the product algorithm, make a table to show the value of the product after each integer in the following list is processed:
   2 12 8 11 10 5 20
3. Using the FindLargest algorithm, make a table to show the value of Largest after each integer in the following list is processed:
   18 12 8 20 10 32 5
4. Using the FindSmallest algorithm, make a table to show the value of Smallest after each integer in the following list is processed:
   18 3 11 8 20 1 2
5. Using the selection sort algorithm, manually sort the following list and show your work in each pass using a table:
   14 7 23 31 40 56 78 9 2
6. Using the bubble sort algorithm, manually sort the following list and show your work in each pass using a table:
   14 7 23 31 40 56 78 9 2
7. Using the insertion sort algorithm, manually sort the following list and show your work in each pass:
   7 23 31 40 56 78 9 2
8. A list contains the following elements. The first two elements have been sorted using the selection sort algorithm. What is the value of the elements in the list after three more passes of the selection sort?
   7 8 26 44 13 23 98 57
9. A list contains the following elements. The first two elements have been sorted using the bubble sort algorithm. What is the value of the elements in the list after three more passes of the bubble sort?
   7 8 26 44 13 23 57 98
10. A list contains the following elements. The first two elements have been sorted using the insertion sort algorithm. What is the value of the elements in the list after three more passes of the insertion sort?
    3 13 7 26 44 23 98 57
11. A list contains the following elements. Using the binary search algorithm, trace the steps followed to find 88. At each step, show the values of first, last, and mid:
    8 13 17 26 44 56 88 97
12. A list contains the following elements. Using the binary search algorithm, trace the steps followed to find 20. At each step, show the values of first, last, and mid:
    17 26 44 56 88 97
13. Using Figure 8.19 in section 8.5.1 (sequential search) show all the steps to try to find a target of 11 (which is not in the list).
14. Using Figure 8.20 in section 8.5.5 (binary search) show all the steps try to find a target of 17 (which is not in the list).
15. Apply the iterative definition of the Factorial algorithm to show the value of F in each step when finding the value of 6! (6 factorial).
16. Apply the recursive definition of the Factorial algorithm to show the value of Factorial in each step when finding the value of 6!
17. Write a recursive algorithm in pseudocode to find the greatest common divisor (gcd) of two integers using the definition in Figure 8.25. In this definition, the expression x mod y means dividing x by y and using the remainder as the result of the operation.
    gcd (x, y) = x if y = 0
    gcd (x, y) = gcd (y, x mod y) otherwise
18. Using the definition of Figure 8.25, find the following:
    a. gcd (7, 41)
    b. gcd (12, 100)
    c. gcd (80, 4)
    d. gcd (17, 29)
19. Write a recursive algorithm in pseudocode to find the combination of n objects taken k at a time using the definition in Figure 8.26.
    C(n, k) = 1 if k = 0 or n = k
    C(n, k) = C(n-1, k) + C(n-1, k-1) if n > k > 0
20. Using the definition in Figure 8.26, find the following:
    a. C (3, 2)
    b. C (5, 5)
    c. C (2, 7)
    d. C (4, 3)
21. The Fibonacci sequence, Fib (n), is used in science and mathematics as shown in Figure 8.27. Write a recursive algorithm in pseudocode to calculate the value of Fib (n).
    Fib(n) = 0 if n = 0
    Fib(n) = 1 if n = 1
    Fib(n) = Fib(n-1) + Fib(n-2) if n > 1
22. Using the definition of Figure 8.27, find the following:
    a. Fib(2)
    b. Fib(3)
    c. Fib(4)
    d. Fib(5)
23. Draw a UML diagram for the selection sort algorithm that uses two loops. The nested loop is used to find the smallest element in the unsorted sublist.
24. Draw a UML diagram for the bubble sort algorithm that uses two loops. The nested loop is used to swap adjacent items in the unsorted sublist.
25. Draw a UML diagram for the insertion sort algorithm that uses two loops. The nested loop is used to do the insertion into the sorted sublist.
26. Draw a UML diagram for the bubble sort algorithm that uses a subalgorithm. The subalgorithm bubbles the unsorted sublist.
27. Draw a UML diagram for the insertion sort algorithm that uses a subalgorithm. The subalgorithm is used to do the insertion into the sorted sublist.
28. Write an algorithm in pseudocode for the UML diagram in Figure 8.9 in section 8.5.1 (summation).
29. Write an algorithm in pseudocode for the UML diagram in Figure 8.10 in section 8.5.5 (product).
30. Write an algorithm in pseudocode for the selection sort using two nested loops.
31. Write an algorithm in pseudocode for the selection sort using a subalgorithm to find the smallest integer in the unsorted sublist.
32. Write an algorithm in pseudocode for the bubble sort using two nested loop.
33. Write an algorithm in pseudocode for the bubble sort using a subalgorithm to do bubbling in the unsorted sublist.
34. Write an algorithm in pseudocode for the insertion sort using two nested loop.
35. Write an algorithm in pseudocode for the insertion sort using a subalgorithm to do insertion in the sorted sublist.
36. Write an algorithm in pseudocode for the sequential search algorithm. Include the condition for algorithm termination if the target is found or not found.
37. Write an algorithm in pseudocode for the binary search algorithm. Include the condition for algorithm termination if the target is found or not found.
38. Using the UML diagram for the product algorithm, draw a diagram to calculate the value of $x^n$, when $x$ and $n$ are two given integers.
39. Write an algorithm in pseudocode to find the value of $x^n$, when $x$ and $n$ are two given integers.
`,zh:`
# 



## 

- 
- 
-  UML 
- 
- 
- 
- 
- 
- 

## 8.1 
****

### 8.1.1 


****

******** 8.1

### 8.1.2 
 51000100001000000



 8.2 

 FindLargest

****


****

** 1**
 (12) Largest  (12)
** 2**
 12 Largest  (12)  (8) Largest  Largest  Largest 
** 3**
 12 (13)  Largest Largest Largest  (13)  Largest  13 
** 4**
 Largest  (9)
** 5**
 Largest  (11)

****
 Largest  13

### 8.1.3 
 8.2  1  Largest  2  5  Largest  Largest Largest  8.3

### 8.1.4 
 2  5  2  5  Largest Largest  Largest 

 Largest  $-\\infty$ 0
 8.4 

### 8.1.5 
 $n$  $n$  10001000000  8.4  $n$ 
 $n$  8.5

## 8.2 
****** 8.6

### 8.2.1  (Sequence)
****

### 8.2.2  (Decision)
****

### 8.2.3  (Repetition)
********

## 8.3 
UML 

### 8.3.1 UML
** (UML)** 
UML  B  UML  8.7UML  B 

### 8.3.2  (Pseudocode)
**** Pascal  C  8.8

> ** 8.1**
> 
>
> ****
> return  8.1
>
> ** 8.1 **
> SumOfTwo (first, second)
> 
>  (first  second)
> 
> 
> {
>   sum  first + second
>   return sum
> }

> ** 8.2**
> /
>
> ****
>  0  100  70 70 8.2 
>
> ** 8.2 /**
> Pass/NoPass (score)
> /
> 
> 
> 
> {
>   if (score  70)
>     grade  pass
>   else
>     grade  nopass
>   return grade
> }

> ** 8.3**
> 
>
> ****
>  8.3  0  100 ABCD  F
>
> ** 8.3 **
> LetterGrade (score)
> 
> 
> 
> 
> {
>   if (100  score  90)
>     grade  A
>   if (89  score  80)
>     grade  B
>   if (79  score  70)
>     grade  C
>   if (69  score  60)
>     grade  D
>   if (59  score  0)
>     grade  F
>   return grade
> }
>  else 

> ** 8.4**
> 
>
> ****
>  217  8.5  8.4
>
> ** 8.4 **
> FindLargest (list)
> 
> 
> 
> 
> {
>   largest  
>   while ()
>   {
>     current  
>     if (current > largest)
>       largest  current
>   }
>   return largest
> }

> ** 8.5**
>  1000 
>
> ****
>  1 1000  8.5 1000  1000 
>
> ** 8.5  1000 **
> FindSmallest (list)
>  1000 
>  1000 
> 
> 
> {
>   smallest  +
>   counter  1
>   while (counter  1000)
>   {
>     current  
>     if (current < smallest)
>       smallest  current
>     counter  counter + 1
>   }
>   return smallest
> }

## 8.4 


****

### 8.4.1  (Well-Defined)


### 8.4.2  (Unambiguous steps)
**

### 8.4.3  (Produce a result)


### 8.4.4  (Terminate in a finite time)
 17 ****

## 8.5 


### 8.5.1  (Summation)
**** 8.9

1.  
2.  
3.  

### 8.5.2  (Product)
**** 8.10
1.  
2.  
3.  

 $x^n$

### 8.5.3  (Smallest and largest)

 8.11 

### 8.5.4  (Sorting)
****


** (Selection sorts)**
**** $n$  $n - 1$  8.12 

 8.13 


****
 8.14  UML

** (Bubble sorts)**
****** 8.15 $n$  $n - 1$ 

 8.16  56  32  56  32 45  8  8  45 8  78 8  23  8  8



****
 UML 

** (Insertion sorts)**
****
 8.17 $n$  $n - 1$ 

 8.18 

****
 UML 

****

- 
- **

 17 

### 8.5.5  (Searching)
************

** (Sequential search)**
****
 8.19  62 

** (Binary search)**
****


 8.20 firstmid  last  12  22
1.  *first*  1*last*  12 *mid* (1 + 12) / 2 6 (22)  6  (21) 
2.   *first*  *mid*  7 *mid* (7 + 12) / 2 9 (22)  9  (62)  (62) 
3.   *last*  *mid*  8 *mid*(8 + 7) / 2 7 (22)  (22) 

*last*  *first* 

## 8.6 
8.2 **** 8.14  8.21 SelectionSort  FindSmallest


-  SelectionSort 
- 

### 8.6.1  (Structure chart)
**** D 

## 8.7 
********

### 8.7.1 
 1 ** 8.22
Factorial (n) =
1  n = 0
n  (n  1)  (n  2)  ...  3  2  1  n > 0

### 8.7.2 
 8.23 
Factorial (n) =
1  n = 0
n  Factorial (n  1)  n > 0

 factorial (3)  8.24 



****
 8.6 

** 8.6 **
Factorial (n)

n

n!
{
  F  1
  i  1
  while (i  n)
  {
    F  F  i
    i  i + 1
  }
  return F
}

****
 8.7  Factorial 

** 8.7 **
Factorial (n)

n

n!
{
  if (n = 0)
    return 1
  else
    return n  Factorial (n  1)
}

## 8.8 
### 8.8.1 

- Aho, A., Hopcroft, J. and Ullman, J. *The Design and Analysis of Computer Algorithms*, Boston, MA: Addison-Wesley, 1974
- Cormen, T., Leiserson, C. and Rivest, R. *Introduction to Algorithms*, New York: McGraw-Hill, 2003
- Gries, D. *The Science of Programming*, New York: Springer, 1998
- Tardos, E. and Kleinberg, J. *Algorithm Design*, Boston, MA: Addison-Wesley, 2006
- Roberts, E. *Thinking Recursively*, New York: Wiley, 1998

### 8.8.2 
-  (algorithm)
-  (binary search)
-  (bubble sort)
-  (decision)
-  (input data)
-  (insertion sort)
-  (loop)
-  (output data)
-  (product)
-  (pseudocode)
-  (recursion)
-  (repetition)
-  (searching)
-  (selection)
-  (selection sort)
-  (sequence)
-  (sequential search)
-  (sorting)
-  (structure chart)
-  (subalgorithm)
-  (summation)
-  (UML)

### 8.8.3 
- 
- 
- UMLUML 
- 
- 
- 
- 
- 

## 8.9 
### 8.9.1 
/

### 8.9.2 
1. 
2. 
3. UML 
4. 
5. 
6. 
7. 
8. 
9. 
10. 

### 8.9.3 
1. 
   20 12 70 81 45 13 81
2. 
   2 12 8 11 10 5 20
3.  FindLargest  Largest 
   18 12 8 20 10 32 5
4.  FindSmallest  Smallest 
   18 3 11 8 20 1 2
5. 
   14 7 23 31 40 56 78 9 2
6. 
   14 7 23 31 40 56 78 9 2
7. 
   7 23 31 40 56 78 9 2
8. 
   7 8 26 44 13 23 98 57
9. 
   7 8 26 44 13 23 57 98
10. 
    3 13 7 26 44 23 98 57
11.  88  firstlast  mid 
    8 13 17 26 44 56 88 97
12.  20  firstlast  mid 
    17 26 44 56 88 97
13.  8.5.1  8.19 11
14.  8.5.5  8.20 17
15.  Factorial  6!6  F 
16.  Factorial  6!  Factorial 
17.  8.25  (gcd)x mod y x  y 
    gcd (x, y) = x  y = 0
    gcd (x, y) = gcd (y, x mod y) 
18.  8.25 
    a. gcd (7, 41)
    b. gcd (12, 100)
    c. gcd (80, 4)
    d. gcd (17, 29)
19.  8.26  n  k 
    C(n, k) = 1  k = 0  n = k
    C(n, k) = C(n-1, k) + C(n-1, k-1)  n > k > 0
20.  8.26 
    a. C (3, 2)
    b. C (5, 5)
    c. C (2, 7)
    d. C (4, 3)
21.  Fib (n)  8.27  Fib (n) 
    Fib(n) = 0  n = 0
    Fib(n) = 1  n = 1
    Fib(n) = Fib(n-1) + Fib(n-2)  n > 1
22.  8.27 
    a. Fib(2)
    b. Fib(3)
    c. Fib(4)
    d. Fib(5)
23.  UML 
24.  UML 
25.  UML 
26.  UML 
27.  UML 
28.  8.5.1  8.9  UML 
29.  8.5.5  8.10  UML 
30. 
31. 
32. 
33. 
34. 
35. 
36. 
37. 
38.  UML  $x^n$  $x$  $n$ 
39.  $x^n$  $x$  $n$ 
`},mN={en:`
# Chapter 9: Programming Languages

In Chapter 8 we discussed algorithms. We showed how we can write algorithms in UML or pseudocode to solve a problem. In this chapter, we examine programming languages that can implement pseudocode or UML descriptions of a solution into a programming language. This chapter is not designed to teach a particular programming language; it is written to compare and contrast different languages.

## Objectives
After studying this chapter, the student should be able to:
- Describe the evolution of programming languages from machine language to high-level languages.
- Understand how a program in a high-level language is translated into machine language using an interpreter or a compiler.
- Distinguish between four computer language paradigms.
- Understand the procedural paradigm and the interaction between a program unit and data items in the paradigm.
- Understand the object-oriented paradigm and the interaction between a program unit and objects in this paradigm.
- Define functional paradigm and understand its applications.
- Define a declaration paradigm and understand its applications.
- Define common concepts in procedural and object-oriented languages.

## 9.1 EVOLUTION
To write a program for a computer, we must use a computer language. A computer language is a set of predefined words that are combined into a program according to predefined rules (syntax). Over the years, computer languages have evolved from machine language to high-level languages.

### 9.1.1 Machine languages
In the earliest days of computers, the only **programming languages** available were **machine languages**. Each computer had its own machine language, which was made of streams of 0s and 1s. In Chapter 5 we showed that in a primitive hypothetical computer, we need to use 11 lines of code to read two integers, add them, and print the result. These lines of code, when written in machine language, make 11 lines of binary code, each of 16 bits, as shown in Table 9.1.

**Table 9.1 Code in machine language to add two integers**
| Hexadecimal | Code in machine language |
| :--- | :--- |
| (1FEF)16 | 0001 1111 1110 1111 |
| (240F)16 | 0010 0100 0000 1111 |
| (1FEF)16 | 0001 1111 1110 1111 |
| (241F)16 | 0010 0100 0001 1111 |
| (1040)16 | 0001 0000 0100 0000 |
| (1141)16 | 0001 0001 0100 0001 |
| (3201)16 | 0011 0010 0000 0001 |
| (2422)16 | 0010 0100 0010 0010 |
| (1F42)16 | 0001 1111 0100 0010 |
| (2FFF)16 | 0010 1111 1111 1111 |
| (0000)16 | 0000 0000 0000 0000 |

Machine language is the only language understood by the computer hardware, which is made of electronic switches with two states: off (representing 0) and on (representing 1).

**The only language understood by a computer is machine language.**

Although a program written in machine language truly represents how data is manipulated by the computer, it has at least two drawbacks. First, it is machine-dependent. The machine language of one computer is different than the machine language of another computer if they use different hardware. Second, it is very tedious to write programs in this language and very difficult to find errors. The era of machine language is now is referred to as the *first generation* of programming languages.

### 9.1.2 Assembly languages
The next evolution in programming came with the idea of replacing binary code for instruction and addresses with symbols or mnemonics. Because they used symbols, these languages were first known as *symbolic languages*. The set of these mnemonic languages were later referred to as **assembly languages**. The assembly language for our hypothetical computer to replace the machine language in Table 9.1 is shown in Table 9.2.

**Table 9.2 Code in assembly language to add two integers**
| Code in assembly language | Description |
| :--- | :--- |
| LOAD RF Keyboard | Load from keyboard controller to register F |
| STORE Number1 RF | Store register F into Number1 |
| LOAD RF Keyboard | Load from keyboard controller to register F |
| STORE Number2 RF | Store register F into Number2 |
| LOAD R0 Number1 | Load Number1 into register 0 |
| LOAD R1 Number2 | Load Number2 into register 1 |
| ADDI R2 R0 R1 | Add registers 0 and 1 with result in register 2 |
| STORE Result R2 | Store register 2 into Result |
| LOAD RF Result | Load Result into register F |
| STORE Monitor RF | Store register F into monitor controller |
| HALT | Stop |

A special program called an **assembler** is used to translate code in assembly language into machine language.

### 9.1.3 High-level languages
Although assembly languages greatly improved programming efficiency, they still required programmers to concentrate on the hardware they were using. Working with symbolic languages was also very tedious, because each machine instruction had to be individually coded. The desire to improve programmer efficiency and to change the focus from the computer to the problem being solved led to the development of **high-level languages**.

High-level languages are portable to many different computers, allowing the programmer to concentrate on the application rather than the intricacies of the computers organization. They are designed to relieve the programmer from the details of assembly language. High-level languages share one characteristic with symbolic languages: they must be converted to machine language. This process is called *interpretation* or *compilation* (described later in the chapter).

Over the years, various languages, most notably BASIC, COBOL, Pascal, Ada, C, C++, and Java, were developed. Program 9-1 shows the code for adding two integers as it would appear in the C++ language. Although the program looks longer, some of the lines are used for documentation (comments).

**Program 9-1 Addition program in C++**
\`\`\`cpp
/* This program reads two integers from keyboard and prints their sum.
   Written by:
   Date:
*/
#include <iostream>
using namespace std;
int main ()
{
    // Local Declarations
    int number1;
    int number2;
    int result;
    // Statements
    cin >> number1;
    cin >> number2;
    result = number1 + number2;
    cout << result;
    return 0;
} // main
\`\`\`

## 9.2 TRANSLATION
Programs today are normally written in one of the high-level languages. To run the program on a computer, the program needs to be translated into the machine language of the computer on which it will run. The program in a high-level language is called the **source program**. The translated program in machine language is called the **object program**. Two methods are used for translation: **compilation** and **interpretation**.

### 9.2.1 Compilation
A **compiler** normally translates the whole source program into the object program.

### 9.2.2 Interpretation
Some computer languages use an **interpreter** to translate the source program into the object program. Interpretation refers to the process of translating each line of the source program into the corresponding line of the object program and executing the line. However, we need to be aware of two trends in interpretation: that used by some languages before Java and the interpretation used by Java.

**First approach to interpretation**
Some interpreted languages prior to Java (such as BASIC and APL) used a kind of interpretation process that we refer to as the *first approach* to interpretation, for the lack of any other name. In this type of interpretation, each line of the source program is translated into the machine language of the computer being used and executed immediately. If there are any errors in translation and execution, the process displays a message and the rest of the process is aborted. The program needs to be corrected and be interpreted and executed again from the beginning. This first approach was considered to be a slow process, which is why most languages use compilation instead of interpretation.

**Second approach to interpretation**
With the advent of Java, a new kind of interpretation process was introduced. The Java language is designed to be portable to any computer. To achieve portability, the translation of the source program to object program is done in two steps: compilation and interpretation. A Java source program is first compiled to create Java **bytecode**, which looks like code in a machine language, but is not the object code for any specific computer: it is the object code for a virtual machine, called the Java Virtual Machine or JVM. The bytecode then can be compiled or interpreted by any computer that runs a JVM emulatorthat is, the computer that runs the bytecode needs only a JVM emulator, not the Java compiler.

### 9.2.3 Translation process
Compilation and interpretation differ in that the first translates the whole source code before executing it, while the second translates and executes the source code a line at a time. Both methods, however, follow the same translation process.

**Lexical analyzer**
A **lexical analyzer** reads the source code, symbol by symbol, and creates a list of **tokens** in the source language. For example, the five symbols w, h, i, l, e are read and grouped together as the token *while* in the C, C++, or Java languages.

**Syntax analyzer**
The **syntax analyzer** parses a set of tokens to find instructions. For example, the tokens x, =, 0 are used by the syntax analyzer to create the assignment statement in the C language x = 0.

**Semantic analyzer**
The **semantic analyzer** checks the sentences created by the syntax analyzer to be sure that they contain no ambiguity. Computer languages are normally unambiguous, which means that this stage is either omitted in a **translator**, or its duty is minimal.

**Code generator**
After unambiguous instructions are created by the semantic analyzer, each instruction is converted to a set of machine language instructions for the computer on which the program will run. This is done by the **code generator**.

## 9.3 PROGRAMMING PARADIGMS
Today computer languages are categorized according to the approach they use to solve a problem. A *paradigm*, therefore, is a way in which a computer language looks at the problem to be solved. We divide computer languages into four paradigms: *procedural* (imperative), *object-oriented*, *functional*, and *declarative*.

### 9.3.1 The procedural paradigm
In the **procedural paradigm** (or **imperative paradigm**) we can think of a program as an *active agent* that manipulates *passive objects*. We encounter many passive objects in our daily life: a stone, a book, a lamp, and so on. A passive object cannot initiate an action by itself, but it can receive actions from active agents.

A program in a procedural paradigm is an active agent that uses passive objects that we refer to as *data* or *data items*. Data items, as passive objects, are stored in the memory of the computer, and a program manipulates them. To manipulate a piece of data, the active agent (program) issues an action, referred to as a *procedure*. For example, think of a program that prints the contents of a file. To be printed, the file needs to be stored in memory (or some registers that act as memory). The file is a passive object or a collection of passive objects. To print the file, the program uses a procedure, which we call *print*. The procedure print has usually been written previously to include all the actions required to tell the computer how to print each character in the file. The program invokes or *calls* the procedure *print*. In a procedural paradigm, the object (*file*) and the procedure (*print*) are completely separate entities. The object (*file*) is an independent entity that can receive the *print* action, or some other actions, such as *delete*, *copy*, and so on. To apply any of these actions to the file, we need a procedure to act on the file. The procedure *print* (or *copy* or *delete*) is a separate entity that is written and the program only triggers it.

We need to separate the procedure from its triggering by the program. The program does not define the procedure, it only triggers or calls the procedure. The procedure must already exist.
When we use a procedural high-level language, the program consists of nothing but a lot of procedure calls. Although it is not immediately obvious, even when we use a simple mathematical operator such as the addition operator (+), we are using a procedure call to a procedure that is already written. For example, when we use the expression A + B and expect the expression to add the value of two objects A and B, we are calling the procedure add and passing the name of these two objects to the procedure. The procedure *add* needs two objects to act on. It adds the values of the two objects and returns the result. In other words, the expression A + B is a short cut for add (A, B). The designer of the language has written this procedure and we can call it.

A program in this paradigm is made up of three parts: a part for object creation, a set of procedure calls, and a set of code for each procedure. Some procedures have already been defined in the language itself. By combining this code, the programmer can create new procedures.

**Some procedural languages**
Several high-level imperative (procedural) languages have been developed over the last few decades, such as FORTRAN, COBOL, Pascal, C, and Ada.

**FORTRAN**
**FORTRAN (FORmula TRANslation)**, designed by a group of IBM engineers under the supervision of Jack Backus, became commercially available in 1957. FORTRAN was the first high-level language. FORTRAN has some features that, even after four decades, still make it an ideal language for scientific and engineering applications. These features can be summarized as:
- High-precision arithmetic
- Capability of handling complex numbers
- Exponentiation computation ($a^b$)

**COBOL**
**COBOL (COmmon Business-Oriented Language)** was designed by a group of computer scientists under the direction of Grace Hopper of the US Navy. COBOL had a specific design goal: to be used as a business programming language. The programming needs of the business world can be summarized as follows:
- Fast access to files and databases
- Fast updating of files and databases
- Large amounts of generated reports
- User-friendly formatted output

**Pascal**
**Pascal** was invented by Niklaus Wirth in 1971. Pascal was designed with a specific goal in mind: to teach programming to novices by emphasizing the structured programming approach. Although Pascal became the most popular language in academia, it never attained the same popularity in industry. Todays **procedural languages** owe a lot to this language.

**C**
The **C language** was developed in the early 1970s by Dennis Ritchie at Bell Laboratories. It was originally intended for writing operating systems and system softwaremost of the UNIX operating system is written in C. Later, it became popular among programmers for several reasons:
- C has all the high-level instructions a structured high-level programming language should have.
- C also has some low-level instructions that allow the programmer to access the hardware directly and quickly. This makes it a good language for system programmers.
- C is a very efficient language: its instructions are short.

**Ada**
**Ada** was named after Augusta Ada Byron, the daughter of Lord Byron. It was created for the US Department of Defense (DoD). Ada has three features that make it very popular:
- Ada has high-level instructions like other procedural languages.
- Ada has instructions to allow real-time processing.
- Ada has parallel-processing capabilities.

### 9.3.2 The object-oriented paradigm
The **object-oriented paradigm** deals with *active objects* instead of passive objects. We encounter many active objects in our daily life: a vehicle, an automatic door, a dishwasher, and so on. The actions to be performed on these objects are included in the object: the objects need only to receive the appropriate stimulus from outside to perform one of the actions.

Returning to our example in the procedural paradigm, a file in an object-oriented paradigm can be packed with all the procedurescalled **methods** in the object-oriented paradigmto be performed by the file: printing, copying, deleting, and so on. The program in this paradigm just sends the corresponding request to the object (print, delete, copy, and so on) and the file will be printed, copied, or deleted.
The methods are shared by all objects of the same type, and also for other objects that are inherited from these objects. If the program wants to print File1, it just sends the required stimulus to the active objects and File1 will be printed.
Comparing the procedural paradigm with the object-oriented paradigm, we see that the procedures in the procedural paradigm are independent entities, but the methods in object-oriented paradigm belong to the objects territory.

**Classes**
Objects of the same type (files, for example) need a set of methods that show how an object of this type reacts to stimuli from outside the objects territories. To create these methods, object-oriented languages such as C++, Java, and C# (pronounced C sharp) use a unit called a **class**.

**Methods**
In general, the formats of methods are very similar to the functions used in some procedural languages. Each **method** has its header, its local variables, and its statement. This means that most of the features we discussed for procedural languages are also applied to methods written for an object-oriented program.

**Inheritance**
In the object-oriented paradigm, as in nature, an object can inherit from another object. This concept is called **inheritance**. When a general class is defined, we can define a more specific class that inherits some of the characteristics of the general class, but also has some new characteristics. For example, when an object of the type *GeometricalShapes* is defined, we can define a class called *Rectangles*. Rectangles are geometrical shapes with additional characteristics.

**Polymorphism**
**Polymorphism** means many forms. Polymorphism in the object-oriented paradigm means that we can define several operations with the same name that can do different things in related classes. For example, assume that we define two classes, *Rectangles* and *Circles*, both inherited from the class *GeometricalShapes*. We define two operations both named *area*, one in Rectangles and one in Circles, that calculate the area of a rectangle or a circle. The two operations have the same name but do different things.

**Some object-oriented languages**
Several **object-oriented languages** have been developed. We briefly discuss the characteristics of two: C++ and Java.

**C++**
The **C++ language** was developed by Bjarne Stroustrup at Bell Laboratory as an improvement of the C language. It uses **classes** to define the general characteristics of similar objects and the operations that can be applied to them. Three principles were used in the design of the C++ language: *encapsulation*, *inheritance*, and *polymorphism*.

**Java**
**Java** was developed at Sun Microsystems, Inc. It is based on C and C++, but some features of C++ were removed to make the language more robust. In addition, the language is totally class-oriented. In C++ one can solve a problem without ever defining a class, but in Java every data item belongs to a class.
A program in Java can either be an application or an applet. An application is a complete stand-alone program that can be run independently. An **applet**, on the other hand, is embedded HTML, stored on a server, and run by a browser.
One interesting feature of Java is support for **multithreading**. A thread is a sequence of actions executed one after another. C++ allows only single threading, but Java allows the concurrent execution of several lines of code.

### 9.3.3 The functional paradigm
In the **functional paradigm** a program is considered a mathematical function. In this context, a **function** is a black box that maps a list of inputs to a list of outputs.
For example, *summation* can be considered as a function with $n$ inputs and only one output. The function takes the $n$ inputs, adds them, and creates the sum. A **functional language** does the following:
- Predefines a set of primitive (atomic) functions that can be used by any programmer.
- Allows the programmer to combine primitive functions to create new functions.

For example, we can define a primitive function called *first* that extracts the first element of a list. It may also have a function called *rest* that extracts all the elements except the first. A program can define a function that extracts the third element of a list by combining these two functions.

**Some functional languages**
We briefly discuss LISP and Scheme as examples of functional languages.

**LISP**
**LISP (LISt Programming)** was designed by a team of researchers at MIT in the early 1960s. It is a list-processing programming language in which everything is considered a list.

**Scheme**
The LISP language suffered from a lack of standardization. The de facto standard is the one developed by MIT in the early 1970s called **Scheme**.
The Scheme language defines a set of primitive functions that solves problems. The function name and the list of inputs to the function are enclosed in parentheses. For example, there is a function, car, that extracts the first element of a list. There is a function, called cdr, that extracts the rest of the elements in a list except the first one. In other words, we have:
\`(car 2 3 7 8 11 17 20) -> 2\`
\`(cdr 2 3 7 8 11 17 20) -> 3 7 8 11 17 20\`
Now we can combine these two functions to extract the third element of any list:
\`(car (cdr (cdr list)))\`

### 9.3.4 The declarative paradigm
A **declarative paradigm** uses the principle of logical reasoning to answer queries. It is based on formal logic defined by Greek mathematicians and later developed into *first-order predicate calculus*.
Logical reasoning is based on deduction. Some statements (facts) are given that are assumed to be true, and the logician uses solid rules of logical reasoning to deduce new statements (facts). For example, the famous rule of deduction in logic is:
If (A is B) and (B is C), then (A is C)
Using this rule and the two following facts:
Fact 1: Socrates is a human -> A is B
Fact 2: A human is mortal -> B is C
we can deduce a new fact:
Fact 3: Socrates is mortal -> A is C

One problem associated with **declarative languages** is that a program is specific to a particular domain. This is the reason why declarative programming is limited so far to specific fields such as artificial intelligence.

**Prolog**
One of the famous declarative languages is **Prolog (PROgramming in LOGic)**, developed by A. Colmerauer in France in 1972. A program in Prolog is made up of facts and rules. For example, the previous facts about human beings can be stated as:
\`human (John)\`
\`mortal (human)\`
The user can then ask:
\`?-mortal (John)\`
and the program will respond with *yes*.

## 9.4 COMMON CONCEPTS
In this section we conduct a quick navigation through some procedural languages to find common concepts. Some of these concepts are also available in most object-oriented languages because an object-oriented paradigm uses the procedural paradigm when creating methods.

### 9.4.1 Identifiers
One feature present in all procedural languages, as well as in other languages, is the **identifier**that is, the name of objects. Identifiers allow us to name objects in the program. For example, each piece of data in a computer is stored at a unique address. Identifiers allow us to give data names and let the compiler keep track of where they are physically located.

### 9.4.2 Data types
A **data type** defines a set of values and a set of operations that can be applied to those values. The set of values for each type is known as the *domain* for the type. Most languages define two categories of data types: *simple types* and *composite types*.

**Simple data types**
A **simple type** (sometimes called an *atomic type*, *fundamental type*, *scalar type*, or *built-in type*) is a data type that cannot be broken into smaller data types. Several simple data types have been defined in **imperative languages**:
- An *integer* type is a whole number, that is, a number without a fractional part.
- A *real* type is a number with a fractional part.
- A *character* type is a symbol in the underlying character set used by the language, for example, ASCII or Unicode.
- A *Boolean* type is type with only two values, *true* or *false*.

**Composite data types**
A **composite type** is a set of elements in which each element is a simple type or a composite type. Most languages defines the following composite types:
- An *array* is a set of elements each of the same type.
- A *record* is a set of elements in which the element can be of different types.

### 9.4.3 Variables
**Variables** are names for memory locations. A programmer can use a variable, such as *score*, to store the integer value of a score received in a test. Since a variable holds a data item, it has a type.

**Variable declarations**
Most procedural and object-oriented languages required that the variables be declared before being used. Declaration alerts the computer that a variable with a given name and type will be used in the program.
\`char C;\`
\`int num;\`
\`double result;\`

**Variable initialization**
Most procedural languages allow the initialization of the variables when they are declared. Initialization stores a value in the variable.
\`char C = 'Z';\`
\`int num = 123;\`
\`double result = 256,782;\`

### 9.4.4 Literals
A **literal** is a predetermined value used in a program. For example, in the expression 3.14  r^2, the approximate value of $\\pi$ (pi) is used as a literal. In most programming languages we can have integer, real, character, and Boolean literals. To distinguish the character and string literals from the names of variables, most languages require that the character literals be enclosed in single quotes, such as 'A' and strings to be enclosed in double quotes such as "Anne".

### 9.4.5 Constants
Most programming languages defined **constants**. A constant, like a variable, is a named location that can store a value, but the value cannot be changed after it has been defined at the beginning of the program.
\`const float taxMultiplier = 1.08;\`
\`...\`
\`cost = price * taxMultiplier;\`

### 9.4.6 Input and Output
Almost every program needs to read and/or write data. Most programming languages use a predefined function for input and output.
**Input**: Data is **input** by either a statement or a predefined function. For example, the *scanf* function in C reads data from the keyboard.
**Output**: Data is **output** by either a statement or a predefined function. For example, the *printf* function in C displays a string on the monitor.

### 9.4.7 Expressions
An **expression** is a sequence of operands and operators that reduces to a single value.
**Operator**: An **operator** is a language-specific token that requires an action to be taken. Common operators include arithmetic (+, -, *, /, %), relational (<, <=, >, >=, ==, !=), and logical (!, &&, ||) operators.
**Operand**: An **operand** receives an operators action.

### 9.4.8 Statements
A **statement** causes an action to be performed by the program.
**Assignment statements**: An **assignment statement** assigns a value to a variable. The symbol = is common (e.g., x = 1).
**Compound statements**: A **compound statement** is a unit of code consisting of zero or more statements. It is also known as a block. It allows a group of statements to be treated as a single entity.
**Control statements**: A **control statement** is a program in a procedural language that is a set of statements. Control statements are normally executed one after another. However, sometimes it is necessary to change this sequential order.
- **Selection**: Two-way selection is achieved through the *if-else* statement, multi-way selection through the *switch* (or *case*) statement.
- **Repetition**: Most imperative languages define loops like *while*, *do-while*, and *for*.

### 9.4.9 Subprograms
The idea of **subprograms** is crucial in procedural languages. A subprogram is a program unit that can be written once but called many times. Subprograms make programming more structural.
**Local variables**: Local objects or **local variables** are created each time the subprogram is called and destroyed when control returns from the subprogram.
**Parameters**: Subprograms act on objects. These are referred to as **actual parameters** in the main program and **formal parameters** in the subprogram.
- **Pass by value**: The main program sends the value of the actual parameter to the subprogram. The subprogram receives a copy. It cannot change the original variable in the main program.
- **Pass by reference**: The variable is shared by the main program and the subprogram. The subprogram can change the value of the variable in the main program.
**Returning values**: A subprogram can be designed to return a value or values.
**Implementation**: In C and C++, the subprogram is implemented as a function.

## 9.5 END-CHAPTER MATERIALS
### 9.5.1 Recommended reading
- Cooke, D. A. *Concise Introduction to Computer Languages*, Pacific Grove, CA: Brooks/Cole, 2003
- Tucker, A. and Noonan, R. *Programming Languages: Principles and Paradigms*, Burr Ridge, IL: McGraw-Hill, 2002
- Pratt, T. and Zelkowitz, M. *Programming Languages, Design and Implementation*, Englewood Cliffs, NJ: Prentice-Hall, 2001
- Sebesta, R. *Concepts of Programming Languages*, Boston, MA: Addison-Wesley, 2006

### 9.5.2 Key terms
- actual parameter
- Ada
- applet
- arithmetic operator
- assembler
- assembly language
- assignment statement
- bytecode
- C++ language
- C language
- class
- code generator
- COmmon Business-Oriented Language (COBOL)
- compilation
- compiler
- composite type
- compound statement
- computer language
- constant
- control statement
- data type
- declarative language
- declarative paradigm
- expression
- formal parameter
- FORmula TRANslation (FORTRAN)
- functional language
- functional paradigm
- high-level language
- identifier
- imperative language
- imperative paradigm
- inheritance
- input
- interpretation
- interpreter
- Java
- lexical analyzer
- LISt Programming Language (LISP)
- literal
- local variable
- logical operator
- machine language
- method
- multithreading
- object-oriented language
- object-oriented paradigm
- object program
- operand
- operator
- output
- parameter
- Pascal
- pass by reference
- pass by value
- polymorphism
- procedural paradigm
- Programming in LOGic (PROLOG)
- programming language
- relational operator
- Scheme
- semantic analyzer
- simple type
- source program
- statement
- subprogram
- symbolic language
- syntax
- syntax analyzer
- token
- translator
- variable

### 9.5.3 Summary
- A computer language is a set of predefined words that are combined into a program according to predefined rules (syntax).
- High-level languages are portable to many different computers.
- To run a program on a computer, it needs to be translated into the machine language. Compilation translates the whole source program; interpretation translates line by line.
- Four paradigms: procedural, object-oriented, functional, and declarative.
- Common concepts: identifiers, data types, variables, literals, constants, input/output, expressions, statements, and subprograms.
`,zh:`
# 

 UML  UML 

## 

- 
- 
- 
- 
- 
- 
- 
- 

## 9.1 


### 9.1.1 
******** 0  1  11  11  16  9.1 

** 9.1 **
|  |  |
| :--- | :--- |
| (1FEF)16 | 0001 1111 1110 1111 |
| (240F)16 | 0010 0100 0000 1111 |
| (1FEF)16 | 0001 1111 1110 1111 |
| (241F)16 | 0010 0100 0001 1111 |
| (1040)16 | 0001 0000 0100 0000 |
| (1141)16 | 0001 0001 0100 0001 |
| (3201)16 | 0011 0010 0000 0001 |
| (2422)16 | 0010 0100 0010 0010 |
| (1F42)16 | 0001 1111 0100 0010 |
| (2FFF)16 | 0010 1111 1111 1111 |
| (0000)16 | 0000 0000 0000 0000 |

 0 1

****

**

### 9.1.2 
****** 9.1  9.2 

** 9.2 **
|  |  |
| :--- | :--- |
| LOAD RF Keyboard |  F |
| STORE Number1 RF |  F  Number1 |
| LOAD RF Keyboard |  F |
| STORE Number2 RF |  F  Number2 |
| LOAD R0 Number1 |  Number1  0 |
| LOAD R1 Number2 |  Number2  1 |
| ADDI R2 R0 R1 |  0  1  2 |
| STORE Result R2 |  2  Result |
| LOAD RF Result |  Result  F |
| STORE Monitor RF |  F  |
| HALT |  |

****

### 9.1.3 
****

****

 BASICCOBOLPascalAdaCC++  Java 9-1  C++ 

** 9-1 C++ **
\`\`\`cpp
/* 
   
   
*/
#include <iostream>
using namespace std;
int main ()
{
    // 
    int number1;
    int number2;
    int result;
    // 
    cin >> number1;
    cin >> number2;
    result = number1 + number2;
    cout << result;
    return 0;
} // main
\`\`\`

## 9.2 
****************

### 9.2.1  (Compilation)
****

### 9.2.2  (Interpretation)
****Java  Java 

****
Java  BASIC  APL**

****
 Java Java Java  Java ** (bytecode)** Java  JVM JVM  JVM  Java 

### 9.2.3 


** (Lexical analyzer)**
****** (tokens)**  w, h, i, l, e  CC++  Java  *while*

** (Syntax analyzer)**
**** 'x', '=', '0'  C  'x = 0'

** (Semantic analyzer)**
********

** (Code generator)**
****

## 9.3 
**********

### 9.3.1 
************

****** *print* print ** *print****print*** *print*  *delete**copy*  *print* *copy*  *delete*


 (+) A + B  A  B  add  *add*  A + B  add (A, B) 



****
 FORTRANCOBOLPascalC  Ada

**FORTRAN**
**FORTRAN (FORmula TRANslation)**  Jack Backus  IBM  1957 FORTRAN FORTRAN 
- 
- 
-  ($a^b$)

**COBOL**
**COBOL (COmmon Business-Oriented Language)**  Grace Hopper COBOL 
- 
- 
- 
- 

**Pascal**
**Pascal**  Niklaus Wirth  1971 Pascal  Pascal ****

**C**
**C ** Dennis Ritchie  1970  UNIX  C 
- C 
- C 
- C 

**Ada**
**Ada**  Lord Byron  Augusta Ada Byron  (DoD) Ada 
- Ada 
- Ada 
- Ada 

### 9.3.2 
******

** (methods)**
 File1File1 


** (Classes)**
C++Java  C# 'C sharp'****

** (Methods)**
****

** (Inheritance)**
**** *GeometricalShapes* *Rectangles*

** (Polymorphism)**
**** *Rectangles*  *Circles* *GeometricalShapes* *area* Rectangles  Circles 

****
****C++  Java

**C++**
**C++ ** Bjarne Stroustrup  C ****C++ ******

**Java**
**Java**  Sun Microsystems, Inc.  C  C++ C++  C++  Java 
Java ** (applet)**  HTML
Java ****C++  Java 

### 9.3.3 
********
** $n$  $n$ ****
- 
- 

 *first*  *rest* 

****
 LISP  Scheme 

**LISP**
**LISP (LISt Programming)**  1960 

**Scheme**
LISP  1970  **Scheme**
Scheme  car cdr
\`(car 2 3 7 8 11 17 20) -> 2\`
\`(cdr 2 3 7 8 11 17 20) -> 3 7 8 11 17 20\`

\`(car (cdr (cdr list)))\`

### 9.3.4 
******

 (A  B)  (B  C) (A  C)

 1 -> A  B
 2 -> B  C

 3 -> A  C

****

**Prolog**
 **Prolog (PROgramming in LOGic)** A. Colmerauer  1972 Prolog 
\`human (John)\`
\`mortal (human)\`

\`?-mortal (John)\`
 *yes*

## 9.4 


### 9.4.1  (Identifiers)
****

### 9.4.2  (Data types)
**********

****
****************
- * (integer)* 
- * (real)* 
- * (character)*  ASCII  Unicode
- * (Boolean)* * (true)*  * (false)* 

****
****
- * (array)* 
- * (record)* 

### 9.4.3  (Variables)
**** *score*

****

\`char C;\`
\`int num;\`
\`double result;\`

****

\`char C = 'Z';\`
\`int num = 123;\`
\`double result = 256,782;\`

### 9.4.4  (Literals)
**** 3.14  r^2 $\\pi$ (pi)  'A' "Anne"

### 9.4.5  (Constants)
****
\`const float taxMultiplier = 1.08;\`
\`...\`
\`cost = price * taxMultiplier;\`

### 9.4.6 
/
** (Input)******C  *scanf* 
** (Output)******C  *printf* 

### 9.4.7  (Expressions)
****
** (Operator)****** (+, -, *, /, %) (<, <=, >, >=, ==, !=)  (!, &&, ||) 
** (Operand)******

### 9.4.8  (Statements)
****
******** = x = 1
********
********
- ** (Selection)** *if-else*  *switch* *case*
- ** (Repetition)** *while**do-while*  *for* 

### 9.4.9  (Subprograms)
****
********
************
- ** (Pass by value)**
- ** (Pass by reference)**
****
**** C  C++ 

## 9.5 
### 9.5.1 
- Cooke, D. A. *Concise Introduction to Computer Languages*, Pacific Grove, CA: Brooks/Cole, 2003
- Tucker, A. and Noonan, R. *Programming Languages: Principles and Paradigms*, Burr Ridge, IL: McGraw-Hill, 2002
- Pratt, T. and Zelkowitz, M. *Programming Languages, Design and Implementation*, Englewood Cliffs, NJ: Prentice-Hall, 2001
- Sebesta, R. *Concepts of Programming Languages*, Boston, MA: Addison-Wesley, 2006

### 9.5.2 
-  (actual parameter)
- Ada
-  (applet)
-  (arithmetic operator)
-  (assembler)
-  (assembly language)
-  (assignment statement)
-  (bytecode)
- C++  (C++ language)
- C  (C language)
-  (class)
-  (code generator)
-  (COBOL)
-  (compilation)
-  (compiler)
-  (composite type)
-  (compound statement)
-  (computer language)
-  (constant)
-  (control statement)
-  (data type)
-  (declarative language)
-  (declarative paradigm)
-  (expression)
-  (formal parameter)
-  (FORTRAN)
-  (functional language)
-  (functional paradigm)
-  (high-level language)
-  (identifier)
-  (imperative language)
-  (imperative paradigm)
-  (inheritance)
-  (input)
-  (interpretation)
-  (interpreter)
- Java
-  (lexical analyzer)
-  (LISP)
-  (literal)
-  (local variable)
-  (logical operator)
-  (machine language)
-  (method)
-  (multithreading)
-  (object-oriented language)
-  (object-oriented paradigm)
-  (object program)
-  (operand)
-  (operator)
-  (output)
-  (parameter)
- Pascal
-  (pass by reference)
-  (pass by value)
-  (polymorphism)
-  (procedural paradigm)
-  (PROLOG)
-  (programming language)
-  (relational operator)
- Scheme
-  (semantic analyzer)
-  (simple type)
-  (source program)
-  (statement)
-  (subprogram)
-  (symbolic language)
-  (syntax)
-  (syntax analyzer)
-  (token)
-  (translator)
-  (variable)

### 9.5.3 
- 
- 
- 
- 
- /
`},pN={en:`
# Chapter 10: Software Engineering

In this chapter we introduce the concept of software engineering. We begin with the idea of the software lifecycle. We then show two models used for the development process: the waterfall model and the incremental model. A brief discussion of four phases in the development process follows.

## Objectives
After studying this chapter, the student should be able to:
- Understand the concept of the software lifecycle in software engineering.
- Describe two major types of development process, the waterfall and incremental models.
- Understand the analysis phase and describe two separate approaches in the analysis phase: procedure-oriented analysis and object-oriented analysis.
- Understand the design phase and describe two separate approaches in the design phase: procedure-oriented design and object-oriented design.
- Describe the implementation phase and recognize the quality issues in this phase.
- Describe the testing phase and distinguish between glass-box testing and black-box testing.
- Recognize the importance of documentation in software engineering and distinguish between user documentation, system documentation, and technical documentation.

**Software engineering** is the establishment and use of sound engineering methods and principles to obtain reliable software. This definition, taken from the first international conference on software engineering in 1969, was proposed 30 years after the first computer was built.

## 10.1 THE SOFTWARE LIFECYCLE
A fundamental concept in **software engineering** is the **software lifecycle**. Software, like many other products, goes through a cycle of repeating phases (Figure 10.1).

Software is first developed by a group of developers. Usually it is in use for a while before modifications are necessary. Modification is often needed due to errors found in the software, changes in the rules or laws governing its design, or changes in the company itself. The software therefore needs to be modified before further use. These two steps, use and modify, continue until the software becomes obsolete. By obsolete, we mean that the software loses its validity because of inefficiency, obsolescence of the language, major changes in user requirements, or other factors.

### 10.1.1 Development process models
Although software engineering involves all three processes (development, use, modification), in this chapter we discuss only the **development process**. The development process in the software lifecycle involves four phases: *analysis*, *design*, *implementation*, and *testing*. There are several models for the development process. We discuss the two most common here: the waterfall model and the incremental model.

**The waterfall model**
One very popular model for the software development process is known as the **waterfall model** (Figure 10.2). In this model, the development process flows in only one direction. This means that a phase cannot be started until the previous phase is completed.

For example, the analysis phase of the whole project should be completed before its design phase is started. The entire design phase should be finished before the implementation phase can be started.
There are advantages and disadvantages to the waterfall model. One advantage is that each phase is completed before the next phase starts. The group that works on the design phase, for example, knows exactly what to do because they have the complete results of the analysis phase. The testing phase can test the whole system because the entire system under development is ready. However, a disadvantage of the waterfall model is the difficulty in locating a problem: if there is a problem in part of the process, the entire process must be checked.

**The incremental model**
In the **incremental model**, software is developed in a series of steps. The developers first complete a simplified version of the whole system. This version represents the entire system but does not include the details. Figure 10.3 shows the incremental model concept.

In the second version, more details are added, while some are left unfinished, and the system is tested again. If there is a problem, the developers know that the problem is with the new functionality. They do not add more functionality until the existing system works properly. This process continues until all required functionality has been added.

## 10.2 ANALYSIS PHASE
The development process starts with the **analysis phase**. This phase results in a specification document that shows *what* the software will do without specifying *how* it will be done. The analysis phase can use two separate approaches, depending on whether the implementation phase is done using a procedural programming language or an object-oriented language. We briefly discuss both in this section.

### 10.2.1 Procedure-oriented analysis
**Procedure-oriented analysis**also called *structured analysis* or *classical analysis*is the analysis process used if the system implementation phase will use a procedural language. The specification in this case may use several modeling tools, but we discuss only a few of them here.

**Data flow diagrams**
**Data flow diagrams** show the movement of data in the system. They use four symbols: a square box shows the source or destination of data, a rectangle with rounded corners shows the process (the action to be performed on the data), an open-ended rectangle shows where data is stored, and arrows show the flow of data.
Figure 10.4 shows a simplified version of a booking system in a small hotel that accepts reservations from potential guests through the Internet and confirms or rejects the reservation based on available vacancies. One of the processes in this diagram (handle reservation) checks the availability using the reservation file and accepts or rejects a reservation. If the reservation is accepted, it will be recorded in the reservation file.

**Entityrelationship diagrams**
Another modeling tool used during the analysis phase is the **entityrelationship diagram**. Since this diagram is also used in database design, we discuss it in Chapter 14.

**State diagrams**
**State diagrams** (see Appendix B) provide another useful tool that is normally used when the state of the entity in the system will change in response to events. As an example of a state diagram, we show the operation of a one-passenger elevator. When a floor button is pushed, the elevator moves in the requested direction. It does not respond to any other request until it reach its destination.
Figure 10.5 shows a state diagram for this old-style elevator. The elevator can be in one of three states: moving up, moving down, or parked. Each of these states is represented by a rounded rectangle in the state diagram. When the elevator is in the parked state, it accepts a request. If the requested floor is the same as the current floor, the request is ignoredthe elevator remains in the parked state. If the requested floor is above the current floor, the elevator starts moving up. If the requested floor is lower than the requested floor, the elevator starts moving down. Once moving, the elevator remains in one moving state until it reaches the requested floor.

### 10.2.2 Object-oriented analysis
**Object-oriented analysis** is the analysis process used if the implementation uses an object-oriented language. The specification document in this case may use several tools, but we discuss only a few of them here.

**Use-case diagrams**
A **use-case diagram** gives the users view of a system: it shows how the user communicates with the system. A use-case diagram uses four components: system, use cases, actors, and relationships. A system, shown by a rectangle, performs a function. The actions in the system are shown by use cases, which are denoted by rounded rectangles. An actor is someone or something that uses the system. Although actors are represented by stick figures, they do not necessarily represent human beings.
Figure 10.6 shows the use-case diagram for the old-style elevator for which we gave a state diagram in Figure 10.5. The system in this figure is the elevator. The only actor is the user of the elevator. There are two uses cases: pressing the elevator button (in the hall of each floor) and pressing the floor button inside the elevator. The elevator has only one button on each floor that gives the signal to the elevator to move to that floor.

**Class diagrams**
The next step in analysis is to create a **class diagram** for the system. For example, we can create a class diagram for our old-style elevator. To do so, we need to think about the entities involved in the system. In the elevator system we have two classes of entities: the buttons and the elevator itself. At first glance, therefore, it looks as if we have two classes: a button class and an elevator class. However, we have two types of buttons: the elevator buttons in the hallways and the floor buttons inside the elevator. It seems then that we can have a button class and two classes that inherit from the button class: an elevator button class and a floor button class. The first class diagram that we can create for the elevator problem is therefore that shown in Figure 10.7.
Note that the elevator button class and the floor button class are subclasses of the button class. However, the relationship between the elevator class and the two button classes (elevator button and floor button) is a one-to-many relation (see Appendix B). The class diagram for the elevator system can of course be extended, but we leave this to books on software engineering.

**State chart**
After the class diagram is finalized, a **state chart** can be prepared for each class in the class diagram. A state chart in object-oriented analysis plays the same role as the state diagram in procedure-oriented analysis. This means that for the class diagram of Figure 10.7, we need to have a four-state chart.

## 10.3 DESIGN PHASE
The **design phase** defines *how* the system will accomplish *what* was defined in the analysis phase. In the design phase, all components of the system are defined.

### 10.3.1 Procedure-oriented design
In **procedure-oriented design** we have both procedures and data to design. We discuss a category of design methods that concentrate on procedures. In procedure-oriented design, the whole system is divided into a set of procedure or modules.

**Structure charts**
A common tool for illustrating the relations between modules in procedure-oriented design is a **structure chart**. For example, the elevator system whose state diagram is shown in Figure 10.5 can be designed as a set of modules shown in the structure chart in Figure 10.8. Structure charts are discussed in Appendix D.

**Modularity**
**Modularity** means breaking a large project into smaller parts that can be understood and handled easily. In other words, modularity means dividing a large task into small tasks that can communicate with each other. The structure chart discussed in the previous section shows the modularity in the elevator system. There are two main concerns when a system is divided into modules: *coupling* and *cohesion*.

**Coupling**
**Coupling** is a measure of how tightly two modules are bound to each other. The more tightly coupled, the less independent they are. Since the objective is to make modules as independent as possible, we want them to be loosely coupled. There are at least three reasons why loose coupling is desirable.
- Loosely coupled modules are more likely to be reusable.
- Loosely coupled modules are less likely to create errors in related modules.
- When the system needs to be modified, loosely coupled modules allow us to modify only modules that need to be changed without affecting modules that do not need to change.

**Coupling between modules in a software system must be minimized.**

**Cohesion**
Another issue in modularity is cohesion. **Cohesion** is a measure of how closely the modules in a system are related. We need to have maximum possible cohesion between modules in a software system.

**Cohesion between modules in a software system must be maximized.**

### 10.3.2 Object-oriented design
In **object-oriented design**, the design phase continues by elaborating the details of classes. As we mentioned in Chapter 9, a class is made of a set of variables (attributes) and a set of methods (functions). The object-oriented design lists the details of these **attributes** and **methods**. Figure 10.9 shows an example of the details of our four classes used in the design of the old-style elevator.

## 10.4 IMPLEMENTATION PHASE
In the waterfall model, after the design phase is completed, the **implementation phase** can start. In this phase the programmers write the code for the modules in procedure-oriented design, or write the program units to implement classes in object-oriented design. There are several issues to mention in each case.

### 10.4.1 Choice of language
In a procedure-oriented development, the project team needs to choose a language or a set of languages from among the procedural languages discussed in Chapter 9. Although some languages like C++ are considered to be both a procedureand an object-oriented languagenormally an implementation uses a purely procedural language such as C. In object-oriented cases, both C++ and Java are common.

### 10.4.2 Software quality
The quality of software created at the implementation phase is a very important issue. A software system of high quality is one that satisfies the users requirements, meets the operating standards of the organization, and runs efficiently on the hardware for which it was developed. However, if we want to achieve a software system of high quality, we must be able to define some attributes of quality.

**Software quality factors**
**Software quality** can be divided into three broad measures: *operability*, *maintainability*, and *transferability*. Each of these measures can be further broken down as shown in Figure 10.10.

**Operability**
**Operability** refers to the basic operation of a system. Several measures can be mentioned for operability, as shown in Figure 10.10: *accuracy, efficiency, reliability, security, timeliness,* and *usability*.
- A system that is not *accurate* is worse than no system at all. Any system that is developed, therefore, must be thoroughly tested both by a systems test engineer and the user. *Accuracy* can be measured by such metrics as mean time between failures, number of bugs per thousand lines of code, and number of user requests for change.
- *Efficiency* is a subjective term. In some cases, the user will specify a performance standard, such as a real-time response that must be received within 1 second 95 per cent of the time. This is certainly measurable.
- *Reliability* is really the sum of the other factors. If users count on the system to get their job done and are confident in it, then it is most likely reliable. On the other hand, some measures speak directly to a systems reliability, most notably, mean time between failures.
- How *secure* a system is refers to how easy it is for unauthorized people to access the systems data. Although this is a subjective area, there are checklists that assist in assessing the systems security. For example, does the system have and require passwords to identify users?
- *Timeliness* in software engineering can mean several different things. Does the system deliver its output in a timely fashion? For online systems, does the response time satisfy the users requirements?
- *Usability* is another area that is highly subjective. The best measure of usability is to watch the users and see how they are using the system. User interviews will often reveal problems with the usability of a system.

**Maintainability**
**Maintainability** refers to the ease with which a system can be kept up to date and running correctly. Many systems require regular changes, not because they were poorly implemented, but because of changes in external factors. For example, the payroll system for a company might have to be changed often to meet changes in government laws and regulations.
- *Changeability* is a subjective factor. Experienced project leaders, however, are able to estimate how long a requested change will take to implement. If too long, it may indicate that the system is difficult to change. This is especially true of older systems. There are software measurement tools in the field today that will estimate a programs complexity and structure.
- One measure of *correctability* is *mean time to recovery*, which is the time it takes to get a program back into operation after it fails. Although this is a reactive definition, there are currently no predictors of how long it will take to correct a program when it fails.
- Users are constantly requesting changes to systems. *Flexibility* is a qualitative attribute that attempts to measure how easy it is to make these changes. If a program needs to be completely rewritten to effect a change, it is not flexible.
- We might think that *testability* is a highly subjective area, but test engineers have checklists of factors that can assess a programs testability.

**Transferability**
**Transferability** refers to the ability to move data and/or a system from one platform to another and to reuse code. In many situations this is not an important factor. On the other hand, if we are writing generalized software, it can be critical.
- If modules are written so that they can be reused in other systems, then they have high levels of *reusability*. Good programmers build libraries of functions that they can reuse for solving similar problems.
- *Interoperability* is the capability of sending data to other systems. In todays highly integrated systems, it is a desirable attribute. In fact, it has become so important that operating systems now support the ability to move data between systems, such as between a word processor and a spreadsheet.
- *Portability* is the ability to move software from one hardware platform to another.

## 10.5 TESTING PHASE
The goal of the **testing phase** is to find errors, which means that a good testing strategy is the one that finds most errors. There are two types of testing: *glass-box* and *black-box* (Figure 10.11).

### 10.5.1 Glass-box testing
**Glass-box testing** (or **white-box testing**) is based on knowing the internal structure of the software. The testing goal is to check to determine whether all components of the software do what they are designed to do. Glass-box testing assumes that the tester knows everything about the software. In this case, the software is like a glass box in which everything inside the box is visible. Glass-box testing is done by the software engineer or a dedicated team. Glass-box testing that uses the structure of the software is required to guarantee that at least the following four criteria are met:
- All independent paths in every module are tested at least once.
- All the decision constructs (two-way and multiway) are tested on each branch.
- Each loop construct is tested.
- All data structures are tested.
Several testing methodologies have been designed in the past. We briefly discuss two of them: *basis path* testing and *control structure* testing.

**Basis path testing**
**Basis path testing** was proposed by Tom McCabe. This method creates a set of test cases that executes *every statement* in the software at least once.

**Basis path testing is a method in which each statement in the software is executed at least once.**

Basis path testing uses *graph theory* (see Chapter 12) and *cyclomatic complexity* to find the independent paths that must be followed to guarantee that each statement is executed at least once.

**Control structure testing**
**Control structure testing** is more comprehensive than basis path testing and includes it. This method uses different categories of test that are briefly described below.
- **Condition testing**: Condition testing applies to any condition expression in the module. A *simple condition* is a relational expression, while a *compound condition* is a combination of simple conditions and logical operators (see Chapter 9). Condition testing is designed to check whether all conditions are set correctly.
- **Data flow testing**: Data flow testing is based on the flow of data through the module. This type of testing selects test cases that involve checking the value of variables when they are used on the left side of the assignment statement.
- **Loop testing**: Loop testing uses test cases to check the validity of loops. All types of loops (*while*, *do*, and *for*) are carefully tested.

### 10.5.2 Black-box testing
**Black-box testing** gets its name from the concept of testing software without knowing what is inside it and without knowing how it works. In other words, the software is like a black box into which the tester cannot see. Black-box testing tests the functionality of the software in terms of what the software is supposed to accomplish, such as its inputs and outputs. Several methods are used in black-box testing, discussed below.

**Exhaustive testing**
The best black-box test method is to test the software for all possible values in the input domain. However, in complex software the input domain is so huge that it is often impractical to do so.

**Random testing**
In random testing, a subset of values in the input domain is selected for testing. It is very important that the subset be chosen in such a way that the values are distributed over the domain input. The use of random number generators can be very helpful in this case.

**Boundary-value testing**
Errors often happen when boundary values are encountered. For example, if a module defines that one of its inputs must be greater than or equal to 100, it is very important that module be tested for the boundary value 100. If the module fails at this boundary value, it is possible that some condition in the modules code such as x > 100 is written as x >= 100.

## 10.6 DOCUMENTATION
For software to be used properly and maintained efficiently, documentation is needed. Usually, three separate sets of documentation are prepared for software: user documentation, system documentation, and technical documentation. However, note that documentation is an ongoing process. If the software has problems after release, they must be documented too. If the software is modified, all modifications and their relationship to the original package must also be documented. Documentation only stops when the package becomes obsolete.

**Documentation is an ongoing process.**

### 10.6.1 User documentation
To run the software system properly, the users need documentation, traditionally called a *user guide*, that shows how to use the software step by step. User guides usually contain a tutorial section to guide the user through each feature of the software.
A good user guide can be a very powerful marketing tool: the importance of user documentation in marketing cannot be overemphasized. User guides should be written for both the novice and the expert users, and a software system with good user documentation will definitely increase sales.

### 10.6.2 System documentation
**System documentation** defines the software itself. It should be written so that the software can be maintained and modified by people other than the original developers. System documentation should exist for all four phases of system development.
In the analysis phase, the information collected should be carefully documented. In addition, the analysts should define the sources of information. The requirements and methods chosen in this phase must be clearly stated with the rationale behind them.
In the design phase, the tools used in the final copy must be documented. For example, if a chart undergoes several changes, the final copy of the chart should be documented with complete explanations.
In the implementation phase, every module of the code should be documented. In addition, the code should be self-documenting as far as possible using comments and descriptive headers.
Finally, the developers must carefully document the testing phase. Each type of test applied to the final product should be mentioned along with its result. Even unfavorable results and the data that produced them must be documented.

### 10.6.3 Technical documentation
**Technical documentation** describe the installation and the servicing of the software system. Installation documentation defines how the software should be installed on each computer, for example, servers and clients. Service documentation defines how the system should be maintained and updated if necessary.

## 10.7 END-CHAPTER MATERIALS
### 10.7.1 Recommended reading
- Braude, E. *Software Engineering  An Object-Oriented Perspective*, New York: Wiley, 2001
- Gustafson, D. *Software Engineering*, New York: McGraw-Hill, 2002
- Lethbridge, T. and Laganiere, R. *Object-Oriented Software Engineering*, New York: McGraw-Hill, 2005
- Pressman, R. *Software Engineering: A Practitioners Approach*, New York: McGraw-Hill, 2005
- Schach, S. *Object-Oriented and Classical Software Engineering*, New York: McGraw-Hill, 2007

### 10.7.2 Key terms
- analysis phase
- attribute
- basis path testing
- black-box testing
- class diagram
- cohesion
- control structure testing
- coupling
- data flow diagram
- design phase
- development process
- entityrelationship diagram
- glass-box testing
- implementation phase
- incremental model
- maintainability
- modularity
- object-oriented analysis
- object-oriented design
- operability
- procedure-oriented analysis
- procedure-oriented design
- software engineering
- software lifecycle
- software quality
- state chart
- state diagram
- structure chart
- technical documentation
- testability
- testing phase
- transferability
- use-case diagram
- waterfall model
- white-box testing

### 10.7.3 Summary
- The software lifecycle is a fundamental concept in software engineering. Software, like many other products, goes through a cycle of repeating phases.
- The development process in the software lifecycle involves four phases: analysis, design, implementation, and testing. Several models have been used in relation to these phases. We discussed the two most common: the waterfall model and the incremental model.
- The development process starts with the analysis phase. The analyst prepares a specification document that shows what the software will do without specifying how it will be done. The analysis phase can be done in two ways: procedure-oriented analysis and object-oriented analysis.
- The design phase defines how the system will accomplish what was defined in the analysis phase. In procedure-oriented design, the whole project is divided into a set of procedure or modules. In object-oriented design, the design phase continues by elaborating the details of classes.
- Modularity means breaking a large project into smaller parts that can be understood and handled easily. Two issues are important when a system is divided into modules: coupling and cohesion. Coupling is a measure of how tightly two modules are bound to each other. Coupling between modules in a software system must be minimized. Cohesion is a measure of how closely the modules in a system are related. Cohesion between modules in a software system should be maximized.
- In the implementation phase, programmers write the code for the modules in procedure-oriented design, or write the program units to implement classes in the object-oriented design.
- The quality of software is important. Software quality can be divided into three broad measures: operability, maintainability, and transferability.
- The goal of the testing phase is to find errors. There are two types of testing: glass-box and black-box. Glass-box testing (or white-box testing) is based on knowing the internal structure of the software. Glass-box testing assumes that the tester knows everything. Black-box testing means testing the software without knowing what is inside it and without knowing how it works.

## 10.8 PRACTICE SET
### 10.8.1 Quizzes
A set of interactive quizzes for this chapter can be found on the books website. It is strongly recommended that the student takes the quizzes to check his/her understanding of the materials before continuing with the practice set.

### 10.8.2 Review questions
1. Define software lifecycle.
2. Distinguish between the waterfall model and the incremental development models.
3. List the four phases in the development process.
4. Define the purpose of the analysis phase and describe two trends in this phase.
5. Define the purpose of the design phase and describe two trends in this phase.
6. Describe modularity and mention two issues related to modularity.
7. Distinguish between coupling and cohesion.
8. Define the purpose of the implementation phase and describe the issue of quality in this phase.
9. Define the purpose of the testing phase and list two categories of testing.
10. Distinguish between glass-box testing and black-box testing.

### 10.8.3 Problems
1. In Chapter 9 we explained that the use of constant values are preferred to literals. What it the effect of this preference on the software lifecycle?
2. In Chapter 9 we showed that communication between two modules can take place either by pass-by-value or pass-by-reference. Which method provides less coupling between the two modules?
3. In Chapter 9 we showed that communication between two modules can take place either by pass-by-value or pass-by-reference. Which method provides more cohesion between the two modules?
4. Draw a use-case diagram for a simple library.
5. Draw a use-case diagram for a small grocery store.
6. Show the data flow diagram for a simple mathematical formula $x + y$.
7. Show the data flow diagram for a simple mathematical formula $x \\times y + z \\times t$.
8. Show the data flow diagram for a library.
9. Show the data flow diagram for a small groceries store.
10. Create a structure chart for Problem P10-8.
11. Create a structure chart for Problem P10-9.
12. Show a state diagram for a stack of fixed capacity (see Chapter 12).
13. Show a state diagram for a queue of fixed capacity (see Chapter 12).
14. Create a class diagram for a library.
15. Create a class diagram for a small grocery store.
16. Show the details of classes in Problem P10-14.
17. Show the details of classes in Problem P10-15.
18. The input data to a program is made up of a combination of three integers in the range 1000 to 1999 (inclusive). Find the number of exhaustive tests to test all combinations of these numbers.
19. List the boundary-value tests required for the Problem P10-18.
20. A random number generator creates a number between 0 and 0.999. How can this random number generator be used to do random testing for the system described in Problem P10-18.
`,zh:`
# 



## 

- 
- 
- 
- 
- 
- 
- 

**** 1969  30 

## 10.1 
******** 10.1



### 10.1.1 
************

****
**** 10.2




****
**** 10.3 



## 10.2 
********

### 10.2.1 
********

****
****
 10.4 

****
**** 14 

****
**** B
 10.5 

### 10.2.2 
****

****
****
 10.6  10.5 

****
**** 10.7 
 B

** (State chart)**
**** 10.7 

## 10.3 
********

### 10.3.1 
****

****
**** 10.5  10.8  D 

****
********

** (Coupling)**
****
- 
- 
- 

****

** (Cohesion)**
****

****

### 10.3.2 
**** 9 ******** 10.9 

## 10.4 
****

### 10.4.1 
 9  C++  CC++  Java 

### 10.4.2 


****
********** 10.10 

** (Operability)**
**** 10.10 ****
- ****
- ** 95%  1 
- **
- **
- **
- **

** (Maintainability)**
****
- **
- ****
- **
- **

** (Transferability)**
****/
- **
- **
- **

## 10.5 
******** 10.11

### 10.5.1 
********
- 
- 
- 
- 
****

****
**** Tom McCabe **

****

** 12 **

****
****
- ******** 9 
- ****
- *****while**do*  *for*

### 10.5.2 
****

****


****


****
 100 100  x > 100 x >= 100

## 10.6 


****

### 10.6.1 
**


### 10.6.2 
****





### 10.6.3 
****

## 10.7 
### 10.7.1 
- Braude, E. *Software Engineering  An Object-Oriented Perspective*, New York: Wiley, 2001
- Gustafson, D. *Software Engineering*, New York: McGraw-Hill, 2002
- Lethbridge, T. and Laganiere, R. *Object-Oriented Software Engineering*, New York: McGraw-Hill, 2005
- Pressman, R. *Software Engineering: A Practitioners Approach*, New York: McGraw-Hill, 2005
- Schach, S. *Object-Oriented and Classical Software Engineering*, New York: McGraw-Hill, 2007

### 10.7.2 
-  (analysis phase)
-  (attribute)
-  (basis path testing)
-  (black-box testing)
-  (class diagram)
-  (cohesion)
-  (control structure testing)
-  (coupling)
-  (data flow diagram)
-  (design phase)
-  (development process)
-  (entityrelationship diagram)
-  (glass-box testing)
-  (implementation phase)
-  (incremental model)
-  (maintainability)
-  (modularity)
-  (object-oriented analysis)
-  (object-oriented design)
-  (operability)
-  (procedure-oriented analysis)
-  (procedure-oriented design)
-  (software engineering)
-  (software lifecycle)
-  (software quality)
-  (state chart)
-  (state diagram)
-  (structure chart)
-  (technical documentation)
-  (testability)
-  (testing phase)
-  (transferability)
-  (use-case diagram)
-  (waterfall model)
-  (white-box testing)

### 10.7.3 
- 
- 
- 
- 
- 
- 
- 
- 

## 10.8 
### 10.8.1 
/

### 10.8.2 
1. 
2. 
3. 
4. 
5. 
6. 
7. 
8. 
9. 
10. 

### 10.8.3 
1.  9 
2.  9 
3.  9 
4. 
5. 
6.  $x + y$ 
7.  $x \\times y + z \\times t$ 
8. 
9. 
10.  P10-8 
11.  P10-9 
12.  12 
13.  12 
14. 
15. 
16.  P10-14 
17.  P10-15 
18.  1000  1999
19.  P10-18 
20.  0  0.999  P10-18 
`},fN={en:`
# Chapter 11: Data Structure

In the preceding chapters, we used variables that store a single entity. Although single variables are used extensively in programming languages, they cannot be used to solve complex problems efficiently. In this chapter, we introduce data structures. This chapter is a prelude to the next chapter, in which we introduce abstract data types (ADTs).

A **data structure** uses a collection of related variables that can be accessed individually or as a whole. In other words, a data structure represents a set of data items that share a specific relationship. We discuss three data structures in this chapter: *arrays*, *records*, and *linked lists*. Most programming languages have an implicit implementation of the first two. The third, however, is simulated using pointers and records.

## Objectives
After studying this chapter, the student should be able to:
- Define a data structure.
- Define an array as a data structure and how it is used to store a list of data items.
- Distinguish between the name of an array and the names of the elements in an array.
- Describe operations defined for an array.
- Define a record as a data structure and how it is used to store attributes belonging to a single data element.
- Distinguish between the name of a record and the names of its fields.
- Define a linked list as a data structure and how it is implemented using pointers.
- Describe operations defined for a linked list.
- Compare and contrast arrays, records, and linked lists.
- Define the applications of arrays, records, and linked lists.

## 11.1 ARRAYS
Imagine that we have 100 scores. We need to read them, process them, and print them. We must also keep these 100 scores in memory for the duration of the program. We can define a hundred variables, each with a different name, as shown in Figure 11.1.

But having 100 different names creates other problems. We need 100 references to read them, 100 references to process them, and 100 references to write them. Figure 11.2 shows a diagram that illustrates this problem.

The number of instructions we need to handle even this relatively small number of scores is unacceptable. To process large amounts of data, we need a data structure such as an array.

An **array** is a sequenced collection of elements, of the same data type. We can refer to the elements in the array as the first element, the second element, and so forth until we get to the last element. If we were to put our 100 scores into an array, we could designate the elements as scores[1], scores[2], and so on. The **index** indicates the ordinal number of the element, counting from the beginning of the array. The elements of the array are individually addressed through their subscripts (Figure 11.3). The array as a whole has a name, *scores*, but each score can be accessed individually using its subscript.

We can use loops to read and write the elements in an array. We can also use loops to process elements. Now it does not matter if there are 100, 1000, or 10000 elements to be processedloops make it easy to handle them all. We can use an integer variable to control the loop, and remain in the loop as long as the value of this variable is less than the total number of elements in the array (Figure 11.4).

We have used indexes that start from 1; some modern languages such as C, C++, and Java start indexes from 0.

> **Example 11.1**
> Compare the number of instructions needed to handle 100 individual elements in Figure 11.2 and the array with 100 in Figure 11.4. Assume that processing each score needs only one instruction.
>
> **Solution**
> - In the first case, we need 100 instructions to read, 100 instructions to write, and 100 instructions to process. The total is 300 instructions.
> - In the second case, we have three loops. In each loop we have two instructions, giving a total of six instructions. However, we also need three instructions for initializing the index and three instructions to check the value of the index. In total, we have 12 instructions.

> **Example 11.2**
> The number of cycles (fetch, decode, and execute phases) the computer needs to perform is not reduced if we use an array. The number of cycles is actually increased, because we have the extra overhead of initializing, incrementing, and testing the value of the index. But our concern is not the number of cycles: it is the number of lines we need to write the program.

> **Example 11.3**
> In computer science, one of the big issues is the reusability of programsfor example, how much needs to be changed if the number of data items is changed. Assume we have written two programs to process the scores as shown in Figure 11.2 and Figure 11.4. If the number of scores changes from 100 to 1000, how many changes do we need to make in each program?
> In the first program we need to add 3  900 = 2700 instructions. In the second program, we only need to change three conditions (I > 100 to I > 1000). We can actually modify the diagram in Figure 11.4 to reduce the number of changes to one.

### 11.1.1 Array name versus element name
In an array we have two types of identifiers: the name of the array and the name of each individual element. The name of the array is the name of the whole structure, while the name of an element allows us to refer to that element. In the array of Figure 11.3, the name of the array is *scores* and the name of each element is the name of the array followed by the index, for example, scores[1], scores[2], and so on. In this chapter, we mostly need the names of the elements, but in some languages, such as C, we also need to use the name of the array.

### 11.1.2 Multidimensional arrays
The arrays discussed so far are known as **one-dimensional arrays** because the data is organized linearly in only one direction. Many applications require that data be stored in more than one dimension. One common example is a table, which is an array that consists of rows and columns. Figure 11.5 shows a table, which is commonly called a **two-dimensional array**.

The array shown in Figure 11.5 holds the scores of students in a class. There are five students in the class and each student has four different scores for four quizzes. The variable scores[2][3] show the score of the second student in the third quiz. Arranging the scores in a two-dimensional array can help the teacher to find the average of scores for each student (the average over the row values) and find the average for each quiz (the average over the column values), as well as the average of all quizzes (the average of the whole table).

**Multidimensional arrays**arrays with more than two dimensionsare also possible. However, we do not discuss arrays beyond two dimensions in this book.

### 11.1.3 Memory layout
The indexes in a one-dimensional array directly define the relative positions of the element in actual memory. A two-dimensional array, however, represents rows and columns. How each element is stored in memory depends on the computer. Most computers use **row-major storage**, in which an entire row of an array is stored in memory before the next row. However, a computer may store the array using **column-major storage**, in which the entire column is stored before the next column. Figure 11.6 shows a two-dimensional array and how it is stored in memory using row-major or column-major storage. Row-major storage is more common.

> **Example 11.4**
> We have stored the two-dimensional array *students* in the memory. The array is 100  4 (100 rows and 4 columns). Show the address of the element *students*[5][3] assuming that the element *student*[1][1] is stored in the memory location with address 1000 and each element occupies only one memory location. The computer uses row-major storage.
>
> **Solution**
> We can use the following formula to find the location of an element, assuming each element occupies one memory location:
> $y = x + \\text{Cols} \\times (i - 1) + (j - 1)$
> where $x$ defines the start address, Cols defines the number of columns in the array, $i$ defines the row number of the element, $j$ defines the column number of the element, and $y$ is the address we are looking for. In our example, $x$ is 1000, Cols is 4, $i$ is 5 and $j$ is 3. We are looking for the value of $y$:
> $y = x + \\text{Cols} \\times (i - 1) + (j - 1) = 1000 + 4(5 - 1) + (3 - 1) = 1018$
> The answer makes sense because the element is at row 5 and column 3. There are four rows before this element that occupy 16 (4  4) memory locations. The previous two elements in row 5 have also occupied two memory locations. This means that all elements before the target elements occupy 18 memory locations. If the first element occupies the location 1000, the target element occupies the location 1018.

### 11.1.4 Operations on array
Although we can apply conventional operations defined for each element of an array (see Chapter 4), there are some operations that we can define on an array as a data structure. The common operations on arrays as structures are *searching*, *insertion*, *deletion*, *retrieval*, and *traversal*.

**Searching for elements**
We often need to find the index of an element when we know the value. This type of search was discussed in Chapter 8. We can use sequential search for unsorted arrays or binary search on sorted arrays. Searching is used for the next three operations.

**Insertion of elements**
Traditionally, computer languages require that the size of an array (the number of elements in the array) be defined at the time the program is written and prevent it from being changed during the execution of the program. Recently, some languages have allowed variable-size arrays. Even when the language allows variable-sized arrays, insertion of an element into an array needs careful attention.

**Insertion at the end**
If the insertion is at the end of an array and the language allows us to increase the size of the array, this can be done easily. For example, if an array has 30 elements, we increase the size of the array to 31 and insert the new item as the 31st item.

**Insertion at the beginning or middle**
If the insertion is to be at the beginning or in the middle of an array, the process is lengthy and time consuming. This happens when we need to insert an element in a sorted array. We first search the array, as described before. After finding the location of the insertion, we insert the new element. For example, if we want to insert an element as the 9th element in an array of 30 elements, elements 9 to 30 should be shifted one element towards the end of the array to open an empty element at position 9 for insertion. The following shows part of the pseudocode that needs to be applied to the array:

\`\`\`
i  30
while (i  9)
{
    array [i + 1]  array [i]
    i  i - 1
}
array [i]  newValue
\`\`\`

Note that the shifting needs to take place from the end of the array to prevent losing the values of the elements. The code first copies the value of the 30th element into the 31st element, then copies the value of the 29th element into the 30th element, and so on. When the code comes out of the loop, the 9th element is already copied to the 10th element. The last line copies the value of the new item into the 9th element.

**Deletion of elements**
Deletion of an element in an array is as lengthy and involved as insertion. For example, if the ninth element should be deleted, we need to shift elements 10 to 30 one position towards the start of the array. We leave the pseudocode for this operation as an exercise, which is similar to the one for addition of an element.

**Retrieving elements**
Retrieving means randomly accessing an element for the purpose of inspecting or copying the data contained in the element. Unlike insertion and deletion operations, retrieving is an easy operation when a data structure is an array. In fact, an array is a *random-access structure*, which means that each element of an array can be accessed randomly without the need to access the elements before or after it. For example, if we want to retrieve the value of the 9th element in the array, we can do so using a single instruction, as shown below:

\`\`\`
RetrievedValue  array[9]
\`\`\`

**Traversal of arrays**
Array traversal refers to an operation that is applied to all elements of the array, such as reading, writing, applying mathematical operation, and so on.

Algorithm 11.1 gives an example of finding the average of elements in an array whose elements are reals. The algorithm first finds the sum of the elements using a loop. After the loop is terminated, the average is calculated, which is the sum divided by the number of elements. Note that for proper calculation of the sum, the sum needs to be set to 0.0 before the loop.

**Algorithm 11.1 Calculating the average of elements in an array**
\`\`\`
Algorithm: ArrayAverage (Array, n)
Purpose: Find the average value
Pre: Given the array Array and the number of elements, n.
Post: None
Return: The average value
{
    sum  0.0
    i  1
    while (i  n)
    {
        sum  sum + Array [i]
        i  i + 1
    }
    average  sum / n
    Return ( average )
}
\`\`\`

### 11.1.5 Strings
A **string**, as a set of characters, is treated in different languages differently. In C, a string is an array of characters. In C++, a string can be an array of characters, but there is a type named string. In Java, a string is a type.

### 11.1.6 Application
Thinking about the operations discussed in the previous section gives a clue to the application of arrays. If we have a list in which a lot of insertions and deletions are expected after the original list has been created, we should not use an array. An array is more suitable when the number of deletions and insertions is small, but a lot of *searching* and *retrieval* activities are expected.

**An array is a suitable structure when a small number of insertions and deletions are required, but a lot of searching and retrieval is needed.**

## 11.2 RECORDS
A **record** is a collection of related elements, possibly of different types, having a single name. Each element in a record is called a **field**. A field is the smallest element of named data that has meaning. A field has a type, and exists in memory. Fields can be assigned values, which in turn can be accessed for selection or manipulation. A field differs from a variable primarily in that it is part of a record.

Figure 11.7 contains two examples of records. The first example, *fraction*, has two fields, both of which are integers. The second example, *student*, has three fields made up of three different types.

**The elements in a record can be of the same or different types, but all elements in the record must be related.**

The data in a record should all be related to one object. In Figure 11.7, the integers in the fraction both belong to the same fraction, and the data in the second example all relate to one student. (Note that we have placed string data between two double quotes and a single character between two single quotes. This is the convention used in most programming languages.)

### 11.2.1 Record name versus field name
Just like in an array, we have two types of identifier in a record: the name of the record and the name of each individual field inside the record. The name of the record is the name of the whole structure, while the name of each field allows us to refer to that field. For example, in the student record of Figure 11.7, the name of the record is *student*, the name of the fields are *student.id*, *student.name*, and *student.grade*. Most programming languages use a period (.) to separate the name of the structure (record) from the name of its components (fields). This is the convention we use in this book.

> **Example 11.5**
> The following shows how the value of fields in Figure 11.7 are stored:
> \`student.id  2005\` \`student.name  "G. Boole"\` \`student.grade  'A'\`

### 11.2.2 Comparison of records and arrays
We can conceptually compare an array with a record. This helps us to understand when we should use an array and when a record. An array defines a combination of elements, while a record defines the identifiable parts of an element. For example, an array can define a class of students (40 students), but a record defines different attributes of a student, such as id, name, or grade.

### 11.2.3 Array of records
If we need to define a combination of element and at the same time some attributes of each element, we can use an array of records. For example, in a class of 30 students, we can have an array of 30 records, each record representing a student. Figure 11.8 shows an array of 30 student records called *students*.

In an array of records, the name of the array defines the whole structure, the group of students as a whole. To define each element, we need to use the corresponding index. To define the parts (attributes) of each element, we need to use the dot operator. In other words, first we need to define the element, then we can define part of that element. Therefore, the id of the third student is defined as:
\`(student[3]).id\`

Note that we use parentheses to emphasize that first a particular student should be chosen, then the id of that student. In other words, the parentheses tell us that the index operator has precedence over the dot operator. In some languages, there is no need to use parentheses, because the precedence is already established in the language itself, but using parentheses always guarantees the precedence.

> **Example 11.6**
> The following shows how we access the fields of each record in the students array to store values in them.
> \`(students[1]).id  1001 (students[1]).name  "J. Aron" (students[1]).grade  'A'\`
> \`(students[2]).id  2007 (students[2]).name  "F. Bush" (students[2]).grade  'F'\`
> ...
> \`(students[30]).id  3012 (students[30]).name  "M. Blair" (students[30]).grade  'B'\`

> **Example 11.7**
> However, we normally use a loop to read data into an array of record. Algorithm 11.2 shows part of the pseudocode for this process.

**Algorithm 11.2 Part of the pseudocode to read student record**
\`\`\`
i  1
while (i < 31)
{
    read (students [i]).id
    read (students [i]).name
    read (students [i]).grade
    i  i + 1
}
\`\`\`

### 11.2.4 Arrays versus array of records
Both an array and an array of record represents a list of items. An array can be thought of as a special case of an array of records in which each element is a record with only a single field.

## 11.3 LINKED LISTS
A **linked list** is a collection of data in which each element contains the location of the next elementthat is, each element contains two parts: data and link. The data part holds the value information: the data to be processed. The link is used to chain the data together, and contains a **pointer** (an address) that identifies the next element in the list. In addition, a pointer variable identifies the first element in the list. The name of the list is the same as the name of this pointer variable.

Figure 11.9 shows a linked list called *scores* that contains four elements. The link in each element, except the last, points to its successor. The link in the last element contains a **null pointer**, indicating the end of the list. We define an empty linked list to be only a null pointer: Figure 11.9 also shows an example of an empty linked list.

The elements in a linked list are traditionally called nodes. A **node** in a linked list is a record that has at least two fields: one contains the data, and the other contains the address of the next node in the sequence (the link). Figure 11.9 also shows a node.

Before further discussion of linked lists, we need to explain the notation we use in the figures. We show the connection between two nodes using a line. One end of the line has an arrowhead, the other end has a solid circle. The arrowhead represents a copy of the address of the node to which the arrow head is pointed. The solid circle shows where this copy of the address is stored (Figure 11.10). The figure also shows that we can store a copy of the address in more than one place. For example, Figure 11.10 shows that two copies of the address are stored in two different locations. Understanding these concepts helps us to understand operations on a linked list better.

### 11.3.1 Arrays versus linked lists
Both an array and a linked list are representations of a list of items in memory. The only difference is the way in which the items are linked together. In an array of records, the *linking tool* is the index. The element scores[3] is linked to the element scores[4] because the integer 4 comes after the integer 3. In a linked list, the *linking tool* is the link that points to the next elementthe pointer or the address of the next element. Figure 11.11 compares the two representations for a list of five integers.

The elements of an array are stored one after another in the memory without a gap in between: the list is contiguous. The nodes of a linked list can be stored with gaps between them: the link part of the node glues the items together. In other words, the computer has the option to store them contiguously or spread the nodes through the whole memory. This has an advantage: insertion and deletion in a linked list is much easier. The only thing that needs to be changed is the pointer to the address of the next element. However, this comes with an overhead: each node of a linked list has an extra field, the address of the next node in memory.

### 11.3.2 Linked list names versus nodes names
As for arrays and records, we need to distinguish between the name of the linked list and the names of the nodes, the elements of a linked list. A linked list must have a name. The name of a linked list is the name of the head pointer that points to the first node of the list. Nodes, on the other hand, do not have explicit names in a linked list, just implicit ones. The name of a node is related to the name of the pointer that points to the node. Different languages handle the relation between the pointer and the node to which the pointer points differently. We use the convention used in the C language. If the pointer that points to a node is called p, for example, we call the node *p. Since the node is a record, we can access the fields inside the node using the name of the node. For example, the data part and the link part of a node pointed by a pointer p can be called (*p).data and (*p).link. This naming convention implies that a node can have more than one name. Figure 11.12 shows the name of the linked list and the names of the nodes.

### 11.3.3 Operations on linked lists
The same operations we defined for an array can be applied to a linked list.

**Searching a linked list**
The search algorithm for a linked list can only be sequential (see Chapter 8) because the nodes in a linked list have no specific names (unlike the elements in an array) that can be found using a binary search. However, since nodes in a linked list have no names, we use two pointers, *pre* (for previous) and *cur* (for current).

At the beginning of the search, the *pre* pointer is null and the *cur* pointer points to the first node. The search algorithm moves the two pointers together towards the end of the list. Figure 11.13 shows the movement of these two pointers through the list in an extreme case scenario: when the target value is larger than any value in the list. For example, in the five-node list, assume that our target value is 220, which is larger than any value in the list.

However, other situations can occur. The value of the target can be less that data value in the first node, or it can be equal to one of the data values in one of the nodes, and so on. In all situations, however, when the search stops, the *cur* pointer points to the node that stops the search and the *pre* pointer points to the previous node. If the target is found, the *cur* pointer points to the node that holds the target value. If the target value is not found, the *cur* pointer points to the node with a value larger than the target value. In other words, since the list is sorted, and may be very long, we never allow the two pointers to reach the end of the list if we are sure that we have passed the target value. The searching algorithm uses a flag (a variable that can take only *true* or *false* values). When the target is found, the flag is set to *true*: when the target is not found, the flag is set to *false*. When the flag is *true* the *cur* pointer points to the target value: when the flag is *false*, the *cur* pointer points to a value larger than the target value.

Figure 11.14 shows some different situations. In the first case, the target is 98. This value does not exist in the list and is smaller than any value in the list, so the search algorithm stops while *pre* is null and *cur* points to the first node. The value of the flag is *false* because the value was not found. In the second case, the target is 132, which is the value of the second node. The search algorithm stops while *cur* is pointing to the second node and *pre* is pointing to the first node. The value of the flag is *true* because the target is found. In the third and the fourth cases, the targets are not found so the value of the flag is *false*.

Algorithm 11.3 shows a simplified algorithm for the search. We need more conditions on the *while* loop, but we leave that for more advanced discussion of linked lists. Note how we move the two pointers forward together. In each move, we have:

\`pre  cur\` and \`cur  (*cur).link\`

This guarantees that the two pointers move together. The first assignment makes a copy of *cur* and stores it in *pre*. This means *pre* is taking the previous value of *cur*. In the second assignment, the node pointed by *cur* is selected and the value of its link field is copied and stored in *cur* (see Figure 11.12 for clarification). The search algorithm is used both by the insertion algorithm (if the target is not found) and by the delete algorithm (if the target is found).

**Algorithm 11.3 Searching a linked list**
\`\`\`
Algorithm: SearchLinkedList
Purpose: Search the list using two pointers: pre and cur.
Pre: The linked list (head pointer) and target value
Post: None
Return: The position of pre and cur pointers and the value of the flag
{
    pre  null
    cur  list
    while (target < (*cur).data)
    {
        pre  cur
        cur  (*cur).link
    }
    if ((*cur).data = target) flag  true
    else flag  false
}
\`\`\`

**Inserting a node**
Before insertion into a linked list, we first apply the searching algorithm. If the flag returned from the searching algorithm is false, we will allow insertion, otherwise we abort the insertion algorithm, because we do not allow data with duplicate values. Four cases can arise:
- Inserting into an empty list.
- Insertion at the beginning of the list.
- Insertion at the end of the list.
- Insertion in the middle of the list.

**Insertion into an empty list**
If the list is empty (list = null), the new item is inserted as the first element. One statement can do the job:
\`list  new\`

**Insertion at the beginning**
If the searching algorithm returns a flag with value of *false* and the value of the *pre* pointer is null, the data needs to be inserted at the beginning of the list. Two statements are needed to do the job:
\`(*new).link  cur\` and \`list  new\`
The first assignment makes the new node become the predecessor of the previous first node. The second statement makes the newly connected node the first node. Figure 11.15 shows the situation.

**Insertion at the end**
If the searching algorithm returns a flag with value of *false* and the value of the *cur* pointer is null, the data needs to be inserted at the end of the list. Two statements are needed to do the job:
\`(*pre).link  new\` and \`(*new).link  null\`
The first assignment connects the new node to the previous last node. The second statement makes the newly connected node become the last node. Figure 11.16 shows the situation.

**Insertion in the middle**
If the searching algorithm returns a flag with a value of *false* and none of the returned pointers are null, the new data needs to be inserted at the middle of the list. Two statements are needed to do the job:
\`(*new).link  cur\` and \`(*pre).link  new\`
The first assignment connects the new node to its successor. The second statement connects the new node to its predecessor. Figure 11.17 shows the situation.

Algorithm 11.4 shows the pseudocode for inserting a new node in a linked list. The first section just adds a node to an empty list.

**Algorithm 11.4 Inserting a node in a linked list**
\`\`\`
Algorithm: InsertLinkedList (list, target, new)
Purpose: Insert a node in the link list after searching the list
Pre: The linked list and the target data to be inserted
Post: None
Return: The new linked list
{
    searchlinkedlist (list, target, pre, cur, flag)
    // Given target and returning pre, cur, and flag
    if (flag = true) // No duplicate
    {
        return list
    }
    if (list = null // Insert into empty list
    {
        list  new
    }
    if (pre = null) // Insertion at the beginning
    {
        (*new).link  cur
        list  new
        return list
    }
    if (cur = null) // Insertion at the end
    {
        (*pre).link  new
        (*new).link  null
        return list
    }
    (*new).link  cur // Insertion in the middle
    (*pre).link  new
    return list
}
\`\`\`

**Deleting a node**
Before deleting a node in a linked list, we apply the search algorithm. If the flag returned from the search algorithm is true (the node is found), we can delete the node from the linked list. However, deletion is simpler than insertion: we have only two casesdeleting the first node and deleting any other node. In other words, the deletion of the last and the middle nodes can be done by the same process.

**Deleting the first node**
If the *pre* pointer is null, the first node is to be deleted. The *cur* pointer points to the first node and deleting can be done by one statement:
\`list  (*cur).link\`
The statement connects the second node to the list pointer, which means that the first node is deleted. Figure 11.18 shows the case.

**Deleting the middle or the last node**
If neither of the pointers is null, the node to be deleted is either a middle node or the last node. The *cur* pointer points to the corresponding node and deleting can be done by one statement:
\`(*pre).link  (*cur).link\`
The statement connects the successor node to the predecessor node, which means that the current node is deleted. Figure 11.19 shows the case.

Algorithm 11.5 shows the pseudocode for deleting a node. The algorithm is much simpler than the one for inserting. We have only two cases and each case needs only one statement.

**Algorithm 11.5 Deleting a node in a linked list**
\`\`\`
Algorithm: DeleteLinkedList (list, target)
Purpose: Delete a node in a linked list after searching the list for the right node
Pre: The linked list and the target data to be deleted
Post: None
Return: The new linked list
{
    // Given target and returning pre, cur, and flag
    searchlinkedlist (list, target, pre, cur, flag)
    if (flag = false)
    {
        return list // The node to be deleted not found
    }
    if (pre = null) // Deleting the first node
    {
        list  (*cur).link
        return list
    }
    (*pre).link  (*cur).link // Deleting other nodes
    return list
}
\`\`\`

**Retrieving a node**
Retrieving means randomly accessing a node for the purpose of inspecting or copying the data contained in the node. Before retrieving, the linked list needs to be searched. If the data item is found, it is retrieved, otherwise the process is aborted. Retrieving uses only the *cur* pointer, which points to the node found by the search algorithm. Algorithm 11.6 shows the pseudocode for retrieving the data in a node. The algorithm is much simpler than the insertion or deletion algorithm.

**Algorithm 11.6 Retrieving a node in a linked list**
\`\`\`
Algorithm: RetrieveLinkedList (list, target)
Purpose: Retrieves the data in a node after searching the list for the right node
Pre: The linked list (head pointer) and the target (data to be retrieved)
Post: None
Return: Return the data retrieved
{
    searchlinkedlist (list, target, pre, cur, flag)
    if (flag = false) // The node not found
    {
        return error
    }
    return (*cur).data
}
\`\`\`

**Traversing a linked list**
To traverse the list, we need a walking pointer, which is a pointer that moves from node to node as each element is processed. We start traversing by setting the walking pointer to the first node in the list. Then, using a loop, we continue until all of the data has been processed. Each iteration of the loop processes the current node, then advances the walking pointer to the next node. When the last node has been processed, the walking pointer becomes null and the loop terminates (Figure 11.20).

Algorithm 11.7 shows the pseudocode for traversing a linked list.

**Algorithm 11.7 Traversing a linked list**
\`\`\`
Algorithm: TraverseLinkedList (list)
Purpose: Traverse a linked list and process each data item
Pre: The linked list (head pointer)
Post: None
Return: The list
{
    walker  list
    while (walker  null)
    {
        Process (*walker).data
        walker  (*walker).link
    }
    return list
}
\`\`\`

### 11.3.4 Applications of linked lists
A linked list is a very efficient data structure for storing data that will go through many insertions and deletions. A linked list is a dynamic data structure in which the list can start with no nodes and then grow as new nodes are needed. A node can be easily deleted without moving other nodes, as would be the case with an array. For example, a linked list could be used to hold the records of students in a school. Each quarter or semester, new students enroll in the school and some students leave or graduate.

A linked list can grow infinitely and can shrink to an empty list. The overhead is to hold an extra field for each node. A linked list, however, is not a good candidate for data that must be searched often. This appears to be a dilemma, because each deletion or insertion needs a search. We will see that some abstract data types, discussed in the next chapter, have the advantages of an array for searching and the advantages of a link list for insertion and deletion.

**A linked list is a suitable structure if a large number of insertions and deletions are needed, but searching a linked list is slower that searching an array.**

## 11.4 END-CHAPTER MATERIALS

### 11.4.1 Recommended reading
For more details about the subjects discussed in this chapter, the following books are recommended:
- Gilberg, R. and Forouzan, B. *Data Structures  A Pseudocode Approach with C*, Boston, MA: Course Technology, 2005
- Goodrich, M. and Tamassia, R. *Data Structures and Algorithms in Java*, New York: Wiley, 2005
- Neapolitan, R. and Naimipour, K. *Foundations of Algorithms Using C++ Pseudocode*, Sudbury, MA: Jones and Bartlett, 2004
- Main, M. and Savitch, W. *Data Structures and Other Objects Using C++*, Reading, MA: Addison-Wesley, 2004
- Standish, T. *Data Structures, Algorithms, and Software Principles*, Reading, MA: Addison-Wesley, 1994

### 11.4.2 Key terms
- array
- column-major storage
- data structure
- field
- index
- link
- linked list
- multidimensional array
- node
- null pointer
- one-dimensional array
- pointer
- record
- retrieval
- row-major storage
- searching
- two-dimensional array
- string

### 11.4.3 Summary
- A data structure uses a collection of related variables that can be accessed individually or as a whole. In other words, a data structure represents a set of data items that share a specific relationship. We discussed three data structures in this chapter: arrays, records, and linked lists.
- An array is a sequenced collection of elements normally of the same data type. We use indexes to refer to the elements of an array. In an array we have two types of identifiers: the name of the array and the name of each individual element.
- Many applications require that data is stored in more than one dimension. One common example is a table, which is an array that consists of rows and columns. Two-dimensional arrays can be stored in memory using either row-major or column-major storage. The first is more common.
- The common operations on arrays as a structure are searching, insertion, deletion, retrieval, and traversal. An array is a suitable structure in applications where the number of deletions and insertions is small but a lot of searching and retrieval operations are required. An array is normally a static data structure and so is more suitable when the number of data items is fixed.
- A record is a collection of related elements, possibly of different types, having a single name. Each element in a record is called a field. A field is the smallest element of named data that has meaning in a record.
- A string is a set of characters that is treated like an array in some languages and as a type in others.
- A linked list is a collection of data in which each element contains the location of the next element; that is, each element contains two parts: data and link. The data part holds the useful information: the data to be processed. The link is used to chain the data together.
- The same operations defined for an array can be applied to a linked list. A linked list is a very efficient structure for data that will go through many insertions and deletions. A linked list is a dynamic data structure in which the list can start with no nodes and grow as new nodes are needed.

## 11.5 PRACTICE SET

### 11.5.1 Quizzes
A set of interactive quizzes for this chapter can be found on the books website. It is strongly recommended that the student takes the quizzes to check his/her understanding of the materials before continuing with the practice set.

### 11.5.2 Review questions
1. Name three types of data structures.
2. How is an element in an array different from an element in a record?
3. How is an element in an array different from an element in a linked list?
4. Why should we use indexes rather than subscripts to identify array elements?
5. How are the elements of an array stored in memory?
6. What is the definition of a field in a record?
7. What are the fields of a node in a linked list?
8. What is the function of the pointer in a linked list?
9. How do you point to the first node in a linked list?
10. What is the value of the link field in the last node of a linked list?

### 11.5.3 Problems
1. There are two arrays, A and B, each of 10 integers. Write an algorithm that tests if every element of array A is equal to its corresponding element in array B.
2. Write an algorithm that reverses the elements of an array so that the last element becomes the first, the second to the last becomes the second, and so forth.
3. Write an algorithm to print the contents of a two-dimensional array of R rows and C columns.
4. Write an algorithm to apply sequential search on an array of N elements.
5. Write an algorithm to apply binary search on an array of N elements.
6. Write an algorithm to insert an element into a sorted array. The algorithm must call a search algorithm to find the location for insertion.
7. Write an algorithm to delete an element in a sorted array. The algorithm must call a search algorithm to find the location of insertion.
8. Write an algorithm to multiply each element of an array by a constant.
9. Write an algorithm to add a fraction (Fr1) to another fraction (Fr2).
10. Write an algorithm to subtract a fraction (Fr1) from another fraction (Fr2).
11. Write an algorithm to multiply a fraction (Fr1) by another fraction (Fr2).
12. Write an algorithm to divide a fraction (Fr1) by another fraction (Fr2).
13. Draw a diagram to show a linked list in which the data part is a student record with three fields: id, name, and grade.
14. Show how the delete algorithm for a linked list (Algorithm 11.4, in section 11.3.3) can delete the only node in a linked list.
15. Show how the insertion algorithm for a linked list (Algorithm 11.3, in section 11.3.3) can add a node to an empty linked list.
16. Show how we can build a linked list from scratch using the insertion algorithm (Algorithm 11.3, in section 11.3.3).
17. Write an algorithm to find the average of the numbers in a linked list of numbers.
18. Show what happens if we apply the following statements to the linked list in Figure 11.9.
   \`scores  (*scores).link\`
19. Show what happens if we apply the following statements to the linked list in Figure 11.13.
   \`cur  (*cur).link\` and \`pre  (*pre).link\`
`,zh:`
# 

ADT

**********

## 

- 
- 
- 
- 
- 
- 
- 
- 
- 
- 

## 11.1 
 100  100  11.1 

 100  100 100  100  11.2 



**** 100  scores[1]scores[2] **** 11.3*scores*

 1001000  10000  11.4

 1  CC++  Java  0 

> ** 11.1**
>  11.2  100  11.4  100 
>
> ****
> -  100 100  100  300 
> -  12 

> ** 11.2**
> 

> ** 11.3**
>  11.2  11.4  100  1000
>  3  900 = 2700 I > 100  I > 1000 11.4 

### 11.1.1 
 11.3  *scores* scores[1]scores[2]  C

### 11.1.2 
**** 11.5 ****

 11.5  scores[2][3] 

****

### 11.1.3 
** (row-major) **** (column-major) ** 11.6 

> ** 11.4**
>  *students*  100  4100  4  *student*[1][1]  1000  *students*[5][3] 
>
> ****
> 
> $y = x + \\text{Cols} \\times (i - 1) + (j - 1)$
>  $x$ Cols $i$ $j$ $y$ $x$  1000Cols  4$i$  5$j$  3 $y$ 
> $y = x + \\text{Cols} \\times (i - 1) + (j - 1) = 1000 + 4(5 - 1) + (3 - 1) = 1018$
>  5  3  16 (4  4)  5  18  1000 1018

### 11.1.4 
 4 **********

****
 8 

****


****
 30  31 31 

****
 30  9  9  30  9 

\`\`\`
i  30
while (i  9)
{
    array [i + 1]  array [i]
    i  i - 1
}
array [i]  newValue
\`\`\`

 30  31  29  30  9  10  9 

****
 10  30 

****
** 9 

\`\`\`
RetrievedValue  array[9]
\`\`\`

****


 11.1  0.0

** 11.1 **
\`\`\`
ArrayAverage (Array, n)

 Array  n


{
    sum  0.0
    i  1
    while (i  n)
    {
        sum  sum + Array [i]
        i  i + 1
    }
    average  sum / n
    Return ( average )
}
\`\`\`

### 11.1.5 
**** C  C++  string  Java 

### 11.1.6 
****

****

## 11.2 
********

 11.7  *fraction*  *student* 

****

 11.7 

### 11.2.1 
 11.7  *student* *student.id**student.name*  *student.grade* (.) 

> ** 11.5**
>  11.7 
> \`student.id  2005\` \`student.name  "G. Boole"\` \`student.grade  'A'\`

### 11.2.2 
40  id

### 11.2.3 
 30  30  11.8  *students*  30 

 id 
\`(student[3]).id\`

 id

> ** 11.6**
>  students 
> \`(students[1]).id  1001 (students[1]).name  "J. Aron" (students[1]).grade  'A'\`
> \`(students[2]).id  2007 (students[2]).name  "F. Bush" (students[2]).grade  'F'\`
> ...
> \`(students[30]).id  3012 (students[30]).name  "M. Blair" (students[30]).grade  'B'\`

> ** 11.7**
>  11.2 

** 11.2 **
\`\`\`
i  1
while (i < 31)
{
    read (students [i]).id
    read (students [i]).name
    read (students [i]).grade
    i  i + 1
}
\`\`\`

### 11.2.4 


## 11.3 
********

 11.9  *scores* ** (null pointer)** 11.9 

**** 11.9 

 11.10 11.10 

### 11.3.1 
** scores[3]  scores[4] 4  3 ** 11.11 



### 11.3.2 
 C  p *p p  (*p).data  (*p).link 11.12 

### 11.3.3 


****
 8 *pre* *cur*

*pre* *cur*  11.13  220

*cur* *pre* *cur* *cur*  *true*  *false*  *true* *false* *true* *cur*  *false* *cur* 

 11.14  98 *pre*  *cur*  *false* 132 *cur*  *pre*  *true* *false*

 11.3  *while* 

\`pre  cur\`  \`cur  (*cur).link\`

 *cur*  *pre*  *pre*  *cur*  *cur*  *cur*  11.12 

** 11.3 **
\`\`\`
SearchLinkedList
 pre  cur 


pre  cur 
{
    pre  null
    cur  list
    while (target < (*cur).data)
    {
        pre  cur
        cur  (*cur).link
    }
    if ((*cur).data = target) flag  true
    else flag  false
}
\`\`\`

****
 false
- 
- 
- 
- 

****
list = null
\`list  new\`

****
 *false*  *pre* 
\`(*new).link  cur\`  \`list  new\`
 11.15 

****
 *false*  *cur* 
\`(*pre).link  new\`  \`(*new).link  null\`
 11.16 

****
 *false* 
\`(*new).link  cur\`  \`(*pre).link  new\`
 11.17 

 11.4 

** 11.4 **
\`\`\`
InsertLinkedList (list, target, new)




{
    searchlinkedlist (list, target, pre, cur, flag)
    //  pre, cur  flag
    if (flag = true) // 
    {
        return list
    }
    if (list = null // 
    {
        list  new
    }
    if (pre = null) // 
    {
        (*new).link  cur
        list  new
        return list
    }
    if (cur = null) // 
    {
        (*pre).link  new
        (*new).link  null
        return list
    }
    (*new).link  cur // 
    (*pre).link  new
    return list
}
\`\`\`

****


****
 *pre* *cur* 
\`list  (*cur).link\`
 11.18 

****
*cur* 
\`(*pre).link  (*cur).link\`
 11.19 

 11.5 

** 11.5 **
\`\`\`
DeleteLinkedList (list, target)




{
    //  pre, cur  flag
    searchlinkedlist (list, target, pre, cur, flag)
    if (flag = false)
    {
        return list // 
    }
    if (pre = null) // 
    {
        list  (*cur).link
        return list
    }
    (*pre).link  (*cur).link // 
    return list
}
\`\`\`

****
 *cur*  11.6 

** 11.6 **
\`\`\`
RetrieveLinkedList (list, target)




{
    searchlinkedlist (list, target, pre, cur, flag)
    if (flag = false) // 
    {
        return error
    }
    return (*cur).data
}
\`\`\`

****
 11.20

 11.7 

** 11.7 **
\`\`\`
TraverseLinkedList (list)




{
    walker  list
    while (walker  null)
    {
        Process (*walker).data
        walker  (*walker).link
    }
    return list
}
\`\`\`

### 11.3.4 




****

## 11.4 

### 11.4.1 

- Gilberg, R. and Forouzan, B. *Data Structures  A Pseudocode Approach with C*, Boston, MA: Course Technology, 2005
- Goodrich, M. and Tamassia, R. *Data Structures and Algorithms in Java*, New York: Wiley, 2005
- Neapolitan, R. and Naimipour, K. *Foundations of Algorithms Using C++ Pseudocode*, Sudbury, MA: Jones and Bartlett, 2004
- Main, M. and Savitch, W. *Data Structures and Other Objects Using C++*, Reading, MA: Addison-Wesley, 2004
- Standish, T. *Data Structures, Algorithms, and Software Principles*, Reading, MA: Addison-Wesley, 1994

### 11.4.2 
-  (array)
-  (column-major storage)
-  (data structure)
-  (field)
-  (index)
-  (link)
-  (linked list)
-  (multidimensional array)
-  (node)
-  (null pointer)
-  (one-dimensional array)
-  (pointer)
-  (record)
-  (retrieval)
-  (row-major storage)
-  (searching)
-  (two-dimensional array)
-  (string)

### 11.4.3 
- 
- 
- 
- 
- 
- 
- 
- 

## 11.5 

### 11.5.1 
/

### 11.5.2 
1. 
2. 
3. 
4. 
5. 
6. 
7. 
8. 
9. 
10. 

### 11.5.3 
1.  A  B 10  A  B 
2. 
3.  R  C 
4.  N 
5.  N 
6. 
7. 
8. 
9.  (Fr1)  (Fr2) 
10.  (Fr2)  (Fr1)
11.  (Fr1)  (Fr2)
12.  (Fr1)  (Fr2)
13. idname  grade
14. 11.3.3  11.4
15. 11.3.3  11.3
16. 11.3.3  11.3
17. 
18.  11.9 
   \`scores  (*scores).link\`
19.  11.13 
   \`cur  (*cur).link\`  \`pre  (*pre).link\`
`},gN={en:`
# Chapter 12: Abstract Data Types

In this chapter we discuss abstract data types (ADTs), which are data types at a higher level of abstraction than the data structures we discussed in Chapter 11. ADTs use data structures for implementation. We begin this chapter with a brief background on ADTs. We then give a definition and propose a model. The remainder of the chapter discusses various ADTs, such as stacks, queues, general linear lists, trees, binary trees, binary search trees, and graphs.

## Objectives
After studying this chapter, the student should be able to:
- Define the concept of an abstract data type (ADT).
- Define a stack, the basic operations on stacks, their applications, and how they can be implemented.
- Define a queue, the basic operations on queues, their applications, and how they can be implemented.
- Define a general linear list, the basic operations on lists, their applications, and how they can be implemented.
- Define a general tree and its application.
- Define a binary treea special kind of treeand its applications.
- Define a binary search tree (BST) and its applications.
- Define a graph and its applications.

## 12.1 BACKGROUND
Problem solving with a computer means processing data. To process data, we need to define the data type and the operation to be performed on the data. For example, to find the sum of a list of numbers, we should select the type for the number (integer or real) and define the operation (addition). The definition of the data type and the definition of the operation to be applied to the data is part of the idea behind an **abstract data type (ADT)**to hide how the operation is performed on the data. In other word, the user of an ADT needs only to know that a set of operations are available for the data type, but does not need to know how they are applied.

### 12.1.1 Simple ADTs
Many programming languages already define some simple ADTs as integral parts of the language. For example, the C language defines a simple ADT called an *integer*. The type of this ADT is integer with predefined ranges. C also defines several operations that can be applied on this data type (addition, subtraction, multiplication, division, and so on). C explicitly defines these operations on integers and what we expect as the results. A programmer who writes a C program to add two integers should know about the integer ADT and the operations that can be applied to it.

The programmer, however, does not need to know *how* these operations are actually implemented. For example, the programmer uses the expression $z \\leftarrow x + y$ and expects the value of $x$ (an integer) to be added to the value of $y$ (an integer) and the result to be named $z$ (an integer). The programmer does not need to know how the addition is performed. We learned in previous chapters that the way this addition is done by a computer is to store the two integers in two memory locations in twos complement format, to load them into the CPU register, to add them in binary, and to store the result back to another memory location. The programmer, however, does not need to know this. An integer in C is a simple abstract data type with predefined operations. How the operations are performed is not a concern for the programmer.

### 12.1.2 Complex ADTs
Although several simple ADTs, such as integer, real, character, pointer, and so on, have been implemented and are available for use in most languages, many useful complex ADTs are not. As we will see in this chapter, we need a list ADT, a stack ADT, a queue ADT, and so on. To be efficient, these ADTs should be created and stored in the library of the computer to be used. The user of a *list*, for example, should only need to know what operations are available for the list, not how these operations are performed.

Therefore, with an ADT, users are not concerned with *how* the task is done, but rather with *what* it can do. In other words, the ADT consists of a set of definitions that allow programmers to use the operation while their implementation is hidden. This generalization of operations with unspecified implementations is known as abstraction. We abstract the essence of the process and leave the implementation details hidden.

**The concept of abstraction means:**
1. **We know what a data type can do.**
2. **How it is done is hidden.**

### 12.1.3 Definition
Let us now define an ADT. An abstract data type is a data type packaged with the operations that are meaningful for the data type. We then encapsulate the data and the operations on the data and hide them from the user.

**Abstract Data Type**
1. **Definition of data**
2. **Definition of operations**
3. **Encapsulation of data and operation**

### 12.1.4 Model for an abstract data type
The ADT model is shown in Figure 12.1. The colored area with an irregular outline represents the ADT. Inside the ADT are two different parts of the model: *data structure* and *operations* (public and private). The application program can only access the public operations through the **interface**. An interface is a list of public operations and data to be passed to or returned from those operations. The private operations are for internal use by the ADT. The data structures, such as arrays and linked lists, are inside the ADT and are used by the public and private operations.

Although the public operations and the interface should be independent of the implementation, the private operations are dependent on the data structures chosen during the implementation of the ADT. We will elaborate on this issue when we discuss some of the ADTs.

### 12.1.5 Implementation
Computer languages do not provide ADT packages. To use an ADT, it is first implemented and kept in a library. The main purpose of this chapter is to introduce some common ADTs and their applications. However, we also give a brief discussion of each ADT implementation for the interested reader. We leave the pseudocode algorithms of the implementations as challenging exercises.

## 12.2 STACKS
A **stack** is a restricted **linear list** in which all additions and deletions are made at one end, the top. If we insert a series of data into a stack and then remove it, the order of the data is reversed. Data input as 5, 10, 15, 20, for example, would be removed as 20, 15, 10, and 5. This reversing attribute is why stacks are known as a **last in, first out (LIFO)** data structure.

We use many different types of stacks in our daily lives. We often talk of a stack of coins or a stack of books. Any situation in which we can only add or remove an object at the top is a stack. If we want to remove an object other than the one at the top, we must first remove all objects above it. Figure 12.2 shows three representations of stacks.

### 12.2.1 Operations on stacks
Although we can define many operations for a stack, there are four basic operations, *stack*, *push*, *pop*, and *empty*, which we define in this chapter.

**The stack operation**
The *stack* operation creates an empty stack. The following shows the format:
\`stack (stackName)\`
*stackName* is the name of the stack to be created. This operation returns an empty stack. Figure 12.3 shows the pictorial representation of this operation.

**The push operation**
The *push* operation inserts an item at the top of the stack. The following shows the format:
\`push (stackName, dataItem)\`
*stackName* is the name of the stack and *dataItem* is the data to be inserted at the top of the stack. After the push operation, the new item becomes the top item in the stack. This operation returns the new stack with *dataItem* inserted at the top. Figure 12.4 shows the pictorial representation of this operation.

**The pop operation**
The *pop* operation deletes the item at the top of the stack. The following shows the format:
\`pop (stackName, dataItem)\`
*stackName* is the name of the stack and *dataItem* is the data that is deleted from the stack. Figure 12.5 shows the pictorial representation of this operation.
The deleted item can be used by the application program or can be just discarded. After the pop operation, the item that was under the top element before the deletion becomes the top element. This operation returns the new stack with one less element.

**The empty operation**
The *empty* operation checks the status of the stack. The following shows the format:
\`empty (stackName)\`
The *stackName* is the name of the stack. This operation returns *true* if the stack is empty and *false* if the stack is not empty.

### 12.2.2 Stack ADT
We define a stack as an ADT as shown below:

**Stack ADT**
**Definition**
A list of data items that can only be accessed at one end, called the top.
**Operations**
*stack*: Creates an empty stack.
*push*: Inserts an element at the top.
*pop*: Deletes the top element.
*empty*: Checks the status of the stack.

> **Example 12.1**
> Figure 12.6 shows a segment of an algorithm that applies the previously defined operations on a stack S. The fourth operation checks the status of the stack before trying to pop the top element. The value of the top element is stored in the variable x. However, we do not use this value: it will be automatically discarded at the end of the algorithm segment.

### 12.2.3 Stack applications
Stack applications can be classified into four broad categories: reversing data, pairing data, postponing data usage, and backtracking steps. We discuss the first two in the sections that follow.

**Reversing data items**
Reversing data items requires that a given set of data items be reordered so that the first and last items are exchanged, with all of the positions between the first and last being relatively exchanged also. For example, the list (2, 4, 7, 1, 6, 8) becomes (8, 6, 1, 7, 4, 2).

> **Example 12.2**
> In Chapter 2 (Figure 2.6 in section 2.2.6) we gave a simple UML diagram to convert an integer from decimal to any base. Although the algorithm is very simple, if we print the digits of the converted integer as they are created, we will get the digits in reverse order. The print instruction in any computer language prints characters from left to right, but the algorithm creates the digits from right to left. We can use the reversing characteristic of a stack (LIFO structure) to solve the problem.
> Algorithm 12.1 shows the pseudocode to convert a decimal integer to binary and print the result.

**Algorithm 12.1 Example 2.2**
\`\`\`
Algorithm: DecimalToBinary (number)
Purpose: Print the binary equivalent of a given integer (absolute value)
Pre: Given the integer to be converted (number)
Post: The binary integer is printed
Return: None
{
    stack (S)
    while (number  0)
    {
        remainder  number mod 2
        push (S, remainder)
        number  number / 2
    }
    while (not empty (S))
    {
        pop (S, x)
        print (x)
    }
    return
}
\`\`\`
We create an empty stack first. Then we use a *while* loop to create the bits, but instead of printing them, we push them into the stack. When all bits are created, we exit the loop. Now we use another loop to pop the bits from the stack and print them. Note that the bits are printed in the reverse order to that in which they have been created.

**Pairing data items**
We often need to pair some characters in an expression. For example, when we write a mathematical expression in a computer language, we often need to use parentheses to change the precedence of operators. The following two expressions are evaluated differently because of the parentheses in the second expression:
3  6 + 2 = 20     3  (6 + 2) = 24
In the first expression, the multiplication operator has precedence over the addition operatorit is calculated first. In the second expression, the parentheses ignore the precedence, so the addition is calculated first. When we type an expression with a lot of parentheses, we often forget to pair the parentheses. One of the duties of a compiler is to do the checking for us. The compiler uses a stack to check that all opening parentheses are paired with a closing parentheses.

> **Example 12.3**
> Algorithm 12.2 shows how we can check if every opening parenthesis is paired with a closing parenthesis.

**Algorithm 12.2 Example 12.3**
\`\`\`
Algorithm: CheckingParentheses (expression)
Purpose: Check the pairing of parentheses in an expression
Pre: Given the expression to be checked
Post: Error messages if unpaired parentheses are found
Return: None
{
    stack (S)
    while (more character in the expression)
    {
        Char  next character
        if (Char = '(')
        {
            push (S, Char)
        }
        else
        {
            if (Char = ')')
            {
                if (empty (S))
                {
                    print (unmatched opening parenthesis)
                }
                else
                {
                    pop (S, x)
                }
            }
        }
    }
    if (not empty (S))
    {
        print (a closing parenthesis not matched)
    }
    return
}
\`\`\`

### 12.2.4 Stack implementation
In this section we describe the general ideas behind the implementation of a stack ADT. At the ADT level, we use the stack and its four operations (*stack*, *push*, *pop*, and *empty*): at the implementation level, we need to choose a data structure to implement it. Stack ADT can be implemented using either an array or a linked list. Figure 12.7 shows an example of a stack ADT with five items. The figure also shows how we can implement the stack.

In our array implementation, we have a record that has two fields. The first field can be used to store information about the array: we have used it as the count field, which at each moment shows the number of data items in the stack. The second field is an integer that holds the index of the top element. Note that the array is shown upside down to match the linked list implementation.

The linked list implementation is similar: we have an extra node that has the name of the stack. This node also has two fields: a counter and a pointer that points to the top element.

**Algorithms**
We can write four algorithms in pseudocode for the four operations we defined for stack in each implementation. We showed algorithms to handle arrays and linked lists in Chapter 11: these algorithms can be modified to create the four algorithms we need for stacks: *stack*, *push*, *pop*, and *empty*. These algorithms are even easier than those presented in Chapter 11, because the insertion and deletion is done only at the top of stack. We leave the writing of these algorithms as exercises.

## 12.3 QUEUES
A **queue** is a linear list in which data can only be inserted at one end, called the **rear**, and deleted from the other end, called the **front**. These restrictions ensure that the data are processed through the queue in the order in which it is received. In other words, a queue is a **first in, first out (FIFO)** structure.

Queues are familiar from everyday life. A line of people waiting for the bus at a bus station is a queue, a list of calls put on hold to be answered by a telephone operator is a queue, and a list of waiting jobs to be processed by a computer is a queue.

Figure 12.8 shows two representations of queues, one a queue of people and the other a computer queue. Both people and data enter the queue at the rear and progress through the queue until they arrive at the front. Once they are at the front of the queue, they leave the queue and are served.

### 12.3.1 Operations on queues
Although we can define many operations for a queue, four are basic: *queue*, *enqueue*, *dequeue*, and *empty*, as defined below.

**The queue operation**
The *queue* operation creates an empty queue. The following shows the format:
\`queue (queueName)\`
*queueName* is the name of the queue to be created. This operation returns an empty queue. Figure 12.9 shows a pictorial representation of this operation.

**The enqueue operation**
The *enqueue* operation inserts an item at the rear of the queue. The following shows the format:
\`enqueue (queueName, dataItem)\`
*queueName* is the name of the queue and *dataItem* is the data to be inserted at the rear of the queue. After the enqueue operation, the new item becomes the last item in the queue. This operation returns the new queue with *dataItem* inserted at the rear. Figure 12.10 shows the pictorial representation of this operation.

**The dequeue operation**
The *dequeue* operation deletes the item at the front of the queue. The following shows the format:
\`dequeue (queueName, dataItem)\`
*queueName* is the name of the queue and *dataItem* is the data that is deleted from the queue. The deleted item can be used by the application program or can be just discarded. After the dequeue operation, the item that followed the front element becomes the front element. This operation returns the new queue with one less element. Figure 12.11 shows the pictorial representation of this operation.

**The empty operation**
The *empty* operation checks the status of the queue. The following shows the format:
\`empty (queueName)\`
The *queueName* is the name of the queue. This operation returns *true* if the queue is empty and *false* if the queue is not empty.

### 12.3.2 Queue ADT
We define a queue as an ADT as shown below:

**Queue ADT**
**Definition**
A list of data items in which an item can be deleted from one end, called the front and an item can be inserted at the other end called the rear.
**Operations**
*queue*: Creates an empty queue.
*enqueue*: Inserts an element at the rear.
*dequeue*: Deletes an element from the front.
*empty*: Checks the status of the queue.

> **Example 12.4**
> Figure 12.12 shows a segment of an algorithm that applies the previously defined operations on a queue Q. The fourth operation checks the status of the queue before trying to dequeue the front element. The value of the front element is stored in the variable x. However, we do not use this valueit will automatically be discarded at the end of the algorithm segment.

### 12.3.3 Queue applications
Queues are one of the most common of all data processing structures. They are found in virtually every operating system and network and in countless other areas. For example, queues are used in online business applications such as processing customer requests, jobs, and orders. In a computer system, a queue is needed to process jobs and for system services such as print spools.

> **Example 12.5**
> Queues can be used to organize databases by some characteristic of the data. For example, imagine we have a list of sorted data stored in the computer belonging to two categories: less than 1000, and greater than 1000. We can use two queues to separate the categories and at the same time maintain the order of data in their own category. Algorithm 12.3 shows the pseudocode for this operation.

**Algorithm 12.3 Example 12.5**
\`\`\`
Algorithm: Categorizer (list)
Purpose: Categorize data into two categories and create two separate lists.
Pre: Given: original list
Post: Prints the two lists
Return: None
{
    queue (Q1)
    queue (Q2)
    while (more data in the list)
    {
        if (data < 1000)
        {
            enqueue (Q1, data)
        }
        if (data  1000)
        {
            enqueue (Q2, data)
        }
    }
    while (not empty (Q1))
    {
        dequeue (Q1, x)
        print (x)
    }
    while (not empty (Q2))
    {
        dequeue (Q2, x)
        print (x)
    }
    return
}
\`\`\`

> **Example 12.6**
> Another common application of a queue is to adjust and create a balance between a fast producer of data and a slow consumer of data. For example, assume that a CPU is connected to a printer. The speed of a printer is not comparable with the speed of a CPU. If the CPU waits for the printer to print some data created by the CPU, the CPU would be idle for a long time. The solution is a queue. The CPU creates as many chunks of data as the queue can hold and sends them to the queue. The CPU is now free to do other jobs. The chunks are dequeued slowly and printed by the printer. The queue used for this purpose is normally referred to as a *spool queue*.

### 12.3.4 Queue implementation
At the ADT level, we use the queue and its four operations (*queue*, *enqueue*, *dequeue*, and *empty*): at the implementation level, we need to choose a data structure to implement it. A queue ADT can be implemented using either an array or a linked list. Figure 12.13 on page 331 shows an example of a queue ADT with five items. The figure also shows how we can implement it.

In the array implementation we have a record with three fields. The first field can be used to store information about the queue: we have used this as a count field that shows the current number of data items in the queue. The second field is an integer that holds the index of the front element. The third field is also an integer, which holds the index of the rear element.

The linked list implementation is similar: we have an extra node that has the name of the queue. This node also has three fields: a count, a pointer that points to the front element, and a pointer that points to the rear element.

**Algorithms**
We can write four algorithms in pseudocode for the four operations we defined for queues in each implementation. We described algorithms to handle arrays and linked lists in Chapter 11: we can modify those algorithms to create the four algorithms we need for queues: *queue*, *enqueue*, *dequeue*, and *empty*. These algorithms are easier than those presented in Chapter 11, because insertion is done only at the end of the queue and deletion is done only at the front of the queue. We leave the writing of these algorithms as exercises.

## 12.4 GENERAL LINEAR LISTS
Stacks and queues defined in the two previous sections are *restricted linear lists*. A general linear list is a list in which operations, such as insertion and deletion, can be done anywhere in the listat the beginning, in the middle, or at the end. Figure 12.14 shows a general linear list.

We define a **general linear list** as a collection of elements with the following properties:
- The elements are of the same type.
- The elements are arranged sequentially, which means that there is a first element and a last element.
- Each element except the first has a unique predecessor, each element except the last has a unique successor.
- Each element is a record with a key field.
- The elements are sorted based on the key value.

### 12.4.1 Operations on general linear lists
Although we can define many operations on a general linear list, we discuss only six common operations in this chapter: *list*, *insert*, *delete*, *retrieve*, *traverse*, and *empty*.

**The list operation**
The *list* operation creates an empty list. The following shows the format:
\`list (listName)\`
*listName* is the name of the general linear list to be created. This operation returns an empty list.

**The insert operation**
Since we assume that data in a general linear list is sorted, insertion must be done in such a way that the ordering of the elements is maintained. To determine where the elements are to be placed, searching is needed. However, searching is done at the implementation level, not at the ADT level. In addition, we assume for simplicity that duplicate data is not allowed in a general linear list. Therefore we insert an element in a location that preserves the order of the keys. The following shows the format:
\`insert (listName, element)\`
Insertion is shown graphically in Figure 12.15.

**The delete operation**
Deletion from a general list (Figure 12.16) also requires that the list be searched to locate the data to be deleted. After the location of the data is found, deletion can be done. The following shows the format:
\`delete (listName, target, element)\`
*target* is a data value of the same type as the key of the elements in the list. If an element with the key value equal to the target is found, that element is deleted. The **delete operation** is shown graphically in Figure 12.16.

Note that this operation returns the deleted element. This is necessary if we want, say, to change the value of some fields and reinsert the item into the list againwe have not defined any operation that changes the value of the fields in the list.

**The retrieve operation**
By retrieval, we mean access of a single element. Like insertion and deletion, the general list should be first searched, and if the data is found, it can be retrieved. The format of the retrieve operation is:
\`retrieve (listName, target, element)\`
*target* is a data value of the same type as the key of the elements in the list. Figure 12.17 shows the retrieve operation graphically. If an element with the key value equal to the target is found, a copy of the element is retrieved, but the element still remains in the list.

**The traverse operation**
Each of the previous operations involves a single element in the list, randomly accessing the list. List traversal, on the other hand, involves sequential access. It is an operation in which all elements in the list are processed one by one. The following shows the format:
\`traverse (listName, action)\`
The traverse operation accesses the elements of the list sequentially, while the action specifies the operation to be performed on each element. Some examples of actions are printing the data, applying some mathematical operation on the data, and so on.

**The empty operation**
The *empty* operation checks the status of the list. The following shows the format:
\`empty (listName)\`
*listName* is the name of the list. This operation returns *true* if the list is empty, or *false* if the list is not empty.

### 12.4.2 General linear list ADT
We define a general linear list as an ADT as shown below:

**General Linear List ADT**
**Definition**
A list of sorted data items, all of the same type.
**Operations**
*list*: Creates an empty list.
*insert*: Inserts an element in the list.
*delete*: Deletes an element from the list.
*retrieve*: Retrieves an element from the list.
*traverse*: Traverses the list sequentially.
*empty*: Checks the status of the list.

> **Example 12.7**
> Figure 12.18 shows a segment of an algorithm that applies the previously defined operations on a list L. Note that the third operation inserts the new data at the correct position because the insert operation calls the search algorithm at the implementation level to find where the new data should be inserted.
> The fourth operation is required to delete the data item 3 from the list. It calls the *empty* operation to be sure that the list is not empty. Since the list is not empty, this operation can proceed, but when it calls the search operation at the implementation level, the data item is not found in the list. The list is therefore returned without a change. Finally the final operation inserts 6 at the appropriate location.

### 12.4.3 General linear list applications
General linear lists are used in situations in which the elements are accessed randomly or sequentially. For example, in a college a linear list can be used to store information about students who are enrolled in each semester.

> **Example 12.8**
> Assume that a college has a general linear list that holds information about the students and that each data element is a record with three fields: *ID*, *Name*, and *Grade*. Algorithm 12.4 shows an algorithm that helps a professor to change the grade for a student. The delete operation removes an element from the list, but makes it available to the program to allow the grade to be changed. The insert operation inserts the changed element back into the list. The element holds the whole record for the student, and the target is the *ID* used to search the list.

**Algorithm 12.4 Example 12.8**
\`\`\`
Algorithm: ChangeGrade (StudentList, target, grade)
Purpose: Change the grade of a student
Pre: Given the list of students and the grade
Post: None
Return: None
{
    delete (StudentList, target, element)
    (element.data).Grade  grade
    insert (StudentList, element)
    return
}
\`\`\`

> **Example 12.9**
> Continuing with Example 12.8, assume that the tutor wants to print the record of all students at the end of the semester. Algorithm 12.5 can do this job.

**Algorithm 12.5 Example 12.9**
\`\`\`
Algorithm: PrintRecord (StudentList)
Purpose: Print the record of all students in the StudentList
Pre: Given the list of students
Post: None
Return: None
{
    traverse (StudentList, Print)
    return
}
\`\`\`
We assume that there is an algorithm called *Print* that prints the contents of the record. For each node, the list traverse calls the *Print* algorithm and passes the data to be printed to it.

### 12.4.4 General linear list implementation
At the ADT level, we use the list and its six operations (*list*, *insert*, *delete*, *retrieve*, *traverse*, and *empty*), but at the implementation level we need to choose a data structure to implement it. A general list ADT can be implemented using either an array or a linked list. Figure 12.19 shows an example of a list ADT with five items. The figure also shows how we can implement it.

In our array implementation we have a record with two fields. The first field can be used to store information about the array: we have used it as a count field that shows the current number of data item in a list. The second field is an integer that holds the index of the first element.

The linked list implementation is similar: we have an extra node that has the name of the list. This node also has two fields, a counter and a pointer that points to the first element.

**Algorithms**
We can write six algorithms in pseudocode for the six operations we defined for a list in each implementation. We showed algorithms to handle arrays and linked lists in Chapter 11: these algorithms can be slightly modified to create the algorithms we need for a list. We leave these as an exercise.

## 12.5 TREES
A **tree** consists of a finite set of elements, called **nodes** (or **vertices**), and a finite set of directed lines, called **arcs**, that connect pairs of the nodes. If the tree is not empty, one of the nodes, called the **root**, has no incoming arcs. The other nodes in a tree can be reached from the root by following a unique **path**, which is a sequence of consecutive arcs. Tree structures are normally drawn upside down with the root at the top (see Figure 12.20).

We can divide the vertices in a tree into three categories: the root, **leaves**, and the **internal nodes**.
Table 12.1 shows the number of outgoing and incoming arcs allowed for each type of node.

**Table 12.1 Number of incoming and outgoing arcs**
| Type of node | Incoming arc | Outgoing arc |
| :--- | :--- | :--- |
| root | 0 | 0 or more |
| leaf | 1 | 0 |
| internal | 1 | 1 or more |

A node that is directly accessible (through a single arc) from a given node is called the **child**: the node from which the child is directly accessible is called a **parent**. Nodes with a common parent are called **siblings**. **Descendents** of a node are all nodes that can be reached by that node, and a node from which all descendents can be reached is called an **ancestor**. Each node in a tree may have a **subtree**.

The subtree of each node includes one of its children and all descendents of that child. Figure 12.21 shows all subtrees for the tree in Figure 12.20.

Although trees have many applications in computer science, such as index files, their study is beyond the scope of this book. We introduce trees as a prelude to discussing one special type of tree, *binary trees*.

### 12.5.1 Binary trees
A **binary tree** is a tree in which no node can have more than two subtrees. In other words, a node can have zero, one, or two subtrees. These subtrees are designated as the **left subtree** and the **right subtree**. Figure 12.22 shows a binary tree with its two subtrees. Note that each subtree is itself a binary tree.

**Recursive definition of binary trees**
In Chapter 8 we introduced the recursive definition of an algorithm. We can also define a structure or an ADT recursively. The following gives the recursive definition of a binary tree. Note that, based on this definition, a binary tree can have a root, but each subtree can also have a root.

**A binary tree is either empty or consists of a node, root, with two subtrees, in which each subtree is also a binary tree.**

Figure 12.23 shows eight trees, the first of which is an empty binary tree (sometimes called a *null* binary tree).

### 12.5.2 Operations on binary trees
The six most common operations defined for a binary tree are *tree* (creates an empty tree) *insert*, *delete*, *retrieve*, *empty* and *traversal*. The first five are complex and beyond the scope of this book. We discuss binary tree traversal in this section.

**Binary tree traversals**
A *binary tree traversal* requires that each node of the tree be processed once and only once in a predetermined sequence. The two general approaches to the traversal sequence are *depth-first* and *breadth-first* traversal.

**Depth-first traversals**
Given that a binary tree consists of a root, a left subtree, and a right subtree, we can define six different **depth-first traversal** sequences. Computer scientists have assigned standard names to three of these sequences in the literature: the other three are unnamed but are easily derived. The standard traversals are shown in Figure 12.24.
- **Preorder traversal**. In **preorder traversal** the root node is processed first, followed by the left subtree and then the right subtree. The prefix *pre* indicates that the root node is processed *before* the subtrees.
- **Inorder traversal**. In **inorder traversal** the left subtree is processed first, then the root node, and finally the right subtree. The prefix *in* indicates that the root node is processed *between* the subtrees.
- **Postorder traversal**. In **postorder traversal** the root node is processed after the left and right subtrees have been processed. The prefix *post* indicates that the root is processed *after* the subtrees.

> **Example 12.10**
> Figure 12.25 shows how we visit each node in a tree using preorder traversal. The figure also shows the *walking order*. In preorder traversal we visit a node when we pass from its left side. The nodes are visited in this order: A, B, C, D, E, F.

**Breadth-first traversals**
In **breadth-first traversal** of a binary tree we process all the children of a node before proceeding with the next generation. As with depth-first traversals, we can trace the traversal with a walk.

> **Example 12.11**
> Figure 12.26 shows how we visit each node in a tree using breadth-first traversal. The figure also shows the walking order. The traversal order is A, B, E, C, D, F.

### 12.5.3 Binary tree applications
Binary trees have many applications in computer science. In this section we mention only two of them: Huffman coding and expression trees.

**Huffman coding**
**Huffman coding** is a compression technique that uses binary trees to generate a variable length binary code from a string of symbols. We discuss Huffman coding in detail in Chapter 15.

**Expression trees**
An arithmetic expression can be represented in three different formats: **infix**, **postfix**, and **prefix**. In an **infix** notation, the operator comes between the two operands. In **postfix** notation, the operator comes after its two operands, and in **prefix** notation it comes before the two operands. These formats are shown below for the addition of two operands A and B.
**Prefix**: + A B    **Infix**: A + B    **Postfix**: A B +

Although we use infix notation in our algorithms and in programming languages, the compiler often changes them to postfix notation before evaluating them. One way to do this conversion is to create an **expression tree**. In an expression tree, the root and the internal nodes are operators and the leaves are the operands. The three standard traversals (preorder, inorder, and postorder: Figure 12.4) then represent the three different expression formats: infix, postfix, and prefix. The inorder traversal produces the infix expression, the postorder traversal produces the postfix expression, and the preorder traversal produces the prefix expression. Figure 12.27 shows an expression and its expression tree. Note that only the infix notation needs parentheses.

### 12.5.4 Binary tree implementation
Binary trees can be implemented using arrays or linked list. Link list implementation is more efficient for deletion and insertion and is more prevalent.

### 12.5.5 Binary search trees
A **binary search tree (BST)** is a binary tree with one extra property: the key value of each node is greater than the key values of all nodes in each left subtree and smaller than the value of all nodes in each right subtree. Figure 12.28 shows the idea.

> **Example 12.12**
> Figure 12.29 shows some binary trees that are BSTs and some that are not. Note that a tree is a BST if all its subtrees are BSTs and the whole tree is also a BST.

A very interesting property of a BST is that if we apply the inorder traversal of a binary tree, the elements that are visited are sorted in ascending order. For example, the three BSTs in Figure 12.29, when traversed in the order gives the list (3, 6, 17), (17, 19), and (3, 6, 14, 17, 19).

**An inorder traversal of a BST creates a list that is sorted in ascending order.**

Another feature that makes a BST interesting is that we can use a version of the binary search we used in Chapter 8 for a binary search tree. Figure 12.30 shows the UML for a BST search.

**Binary search tree ADTs**
The ADT for a binary search tree is similar to the one we defined for a general linear list with the same operation. As a matter of fact, we see more BST lists than general linear lists today. The reason is that searching a BST is more efficient that searching a linear list: a general linear list uses sequential searching, but BSTs use a version of binary search.

**BST implementation**
BSTs can be implemented using either arrays or linked lists. However, linked list structures are more common and more efficient. A linear implementation uses nodes with two pointers, *left* and *right*. The left pointer points to the left subtree and the right pointer points to the right subtree. If the left subtree is empty, the left pointer is null: if the right subtree is empty, the right pointer is null. Like a linked-list implementation of a general linear list, a BST linked-list implementation uses a dummy node that has the same name as the BST. The data section of this dummy node can hold information about the tree, such as the number of nodes in the tree. The pointer section points to the root of the tree. Figure 12.31 shows a BST in which the data field of each node is a record.

## 12.6 GRAPHS
A **graph** is an ADT made of a set of nodes, called vertices, and set of lines connecting the vertices, called **edges** or arcs. Whereas a tree defines a hierarchical structure in which a node can have only one single parent, each node in a graph can have one or more parents. Graphs may be either **directed** or **undirected**. In a **directed graph**, or **digraph**, each edge, which connects two vertices, has a direction (shown in the figure by an arrowhead) from one vertex to the other. In an **undirected graph**, there is no direction. Figure 12.32 shows an example of both a directed graph (a) and an undirected graph (b).

The vertices in a graph can represent objects or concepts and the edges or arcs can represent a relationship between those objects or concepts. If a graph is directed, the relations are one-way: if a graph is undirected, the relation is two-way.

> **Example 12.13**
> A map of cities and the roads connecting the cities can be represented in a computer using an undirected graph. The cities are vertices and the undirected edges are the roads that connect them. If we want to show the distances between the cities, we can use *weighted graphs*, in which each edge has a weight that represent the distance between two cities connected by that edge.

> **Example 12.14**
> Another application of graphs is in computer networks (Chapter 6). The vertices can represent the nodes or hubs; the edges can represent the route. Each edge can have a weight that defines the cost of reaching from one hub to the adjacent hub. A router can use graph algorithms to find the shortest path between itself and the final destination of a packet.

## 12.7 END-CHAPTER MATERIALS

### 12.7.1 Recommended reading
For more details about subjects discussed in this chapter, the following books are recommended:
- Gilberg, R. and Forouzan, B. *Data Structures  A Pseudocode Approach with C*, Boston, MA: Course Technology, 2005
- Goodrich, M. and Tamassia, R. *Data Structures and Algorithms in Java*, New York: Wiley, 2005
- Nyhoff, L. *ADTs, Data Structures, and Problem Solving with C++*, Upper Saddle River, NJ: Prentice-Hall, 2005

### 12.7.2 Key terms
- abstract data type (ADT)
- ancestor
- arc
- binary search tree (BST)
- binary tree
- breadth-first traversal
- child
- delete operation
- depth-first traversal
- dequeue
- descendent
- digraph
- directed graph
- edge
- enqueue
- expression tree
- first in, first out (FIFO)
- front
- general linear list
- graph
- Huffman coding
- infix
- inorder traversal
- interface
- internal node
- last in, first out (LIFO)
- leaf
- linear list
- node
- parent
- path
- pop
- postfix
- postorder traversal
- prefix
- preorder traversal
- push
- queue
- rear
- root
- sibling
- stack
- subtree
- traversal
- tree
- undirected graph
- vertex

### 12.7.3 Summary
Although several simple data types have been implemented in all programming languages, most languages do not define complex data types. An abstract data type (ADT) is a package that defines a new data type, defines operations on that data type, and encapsulates the data and the operations.
- A stack is a restricted linear list in which all additions and deletions are made at one end, called the top. If we inserted a series of data items into a stack and then removed them, the order of the data is reversed. This reversing attribute is why stacks are known as a last in, first out (LIFO) structure. We defined four basic operations on a stack: stack, push, pop, and empty.
- A queue is a linear list in which data can only be inserted at one end, called the rear, and deleted from the other end, called the front. These restrictions ensure that data is processed through the queue in the order in which it is received. In other words, a queue is a first in, first out (FIFO) structure. We defined four basic operations for a queue: queue, enqueue, dequeue, and empty. A general linear list is a list in which operations, such as insertion and deletion, can be done anywhere in the listat the beginning, in the middle, or at the end. We defined six operations for a general linear list: list, insert, delete, retrieve, traverse, and empty.
- A tree consists of a finite set of elements, called nodes (or vertices), and a finite set of directed lines, called arcs, that connect pairs of nodes. If the tree is not empty, one of the nodes, called the root, has no incoming arcs. A binary tree is a tree in which no node can have more than two subtrees. In other words, a node can have zero, one, or two subtrees. A binary tree traversal requires that each node of the tree be processed once and only once in a predetermined sequence. The two general approaches to the traversal sequence are depth first and breadth first. A binary search tree (BST) is a binary tree with one extra property: the key value of each node is greater than the key values of all nodes in each left subtree and smaller than the value of all nodes in each right subtree.
- A graph is an ADT made up of a set of nodes, called vertices, and set of lines connecting the vertices, called edges or arcs. Whereas a tree defines a hierarchical structure in which a node can only have a single parent, each node in a graph can have one or more parents. Graphs may be either directed or undirected.

## 12.8 PRACTICE SET

### 12.8.1 Quizzes
A set of interactive quizzes for this chapter can be found on the books website. It is strongly recommended that the student takes the quizzes to check his/her understanding of the materials before continuing with the practice set.

### 12.8.2 Review questions
1. What is an abstract data type? In an ADT, what is known and what is hidden?
2. What is a stack? What are the four basic stack operations defined in this chapter?
3. What is a queue? What are the four basic queue operations defined in this chapter?
4. What is a general linear list? What are the six basic operations defined for a general linear list in this chapter?
5. Define a tree. Distinguish between a tree and a binary tree. Distinguish between a binary tree and a binary search tree.
6. Distinguish between a depth-first traversal and breadth-first traversal of a binary tree.
7. What is a graph? Distinguish between a directed graph and an undirected graph.
8. List some applications of stacks and queues.
9. List some applications of general linear lists.
10. List some applications of binary trees and binary search trees.

### 12.8.3 Problems
1. Write an algorithm segment using while loops to empty the contents of stack S2.
2. Write an algorithm segment using while loops to move the contents of stack S1 to S2. After the operation, stack S1 should be empty.
3. Write an algorithm segment using while loops to copy the contents of stack S1 to S2. After the operation, the contents of stacks S1 and S2 should be the same.
4. Write an algorithm segment using while loops to concatenate the contents of stack S2 with the contents of stack S1. After the concatenation, the elements of stack S2 should be above the elements of stack S1 and stack S2 should be empty.
5. Show the contents of stack S1 and the value of variables x and y after the following algorithm segment is executed.
   \`stack (S1)\`
   \`push (S1, 5)\`
   \`push (S1, 3)\`
   \`push (S1, 2)\`
   \`if (not empty (S1))\`
   \`{\`
       \`pop (S1, x)\`
   \`}\`
   \`if (not empty (S1))\`
   \`{\`
       \`pop (S1, y)\`
   \`}\`
   \`push (S1, 6)\`
6. A palindrome is a string that can be read backwards and forwards with the same result. For example, the following is a palindrome if we ignore spaces:
   *Able was I ere I saw Elba*
   Write an algorithm in pseudocode using a stack to test whether a string is a palindrome.
7. Write an algorithm in pseudocode to compare the contents of two stacks.
8. Use a while loop to empty the contents of queue Q.
9. Use while loops to move the contents of queue Q1 to queue Q2. After the operation, queue Q1 should be empty.
10. Use while loops to copy the contents of queue Q1 to queue Q2. After the operation, the contents of queue Q1 and queue Q2 should be the same.
11. Use while loops to concatenate the contents of queue Q2 to the contents of queue Q1. After the concatenation, the elements of queue Q2 should be at the end of the elements of queue Q1. Queue Q2 should be empty.
12. Write an algorithm to compare the contents of two queues.
13. Find the root of each of the following binary trees:
    a. Tree with postorder traversal: FCBDG
    b. Tree with preorder traversal: IBCDFEN
    c. Tree with postorder traversal: CBIDFGE
14. A binary tree has ten nodes. The inorder and preorder traversal of the tree are shown below:
    Preorder: JCBADEFIGH    Inorder: ABCEDFJGIH
    Draw the tree.
15. A binary tree has eight nodes. The inorder and postorder traversal of the tree follow:
    Postorder: FECHGDBA    Inorder: FECABHDG
    Draw the tree.
16. A binary tree has seven nodes. The following shows the inorder and postorder traversal of a tree. Can we draw the tree? If not, explain why not:
    Postorder: GFDABEC    Inorder: ABDCEFG
17. Create the ADT package in pseudocode to implement the four operations defined for a stack in this chapter using an array as the data structure.
18. Create the ADT package in pseudocode to implement the four operations defined for a stack in this chapter using a linked list as the data structure.
19. Create the ADT package in pseudocode to implement the four operations defined for a queue in this chapter using an array as the data structure.
20. Create the ADT package in pseudocode to implement the four operations defined for a queue in this chapter using a linked list as the data structure.
21. Create the ADT package in pseudocode to implement the six operations defined for a general linear list in this chapter using an array as the data structure.
22. Create the ADT package in pseudocode to implement the six operations defined for a general linear list in this chapter using a linked list as the data structure.
`,zh:`
# 

 (ADT) 11 ADT  ADT  ADT

## 

-  (ADT) 
- 
- 
- 
- 
- 
-  (BST) 
- 

## 12.1 
** (ADT)** ADT 

### 12.1.1  ADT
 ADT C ** ADT ADT C C  C  ADT 

** $z \\leftarrow x + y$  $x$ $y$ $z$ CPU C 

### 12.1.2  ADT
 ADT ADT  ADT ADT ADT  ADT **

 ADT****ADT 

****
1. ****
2. ****

### 12.1.3 
 ADT

****
1. ****
2. ****
3. ****

### 12.1.4 
ADT  12.1  ADTADT ******** ADT  ADT 

 ADT  ADT 

### 12.1.5 
 ADT  ADT ADT  ADT 

## 12.2 
******** 5101520  201510  5 ** (LIFO)** 

 12.2 

### 12.2.1 
*stack**push**pop*  *empty*

**stack **
*stack* 
\`stack (stackName)\`
*stackName*  12.3 

**push **
*push* 
\`push (stackName, dataItem)\`
*stackName* *dataItem*  push  *dataItem*  12.4 

**pop **
*pop* 
\`pop (stackName, dataItem)\`
*stackName* *dataItem*  12.5 
 pop 

**empty **
*empty* 
\`empty (stackName)\`
*stackName*  *true* *false*

### 12.2.2  ADT
 ADT

** ADT**
****

****
*stack*
*push*
*pop*
*empty*

> ** 12.1**
>  12.6  S  x 

### 12.2.3 


****
 (2, 4, 7, 1, 6, 8)  (8, 6, 1, 7, 4, 2)

> ** 12.2**
>  2 2.2.6  2.6 UML LIFO 
>  12.1 

** 12.1  2.2**
\`\`\`
DecimalToBinary (number)

 (number)


{
    stack (S)
    while (number  0)
    {
        remainder  number mod 2
        push (S, remainder)
        number  number / 2
    }
    while (not empty (S))
    {
        pop (S, x)
        print (x)
    }
    return
}
\`\`\`
 *while* 

****

3  6 + 2 = 20     3  (6 + 2) = 24


> ** 12.3**
>  12.2 

** 12.2  12.3**
\`\`\`
CheckingParentheses (expression)




{
    stack (S)
    while (more character in the expression)
    {
        Char  next character
        if (Char = '(')
        {
            push (S, Char)
        }
        else
        {
            if (Char = ')')
            {
                if (empty (S))
                {
                    print (unmatched opening parenthesis)
                }
                else
                {
                    pop (S, x)
                }
            }
        }
    }
    if (not empty (S))
    {
        print (a closing parenthesis not matched)
    }
    return
}
\`\`\`

### 12.2.4 
 ADT  ADT *stack**push**pop*  *empty* ADT  12.7  ADT 





****
 11 *stack**push**pop*  *empty* 11 

## 12.3 
************** (FIFO)** 



 12.8 

### 12.3.1 
*queue**enqueue**dequeue*  *empty*

**queue **
*queue* 
\`queue (queueName)\`
*queueName*  12.9 

**enqueue **
*enqueue* 
\`enqueue (queueName, dataItem)\`
*queueName* *dataItem*  enqueue  *dataItem*  12.10 

**dequeue **
*dequeue* 
\`dequeue (queueName, dataItem)\`
*queueName* *dataItem*  dequeue  12.11 

**empty **
*empty* 
\`empty (queueName)\`
*queueName*  *true* *false*

### 12.3.2  ADT
 ADT

** ADT**
****

****
*queue*
*enqueue*
*dequeue*
*empty*

> ** 12.4**
>  12.12  Q  x 

### 12.3.3 


> ** 12.5**
>  1000  1000 12.3 

** 12.3  12.5**
\`\`\`
Categorizer (list)




{
    queue (Q1)
    queue (Q2)
    while (more data in the list)
    {
        if (data < 1000)
        {
            enqueue (Q1, data)
        }
        if (data  1000)
        {
            enqueue (Q2, data)
        }
    }
    while (not empty (Q1))
    {
        dequeue (Q1, x)
        print (x)
    }
    while (not empty (Q2))
    {
        dequeue (Q2, x)
        print (x)
    }
    return
}
\`\`\`

> ** 12.6**
>  CPU  CPU  CPU  CPU CPU CPU CPU * (spool queue)*

### 12.3.4 
 ADT *queue**enqueue**dequeue*  *empty* ADT  331  12.13  ADT 





****
 11 *queue**enqueue**dequeue*  *empty* 11 

## 12.4 
** 12.14 

****
- 
- 
- 
- 
- 

### 12.4.1 
*list**insert**delete**retrieve**traverse*  *empty*

**list **
*list* 
\`list (listName)\`
*listName* 

**insert **
 ADT 
\`insert (listName, element)\`
 12.15 

**delete **
 12.16
\`delete (listName, target, element)\`
*target* **delete ** 12.16 



**retrieve **

\`retrieve (listName, target, element)\`
*target*  12.17 

**traverse **

\`traverse (listName, action)\`
 action 

**empty **
*empty* 
\`empty (listName)\`
*listName*  *true* *false*

### 12.4.2  ADT
 ADT

** ADT**
****

****
*list*
*insert*
*delete*
*retrieve*
*traverse*
*empty*

> ** 12.7**
>  12.18  L 
>  3 *empty*  6

### 12.4.3 


> ** 12.8**
> *ID**Name*  *Grade* 12.4  *ID*

** 12.4  12.8**
\`\`\`
ChangeGrade (StudentList, target, grade)




{
    delete (StudentList, target, element)
    (element.data).Grade  grade
    insert (StudentList, element)
    return
}
\`\`\`

> ** 12.9**
>  12.8 12.5 

** 12.5  12.9**
\`\`\`
PrintRecord (StudentList)
 StudentList 



{
    traverse (StudentList, Print)
    return
}
\`\`\`
 *Print*  *Print* 

### 12.4.4 
 ADT *list**insert**delete**retrieve**traverse*  *empty* ADT  12.19  ADT 





****
 11 

## 12.5 
************************ 12.20

********
 12.1 

** 12.1 **
|  |  |  |
| :--- | :--- | :--- |
|  | 0 | 0  |
|  | 1 | 0 |
|  | 1 | 1  |

************************

 12.21  12.20 

**

### 12.5.1 
************ 12.22 

****
 8  ADT

****

 12.23 * (null)* 

### 12.5.2 
 *tree**insert**delete**retrieve**empty*  *traversal*

****
******

****
**** 12.24 
- ** (Preorder traversal)****** *pre* **
- ** (Inorder traversal)****** *in* **
- ** (Postorder traversal)****** *post* **

> ** 12.10**
>  12.25 **A, B, C, D, E, F

****
****

> ** 12.11**
>  12.26  A, B, E, C, D, F

### 12.5.3 


****
**** 15 

****
************************ A  B 
****+ A B    ****A + B    ****A B +

**** 12.4 12.27 

### 12.5.4 


### 12.5.5 
** (BST)**  12.28 

> ** 12.12**
>  12.29  BST  BST  BST  BST BST

BST  12.29  BST (3, 6, 17), (17, 19),  (3, 6, 14, 17, 19)

**BST **

 BST  8  12.30  BST  UML

** ADT**
 ADT  ADT BST  BST  BST 

**BST **
BST  *left*  *right* BST  BST  12.31  BST

## 12.6 
******** ADT**************digraph****** 12.32  (a)  (b) 



> ** 12.13**
> **

> ** 12.14**
>  6 

## 12.7 

### 12.7.1 

- Gilberg, R. and Forouzan, B. *Data Structures  A Pseudocode Approach with C*, Boston, MA: Course Technology, 2005
- Goodrich, M. and Tamassia, R. *Data Structures and Algorithms in Java*, New York: Wiley, 2005
- Nyhoff, L. *ADTs, Data Structures, and Problem Solving with C++*, Upper Saddle River, NJ: Prentice-Hall, 2005

### 12.7.2 
-  (ADT)
-  (ancestor)
-  (arc)
-  (BST)
-  (binary tree)
-  (breadth-first traversal)
-  (child)
-  (delete operation)
-  (depth-first traversal)
- dequeue
-  (descendent)
-  (digraph)
-  (directed graph)
-  (edge)
- enqueue
-  (expression tree)
-  (FIFO)
-  (front)
-  (general linear list)
-  (graph)
-  (Huffman coding)
-  (infix)
-  (inorder traversal)
-  (interface)
-  (internal node)
-  (LIFO)
-  (leaf)
-  (linear list)
-  (node)
-  (parent)
-  (path)
- pop
-  (postfix)
-  (postorder traversal)
-  (prefix)
-  (preorder traversal)
- push
-  (queue)
-  (rear)
-  (root)
-  (sibling)
-  (stack)
-  (subtree)
-  (traversal)
-  (tree)
-  (undirected graph)
-  (vertex)

### 12.7.3 
 (ADT) 
-  (LIFO) stackpushpop  empty
-  (FIFO) queueenqueuedequeue  emptylistinsertdeleteretrievetraverse  empty
-  (BST) 
-  ADT

## 12.8 

### 12.8.1 
/

### 12.8.2 
1.  ADT 
2. 
3. 
4. 
5. 
6. 
7. 
8. 
9. 
10. 

### 12.8.3 
1.  while  S2 
2.  while  S1  S2 S1 
3.  while  S1  S2 S1  S2 
4.  while  S2  S1  S2  S1  S2 
5.  S1  x  y 
   \`stack (S1)\`
   \`push (S1, 5)\`
   \`push (S1, 3)\`
   \`push (S1, 2)\`
   \`if (not empty (S1))\`
   \`{\`
       \`pop (S1, x)\`
   \`}\`
   \`if (not empty (S1))\`
   \`{\`
       \`pop (S1, y)\`
   \`}\`
   \`push (S1, 6)\`
6. 
   *Able was I ere I saw Elba*
   
7. 
8.  while  Q 
9.  while  Q1  Q2 Q1 
10.  while  Q1  Q2 Q1  Q2 
11.  while  Q2  Q1  Q2  Q1  Q2 
12. 
13. 
    a. FCBDG
    b. IBCDFEN
    c. CBIDFGE
14. 
    JCBADEFIGH    ABCEDFJGIH
    
15. 
    FECHGDBA    FECABHDG
    
16. 
    GFDABEC    ABDCEFG
17.  ADT 
18.  ADT 
19.  ADT 
20.  ADT 
21.  ADT 
22.  ADT 
`},bN={en:`
# Chapter 13: File Structure

In this chapter we discuss file structures. Based on the application, files are stored in auxiliary storage devices using various methods. We also discuss how individual records are retrieved. This chapter is a prelude to the following chapter, which discusses how a collection of related files, called a database, is organized and accessed.

## Objectives
After studying this chapter, the student should be able to:
- Define two categories of access methods: sequential access and random access.
- Understand the structure of sequential files and how they are updated.
- Understand the structure of indexed files and the relation between the index and the data file.
- Understand the idea behind hashed files and describe some hashing methods.
- Describe address collisions and how they can be resolved.
- Define directories and how they can be used to organize files.
- Distinguish between text and binary files.

## 13.1 INTRODUCTION
Files are stored on **auxiliary** or **secondary storage devices**. The two most common forms of secondary storage are disk and tape. Files in secondary storage can be both read from and written to. Files can also exist in forms that the computer can write to but not read. For example, the display of information on the system monitor is a form of file, as is data sent to a printer. In a general sense, the keyboard is also a file, although it cannot store data.

For our purposes, a file is a collection of data records in which each record consists of one or more fields, as defined in Chapter 11.

When we design a file, the important issue is how we will retrieve information (a specific record) from the file. Sometimes we need to process records one after another, whereas sometimes we need to access a specific record quickly without retrieving the preceding records. The **access method** determines how records can be retrieved: *sequentially* or *randomly*.

### 13.1.1 Sequential access
If we need to access a file sequentiallythat is, one record after another, from beginning to endwe use a **sequential file** structure.

### 13.1.2 Random access
If we need to access a specific record without having to retrieve all records before it, we use a file structure that allows **random access**. Two file structures allow this: *indexed files* and *hashed files*.

## 13.2 SEQUENTIAL FILES
A sequential file is one in which records can only be accessed one after another from beginning to end. Records are stored one after another in auxiliary storage, such as tape or disk, and there is an **EOF (end-of-file)** marker after the last record. The operating system has no information about the record addresses, it only knows where the whole file is stored. The only thing known to the operating system is that the records are sequential.

Algorithm 13.1 shows how records in a sequential file are processed. We process the records one by one. After the operating system processes the last record, the EOF is detected and the loop is exited.

**Algorithm 13.1 Pseudocode for processing records in a sequential file**
\`\`\`text
Algorithm: SequentialFileProcessing (file)
Purpose: Process all records in a sequential file
Pre: Given the beginning address of the file on the auxiliary storage
Post: None
Return: None
{
    while (Not EOF)
    {
        Read the next record from the auxiliary storage into memory
        Process the record
    }
}
\`\`\`

Sequential files are used in applications that need to access all records from beginning to end. For example, if personal information about each employee in a company is stored in a file, we can use **sequential access** to retrieve each record at the end of the month to print the paychecks. Because we have to process each record, sequential access is more efficient and easier than random access.

However, the sequential file is not efficient for random access. For example, if all customer records in a bank can only be accessed sequentially, a customer who needs to get money from an ATM would have to wait as the system checks each record from the beginning of the file until it reaches the customers record. If this bank has a million customers, the system, on average, would retrieve half a million records before reaching the customers record. This is very inefficient.

### 13.2.1 Updating sequential files
Sequential files must be updated periodically to reflect changes in information. The updating process is very involved because all the records need to be checked and updated (if necessary) sequentially.

**Files involved in updating**
There are four files associated with an update program: the new master file, the old master file, the transaction file, and the error report file. All these files are sorted based on key values.
- **New master file**: The new permanent data file or, as it is commonly known, the **new master file**, contains the most current data. Note that after the update program completes, the new master file is sent to offline storage, where it is kept until needed again.
- **Old master file**: The **old master file** is the permanent file that should be updated. Even after updating, the old master file is normally kept for reference.
- **Transaction file**: The third file is the **transaction file**. This contains the changes to be applied to the master file. There are three basic types of changes in all file updates:
    - *Add transactions* contain data about a new record to be added to the master file.
    - *Delete transactions* identify records to be deleted from the file.
    - *Change transactions* contain revisions to specific records in the file.
    To process any of these transactions, we need a **key**. A key is one or more fields that uniquely identify the data in the file. For example, in a file of students, the key could be student ID.
- **Error report file**: The fourth file needed in an update program is an **error report file**. It is very rare that an update process does not produce at least one error. When an error occurs, we need to report it. The error report contains a listing of all errors discovered during the update process and is presented for corrective action.

**Processing file updates**
To make the updating process efficient, all files are sorted on the same key. The update process requires that we compare the keys on the transaction and master files and, assuming that there are no errors, follow one of three actions:
1.  If the transaction file key is less than the master file key and the transaction is an add (A), add the transaction to the new master.
2.  If the transaction file key is equal to the master file key, either:
    a.  Change the contents of the master file data if the transaction is a change (C).
    b.  Remove the data from the master file if the transaction is a deletion (D).
3.  If the transaction file key is greater than the master file key, write the old master file record to the new master file.
4.  Several cases may create an error and be reported in the error file:
    a.  If the transaction defines adding a record that already exists in the old master file (same key values).
    b.  If the transaction defines deleting or changing a record that does not exist in the old master file.

## 13.3 INDEXED FILES
To access a record in a file randomly, we need to know the address of the record. For example, suppose a customer wants to check their bank account. Neither the customer nor the teller knows the address of the customers record. The customer can only give the teller their account number (key). Here, an indexed file can relate the account number (key) to the record address.

An **indexed file** is made of a **data file**, which is a sequential file, and an **index**. The index itself is a very small file with only two fields: the key of the sequential file and the address of the corresponding record on the disk. The index is sorted based on the key values of the data files.

Accessing a record in the file requires these steps:
1.  The entire index file is loaded into main memory (the file is small and uses little memory).
2.  The index entries are searched, using an efficient search algorithm such as a binary search, to find the desired key.
3.  The address of the record is retrieved.
4.  Using the address, the data record is retrieved and passed to the user.

### 13.3.1 Inverted files
One of the advantages of indexed files is that we can have more than one index, each with a different key. For example, an employee file can be retrieved based on either social security number or last name. This type of indexed file is usually called an **inverted file**.

## 13.4 HASHED FILES
In an indexed file, the index maps the key to the address. A **hashed file** uses a mathematical function to accomplish this mapping. The user gives the key, the function maps the key to the address and passes it to the operating system, and the record is retrieved.

The hashed file eliminates the need for an extra file (the index). In an indexed file, we must keep the index on file in the disk, and when we need to process the data file, we must first load the index into memory, search it to find the address of the data record, and then access the data file to access the record. In a hashed file, finding the address is done through the use of a function, so there is no need for an index and all of the overhead associated with it. However, we will see that hashed files have their own drawbacks.

### 13.4.1 Hashing methods
For key-address mapping, we can select one of several **hashing methods**. We discuss a few of them here.

**Direct hashing**
In **direct hashing**, the key is the data file address without any algorithmic manipulation. The file must therefore contain a record for every possible key. Although situations suitable for direct hashing are limited, it can be very powerful because it guarantees that there are no *synonyms* or *collisions* (discussed later in this chapter), as with other methods.
Although this is the ideal method, its application is very limited. For example, it is very inefficient to use long identifiers as keys, because they must have several digits. Lets turn our attention, therefore, to hashing techniques that map a large population of possible keys to a small address space.

**Modulo division hashing**
Also known as **division remainder hashing**, the modulo division method divides the key by the file size and uses the remainder plus 1 for the address. This gives the simple hashing algorithm that follows, where *list_size* is the number of elements in the file. The reason for adding a 1 to the mod operation result is that our list starts with 1 instead of 0:
\`address = key mod list_size + 1\`

Although this algorithm works with any list size, a list size that is a **prime number** produces fewer collisions than other list sizes. Therefore, whenever possible, try to make the file size a prime number.

**Digit extraction hashing**
Using **digit extraction hashing**, selected digits are extracted from the key and used as the address. For example, using a six-digit employee number to hash to a three-digit address (000999), we could select the first, third, and fourth digits (from the left) and use them as the address.

**Other hashing methods**
Other popular methods exist, such as the midsquare method, folding methods, the rotational method, and the pseudorandom method.

### 13.4.2 Collision
Generally, the population of keys for a hashed list is greater than the number of records in the data file. Because there are many keys for each address in the file, there is a possibility that more than one key will hash to the same address in the file. We call the set of keys that hash to the same address in our list **synonyms**.

If the actual data that we insert into our list contains two or more synonyms, we will have collisions. A **collision** is the event that occurs when a hashing algorithm produces an address for an insertion key but that address is already occupied. The address produced by the hashing algorithm is known as the **home address**. The part of the file that contains all the home addresses is known as the **prime area**. When two keys collide at a home address, we must resolve the collision by placing one of the keys and its data in another location, outside the prime area.

**Collision resolution**
With the exception of the direct method, none of the methods we have discussed for hashing creates one-to-one mappings. This means that when we hash a new key to an address, we may create a collision. There are several methods for handling collisions, each of them independent of the hashing algorithm.

**Open addressing**
The first collision resolution method, **open addressing resolution**, resolves collisions in the prime area. When a collision occurs, the prime area addresses are searched for an open or unoccupied record where the new data can be placed. One simple strategy for data that cannot be stored in the home address is to store it in the next address (home address + 1).

**Linked list resolution**
A major disadvantage of open addressing is that each collision resolution increases the probability of future collisions. This disadvantage is eliminated in another approach to collision resolution, **linked list resolution**. In this method, the first record is stored in the home address, but contains a pointer to the second record.

**Bucket hashing**
Another approach to handling the problem of collisions is to hash to buckets. A **bucket** is a node that can accommodate more than one record. The disadvantage of this method is that there may be a lot of wasted (unoccupied) locations.

## 13.5 DIRECTORIES
**Directories** are provided by most operating systems for organizing files. A directory performs the same function as a folder in a filing cabinet. However, a directory in most operating systems is represented as a special type of file that holds information about other files. A directory not only serves as a kind of index that tells the operating system where files are located on an auxiliary storage device, but can also contain other information about the files it contains, such as who has access to each file, or the date when each file was created, accessed, or modified.
Directories in most operating systems are organized like the tree abstract data type (ADT), in which each directory except the root directory has a parent. A directory contained in another directory is called a **subdirectory** of the container directory.

### 13.5.1 Directories in the UNIX operating system
In UNIX the directory system is organized as a tree structure. At the top of the directory structure is a directory called the **root**. Although its name is root, in commands related to directories it is typed as one slash (/). In turn, each directory can contain subdirectories and files.

**Special directories**
There are four special types of directory that play an important role in the directory structure in UNIX: the root directory, home directories, working directories, and parent directories.
- **Root directory**: The root directory is the highest level in the file system hierarchy. It is the root of the whole file structure, and therefore does not have a parent directory. The root directory belongs to the system administrator and can be changed only by the system administrator.
- **Home directory**: We use our **home directory** when we first log into the system. This contains any files we create while in it and may contain personal system files. Each user has a home directory.
- **Working directory**: The **working directory** (or **current directory**) is the directory we are in at any point in a user session. When we first log in, the working directory is our home directory. When we change directory, our working directory changes automatically.
- **Parent directory**: The **parent directory** is the directory immediately above the working directory.

**Paths and pathnames**
Every directory and file in a file system must have a name. To uniquely identify a file, we need to specify the files **path** from the root directory to the file. The files path is specified by its **absolute pathname**, a list of all directories separated by a slash character (/).
The absolute pathname for a file or a directory is like an address of a person. UNIX also provides a shorter pathname under certain circumstances, known as a **relative pathname**, which is the path relative to the working directory.

## 13.6 TEXT VERSUS BINARY
Before closing this chapter, we discuss two terms used to categorize files: *text files* and *binary files*. A file stored on a storage device is a sequence of bits that can be interpreted by an application program as a text file or a binary file.

### 13.6.1 Text files
A **text file** is a file of characters. It cannot contain integers, floating-point numbers, or any other data structures in their internal memory format. To store these data types, they must be converted to their character equivalent formats.
Some files can only use character data types. Most notable are file streams (input/output objects in some object-oriented language like C++) for keyboards, monitors, and printers. This is why we need special functions to format data that is input from or output to these devices.

### 13.6.2 Binary files
A **binary file** is a collection of data stored in the internal format of the computer. In this definition, data can be an integer (including other data types represented as unsigned integers, such as image, audio, or video), a floating-point number, or any other structured data (except a file).
Unlike text files, binary files contain data that is meaningful only if it is properly interpreted by a program. If the data is textual, one byte is used to represent one character. But if the data is numeric, two or more bytes are considered a data item.
`,zh:`
# 



## 

- 
- 
- 
- 
- 
- 
- 

## 13.1 
********

 11 

********

### 13.1.1  (Sequential access)
****

### 13.1.2  (Random access)
********

## 13.2  (SEQUENTIAL FILES)
 **EOF ()** 

 13.1  EOF 

** 13.1 **
\`\`\`text
SequentialFileProcessing (file)




{
    while (Not EOF)
    {
        
        
    }
}
\`\`\`

****

 ATM 

### 13.2.1 


****

- ** (New master file)******
- ** (Old master file)******
- ** (Transaction file)******
    - **
    - **
    - **
    ** (key)** ID
- ** (Error report file)******

****

1.   (A)
2.  
    a.   (C)
    b.   (D)
3.  
4.  
    a.  
    b.  

## 13.3  (INDEXED FILES)


************


1.  
2.  
3.  
4.  

### 13.3.1  (Inverted files)
****

## 13.4  (HASHED FILES)
****



### 13.4.1  (Hashing methods)
-****

** (Direct hashing)**
********


** (Modulo division hashing)**
**** 1  *list_size*  1  1  0
\`address = key mod list_size + 1\`

****

** (Digit extraction hashing)**
**** (000999)

****


### 13.4.2  (Collision)
** (synonyms)**

****** (home address)**** (prime area)**

****


** (Open addressing)**
**** + 1

** (Linked list resolution)**
****

** (Bucket hashing)**
** (bucket)** 

## 13.5  (DIRECTORIES)
****
 (ADT)****

### 13.5.1 UNIX 
 UNIX ** (root)**  root (/)

****
 UNIX 
- ****
- ** (Home directory)******
- ** (Working directory)**********
- ** (Parent directory)******

****
******** (/) 
UNIX ****

## 13.6  (TEXT VERSUS BINARY)
****

### 13.6.1  (Text files)
****
 C++ /

### 13.6.2  (Binary files)
****

`},yN={en:`
# Chapter 14: Databases

In this chapter we discuss databases and database management systems (DBMS). We present the three-level architecture for a DBMS, focusing on the **relational database** model, with examples of its operation. We also discuss a language (Standard Query Language) that operates on relational databases. We briefly touch on the design of the databases, and finally mention other database models.

## Objectives
After studying this chapter, the student should be able to:
- Define a database and a database management system (DBMS) and describe the components of a DBMS.
- Describe the architecture of a DBMS based on the ANSI/SPARC definition.
- Define the three traditional database models: hierarchical, networking, and relational.
- Describe the relational model and relations.
- Understand operations on a relational database based on commands available in SQL.
- Describe the steps in database design.
- Define ERM and E-R diagrams and explain the entities and relationships in this model.
- Define the hierarchical levels of normalization and understand the rationale for normalizing the relations.
- List database types other than the relational model.

## 14.1 INTRODUCTION
Data storage traditionally used individual, unrelated files, sometimes called **flat-files**. In the past, each application program in an organization used its own file. In a university, for example, each department might have its own set of files: the record office kept a file about the student information and their grades, the financial aid office kept its own file about students that needed financial aid to continue their education, the scheduling office kept the name of the professors and the courses they were teaching, the payroll department kept its own file about the whole staff (including professors), and so on. Today, however, all of these flat-files can be combined in a single entity, the database for the whole university.

### 14.1.1 Definition
Although it is difficult to give a universally agreed definition of a database, we use the following common definition:
**Definition: A database is a collection of related, logically coherent, data used by the application programs in an organization.**

### 14.1.2 Advantages of databases
Comparing the flat-file system, we can mention several advantages of a database system.

**Less redundancy**
In a flat-file system there is a lot of redundancy. For example, in the flat-file system for a university, the names of professors and students are stored in more than one file.

**Inconsistency avoidance**
If the same piece of information is stored in more than one place, then any changes in the data need to occur in all places that data is stored. For example, if a female student marries and accepts the last name of her husband, the last name of the student needs to be changed in all files that hold information about the student. Lack of care may create inconsistency in the data.

**Efficiency**
A database is usually more efficient that a flat-file system, because a piece of information is stored in fewer locations.

**Data integrity**
In a database system it is easier to maintain data integrity (see Chapter 16) because a piece of data is stored in fewer locations.

**Confidentiality**
It is easier to maintain the confidentiality of the information if the storage of data is centralized in one location.

### 14.1.3 Database management systems
A **database management system (DBMS)** defines, creates, and maintains a database. The DBMS also allows controlled access to data in the database. A DBMS is a combination of five components: hardware, software, data, users, and procedures.

**Hardware**
The hardware is the physical computer system that allows access to data. For example, the terminals, hard disk, main computer, and workstations are considered part of the hardware in a DBMS.

**Software**
The software is the actual program that allows users to access, maintain, and update data. In addition, the software controls which user can access which parts of the data in the database.

**Data**
The data in a database is stored physically on the storage devices. In a database, data is a separate entity from the software that accesses it. This separation allows the organization to change the software without having to change the physical data or the way in which it is stored. If an organization decides to use a DBMS, then all the information needed by the organization should be kept together as one entity, to be accessible by the software in the DBMS.

**Users**
The term users in a DBMS has a broad meaning. We can divide users into two categories: end users and application programs.
- **End users**: End users are those humans who can access the database directly to get information. There are two types of end users: **database administrators (DBAs)** and normal users. Database administrators have the maximum level of privileges and can control other users and their access to the DBMS, grant some of their privileges to somebody else, but retain the ability to revoke them at any time. A normal user, on the other hand, can only use part of the database and has limited access.
- **Application programs**: The other users of data in a database are **application programs**. Applications need to access and process data. For example, a payroll application program needs to access part of the data in a database to create paychecks at the end of the month.

**Procedures**
The last component of a DBMS is a set of procedures or rules that should be clearly defined and followed by the users of the database.

## 14.2 DATABASE ARCHITECTURE
The American National Standards Institute/Standards Planning and Requirements Committee (ANSI/SPARC) has established a three-level architecture for a DBMS: internal, conceptual, and external.

### 14.2.1 Internal level
The **internal level** determines where data is actually stored on the storage devices. This level deals with low-level access methods and how bytes are transferred to and from storage devices. In other words, the internal level interacts directly with the hardware.

### 14.2.2 Conceptual level
The **conceptual level** defines the logical view of the data. The data model is defined on this level, and the main functions of the DBMS, such as queries, are also on this level. The DBMS changes the internal view of data to the external view that users need to see. The conceptual level is an intermediary and frees users from dealing with the internal level.

### 14.2.3 External level
The **external level** interacts directly with the user (end users or application programs). It changes the data coming from the conceptual level to a format and view that is familiar to the users.

## 14.3 DATABASE MODELS
A **database model** defines the logical design of data. The model also describes the relationships between different parts of the data. In the history of database design, three models have been in use: the hierarchical model, the network model, and the relational model.

### 14.3.1 Hierarchical database model
In the **hierarchical model**, data is organized as an inverted tree. Each entity has only one parent but can have several children. At the top of the hierarchy, there is one entity, which is called the *root*. As the hierarchical model is obsolete, no further discussion of this model is necessary.

### 14.3.2 Network database model
In the **network model**, the entities are organized in a graph, in which some entities can be accessed through several paths. There is no hierarchy. This model is also obsolete and needs no further discussion.

### 14.3.3 Relational database model
In the **relational model**, data is organized in two-dimensional tables called **relations**. There is no hierarchical or network structure imposed on the data. The tables or *relations* are, however, related to each other.
The relational model is one of the common models in use today, and we devote most of this chapter to it. In the last section, we briefly discuss the other two common models that are derived from the relational model: the distributed model and the object-oriented model.

## 14.4 THE RELATIONAL DATABASE MODEL
In the **relational database management system (RDBMS)**, the data is represented as a set of relations.

### 14.4.1 Relation
A **relation**, in appearance, is a two-dimensional table. The RDBMS organizes the data so that its external view is a set of relations or tables. This does not mean that data are stored as tables: the physical storage of the data is independent of the way in which the data is logically organized.
A relation in an RDBMS has the following features:
- **Name**. Each relation in a relational database should have a name that is unique among other relations.
- **Attributes**. Each column in a relation is called an **attribute**. The attributes are the column headings in the table. Each attribute gives meaning to the data stored under it. Each column in the table must have a name that is unique in the scope of the relation. The total number of attributes for a relation is called the **degree** of the relation. Note that the attribute names are not stored in the database: the conceptual level uses the attributes to give meaning to each column.
- **Tuples**. Each row in a relation is called a **tuple**. A tuple defines a collection of attribute values. The total number of rows in a relation is called the **cardinality** of the relation. Note that the cardinality of a relation changes when tuples are added or deleted. This makes the database dynamic.

### 14.4.2 Operations on relations
In a relational database we can define several operations to create new relations based on existing ones. We define nine operations in this section: *insert*, *delete*, *update*, *select*, *project*, *join*, *union*, *intersection*, and *difference*. Instead of discussing these operations in the abstract, we describe each operation as defined in the database query language SQL (Structured Query Language).

**Structured Query Language**
**Structured Query Language (SQL)** is the language standardized by the American National Standards Institute (ANSI) and the **International Organization for Standardization (ISO)** for use on relational databases. It is a declarative rather than procedural language, which means that users declare what they want without having to write a step-by-step procedure. The SQL language was first implemented by the Oracle Corporation in 1979, with various versions of SQL being released since then.

**Insert**
The **insert operation** is a **unary operation**that is, it is applied to a single relation. The operation inserts a new tuple into the relation. The insert operation uses the following format:
\`\`\`sql
insert into RELATION-NAME values (..., ..., ...)
\`\`\`
The *values* clause defines all the attribute values for the corresponding tuple to be inserted. String values are enclosed in quotation marks, numeric values are not.

**Delete**
The **delete operation** is also a unary operation. The operation deletes a tuple defined by a criterion from the relation. The delete operation uses the following format:
\`\`\`sql
delete from RELATION-NAME where criteria
\`\`\`
The criteria for deletion are defined in the *where* clause.

**Update**
The **update operation** is also a unary operation that is applied to a single relation. The operation changes the value of some attributes of a tuple. The update operation uses the following format:
\`\`\`sql
update RELATION-NAME
set attribute1 = value1, attribute2 = value2, ...
where criteria
\`\`\`
The attribute to be changed is defined in the *set* clause and the criteria for updating in the *where* clause.

**Select**
The **select operation** is a unary operationthat is, is applied to a single relationand creates another relation. The tuples (rows) in the resulting relation are a subset of the tuples in the original relation. The select operation uses some criteria to select some of the tuples from the original relation. The select operation uses the following format:
\`\`\`sql
select *
from RELATION-NAME
where criteria
\`\`\`
The asterisk signifies that all attributes are chosen.

**Project**
The **project operation** is also a unary operation, and creates another relation. The attributes (columns) in the resulting relation are a subset of the attributes in the original relation. The project operation creates a relation in which each tuple has fewer attributes. The number of tuples (rows) in this operation remains the same. The project operation uses the following format:
\`\`\`sql
select attribute-list
from RELATION-NAME
\`\`\`
The names of the columns for the new relation are explicitly listed.

**Join**
The **join operation** is a **binary operation**it takes two relations and combines them based on common attributes. The join operation uses the following format:
\`\`\`sql
select attribute-list
from RELATION1, RELATION2
where criteria
\`\`\`
The attribute list is the combination of attributes from the two input relations: criteria explicitly define the attributes used as common attributes. The join operation is complex and has many variations.

**Union**
The **union operation** is also a binary operation, taking two relations and creating a new relation. However, there is a restriction on the two relations: they must have the same attributes. The union operation, as defined in set theory, creates a new relation in which each tuple is either in the first relation, in the second, or in both. The union operation uses the following format:
\`\`\`sql
select *
from RELATION1
union
select *
from RELATION2
\`\`\`
Again, asterisks signify that all attributes are selected.

**Intersection**
The **intersection operation** is also a binary operation, taking two relations and creating a new relation. Like the union operation, the two relations must have the same attributes. The intersection operation, as defined in set theory, creates a new relation in which each tuple is a member in both relations. The intersection operation uses the following format:
\`\`\`sql
select *
from RELATION1
intersection
select *
from RELATION2
\`\`\`

**Difference**
The **difference operation** is also a binary operation. It is applied to two relations with the same attributes. The tuples in the resulting relation are those that are in the first relation but not the second. The difference operation uses the following format:
\`\`\`sql
select *
from RELATION1
minus
select *
from RELATION2
\`\`\`

**Combination of statements**
The SQL language allows us to combine the foregoing statements to extract more complex information from a database.

## 14.5 DATABASE DESIGN
The design of any database is a lengthy and involved task that can only be done through a step-by-step process. The first step normally involves a lot of interviewing of potential users of the database, for example in a university, to collect the information needed to be stored and the access requirements of each department. The second step is to build an **entityrelation model (ERM)** that defines the entities for which some information must be maintained, the attributes of these entities, and the relationship between these entities.

The next step in design is based on the type of database to be used. In a relational database, the next step is to build relations based on the ERM and normalize the relations. In this introductory course, we just give some idea about ERMs and normalization.

### 14.5.1 Entityrelation model (ERM)
In this step, the database designer creates an **entityrelationship (E-R) diagram** to show the entities for which information needs to be stored and the relationship between those entities. E-R diagrams uses several geometric shapes, but we use only a few of them here:
- **Rectangles** represent entity sets.
- **Ellipses** represent attributes.
- **Diamonds** represent relationship sets.
- **Lines** link attributes to entity sets and link entity sets to relationship sets.

The relationships, which are shown by diamonds, can be one-to-one, one-to-many, many-to-one, and many-to-many.

### 14.5.2 From E-R diagrams to relations
After the E-R diagram has been finalized, relations (tables) in the relational database can be created.

**Relations for entity sets**
For each entity set in the E-R diagram, we create a relation (table) in which there are *n* columns related to the *n* attributes defined for that set.

**Relations for relationship sets**
For each relationship set in the E-R diagram, we create a relation (table). This relation has one column for the key of each entity set involved in this relationship and also one column for each attribute of the relationship itself if the relationship has attributes.

### 14.5.3 Normalization
**Normalization** is the process by which a given set of relations are transformed to a new set of relations with a more solid structure. Normalization is needed to allow any relation in the database to be represented, to allow a languages like SQL to use powerful retrieval operations composed of atomic operations, to remove anomalies in insertion, deletion, and updating, and reduce the need for restructuring the database as new data type are added.

The normalization process defines a set of hierarchical **normal forms (NFs)**. Several normal forms have been proposed, including 1NF, 2NF, 3NF, BCNF (BoyceCodd Normal Form), 4NF, PJNF (Projection/Joint Normal Form), 5NF, and so on. The discussion of these normal forms (except 1NF) involves the discussion of functional dependencies, a theoretical discipline, which is beyond the scope of this book. However, one important point that we need to know is that these normal forms form a hierarchical structure. In other words, if the relations in a database are in 3NF, it should have been first in 2NF.

**First normal form (1NF)**
When we transform entities or relationships into tabular relations, there may be some relations in which there are more values in the intersection of a row or column. A relation that is not in the first normal form may suffers from many problems. These two relations can be normalized by repeating the rows in which this problem exists.

**Second normal form (2NF)**
In each relation we need to have a key (called a *primary key*) on which all other attributes (column values) needs to depend. However, it may happen that when relations are established based on the E-R diagram, we may have some composite keys (a combination of two or more keys). In this case, a relation is in second normal form if every non-key attribute depends on the whole composite key.
If some attributes depend on part of the composite key, the relation is not in second normal form. We can apply the 2NF process and divide the relation into two, both in the second normal form.

**Other normal forms**
Other normal forms use more complicated dependencies among attributes. We leave these dependencies to books dedicated to the discussion of database topics.

## 14.6 OTHER DATABASE MODELS
The relational database is not the only database model in use today. Two other common models are *distributed databases* and *object-oriented databases*. We briefly discuss these here.

### 14.6.1 Distributed databases
The **distributed database** model is not a new model, but is based on the relational model. However, the data is stored on several computers that communicate through the Internet or a private wide area network. Each computer (or site) maintains either part of the database or the whole database. In other words, data is either fragmented, with each fragment stored at one site, or data is replicated at each site.

**Fragmented distributed databases**
In a **fragmented distributed database**, data is localizedlocally used data is stored at the corresponding site. However, this does not mean that a site cannot access data stored at another site, access is mostly local, but occasionally global. Although each site has complete control over its local data, there is global control through the Internet or a wide area network.
For example, a pharmaceutical company may have multiple sites in many countries. Each site has a database with information about its own employees, but a central personnel department could have control of all the databases.

**Replicated distributed databases**
In a **replicated distributed database**, each site holds an exact replica of another site. Any modification to data stored in one site is repeated exactly at every site. The reason for having such a database is security. If the system at one site fails, users at the site can access data at another site.

### 14.6.2 Object-oriented databases
The relational database has a specific view of data that is based on the nature of the databases tuples and attributes. The smallest unit of data in a relational database is the intersection of a tuple and an attribute. However, some applications need to look at data in other forms, for example to see data as a structure (see Chapter 11), such as a record composed of fields.
An **object-oriented database** tries to keep the advantages of the relational model and at the same time allows applications to access structured data. In an object-oriented database, objects and their relations are defined. In addition, each object can have attributes that can be expressed as fields.
For example, in an organization, one could define object types for employee, department, and customer. The employee class could define the attributes of an employee object (first name, last name, social security number, salary, and so on) and how they can be accessed. The department object could define the attributes of the department and how they can be accessed. In addition, the database could create a relation between an employee object and a department object to denote that the employee works in that department.

**XML**
The query language normally used for objected-oriented databases is **XML (Extensible Markup Language)**. XML was originally designed to add markup information to text documents, but it also has found its application as a query language in databases. XML can represent data with nested structure.

## 14.7 END-CHAPTER MATERIALS

### 14.7.1 Recommended reading
For more details about subjects discussed in this chapter, the following books are recommended:
- Alagic, S. *Relational Database Technology*, New York: Springer, 1986
- Dietrich, S. *Understanding Relational Database Query Language*, Upper Saddle River, NJ: Prentice-Hall, 2001
- Elmasri, R. and Navathe, S. *Fundamentals of Database Systems*, Reading, MA: Addison-Wesley, 2006
- Mannino, M. *Database Application Development and Design*, New York: McGraw-Hill, 2001
- Ramakrishnan, R. and Gehrke, J. *Database Management Systems*, New York: McGraw-Hill, 2003
- Silberschatz, A., Korth, H. and Sudarshan, S. *Databases: System Concepts*, New York: McGraw-Hill, 2005

### 14.7.2 Key Terms
- application programs
- attribute
- binary operation
- cardinality
- conceptual level
- database
- database management system (DBMS)
- database model
- delete operation
- difference operation
- distributed database
- End users
- Entity-Relation Model (E-R)
- EntityRelationship (E-R) diagram
- external level
- flat-files
- fragmented distributed database
- hierarchical model
- insert operation
- internal level
- International Organization for Standardization (ISO)
- intersection operation
- join operation
- name
- network model
- normal form (NF)
- normalization
- object-oriented database
- project operation
- relation
- relational database management system (RDBMS)
- relational model
- replicated distributed database
- select operation
- Structured Query Language (SQL)
- tuple
- unary operation
- union operation
- update operation
- users

### 14.7.3 Summary
- A database is a collection of data that is logically, but not necessarily physically, coherentits various parts can be physically separated. A database management system (DBMS) defines, creates, and maintains a database.
- The American National Standards Institute/Standards Planning and Requirements Committee (ANSI/SPARC) has established a three-level architecture for a DBMS: internal, conceptual, and external. The internal level determines where data is actually stored on storage devices. The conceptual level defines the logical view of the data. The external level interacts directly with the user.
- Traditionally, three types of database model were defined: hierarchical, network, and relational. Only the last, relational model, has survived.
- In the relational model, data is organized in two-dimensional tables called relations. A relation has the following features: name, attributes, and tuples.
- In a relational database we can define several operations to create new relations based on existing ones. We mentioned nine operations in the context of the database query language SQL (Structured Query Language): insert, delete, update, select, project, join, union, intersection, and difference.
- The design of a database, for example for an organization, is often a lengthy task that can only be done through a step-by-step process. The first step often involves interviewing potential users of the database to collect the information that needs to be stored. The second step is to build an Entity-Relation Model (ERM) that defines the entities for which information must be maintained. The next step is to build relations based on the ERM.
- Normalization is the process by which a given set of relations are transformed to a new set of relations with a more solid structure. Normalization is required to allow any relation in the database to be represented, to allow a query language such as SQL to use powerful retrieval operations composed of atomic operations, to remove anomalies in insertion, deletion, and updating, and to reduce the need for restructuring the database as new data types are to be added.
- The relational database is not the only model of database in use today. The other two common models are distributed databases and object-oriented databases.

## 14.8 PRACTICE SET

### 14.8.1 Quizzes
A set of interactive quizzes for this chapter can be found on the books website. It is strongly recommended that the student takes the quizzes to check his/her understanding of the materials before continuing with the practice set.

### 14.8.2 Review questions
1. What are the five necessary components of a DBMS?
2. What are the three database models? Which is the most popular today?
3. What is a relation in a relational database?
4. In a relation, what is an attribute? What is a tuple?
5. List some unary operations in relational databases.
6. List some binary operations in relational databases.
7. What is SQL? What is XML? Which one is a query language for relational databases? Which one is a query language for the objected-oriented language?

### 14.8.3 Problems
1. You have relations A, B, and C as shown in Figure 14.21. Show the resulting relation if you apply the following SQL statements:
   \`\`\`sql
   select *
   from A
   where A2 = 16
   \`\`\`
2. You have relations A, B, and C as shown in Figure 14.21. Show the resulting relation if you apply the following SQL statements:
   \`\`\`sql
   select A1 A2
   from A
   where A2 = 16
   \`\`\`
3. You have relations A, B, and C as shown in Figure 14.21. Show the resulting relation if you apply the following SQL statements:
   \`\`\`sql
   select A3
   from A
   \`\`\`
4. You have relations A, B, and C as shown in Figure 14.21. Show the resulting relation if you apply the following SQL statements:
   \`\`\`sql
   select B1
   from B
   where B2 = 216
   \`\`\`
5. You have relations A, B, and C as shown in Figure 14.21. Show the resulting relation if you apply the following SQL statements:
   \`\`\`sql
   update C
   set C1 = 37
   where C1 = 31
   \`\`\`
6. Using the model in Figure 14.5 in section 14.3.3, show the SQL statement that creates a new relation containing only the course number and the number of units for each course.
7. Using the model in Figure 14.5, show the SQL statement that creates a new relation containing only the student ID and student name.
8. Using the model in Figure 14.5, show the SQL statement that creates a new relation containing only the professors name.
9. Using the model in Figure 14.5, show the SQL statement that creates a new relation containing only the department name.
10. Using the model in Figure 14.5, show the SQL statement that creates a new relation containing the courses taken by the student with ID 2010.
11. Using the model in Figure 14.5, show the SQL statement that creates a new relation containing the courses taught by Professor Blake.
12. Using the model in Figure 14.5, show the SQL statement that creates a new relation containing only courses that have three units.
13. Using the model in Figure 14.5, show the SQL statement that creates a new relation containing only the name of students taking course CIS015.
14. Using the model in Figure 14.5, show the SQL statement that creates a new relation containing the department number of the Computer Science Department.
15. Is the following relation in first normal form (1NF)? If not, change the table to make it pass 1NF criteria.
    A | B | C | D
    ---|---|---|---
    1 | 70 | 65 | 14
    2 | 25, 32, 71 | 24 | 12, 18
    3 | 32 | 6, 11 | 18
16. Create an E-R diagram for a public library. Show the outline of the relations that can be created from that diagram.
17. Create an E-R diagram for a real estate company, then show the outline of the relations that can be created from that diagram.
18. Create an E-R diagram for three entities FLIGHT, AIRCRAFT, and PILOT in an airline, then show the outlines of the relations in this company.
19. Use references or the Internet to find some information about third normal form (3NF). What kind of functional dependency is involved in this normal form?
20. Use references or the Internet and find some information about BoyceCodd Normal Form (BCNF). What kind of functional dependency is involved in this normal form?
`,zh:`
# 

 (DBMS) DBMS ****

## 

-  (DBMS)  DBMS 
-  ANSI/SPARC  DBMS 
- 
- 
-  SQL 
- 
-  ERM  E-R 
- 
- 

## 14.1 
****

### 14.1.1 

****

### 14.1.2 


****


****


****


****
 16 

****


### 14.1.3 
** (DBMS)** DBMS DBMS 

****
 DBMS 

****


****
 DBMS DBMS 

****
DBMS 
- ****** (DBA)**  DBMS 
- ********

****
DBMS 

## 14.2 
/ (ANSI/SPARC)  DBMS 

### 14.2.1 
****

### 14.2.2 
****DBMS DBMS 

### 14.2.3 
****

## 14.3 
****

### 14.3.1 
******

### 14.3.2 
****

### 14.3.3 
**********


## 14.4 
** (RDBMS)** 

### 14.4.1  (Relation)
****RDBMS 
RDBMS 
- ****
- ** (Attribute)******** (degree)**
- ** (Tuple)******** (cardinality)**

### 14.4.2 
****************** SQL () 

****
** (SQL)**  (ANSI) ** (ISO)** SQL  Oracle  1979  SQL

** (Insert)**
********
\`\`\`sql
insert into RELATION-NAME values (..., ..., ...)
\`\`\`
*values* 

** (Delete)**
****
\`\`\`sql
delete from RELATION-NAME where criteria
\`\`\`
 *where* 

** (Update)**
****
\`\`\`sql
update RELATION-NAME
set attribute1 = value1, attribute2 = value2, ...
where criteria
\`\`\`
 *set*  *where* 

** (Select)**
****
\`\`\`sql
select *
from RELATION-NAME
where criteria
\`\`\`


** (Project)**
****
\`\`\`sql
select attribute-list
from RELATION-NAME
\`\`\`


** (Join)**
********
\`\`\`sql
select attribute-list
from RELATION1, RELATION2
where criteria
\`\`\`


** (Union)**
****
\`\`\`sql
select *
from RELATION1
union
select *
from RELATION2
\`\`\`


** (Intersection)**
****
\`\`\`sql
select *
from RELATION1
intersection
select *
from RELATION2
\`\`\`

** (Difference)**
****
\`\`\`sql
select *
from RELATION1
minus
select *
from RELATION2
\`\`\`

****
SQL 

## 14.5 
** (ERM)**

 ERM  ERM 

### 14.5.1  (ERM)
** (E-R) **E-R 
- ****
- ****
- ****
- ****



### 14.5.2  E-R 
E-R 

****
 E-R  *n*  *n* 

****
 E-R 

### 14.5.3  (Normalization)
**** SQL 

** (NF)** 1NF2NF3NFBCNF (Boyce-Codd )4NFPJNF (/)5NF  1NF  3NF 2NF

** (1NF)**


** (2NF)**
** E-R 
 2NF 

****


## 14.6 
****

### 14.6.1 
****

****
****


****
****

### 14.6.2 
 11 
****


**XML**
 **XML ()**XML XML 

## 14.7 

### 14.7.1 

- Alagic, S. *Relational Database Technology*, New York: Springer, 1986
- Dietrich, S. *Understanding Relational Database Query Language*, Upper Saddle River, NJ: Prentice-Hall, 2001
- Elmasri, R. and Navathe, S. *Fundamentals of Database Systems*, Reading, MA: Addison-Wesley, 2006
- Mannino, M. *Database Application Development and Design*, New York: McGraw-Hill, 2001
- Ramakrishnan, R. and Gehrke, J. *Database Management Systems*, New York: McGraw-Hill, 2003
- Silberschatz, A., Korth, H. and Sudarshan, S. *Databases: System Concepts*, New York: McGraw-Hill, 2005

### 14.7.2 
-  (application programs)
-  (attribute)
-  (binary operation)
-  (cardinality)
-  (conceptual level)
-  (database)
-  (database management system, DBMS)
-  (database model)
-  (delete operation)
-  (difference operation)
-  (distributed database)
-  (End users)
-  (Entity-Relation Model, E-R)
-  (EntityRelationship (E-R) diagram)
-  (external level)
-  (flat-files)
-  (fragmented distributed database)
-  (hierarchical model)
-  (insert operation)
-  (internal level)
-  (International Organization for Standardization, ISO)
-  (intersection operation)
-  (join operation)
-  (name)
-  (network model)
-  (normal form, NF)
-  (normalization)
-  (object-oriented database)
-  (project operation)
-  (relation)
-  (relational database management system, RDBMS)
-  (relational model)
-  (replicated distributed database)
-  (select operation)
-  (Structured Query Language, SQL)
-  (tuple)
-  (unary operation)
-  (union operation)
-  (update operation)
-  (users)

### 14.7.3 
-  (DBMS) 
- / (ANSI/SPARC)  DBMS 
- 
- 
-  SQL () 
-  (ERM) ERM 
-  SQL 
- 

## 14.8 

### 14.8.1 
/

### 14.8.2 
1. DBMS 
2. 
3. 
4. 
5. 
6. 
7.  SQL XML

### 14.8.3 
1.  14.21  AB  C SQL 
   \`\`\`sql
   select *
   from A
   where A2 = 16
   \`\`\`
2.  14.21  AB  C SQL 
   \`\`\`sql
   select A1 A2
   from A
   where A2 = 16
   \`\`\`
3.  14.21  AB  C SQL 
   \`\`\`sql
   select A3
   from A
   \`\`\`
4.  14.21  AB  C SQL 
   \`\`\`sql
   select B1
   from B
   where B2 = 216
   \`\`\`
5.  14.21  AB  C SQL 
   \`\`\`sql
   update C
   set C1 = 37
   where C1 = 31
   \`\`\`
6.  14.3.3  14.5  SQL 
7.  14.5  ID  SQL 
8.  14.5  SQL 
9.  14.5  SQL 
10.  14.5  ID  2010  SQL 
11.  14.5  Blake  SQL 
12.  14.5  SQL 
13.  14.5  CIS015  SQL 
14.  14.5  SQL 
15.  (1NF) 1NF 
    A | B | C | D
    ---|---|---|---
    1 | 70 | 65 | 14
    2 | 25, 32, 71 | 24 | 12, 18
    3 | 32 | 6, 11 | 18
16.  E-R 
17.  E-R 
18.  FLIGHTAIRCRAFT  PILOT  E-R 
19.  (3NF) 
20.  Boyce-Codd  (BCNF) 
`},wN={en:`
# Chapter 15: Data Compression

In recent years technology has changed the way we transmit and store data. For example, fiber-optic cable allows us to transmit data much faster, and DVDs allow us to store huge amounts of data on a physically small medium. However, as in other aspects of life, the rate of demand from the public is ever increasing. Today, we want to download more and more data in a shorter and shorter amount of time. We also want to store more and more data in a smaller space.

Compressing data can reduce the amount of data to be sent or stored by partially eliminating inherent redundancy. Redundancy is created when we produce data. Through data compression, we make transmission and storage more efficient, and at the same time, we preserve the integrity of the data.

## Objectives
After studying this chapter, the student should be able to:
- Distinguish between lossless and lossy compression.
- Describe run-length encoding and how it achieves compression.
- Describe Huffman coding and how it achieves compression.
- Describe Lempel Ziv encoding and the role of the dictionary in encoding and decoding.
- Describe the main idea behind the JPEG standard for compressing still images.
- Describe the main idea behind the MPEG standard for compressing video and its relation to JPEG.
- Describe the main idea behind the MP3 standard for compressing audio.

## 15.1 INTRODUCTION
Data compression implies sending or storing a smaller number of bits. Although many methods are used for this purpose, in general these methods can be divided into two broad categories: lossless and lossy methods.

We first discuss lossless compression methods, as they are simpler and easier to understand. We then present lossy compression methods.

## 15.2 LOSSLESS COMPRESSION METHODS
In **lossless data compression**, the integrity of the data is preserved. The original data and the data after compression and decompression are exactly the same because, in these methods, the compression and decompression algorithms are exact inverses of each other: no part of the data is lost in the process. Redundant data is removed in compression and added during decompression.

Lossless compression methods are normally used when we cannot afford to lose any data. For example, we must not lose data when we compress a text file or an application program.

We discuss three lossless compression methods in this section: *run-length encoding*, *Huffman coding*, and the *Lempel Ziv algorithm*.

### 15.2.1 Run-length encoding
**Run-length encoding** is probably the simplest method of compression. It can be used to compress data made of any combination of symbols. It does not need to know the frequency of occurrence of symbols (as is necessary for Huffman coding) and can be very efficient if data is represented as 0s and 1s.

The general idea behind this method is to replace consecutive repeating occurrences of a symbol by one occurrence of the symbol followed by the number of occurrences. For example, \`AAAAAAAA\` can be replaced by \`A08\`. Note that we use a fixed number of digits (two) to represent the count.

The method can be even more efficient if the data uses only two symbols (for example 0 and 1) in its bit pattern and one symbol is more frequent than the other. For example, lets say we have an image represented by mostly 0s and some 1s. In this case, we can reduce the number of bits by sending (or storing) the number of 0s occurring between two 1s.

We have represented the counts as a 4-bit binary number (unsigned integer). In an actual situation, we would find an optimal number of bits to avoid introducing extra redundancy.

Note that, given a 4-bit binary compression, if there are more than fifteen 0s, they are broken into two or more groups. For example, a sequence of twenty-five 0s is encoded as \`1111 1010\`. Now the question is how the decoding algorithm knows that this consists of twenty-five 0s and not fifteen 0s, then a 1, and then ten 0s. The answer is that if the first count is \`1111\`, the receiver knows the next 4-bit pattern is a continuation of 0s. Now another question is raised: what if there are exactly fifteen 0s between two 1s? In this case, the pattern is \`1111\` followed by \`0000\`.

### 15.2.2 Huffman coding
**Huffman coding** assigns shorter codes to symbols that occur more frequently and longer codes to those that occur less frequently. For example, imagine we have a text file that uses only five characters (A, B, C, D, E). We chose only five characters to make the discussion simpler, but the procedure is equally valid for a smaller or greater number of characters.

Before we can assign bit patterns to each character, we assign each character a weight based on its frequency of use. Once the weight of each character is established, we build a tree based on those values. The process for building this tree follows three basic steps:
1.  Put the entire character set in a row. Each character is now a node at the lowest level of the tree.
2.  Find the two nodes with the smallest weights and join them to form a third node, resulting in a simple two-level tree. The weight of the new node is the combined weights of the original two nodes. This node, one level up from the leaves, is eligible for combination with other nodes. Remember that the sum of the weights of the two nodes chosen must be smaller than the combination of any other possible choices.
3.  Repeat step 2 until all of the nodes, on every level, are combined into a single tree.

Once the tree is complete, use it to assign codes to each character. First, assign a bit value to each branch. Starting from the root (top node), assign 0 to the left branch and 1 to the right branch and repeat this pattern at each node.

A characters code is found by starting at the root and following the branches that lead to that character. The code itself is the bit value of each branch on the path, taken in sequence.

**Encoding**
Let us see how to encode text using the code for our five characters.
Two points are worth mentioning. First, notice that there is a sense of compression even in this small and unrealistic code. If we want to send the text without using Huffman coding, we need to assign a 3-bit code to each character. You would have sent 30 bits, whereas with Huffman coding, we send only 22 bits.
Second, notice that we have not used any delimiters between the bits that encode each character. We write the codes one after another. The beauty of Huffman coding is that no code is the prefix of another code. There is therefore no ambiguity in encoding, so the decoding algorithm can decode the received data without ambiguity.

**Decoding**
The recipient has a very easy job in decoding the data that it receives. When the recipient receives the first bits, it does not have to wait for the next bit to make a decisionit knows that these bits encode a specific letter if the bits match a code in the tree. This is why Huffman code is called an instantaneous codethe decoder can unambiguously decode the bits instantaneously, using the minimum number of bits.

### 15.2.3 Lempel Ziv encoding
**Lempel Ziv (LZ) encoding**, named after its inventors (Abraham Lempel and Jacob Ziv), is an example of a category of algorithms called **dictionary-based encoding**. The idea is to create a dictionary (a table) of strings used during the communication session. If both the sender and the receiver have a copy of the dictionary, then previously encountered strings can be substituted by their index in the dictionary to reduce the amount of information transmitted.

Although the idea appears simple, several difficulties surface in the implementation. First, how can a dictionary be created for each session? It cannot be universal, due to its length. Second, how can the recipient acquire the dictionary created by the senderif we send the dictionary, we are sending extra data, which defeats the whole purpose of compression?

The Lempel Ziv (LZ) algorithm is a practical algorithm that uses the idea of adaptive dictionary-based encoding. The algorithm has gone through several versions (LZ77, LZ78). We introduce the basic idea of this algorithm with an example.

**Compression**
In this phase there are two concurrent events: building an indexed dictionary and compressing a string of symbols. The algorithm extracts the smallest substring that cannot be found in the dictionary from the remaining uncompressed string. It then stores a copy of this substring in the dictionary as a new entry and assigns it an index value. Compression occurs when the substring, except for the last character, is replaced with the index found in the dictionary. The process then inserts the index and the last character of the substring into the compressed string. For example, if the substring is \`ABBB\`, we search for \`ABB\` in the dictionary. If we find that the index for \`ABB\` is 4, the compressed substring is therefore \`4B\`.

**Decompression**
Decompression is the inverse of the compression process. The process extracts the substrings from the compressed string and tries to replace the indexes with the corresponding entry in the dictionary, which is empty at first and built up gradually. The idea is that when an index is received, there is already an entry in the dictionary corresponding to that index.

## 15.3 LOSSY COMPRESSION METHODS
Loss of information is not acceptable in a text file or a program file. It is, however, acceptable in an image, video, or audio file. The reason is that our eyes and ears cannot distinguish subtle changes. In such cases, we can use a **lossy data compression** method. These methods are cheaperthey take less time and space when it comes to sending millions of bits per second for images and video.

Several methods have been developed using lossy compression techniques. **JPEG (Joint Photographic Experts Group)** encoding is used to compress pictures and graphics, **MPEG (Moving Picture Experts Group)** encoding is used to compress video, and **MP3 (MPEG audio layer 3)** for audio compression.

### 15.3.1 Image compressionJPEG encoding
An image can be represented by a two-dimensional array (table) of picture elements (pixels). For example, 640  480 = 307,200 pixels. If the picture is grayscale, each pixel can be represented by an 8-bit integer, giving 256 levels of gray. If the picture is color, each pixel can be represented by 24 bits (3  8 bits), with each 8 bits representing one of the colors in the RBG color system.

In JPEG, a grayscale picture is divided into blocks of 8  8 pixel blocks. The purpose of dividing the picture into blocks is to decrease the number of calculations.
The whole idea of JPEG is to change the picture into a linear (vector) set of numbers that reveals the redundancies. The redundancies (lack of changes) can then be removed using one of the lossless compression methods we studied previously.

**Discrete cosine transform (DCT)**
In this step, each block of 64 pixels goes through a transformation called the **discrete cosine transform (DCT)**. The transformation changes the 64 values so that the relative relationships between pixels are kept but the redundancies are revealed. The value of $T(0,0)$ is the average of the other values. This is called the **DC value**. The rest of the values, called **AC values**, in $T(m, n)$ represent changes in the pixel values.

**Quantization**
After the T table is created, the values are quantized to reduce the number of bits needed for encoding. **Quantization** divides the number of bits by a constant and then drops the fraction. This reduces the required number of bits even more. Note that the only phase in the process that is not reversible is the quantizing phase. You lose some information here that is not recoverable. The only reason that JPEG is a lossy compression method is because of the quantization phase.

**Compression**
After quantization the values are read from the table, and redundant 0s are removed. However, to cluster the 0s together, the process reads the table diagonally in a zigzag fashion rather than row by row or column by column. The reason is that if the picture does not have fine changes, the bottom right corner of the T table is all 0s. JPEG usually uses run-length encoding at the compression phase to compress the bit pattern resulting from the zigzag linearization.

### 15.3.2 Video compressionMPEG encoding
The **Moving Picture Experts Group (MPEG)** method is used to compress video. In principle, a motion picture is a rapid sequence of a set of frames in which each frame is a picture. In other words, a frame is a spatial combination of pixels, and a video is a temporal combination of frames that are sent one after another. Compressing video, then, means spatially compressing each frame and temporally compressing a set of frames.

**Spatial compression**
The **spatial compression** of each frame is done with JPEG, or a modification of it. Each frame is a picture that can be independently compressed.

**Temporal compression**
In **temporal compression**, redundant frames are removed. When we watch television, for example, we receive 30 frames per second. However, most of the consecutive frames are almost the same.
To temporally compress data, the MPEG method first divides frames into three categories: I-frames, P-frames, and B-frames.
- **I-frames**: An **intracoded frame (I-frame)** is an independent frame that is not related to any other frame. They are present at regular intervals. An I-frame must appear periodically due to some sudden change in the frame that the previous and following frames cannot show.
- **P-frames**: A **predicted frame (P-frame)** is related to the preceding I-frame or P-frame. In other words, each P-frame contains only the changes from the preceding frame. P-frames carry much less information than other frame types and carry even fewer bits after compression.
- **B-frames**: A **bidirectional frame (B-frame)** is relative to the preceding and following I-frame or P-frame. In other words, each B-frame is relative to the past and the future. Note that a B-frame is never related to another B-frame.

### 15.3.3 Audio compression
Audio compression can be used for speech or music. Two categories of techniques are used for audio compression: predictive encoding and perceptual encoding.

**Predictive encoding**
In **predictive encoding**, the differences between samples are encoded instead of encoding all the sampled values. This type of compression is normally used for speech. Several standards have been defined such as GSM.

**Perceptual encoding: MP3**
The most common compression technique used to create CD-quality audio is based on the **perceptual encoding** technique. This type of audio needs at least 1.411 Mbps, which cannot be sent over the Internet without compression. **MP3 (MPEG audio layer 3)**, a part of the MPEG standard, uses this technique.

Perceptual encoding is based on the science of psychoacoustics, which is the study of how people perceive sound. The idea is based on flaws in our auditory system: some sounds can mask other sounds. Masking can happen in both frequency and time. In **frequency masking**, a loud sound in one frequency range can partially or totally mask a softer sound in another frequency range. In **temporal masking**, a loud sound can reduce the sensitivity of our hearing for a short time even after the sound has stopped.

MP3 uses these two phenomena, frequency and temporal masking, to compress audio signals. The technique analyzes and divides the audio spectrum into several groups. Zero bits are allocated to frequency ranges that are totally masked, a small number of bits are allocated to frequency ranges that are partially masked, and a larger number of bits are allocated to frequency ranges that are not masked.

## 15.4 END-CHAPTER MATERIALS
### 15.4.2 Key terms
- AC value
- bidirectional frame (B-frame)
- data compression
- DC value
- dictionary-based encoding
- discrete cosine transform (DCT)
- frequency masking
- Huffman coding
- intracoded frame (I-frame)
- Joint Photographic Experts Group (JPEG)
- Lempel Ziv (LZ) encoding
- Lempel Ziv Welch (LZW) encoding
- lossless data compression
- lossy data compression
- Moving Picture Experts Group (MPEG)
- MPEG audio layer 3 (MP3)
- perceptual encoding
- predicted frame (P-frame)
- predictive encoding
- run-length encoding
- spatial compression
- temporal compression
- temporal masking

### 15.4.3 Summary
- Data compression methods are either lossless (all information is recoverable) or lossy (some information is lost).
- In lossless compression methods, the received data is an exact replica of the sent data. Three lossless compression methods are run-length encoding, Huffman coding, and Lempel Ziv (LZ) encoding.
- In run-length encoding, repeated occurrences of a symbol are replaced by a symbol and the number of occurrences of the symbol.
- In Huffman coding, the code length is a function of symbol frequency: more frequent symbols have shorter codes than less frequent symbols.
- In LZ encoding, repeated strings or words are stored in memory locations. An index to the memory location replaces the string or word. LZ encoding requires a dictionary and an algorithm at both sender and receiver.
- In lossy compression methods, the received data need not be an exact replica of the sent data. Three lossy compression methods were discussed in this chapter: JPEG, MPEG, and MP3.
- JPEG (Joint Photographic Experts Group) compression is a method of compressing pictures and graphics. The JPEG process involves blocking, the discrete cosine transform, quantization, and lossless compression.
- MPEG (Moving Pictures Experts Group) compression is a method of compressing video. MPEG involves both spatial compression and temporal compression. The former is similar to JPEG, while the latter removes redundant frames.
- MP3 (MPEG audio layer 3) is a part of the MPEG standard. MP3 uses perceptual encoding techniques to compress CD-quality audio.
`,zh:`
# 

 DVD 



## 

- 
-  (run-length encoding) 
-  (Huffman coding) 
-  Lempel Ziv 
-  JPEG 
-  MPEG  JPEG 
-  MP3 

## 15.1 




## 15.2 
****



**** *Lempel Ziv *

### 15.2.1  (Run-length encoding)
**** 0  1

\`AAAAAAAA\`  \`A08\`

 0  1 0  1  1  0 

 4 

 4  0 0  \`1111 1010\` 0  0 1 0 \`1111\` 4  0  1  0  \`1111\`  \`0000\`

### 15.2.2  (Huffman coding)
**** (A, B, C, D, E) 


1.  
2.  
3.   2

 0  1 



****

 3  30  22 


****


### 15.2.3 Lempel Ziv 
**Lempel Ziv (LZ) **Abraham Lempel  Jacob Ziv****



Lempel Ziv (LZ)  (LZ77, LZ78)

****
 \`ABBB\` \`ABB\` \`ABB\`  4 \`4B\`

****


## 15.3 
****

**JPEG ()** **MPEG ()**  **MP3 (MPEG  3)** 

### 15.3.1 JPEG 
640  480 = 307,200  8  256  24 3  8  8  RGB 

 JPEG  8  8 
JPEG 

** (DCT)**
 64 ** (DCT)**  64 $T(0,0)$  **DC **$T(m, n)$  **AC **

****
 T ****JPEG 

****
 0 0  Z T  0JPEG  Z 

### 15.3.2 MPEG 
** (MPEG)** 

****
**** JPEG 

****
**** 30 
MPEG I-framesP-frames  B-frames
- **I-frames**** (I-frame)** I-frame 
- **P-frames**** (P-frame)**  I-frame  P-frame  P-frame P-frame 
- **B-frames**** (B-frame)**  I-frame  P-frame  B-frame B-frame  B-frame 

### 15.3.3 


****
**** GSM

**MP3**
 CD **** 1.411 Mbps**MP3 (MPEG  3)**  MPEG 

********

MP3 

## 15.4 
### 15.4.2 
- AC 
-  (B-frame)
- 
- DC 
- 
-  (DCT)
- 
- 
-  (I-frame)
-  (JPEG)
- Lempel Ziv (LZ) 
- Lempel Ziv Welch (LZW) 
- 
- 
-  (MPEG)
- MPEG  3 (MP3)
- 
-  (P-frame)
- 
- 
- 
- 
- 

### 15.4.3 
- 
-  Lempel Ziv (LZ) 
- 
- 
-  LZ LZ 
- JPEGMPEG  MP3
- JPEG () JPEG 
- MPEG () MPEG  JPEG
- MP3 (MPEG  3)  MPEG MP3  CD 
`},vN={en:`
# Chapter 16: Security

The topic of security is very broad and involves some specific areas of mathematics such as number theory. In this chapter, we try to give a very simple introduction to this topic to prepare the background for more study.

## Objectives
After studying this chapter, the student should be able to: 
- Define security goals: confidentiality, integrity, and availability.
- Show how confidentiality can be achieved using symmetric-key and asymmetric-key cipher.
- Discuss other aspects of security: message integrity, message authentication, digital signature, entity authentication, and key management.
- Discuss the use of firewalls to protect a system from harmful messages. 

## 16.1 INTRODUCTION
We are living in the information age. We need to keep information about every aspect of our lives. In other words, information is an asset that has a value like any other asset. As an asset, information needs to be secured from attacks. To be secure, information needs to be hidden from unauthorized access (**confidentiality**), protected from unauthorized change (**integrity**), and available to an authorized entity when it is needed (**availability**).

During the last three decades, computer networks have created a revolution in the use of information. Information is now distributed. Authorized people can send and retrieve information from a distance using computer networks. Although the three above-mentioned requirementsconfidentiality, integrity, and availabilityhave not changed, they now have some new dimensions. Not only should information be confidential when it is stored; there should also be a way to maintain its confidentiality when it is transmitted from one computer to another.

In this section, we first discuss the three major goals of information security. We then see how attacks can threaten these three goals. We then discuss the security services in relation to these security goals. Finally, we define two techniques to implement the security goals and prevent attacks.

### 16.1.1 Security goals
Let us first discuss the three security goals: confidentiality, integrity, and availability.

**Confidentiality**
**Confidentiality** is probably the most common aspect of information security. We need to protect our confidential information. An organization needs to guard against those malicious actions that endanger the confidentiality of its information. Confidentiality not only applies to the storage of information, it also applies to the transmission of information. When we send a piece of information to be stored in a remote computer or when we retrieve a piece of information from a remote computer, we need to conceal it during transmission.

**Integrity**
Information needs to be changed constantly. In a bank, when a customer deposits or withdraws money, the balance of their account needs to be changed. **Integrity** means that changes need to be done only by authorized entities and through authorized mechanisms. Integrity violation is not necessarily the result of a malicious act; an interruption in the system, such as a power surge, may also create unwanted changes in some information.

**Availability**
The third component of information security is **availability**. The information created and stored by an organization needs to be available to authorized entities. Information is useless if it is not available. Information needs to be constantly changed, which means it must be accessible to authorized entities. The unavailability of information is just as harmful for an organization as the lack of confidentiality or integrity. Imagine what would happen to a bank if the customers could not access their accounts for transactions.

### 16.1.2 Attacks
Our three goals of securityconfidentiality, integrity, and availabilitycan be threatened by **security attacks**. Although the literature uses different approaches to categorizing the attacks, we divide them into three groups related to the security goals.

**Attacks threatening confidentiality**
In general, two types of attacks threaten the confidentiality of information: snooping and traffic analysis.

**Snooping**
**Snooping** refers to unauthorized access to or interception of data. For example, a file transferred through the Internet may contain confidential information. An unauthorized entity may intercept the transmission and use the contents for their own benefit. To prevent snooping, the data can be made nonintelligible to the intercepter by using encipherment techniques discussed later.

**Traffic analysis**
Although encipherment of data may make it nonintelligible for the intercepter, they can obtain some other type of information by monitoring online traffic. For example, they can find the electronic address (such as the email address) of the sender or the receiver. They can collect pairs of requests and responses to help them guess the nature of the transaction.

**Attacks threatening integrity**
The integrity of data can be threatened by several kinds of attacks: modification, masquerading, replaying, and repudiation.

**Modification**
After intercepting or accessing information, the attacker modifies the information to make it beneficial to them. For example, a customer sends a message to a bank to initiate some transaction. The attacker intercepts the message and changes the type of transaction to benefit them. Note that sometimes the attacker simply deletes or delays the message to harm the system or to benefit from it.

**Masquerading**
**Masquerading**, or **spoofing**, happens when the attacker impersonates somebody else. For example, an attacker might steal the bank card and PIN of a bank customer and pretend that they are that customer. Sometimes the attacker pretends instead to be the receiver entity. For example, a user tries to contact a bank, but another site pretends that it is the bank and obtains some information from the user.

**Replaying**
**Replaying** is another attack. The attacker obtains a copy of a message sent by a user and later tries to replay it. For example, a person sends a request to their bank to ask for payment to the attacker, who has done a job for them. The attacker intercepts the message and sends it again to receive another payment from the bank.

**Repudiation**
This type of attack is different from others because it is performed by one of the two parties in the communication: the sender or the receiver. The sender of the message might later deny that they have sent the message; the receiver of the message might later deny that they have received the message. An example of denial by the sender would be a bank customer asking their bank to send some money to a third party but later denying that they have made such a request. An example of denial by the receiver could occur when a person buys a product from a manufacturer and pays for it electronically, but the manufacturer later denies having received the payment and asks to be paid.

**Attacks threatening availability**
We mention only one attack threatening availability: denial of service.

**Denial of service**
**Denial of service (DoS)** is a very common attack. It may slow down or totally interrupt the service of a system. The attacker can use several strategies to achieve this. They might send so many bogus requests to a server that the server crashes because of the heavy load. The attacker might intercept and delete a servers response to a client, making the client believe that the server is not responding. The attacker may also intercept requests from the clients, causing the clients to send requests many times and overload the system.

### 16.1.3 Services and techniques
ITU-T defines some security services to achieve security goals and prevent attacks. Each of these services is designed to prevent one or more attacks while maintaining security goals. The actual implementation of security goals needs some techniques.
Two techniques are prevalent today: one is very general (cryptography) and one is specific (steganography).

**Cryptography**
Some security services can be implemented using cryptography. **Cryptography**, a word with Greek origins, means secret writing. However, we use the term to refer to the science and art of transforming messages to make them secure and immune to attacks. Although in the past cryptography referred only to the **encryption** and **decryption** of messages using **secret keys**, today it is defined as involving three distinct mechanisms: symmetric-key encipherment, asymmetric-key encipherment, and hashing. We will discuss all these mechanisms later in the chapter.

**Steganography**
Although this chapter and the next are based on cryptography as a technique for implementing security mechanisms, another technique that was used for secret communication in the past is being revived at the present time: steganography. The word **steganography**, with origins in Greek, means covered writing, in contrast to cryptography, which means secret writing. *Cryptography* means concealing the contents of a message by enciphering; *steganography* means concealing the message itself by covering it with something else. We leave the discussion of steganography to those books dedicated to this topic.

## 16.2 CONFIDENTIALITY
We now look at the first goal of security, confidentiality. Confidentiality can be achieved using ciphers. Ciphers can be divided into two broad categories: symmetric-key and asymmetric-key.

### 16.2.1 Symmetric-key ciphers
A **symmetric-key cipher** uses the same key for both encryption and decryption, and the key can be used for bidirectional communication, which is why it is called symmetric.

**Symmetric-key ciphers are also called secret-key ciphers.**

The original message from Alice to Bob is called **plaintext**; the message that is sent through the channel is called **ciphertext**. To create the ciphertext from the plaintext, Alice uses an **encryption algorithm** and a *shared secret key*.
To create the plaintext from ciphertext, Bob uses a **decryption algorithm** and the same secret key. We refer to encryption and decryption algorithms as **ciphers**. A **key** is a set of values (numbers) that the cipher, as an algorithm, operates on.

Note that the symmetric-key encipherment uses a single key (the key itself may be a set of values) for both encryption and decryption. In addition, the encryption and decryption algorithms are inverses of each other.

**Encryption**: $C = E_k(P)$        **Decryption**: $P = D_k(C)$

Encryption can be thought of as locking the message in a box; decryption can be thought of as unlocking the box. In symmetric-key encipherment, the same key locks and unlocks.

The symmetric-key ciphers can be divided into traditional ciphers and modern ciphers. Traditional ciphers are simple, character-oriented ciphers that are not secured based on todays standard. Modern ciphers, on the other hand, are complex, bit-oriented ciphers that are more secure. We briefly discuss the traditional ciphers to pave the way for discussing more complex modern ciphers.

**Traditional symmetric-key ciphers**
Traditional ciphers belong to the past. However, we briefly discuss them here because they can be thought of as the components of the modern ciphers. To be more exact, we can divide traditional ciphers into substitution ciphers and transposition ciphers.

**Substitution ciphers**
A **substitution cipher** replaces one symbol with another. If the symbols in the plaintext are alphabetic characters, we replace one character with another. For example, we can replace letter A with letter D and letter T with letter Z. If the symbols are digits (0 to 9), we can replace 3 with 7 and 2 with 6.
Substitution ciphers can be categorized as either monoalphabetic ciphers or polyalphabetic ciphers.

**Monoalphabetic ciphers**
In a **monoalphabetic cipher**, a character (or a symbol) in the plaintext is always changed to the same character (or symbol) in the ciphertext regardless of its position in the text. For example, if the algorithm says that letter A in the plaintext is changed to letter D, every letter A is changed to letter D. In other words, the relationship between letters in the plaintext and the ciphertext is one-to-one.
The simplest monoalphabetic cipher is the **additive cipher** (or **shift cipher**). Assume that the plaintext consists of lowercase letters (a to z), and that the ciphertext consists of uppercase letters (A to Z). To be able to apply mathematical operations on the plaintext and ciphertext, we assign numerical values to each letter (lower- or uppercase).
The encryption algorithm adds the key to the plaintext character; the decryption algorithm subtracts the key from the ciphertext character. All operations are done in modulo 26.
Historically, additive ciphers are called shift ciphers because the encryption algorithm can be interpreted as shift key characters down and the encryption algorithm can be interpreted as shift key characters up. Julius Caesar used an additive cipher, with a key of 3, to communicate with his officers. For this reason, additive ciphers are sometimes referred to as the **Caesar cipher**.

**Polyalphabetic ciphers**
In a **polyalphabetic cipher**, each occurrence of a character may have a different substitute. The relationship between a character in the plaintext to a character in the ciphertext is one-to-many. For example, a could be enciphered as D at the beginning of the text, but as N in the middle. Polyalphabetic ciphers have the advantage of hiding the letter frequency of the underlying language. Eve cannot use single-letter frequency statistics to break the ciphertext.
To create a polyalphabetic cipher, we need to make each ciphertext character dependent on both the corresponding plaintext character and the position of the plaintext character in the message.

**Transposition ciphers**
A **transposition cipher** does not substitute one symbol for another; instead it changes the location of the symbols. A symbol in the first position of the plaintext may appear in the tenth position of the ciphertext. A symbol in the eighth position in the plaintext may appear in the first position of the ciphertext. In other words, a transposition cipher reorders (transposes) the symbols.

**Stream and block ciphers**
The literature divides the symmetric ciphers into two broad categories: stream ciphers and block ciphers.

**Stream cipher**
In a **stream cipher**, encryption and decryption are done one symbol (such as a character or a bit) at a time. We have a plaintext stream, a ciphertext stream, and a key stream.

**Block ciphers**
In a **block cipher**, a group of plaintext symbols of size $m$ ($m > 1$) are encrypted together, creating a group of ciphertext of the same size. Based on the definition, in a block cipher, a single key is used to encrypt the whole block even if the key is made of multiple values. In a block cipher, a ciphertext block depends on the whole plaintext block.

**Modern symmetric-key ciphers**
The traditional symmetric-key ciphers that we have studied so far are character-oriented ciphers. With the advent of the computer, we need bit-oriented ciphers. This is because the information to be encrypted is not just text; it can also consist of numbers, graphics, audio, and video data. It is convenient to convert these types of data into a stream of bits, to encrypt the stream, and then to send the encrypted stream.

**Modern block ciphers**
A symmetric-key *modern block cipher* encrypts an $n$-bit block of plaintext or decrypts an $n$-bit block of ciphertext. The encryption or decryption algorithm uses a $k$-bit key. The decryption algorithm must be the inverse of the encryption algorithm, and both operations must use the same secret key so that Bob can retrieve the message sent by Alice.

**Modern stream ciphers**
In addition to modern block ciphers, we can also use modern stream ciphers. In a modern stream cipher, encryption and decryption are done $r$ bits at a time. Stream ciphers are faster than block ciphers. The hardware implementation of a stream cipher is also easier. When we need to encrypt binary streams and transmit them at a constant rate, a stream cipher is the better choice to use.
The simplest and the most secure type of synchronous stream cipher is called the **one-time pad**, which was invented and patented by Gilbert Vernam. A one-time pad cipher uses a key stream that is randomly chosen for each encipherment. The encryption and decryption algorithms each use a single exclusive-OR operation. The one-time pad is an ideal cipher. It is perfect. There is no way that an adversary can guess the key or the plaintext and ciphertext statistics. However, there is an issue here. How can the sender and the receiver share a one-time pad key each time they want to communicate?

### 16.2.2 Asymmetric-key ciphers
In previous sections we discussed symmetric-key ciphers. In this section, we start the discussion of **asymmetric-key ciphers**. Symmetric- and asymmetric-key ciphers will exist in parallel and continue to serve the community. We actually believe that they are complements of each other; the advantages of one can compensate for the disadvantages of the other.

The conceptual differences between the two systems are based on how these systems keep a secret. In symmetric-key cryptography, the secret must be shared between two persons. In asymmetric-key cryptography, the secret is personal (unshared); each person creates and keeps his or her own secret.

**Symmetric-key cryptography is based on sharing secrecy; asymmetric-key cryptography is based on personal secrecy.**

There are some other aspects of security besides encipherment that need asymmetric-key cryptography. These include authentication and digital signatures. Whenever an application is based on a personal secret, we need to use asymmetric-key cryptography.

Whereas symmetric-key cryptography is based on substitution and permutation of symbols (characters or bits), asymmetric-key cryptography is based on applying mathematical functions to numbers. In asymmetric-key cryptography, the plaintext and ciphertext are numbers; encryption and decryption are mathematical functions that are applied to numbers to create other numbers.

**In symmetric-key cryptography, symbols are permuted or substituted; in asymmetric-key cryptography, numbers are manipulated.**

Asymmetric-key cryptography uses two separate keys: one private and one public. If encryption and decryption are thought of as locking and unlocking padlocks with keys, then the padlock that is locked with a public key can be unlocked only with the corresponding private key.

**Asymmetric-key ciphers are sometimes called public-key ciphers.**

**General idea**
The burden of providing security is mostly on the shoulders of the receiver (Bob, in this case). Bob needs to create two keys: one private and one public. Bob is responsible for distributing the public key to the community.
Second, asymmetric-key cryptography means that Bob and Alice cannot use the same set of keys for two-way communication. Each entity in the community should create its own private and public keys.
Third, asymmetric-key cryptography means that Bob needs only one private key to receive all correspondence from anyone in the community, but Alice needs $n$ public keys to communicate with $n$ entities in the community, one public key for each entity. In other words, Alice needs a ring of public keys.

**Plaintext/ciphertext**
Unlike in symmetric-key cryptography, plaintext and ciphertext in asymmetric-key cryptography are treated as integers. The message must be encoded as an integer (or a set of integers) before encryption; the integer (or the set of integers) must be decoded into the message after decryption. Asymmetric-key cryptography is normally used to encrypt or decrypt small pieces of information, such as the cipher key for a symmetric-key cryptography.

**Asymmetric-key cryptography is normally used to encrypt or decrypt small pieces of information.**

**RSA cryptosystem**
Although there are several asymmetric-key cryptosystems, one of the common public-key algorithms is the **RSA cryptosystem**, named for its inventors (Rivest, Shamir, and Adleman). RSA uses two exponents, $e$ and $d$, where $e$ is public and $d$ is private. Suppose $P$ is the plaintext and $C$ is the ciphertext. Alice uses $C = P^e \\pmod n$ to create ciphertext $C$ from plaintext $P$; Bob uses $P = C^d \\pmod n$ to retrieve the plaintext sent by Alice. The modulus $n$, a very large number, is created during the key generation process.

Bob chooses two large numbers, $p$ and $q$, and calculates $n = p \\times q$ and $\\phi = (p - 1) \\times (q - 1)$. Bob then selects $e$ and $d$ such that $(e \\times d) \\pmod \\phi = 1$. Bob advertises $e$ and $n$ to the community as the public key; Bob keeps $d$ as the private key. Anyone, including Alice, can encrypt a message and send the ciphertext to Bob, using $C = P^e \\pmod n$; only Bob can decrypt the message, using $P = C^d \\pmod n$. An intruder such as Eve cannot decrypt the message if $p$ and $q$ are very large numbers (she does not know $d$).

Although RSA can be used to encrypt and decrypt actual messages, it is very slow if the message is long. RSA, therefore, is useful for short messages. In particular, we will see that RSA is used in digital signatures and other cryptosystems that often need to encrypt a small message without having access to a symmetric key.

## 16.3 OTHER ASPECTS OF SECURITY
The cryptography systems that we have studied so far provide confidentiality. However, in modern communication, we need to take care of other aspects of security, such as integrity, message and entity authentication, non-repudiation, and key management. We briefly discuss these issues in this section.

### 16.3.1 Message integrity
There are occasions where we may not even need secrecy but instead must have integrity: the message should remain unchanged.

**Message and message digest**
One way to preserve the integrity of a document is through the use of a **fingerprint**. The electronic equivalent of the document and fingerprint pair is the message and digest pair. To preserve the integrity of a message, the message is passed through an algorithm called a **cryptographic hash function**. The function creates a compressed image of the message, called a **digest**, that can be used like a fingerprint. To check the integrity of a message or document, Bob runs the cryptographic hash function again and compares the new digest with the previous one. If both are the same, Bob is sure that the original message has not been changed.

**The message digest needs to be safe from change.**

**Hash functions**
A cryptographic hash function takes a message of arbitrary length and creates a message digest of fixed length. All cryptographic hash functions need to create a fixed-size digest out of a variable-size message. Creating such a function is best accomplished using iteration. Instead of using a hash function with variable-size input, a function with fixed-size input is created and is used a necessary number of times. The fixed-size input function is referred to as a compression function. It compresses an $n$-bit string to create an $m$-bit string where $n$ is normally greater than $m$. The scheme is referred to as an *iterated cryptographic hash function*.
Several hash algorithms were designed by Ron Rivest. These are referred to as **MD2**, **MD4**, and **MD5**, where MD stands for **message digest**. The last version, MD5, is a strengthened version of MD4 that divides the message into blocks of 512 bits and creates a 128-bit digest. It turns out, however, that a message digest of size 128 bits is too small to resist attack.
In response to the insecurity of MD hash algorithms, the Secure Hash Algorithm was invented. The **Secure Hash Algorithm (SHA)** is a standard that was developed by the National Institute of Standards and Technology (NIST). SHA has gone through several versions.

### 16.3.2 Message authentication
A digest can be used to check the integrity of a messagethat the message has not been changed. To ensure the integrity of the message and the data origin authenticationthat Alice is the originator of the message, not somebody elsewe need to include a secret shared by Alice and Bob (that Eve does not possess) in the process; we need to create a **message authentication code (MAC)**.

Alice uses a hash function to create a MAC from the concatenation of the key and the message, $h(K + M)$. She sends the message and the MAC to Bob over the insecure channel. Bob separates the message from the MAC. He then makes a new MAC from the concatenation of the message and the secret key. Bob then compares the newly created MAC with the one received. If the two MACs match, the message is authentic and has not been modified by an adversary.

**A MAC provides message integrity and message authentication using a combination of a hash function and a secret key.**

### 16.3.3 Digital signature
Another way to provide message integrity and message authentication (and some more security services, as we will see shortly) is a digital signature. A MAC uses a secret key to protect the digest; a digital signature uses a pair of privatepublic keys.

**A digital signature uses a pair of privatepublic keys.**

When Alice sends a message to Bob, Bob needs to check the authenticity of the sender; he needs to be sure that the message comes from Alice and not Eve. Bob can ask Alice to sign the message electronically. In other words, an electronic signature can prove the authenticity of Alice as the sender of the message. We refer to this type of signature as a **digital signature**.

**Comparison**
- **Inclusion**: A conventional signature is included in the document; it is part of the document. But when we sign a document digitally, we send the signature as a separate document.
- **Verification method**: For a conventional signature, when the recipient receives a document, they compare the signature on the document with the signature on file. For a digital signature, the recipient receives the message and the signature. The recipient needs to apply a verification technique to the combination of the message and the signature to verify the authenticity.
- **Relationship**: For a conventional signature, there is normally a one-to-many relationship between a signature and documents. For a digital signature, there is a one-to-one relationship between a signature and a message. Each message has its own signature.
- **Duplicity**: Another difference between the two types of signatures is a quality called *duplicity*. With a conventional signature, a copy of the signed document can be distinguished from the original one on file. With a digital signature, there is no such distinction unless there is a factor of time (such as a timestamp) on the document.

**Process**
The sender uses a **signing algorithm** to sign the message. The message and the signature are sent to the receiver. The receiver receives the message and the signature and applies the **verifying algorithm** to the combination. If the result is true, the message is accepted; otherwise, it is rejected.

In a digital signature, the signer uses her **private key**, applied to a signing algorithm, to sign the document. The verifier, on the other hand, uses the **public key** of the signer, applied to the verifying algorithm, to verify the document.

**A digital signature needs a public-key system. The signer signs with her private key; the verifier verifies with the signers public key.**

**A cryptosystem uses the private and public keys of the receiver; a digital signature uses the private and public keys of the sender.**

**Signing the digest**
Asymmetric-key cryptosystems are very inefficient when dealing with long messages. In a digital signature system, the messages are normally long, but we have to use asymmetric-key schemes. The solution is to sign a digest of the message, which is much shorter than the message. A carefully selected message digest has a one-to-one relationship with the message. The sender can sign the message digest and the receiver can verify the message digest. The effect is the same.

**Services**
- **Message authentication**: A secure digital signature scheme can provide message authentication (also referred to as data-origin authentication). Bob can verify that the message is sent by Alice because Alices public key is used in verification. Alices public key cannot verify the signature signed by Eves private key.
- **Message integrity**: The integrity of the message is preserved if we sign the message or the digest of the message because we cannot get the same digest if any part of the message is changed.
- **Nonrepudiation**: If Alice signs a message and then denies it, Bob can prove that Alice actually signed it. One solution is a trusted third party. People can create an established trusted party among themselves.

**Confidentiality**
A digital signature does not provide confidential communication. If confidentiality is required, the message and the signature must be encrypted using either a symmetric-key or an asymmetric-key cipher.

### 16.3.4 Entity authentication
**Entity authentication** is a technique designed to let one party verify the identity of another party. An **entity** can be a person, a process, a client, or a server. The entity whose identity needs to be proven is called the **claimant**; the party that tries to verify the identity of the claimant is called the **verifier**.

**Entity versus message authentication**
1.  Message authentication (or data-origin authentication) might not happen in real time; entity authentication does. In the former, Alice sends a message to Bob. When Bob authenticates the message, Alice may or may not be present in the communication process. On the other hand, when Alice requests entity authentication, there is no real message communication involved until Alice is authenticated by Bob. Alice needs to be online and to take part in the process.
2.  Message authentication simply authenticates one message; the process needs to be repeated for each new message. Entity authentication authenticates the claimant for the entire duration of a session.

**Verification categories**
In entity authentication, the claimant must identify him- or herself to the verifier. This can be done with one of three kinds of witnesses: something known, something possessed, or something inherent.
- **Something known**: This is a secret known only by the claimant that can be checked by the verifier. Examples are a password, a PIN, a secret key, and a private key.
- **Something possessed**: This is something that can prove the claimants identity. Examples are a passport, a drivers license, an identification card, a credit card, and a smart card.
- **Something inherent**: This is an inherent characteristic of the claimant. Examples are conventional signatures, fingerprints, voice, facial characteristics, retinal pattern, and handwriting.

**Passwords**
The simplest and oldest method of entity authentication is the use of a **password**, which is something that the claimant *knows*. A password is used when a user needs to access a systems resources (login). Each user has a user identification that is public, and a password that is private. Passwords, however, are very prone to attack.

**Challengeresponse**
In password authentication, the claimant proves her identity by demonstrating that she knows a secret, the password. However, because the claimant sends this secret, it is susceptible to interception by the adversary. In **challengeresponse authentication**, the claimant proves that she *knows* a secret without sending it to the verifier. In other words, the claimant does not send the secret to the verifier; the verifier either has it or finds it.

**In challengeresponse authentication, the claimant proves that she knows a secret without sending it to the verifier.**

The **challenge** is a time-varying value such as a random number or a timestamp that is sent by the verifier. The claimant applies a function to the challenge and sends the result, called a **response**, to the verifier. The response shows that the claimant knows the secret.

**Using a symmetric-key cipher**
Several approaches to challengeresponse authentication use **symmetric-key encryption**. The secret here is the shared secret key, known by both the claimant and the verifier. The function is the encrypting algorithm applied on the challenge.

**Using an asymmetric-key cipher**
Instead of a symmetric-key cipher, we can use an asymmetric-key cipher for entity authentication. Here the secret must be the private key of the claimant. The claimant must show that she owns the private key related to the public key that is available to everyone.

**Using digital signatures**
Entity authentication can also be achieved using a digital signature. When a digital signature is used for entity authentication, the claimant uses her private key for signing.

### 16.3.5 Key management
We discussed symmetric-key and asymmetric-key cryptography in the previous sections. However, we have not yet discussed how secret keys in symmetric-key cryptography, and public keys in asymmetric-key cryptography, are distributed and maintained. This section touches on these two issues.

**Symmetric-key distribution**
Symmetric-key cryptography is more efficient than asymmetric-key cryptography for enciphering large messages. Symmetric-key cryptography, however, needs a shared secret key between two parties.
If Alice needs to exchange confidential messages with $N$ people, she needs $N$ different keys. What if $N$ people need to communicate with each other? A total of $N(N - 1)/2$ keys are needed. This is normally referred to as the $N^2$ problem because the number of required keys for $N$ entities is close to $N^2$.
The number of keys is not the only problem; the distribution of keys is another. Using the Internet is definitely not a secure method.

**Key distribution center: KDC**
A practical solution is the use of a trusted third party, referred to as a **key-distribution center (KDC)**. To reduce the number of keys, each person establishes a shared secret key with the KDC. A secret key is established between the KDC and each member. Now the question is how Alice can send a confidential message to Bob.
1.  Alice sends a request to the KDC stating that she needs a session (temporary) secret key between herself and Bob.
2.  The KDC informs Bob about Alices request.
3.  If Bob agrees, a session key is created between the two.
The secret key between Alice and Bob that is established with the KDC is used to authenticate Alice and Bob to the KDC and to prevent Eve from impersonating either of them.

**Session keys**
A KDC creates a secret key for each member. This secret key can be used only between the member and the KDC, not between two members. If Alice needs to communicate secretly with Bob, she needs a secret key between herself and Bob. A KDC can create a **session key** between Alice and Bob, using their keys with the center. The keys of Alice and Bob are used to authenticate Alice and Bob to the center and to each other before the session key is established. After communication is terminated, the session key is no longer useful.

**A session symmetric key between two parties is used only once.**

**Public-key distribution**
In asymmetric-key cryptography, people do not need to know a symmetric shared key. If Alice wants to send a message to Bob, she only needs to know Bobs public key, which is open to the public and available to everyone. In public-key cryptography, everyone shields a private key and advertises a public key.

**In public-key cryptography, everyone has access to everyones public key; public keys are available to the public.**

**Public announcement**
The naive approach is to announce public keys publicly. Bob can put his public key on his website or announce it in a local or national newspaper. This approach, however, is not secure; it is subject to forgery. For example, Eve could make such a public announcement. Eve can fool Alice into sending her a message that is intended for Bob.

**Certification authority**
The common approach to distributing public keys is to create **public-key certificates**. Bob wants two things; he wants people to know his public key, and he wants no one to accept a forged public key as his. Bob can go to a **certification authority (CA)**, a federal or state organization that binds a public key to an entity and issues a certificate.
The CA itself has a well-known public key that cannot be forged. The CA checks Bobs identification. It then asks for Bobs public key and writes it on the certificate. To prevent the certificate itself from being forged, the CA signs the certificate with its private key. Now Bob can upload the signed certificate. Anyone who wants Bobs public key downloads the signed certificate and uses the authoritys public key to extract Bobs public key.

**X.509**
Although the use of a CA has solved the problem of public-key fraud, it has created a **side effect**. Each certificate may have a different format. Anything that needs to be used universally must have a universal format. To remove this side effect, the ITU has designed **X.509**, a recommendation that has been accepted by the Internet with some changes. X.509 is a way to describe the certificate in a structured way. It uses a well-known protocol called ASN.1 that defines fields familiar to computer programmers.

## 16.4 FIREWALLS
All previous security measures cannot prevent Eve from sending a harmful message to a system. To control access to a system we need firewalls. A **firewall** is a device (usually a router or a computer) installed between the internal network of an organization and the rest of the Internet. It is designed to forward some packets and filter (not forward) others.

For example, a firewall may filter all incoming packets destined for a specific host or a specific server such as HTTP. A firewall can be used to deny access to a specific host or a specific service in the organization. A firewall is usually classified as a *packet-filter firewall* or a *proxy-based firewall*.

### 16.4.1 Packet-filter firewall
A firewall can be used as a packet filter. It can forward or block packets based on the information in the network-layer and transport-layer headers: source and destination IP addresses, source and destination **port addresses**, and type of protocol (TCP or UDP). A **packet-filter firewall** is a router that uses a filtering table to decide which packets must be discarded (not forwarded).

### 16.4.2 Proxy firewall
The packet-filter firewall is based on the information available in the network-layer and transport-layer headers (IP and TCP/UDP). However, sometimes we need to filter a message based on the information available in the message itself (at the application layer). As an example, assume that an organization wants to implement the following policies regarding its web pages: only those Internet users who have previously established business relations with the company can have access; access to other users must be blocked. In this case, a packet-filter firewall is not feasible because it cannot distinguish between different packets arriving at TCP port 80 (HTTP). Testing must be done at the application level (using URLs).

One solution is to install a proxy computer (sometimes called an **application gateway**), which stands between the customer computer and the corporation computer. When the user client process sends a message, the application gateway runs a server process to receive the request. The server opens the packet at the application level and finds out if the request is legitimate. If it is, the server acts as a client process and sends the message to the real server in the corporation. If it is not, the message is dropped and an error message is sent to the external user. In this way, the requests of the external users are filtered based on the contents at the application layer.

## 16.5 END-CHAPTER MATERIALS
### 16.5.2 Key terms
- additive cipher
- application gateway
- asymmetric-key cipher
- autokey cipher
- availability
- block cipher
- caesar cipher
- certification authority (CA)
- challengeresponse authentication
- cipher
- ciphertext
- confidentiality
- cryptographic hash function
- cryptography
- decryption
- decryption algorithm
- denial of service (DoS)
- digest
- digital signature
- encryption
- encryption algorithm
- firewall
- hashed MAC (HMAC)
- integrity
- key
- key-distribution center (KDC)
- masquerading
- message authentication code (MAC)
- message digest (MD)
- monoalphabetic cipher
- one-time pad
- packet-filter firewall
- plaintext
- polyalphabetic cipher
- port address
- private key
- proxy firewall
- public key
- public-key certificate
- replaying
- RSA cryptosystem
- secret key
- Secure Hash Algorithm (SHA)
- security attack
- security goal
- shift cipher
- side effect
- snooping
- spoofing
- steganography
- stream cipher
- substitution cipher
- symmetric-key cipher
- symmetric-key encryption
- ticket
- traffic analysis
- transposition cipher
- verifying algorithm
- X.509

### 16.5.3 Summary
- Data compression methods are either lossless (all information is recoverable) or lossy (some information is lost).
- In lossless compression methods, the received data is an exact replica of the sent data. Three lossless compression methods are run-length encoding, Huffman coding, and Lempel Ziv (LZ) encoding.
- In run-length encoding, repeated occurrences of a symbol are replaced by a symbol and the number of occurrences of the symbol.
- In Huffman coding, the code length is a function of symbol frequency: more frequent symbols have shorter codes than less frequent symbols.
- In LZ encoding, repeated strings or words are stored in memory locations. An index to the memory location replaces the string or word. LZ encoding requires a dictionary and an algorithm at both sender and receiver.
- In lossy compression methods, the received data need not be an exact replica of the sent data. Three lossy compression methods were discussed in this chapter: JPEG, MPEG, and MP3.
- JPEG (Joint Photographic Experts Group) compression is a method of compressing pictures and graphics. The JPEG process involves blocking, the discrete cosine transform, quantization, and lossless compression.
- MPEG (Moving Pictures Experts Group) compression is a method of compressing video. MPEG involves both spatial compression and temporal compression. The former is similar to JPEG, while the latter removes redundant frames.
- MP3 (MPEG audio layer 3) is a part of the MPEG standard. MP3 uses perceptual encoding techniques to compress CD-quality audio.
`,zh:`
# 



## 

- 
- 
- 
- 

## 16.1 
************





### 16.1.1 


** (Confidentiality)**
****

** (Integrity)**
****

** (Availability)**
****

### 16.1.2 
****

****


** (Snooping)**
****

** (Traffic analysis)**


****


** (Modification)**


** (Masquerading)**
****** (spoofing)**  PIN 

** (Replaying)**
****

** (Repudiation)**


****


** (Denial of service)**
** (DoS)** 

### 16.1.3 
ITU-T 


** (Cryptography)**
****************

** (Steganography)**
********

## 16.2 


### 16.2.1 
****

****

 Alice  Bob ********Alice ******
Bob ****** (ciphers)******



****: $C = E_k(P)$        ****: $P = D_k(C)$





****


** (Substitution ciphers)**
**** D  A Z  T0  9 7  3 6  2


** (Monoalphabetic ciphers)**
**** A  D A  D
********a  zA  Z
 26 
 3****

** (Polyalphabetic ciphers)**
****'a'  'D' 'N'Eve 


** (Transposition ciphers)**
****

****


** (Stream cipher)**
****

** (Block ciphers)**
**** $m$ ($m > 1$) 

****


****
** $n$  $n$  $k$  Bob  Alice 

****
 $r$ 
** (one-time pad)** Gilbert Vernam  (XOR) 

### 16.2.2 
****



****





****



****

****
 BobBob Bob 
 Bob  Alice 
 Bob  Alice  $n$  $n$ Alice 

**/**


****

**RSA **
 **RSA **RivestShamir  AdlemanRSA $e$  $d$ $e$ $d$  $P$ $C$ Alice  $C = P^e \\pmod n$  $P$  $C$Bob  $P = C^d \\pmod n$  Alice  $n$ 

Bob  $p$  $q$ $n = p \\times q$  $\\phi = (p - 1) \\times (q - 1)$ Bob  $e$  $d$ $(e \\times d) \\pmod \\phi = 1$Bob  $e$  $n$ Bob  $d$  Alice Bob $C = P^e \\pmod n$ Bob  $P = C^d \\pmod n$ Eve  $p$  $q$  $d$

 RSA RSA  RSA 

## 16.3 


### 16.3.1 


****
************Bob Bob 

****

****
 $n$  $m$  $n$  $m$**
Ron Rivest  **MD2****MD4**  **MD5** MD **** MD5  MD4  512  128 128 
 MD ** (SHA)**  (NIST) SHA 

### 16.3.2 
Alice  Alice  Bob Eve ** (MAC)**

Alice  $h(K + M)$  MAC MAC  BobBob  MAC  MAC Bob  MAC  MAC  MAC 

**MAC **

### 16.3.3 
MAC -

**-**

 Alice  Bob Bob  Alice  EveBob  Alice  Alice ****

****
- ****
- ****
- ****
- ******

****
********

********

****

****

****


****
- ****Bob  Alice  Alice Alice  Eve 
- ****
- **** Alice Bob  Alice 

****


### 16.3.4 
****************

****
1.  Alice  Bob Bob Alice  Alice  Alice  Bob Alice 
2.  

****

- ****PIN
- ****
- ****

****
******

****
******

****

********

****
****

****


****


### 16.3.5 


****

 Alice  $N$  $N$  $N$  $N(N - 1)/2$  $N^2$  $N$  $N^2$


**KDC**
** (KDC)** KDC  KDC  Alice  Bob 
1.  Alice  KDC  Bob 
2.  KDC  Bob  Alice 
3.   Bob 
 KDC  Alice  Bob  KDC  Alice  Bob Eve 

****
KDC  KDC  Alice  Bob  Bob KDC  Alice  Bob  Alice  Bob ****Alice  Bob  Alice  Bob

****

****
 Alice  Bob Bob 

****

****
Bob Eve Eve  Alice  Bob 

****
****Bob Bob ** (CA)**
CA CA  Bob  Bob CA  Bob  Bob  Bob 

**X.509**
 CA ****ITU  **X.509**X.509  ASN.1 

## 16.4 
 Eve ****

 HTTP****

### 16.4.1 
 IP ****TCP  UDP****

### 16.4.2 
IP  TCP/UDP TCP  80 (HTTP)  URL

****

## 16.5 
### 16.5.2 
- 
- 
- 
- 
- 
- 
- 
-  (CA)
- 
- 
- 
- 
- 
- 
- 
- 
-  (DoS)
- 
- 
- 
- 
- 
-  MAC (HMAC)
- 
- 
-  (KDC)
- 
-  (MAC)
-  (MD)
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- RSA 
- 
-  (SHA)
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- X.509

### 16.5.3 
- 
-  Lempel Ziv (LZ) 
- 
- 
-  LZ LZ 
- JPEGMPEG  MP3
- JPEG () JPEG 
- MPEG () MPEG  JPEG
- MP3 (MPEG  3)  MPEG MP3  CD 
`},xN={en:`
# Chapter 17: Theory of Computation

In Chapters 1 through 16, we considered a computer as a problem-solving machine. In this chapter, we answer some questions such as: which problems can be solved by a computer? Is one language superior to another? Before running a program, can it be determined whether the program will halt (terminate) or run forever? How long does it take to solve a problem using a particular language? To answer these questions, we turn to a discipline called the theory of computation.

## Objectives
After studying this chapter, the student should be able to:
- Describe a programming language we call Simple Language and define its basic statements.
- Write macros in Simple Language using the combination of simple statements.
- Describe the components of a Turing machine as a computation model.
- Show how simple statements in Simple Language can be simulated using a Turing machine.
- Understand the ChurchTuring thesis and its implication.
- Define the Gdel number and its application.
- Understand the concept of the halting problem and how it can be proved that this problem is unsolvable.
- Distinguish between solvable and unsolvable problems.
- Distinguish between polynomial and nonpolynomial solvable problems.

## 17.1 SIMPLE LANGUAGE
We can define a computer language with only three statements: the **increment statement**, the **decrement statement**, and the **loop statement** (Figure 17.1). In this language, the only data type we use is nonnegative integers. There is no need for any other data type, because the goal of the chapter is merely to demonstrate some ideas in computation theory. The language uses only a few symbols such as '{' and '}'.

### 17.1.1 Increment statement
The increment statement adds 1 to a variable. The format is shown in Algorithm 17.1.

**Algorithm 17.1 The increment statement**
\`\`\`text
incr (X)
\`\`\`

### 17.1.2 Decrement statement
The decrement statement subtracts 1 from a variable. The format is shown in Algorithm 17.2.

**Algorithm 17.2 The decrement statement**
\`\`\`text
decr (X)
\`\`\`

### 17.1.3 Loop statement
The loop statement repeats an action (or a series of actions) while the value of the variable is not 0. The format is shown in Algorithm 17.3.

**Algorithm 17.3 The loop statement**
\`\`\`text
while (X)
{
  decr (X)
  Body of the loop
}
\`\`\`

### 17.1.4 The power of the simple language
It can be shown that this simple programming language with only three statements is as powerfulalthough not necessarily as efficientas any sophisticated language in use today, such as C. To do so, we show how we can simulate several statements found in some popular languages.

**Macros in Simple Language**
We call each simulation a **macro** and use it in other simulations without the need to repeat code. A *macro* (short for *macroinstruction*) is an instruction in a high-level language that is equivalent to a specific set of one or more ordinary instructions in the same language.

**First macro: X  0**
Algorithm 17.4 shows how to use the statements in Simple Language to assign 0 to a variable X. It is sometimes called *clearing* a variable.

**Algorithm 17.4 Macro X  0**
\`\`\`text
while (X)
{
  decr (X)
}
\`\`\`

**Second macro: X  n**
Algorithm 17.5 shows how to use the statements in Simple Language to assign a positive integer $n$ to a variable X. First clear the variable X, then increment X $n$ times.

**Algorithm 17.5 Macro X  n**
\`\`\`text
X  0
incr (X)
incr (X)
...
incr (X)
// The statement incr (X) is repeated n times.
\`\`\`

**Third macro: Y  X**
Algorithm 17.6 simulates the macro Y  X in Simple Language. Note that we can use an extra line of code to restore the value of X.

**Algorithm 17.6 Macro Y  X**
\`\`\`text
Y  0
while (X)
{
  decr (X)
  incr (Y)
}
\`\`\`

**Fourth macro: Y  Y + X**
Algorithm 17.7 simulates the macro Y  Y + X in Simple Language. Again, we can use more code lines to restore the value of X to its original value.

**Algorithm 17.7 Macro Y  Y + X**
\`\`\`text
while (X)
{
  decr (X)
  incr (Y)
}
\`\`\`

**Fifth macro: Y  Y  X**
Algorithm 17.8 simulates the macro Y  Y  X in Simple Language. We can use the addition macro because integer multiplication can be simulated by repeated addition. Note that we need to preserve the value of X in a temporary variable, because in each addition we need the original value of X to be added to Y.

**Algorithm 17.8 Macro Y  Y  X**
\`\`\`text
TEMP  Y
Y  0
while (X)
{
  decr (X)
  Y  Y + TEMP
}
\`\`\`

**Sixth macro: Y  Y^X**
Algorithm 17.9 simulates the macro Y  Y^X in Simple Language. We do this using the multiplication macro because integer exponentiation can be simulated by repeated multiplication.

**Algorithm 17.9 Macro Y  Y^X**
\`\`\`text
TEMP  Y
Y  1
while (X)
{
  decr (X)
  Y  Y  TEMP
}
\`\`\`

**Seventh macro: if X then A**
Algorithm 17.10 simulates the seventh macro in Simple Language. This macro simulates the decision-making (*if*) statement of modern languages. In this macro, the variable X has only one of the two values 0 or 1. If the value of X is not 0, A (an action or a series of actions) is executed in the loop. However, the loop is executed only once because, after the first iteration, the value of X becomes 0 and we come out of the loop. If the value of X is originally 0, the loop is skipped.

**Algorithm 17.10 Macro if X then A**
\`\`\`text
while (X)
{
  decr (X)
  A
}
\`\`\`

**Other macros**
It is obvious that we need more macros to make Simple Language compatible with contemporary languages. Creating other macros is possible, although not trivial.

**Input and output**
In this simple language the statement *read X* can be simulated using (X  n). We also simulate the output by assuming that the last variable used in a program holds what should be printed. Remember that this is not a practical language, it is merely designed to prove some theorems in computer science.

## 17.2 THE TURING MACHINE
The **Turing machine** was introduced in 1936 by Alan M. Turing to solve computable problems, and is the foundation of modern computers. In this section we introduce a very simplified version of the machine to show how it works.

### 17.2.1 Turing machine components
A Turing machine is made of three components: a tape, a controller, and a read/write head (Figure 17.2).

**Tape**
Although modern computers use a random-access storage device with finite capacity, we assume that the Turing machines memory is infinite. The tape, at any one time, holds a sequence of characters from the set of characters accepted by the machine. For our purpose, we assume that the machine can accept only two symbols: a blank (**b**) and digit **1**. Figure 17.3 shows an example of data on a tape in this machine.

The left-hand blank defines the beginning of the nonnegative integers stored on the tape. The integer is represented by a string of 1s, and the right-hand blank defines the end of the integer. The rest of the tape contains blank characters. If more than one integer are stored on the tape, they are separated by at least one blank character.
We also assume that the tape processes only positive integer data represented in unary arithmetic. In this arithmetic, a positive integer is made up only of 1s. For example, the integer 4 is represented as 1111 (four 1s) and the integer 7 is represented as 1111111 (seven 1s). The absence of 1s represents 0.

**Read/write head**
The **read/write head** at any moment points to one symbol on the tape. We call this symbol the *current* symbol. The read/write head reads and writes one symbol at a time from the tape. After reading and writing, it moves to the left or to the right. Reading, writing, and moving are all done under instructions from the controller.

**Controller**
The **controller** is the theoretical counterpart of the central processing unit (CPU) in modern computers. It is a **finite state automaton**, a machine that has a predetermined finite number of states and moves from one state to another based on the input. At any moment, it can be in one of these states.
Figure 17.4 shows the transition state diagram for a simple controller as a finite state automaton. In this figure, the automaton has only three states (A, B, and C), although a controller normally has many states. The diagram shows the change of state as a function of the character read. The expression on each line, *x/y/L*, *x/y/R*, and *x/y/N*, shows that if the controller has read the symbol *x*, it writes the symbol *y* (overwrites *x*), and the read/write head moves to the left (L), right (R), or does not move (N). Note that since the symbols on the tape can be only a blank or the digit 1, there should be two paths out of each state: one if the blank symbol is read and one if the digit 1 is read. The beginning of the line (called the *transition line*) shows the current state and the end of the line (arrow head) shows the next state.

We can create a transition table (Table 17.1) in which each row relates to one state. The table will have five columns: current state, the symbol that is read, the symbol to write, the direction of movement of the head, and the next symbol. Since the machine can only go through a finite number of states, we can create an instruction set like the one we create for the Simple Computer in Chapter 5.

**Table 17.1 Transition table**
| Current State | Read | Write | Move | New State |
| :--- | :--- | :--- | :--- | :--- |
| A | b | b | R | A |
| A | 1 | 1 | R | B |
| B | b | 1 | R | B |
| B | 1 | b | N | C |
| C | b | b | L | A |
| C | 1 | 1 | L | B |

The instructions put together the value of five columns in each row. For this elementary machine, we have only six instructions:
1. (A, b, b, R, A)
2. (A, 1, 1, R, B)
3. (B, b, 1, R, B)
4. (B, 1, b, N, C)
5. (C, b, b, L, A)
6. (C, 1, 1, L, B)

For example, the first instruction says that if the machine is in state A and has read the symbol b, it overwrites the symbol with a new b, moves to the next symbol to the right, and the machine transitions to state Athat is, remains in the same state.

> **Example 17.1**
> A Turing machine has only two states and the following four instructions:
> 1. (A, b, b, L, A)
> 2. (A, 1, 1, R, B)
> 3. (B, b, b, L, A)
> 4. (B, 1, b, R, A)
> If the machine starts with the configuration shown in Figure 17.5 (Controller state A, pointing to first 1 in sequence 'b 1 1 1 1 b'), what is the configuration of the machine after executing one of the above instructions? Note that the machine can only execute one of the instructions, the one that matches the current state and the current symbol.
>
> **Solution**
> The machine is in state A and the current symbol is 1, which means that only the second instruction, (A, 1, 1, R, B) can be executed. The new configuration is also shown in Figure 17.5. Note that the state of the controller has been changed to B and the read/write head has moved one symbol to the right.

### 17.2.2 Simulating Simple Language
We can now write programs that implement the statements of Simple Language. Note that these statements can be written in many different ways: we have chosen the simplest or most convenient for our educational purpose, but they are not necessarily the best ones.

**Increment statement**
Figure 17.6 shows the Turing machine for the **incr (X)** statement. The controller has four states, S1 through S4. State S1 is the starting state, state S2 is the moving-right state, state S3 is the moving-left state, and state S4 is the halting state. If the machine reaches the halting state, it stops: there is no instruction that starts with this state.

Figure 17.6 also shows the program for the incr (X) statement. It has only five instructions. The process starts from the blank symbol at the left of X (data to be incremented), moves right over all 1s until it reaches the blank symbol at the right of X. It changes this blank to 1. It then moves left over all 1s until it reaches the blank at the left again. At this point it halts. Note that we have also written the program to move the read/write head back to the blank symbol to the left of X, which is necessary if more operations are to be performed on X.

> **Example 17.2**
> Show how the Turing machine can increment X when X = 2.
>
> **Solution**
> Figure 17.7 shows the solution. The value of X (11 in the unary system) is stored between the two blank symbols. It takes seven steps for the machine to increment X and return the read/write head to its original position. Steps 1 to 4 move the read/write head to the end of X. Steps 5 to 7 change the blank at the end and move the read/write head back to where it was before.

**Decrement statement**
We implement the **decr (X)** statement using the minimum number of instructions. The reason is that we need to use this statement in the next statement, the *while* loop, which will also be used to implement all macros. Figure 17.8 shows the Turing machine for this statement. The controller has three states, S1, S2, and S3. Statement S1 is the starting state. State S2 is the checking statement, which checks to see if the current symbol is 1 or b. If it is b, the statement goes to the halting state: if the next symbol is 1, the second statement changes it to b and goes to the halting state. Figure 17.8 also shows the program for this statement.

> **Example 17.3**
> Show how the Turing machine can decrement X when X = 2.
>
> **Solution**
> Figure 17.9 shows the situation. The machine starts at the blank to the left of the data and changes the next symbol to blank if it is 1. The read/write head stops over the blank character to the left of the resulting data. This is the same arrangement as with the increment statement. Note that we could have moved the read/write head to the end of the data and deleted the last 1 instead of the first one, but that program would be much longer than our version. Since we need this statement in every loop statement, we have used the shorter version to save the number of instructions. We use the short version of this statement in the *while* loop statement that we develop next.

**Loop statement**
To simulate the loop, we assume that X and the data to be processed by the body of the loop are stored on the tape separated by a single blank symbol. Figure 17.10 shows the table, the program, and the state transition diagram for a general loop statement.

The three states S1, S2, and S3 control the loops by determining X and exiting the loop if X = 0. Compare these three statements to the three statements used in the decrement statement in Figure 17.8. The state MR moves the read/write head over the blank symbol that defines the start of the data at the beginning of processing data in each iteration, the state ML moves the read/write head over the blank symbol defining the start of the X at the end of processing in each iteration. The state BS (*body start*) defines the beginning state of the body of the loop, while the state BH (*body halt*) defines the halting state for the body of the loop. The body of the loop may have several states between these two states.

Figure 17.10 also shows the repetitive nature of the statement. The state diagram itself is a loop that is repeated as long as the value of X is not zero. When the value of X becomes 0, the loop stops and state S3, the halting state, is reached.

> **Example 17.4**
> Let us show a very simple example. Suppose we want to simulate the fourth macro, Y  Y + X (page 454). As we discussed before, this macro can be simulated using the while statement in Simple Language:
> \`\`\`text
> while (X)
> {
>   decr (X)
>   incr (Y)
> }
> \`\`\`
> To make the procedure shorter, we assume that X = 2 and Y = 3, so the result is Y = 5. Figure 17.11 shows the state of the tape before and after applying the macro. Note that in this program we erase the value of X to make the process shorter, but the original value of X can be preserved if we allow other symbols on the tape.
> Since X = 2, the program goes through two iterations. At the end of the first iteration, the value of X = 1 and the value of Y = 4. At the end of the second iteration, the value of X = 0 and the value of Y = 5.

### 17.2.3 The ChurchTuring thesis
We have shown that a Turing machine can simulate the three basic statements in Simple Language. This means that the Turing machine can also simulate all the macros we defined for Simple Language. Can the Turing machine therefore solve any problem that can be solved by a computer? The answer to this question can be found in the ChurchTuring thesis.

**The ChurchTuring Thesis**
**If an algorithm exists to do a symbol manipulation task, then a Turing machine exists to do that task.**

Based on this claim, any symbol-manipulation task that can be done by writing an algorithm to do so can also be done by a Turing machine. Note that this is only a *thesis*, not a *theorem*. A theorem can be proved mathematically, a thesis cannot. Although this thesis probably can never be proved, there are strong arguments in its favor. First, no algorithms have been found that cannot be simulated using a Turing machine. Second, it has been proven that all computing models that have been mathematically proved are equivalent to the Turing machine model.

## 17.3 GDEL NUMBERS
In theoretical computer science, an unsigned number is assigned to every program that can be written in a specific language. This is usually referred to as the **Gdel number**, named after the Austrian mathematician Kurt Gdel.

This assignment has many advantages. First, programs can be used as a single data item as input to other programs. Second, programs can be referred to by just their integer representations. Third, the numbering can be used to prove that some problems cannot be solved by a computer, by showing that the total number of problems in the world is much larger than the total number of programs that can ever be written.

Different methods have been devised for numbering programs. We use a very simple transformation to number programs written in our Simple Language. Simple Language uses only fifteen symbols (Table 17.2).

**Table 17.2 Code for symbols used in Simple Language**
| Symbol | Hex code | Symbol | Hex code |
| :--- | :--- | :--- | :--- |
| 1 | 1 | 9 | 9 |
| 2 | 2 | incr | A |
| 3 | 3 | decr | B |
| 4 | 4 | while | C |
| 5 | 5 | { | D |
| 6 | 6 | } | E |
| 7 | 7 | X | F |
| 8 | 8 | | |

Note that in this language we use only X, X1, X2, , X9 as variables. To encode these variables, we handle Xn as two symbols X and n (X3 is X and 3). If we have a macro with other variables, they need to be changed to Xn.

### 17.3.1 Representing a program
Using the table, we can represent any program written in Simple Language by a unique positive integer by following these steps:
1.  Replace each symbol with the corresponding hexadecimal code from the table.
2.  Interpret the resulting hexadecimal number as an unsigned integer.

> **Example 17.5**
> What is the Gdel number for the program \`incr X\`?
>
> **Solution**
> Replace each symbol by its hexadecimal code.
> \`incr X\`  (AF)16  175
> So this program can be represented by the number 175.

### 17.3.2 Interpreting a number
To show that the numbering system is unique, use the following steps to interpret a Gdel number:
1.  Convert the number to hexadecimal.
2.  Interpret each **hexadecimal digit** as a symbol using Table 17.2 (ignore a 0).

Note that while any program written in Simple Language can be represented by a number, not every number can be interpreted as a valid program. After conversion, if the symbols do not follow the syntax of the language, the number is not a valid program.

> **Example 17.6**
> Interpret 3058 as a program.
>
> **Solution**
> Change the number to hexadecimal and replace each digit with the corresponding symbol:
> 3058  (BF2)16  decr X 2  decr (X2)
> This means that the equivalent code in Simple Language is \`decr (X2)\`. Note that in Simple Language, each program includes input and output. This means that the combination of a program and its inputs defines the Gdel number.

## 17.4 THE HALTING PROBLEM
Almost every program written in a programming language involves some form of repetitionloops or recursive functions. A repetition construct may never terminate (halt): that is, a program can run forever if it has an infinite loop. For example, the following program in Simple Language never terminates:
\`\`\`text
X  1
while (X)
{
}
\`\`\`

A classical programming question is:
**Can we write a program that tests whether or not any program, represented by its Gdel number, will terminate?**

The existence of this program would save programmers a lot of time. Running a program without knowing if it halts or not is a tedious job. Unfortunately, it has now been proven that such a program cannot existmuch to the disappointment of programmers!

### 17.4.1 The halting problem is not solvable
Instead of saying that the testing program does not exist and can never exist, the computer scientist says The **halting problem** is not solvable.

**Proof**
Let us give an informal proof about the nonexistence of this testing program. Our method, called *proof by contradiction*, is often used in mathematics: we assume that the program does exist, then show that its existence creates a contradictiontherefore, it cannot exist. We use three steps to show the proof in this approach.

**Step 1**
In this step, we assume that a program, called Test, exists. It can accept any program such as $P$, represented by its Gdel number, as input, and outputs either 1 or 0. If $P$ terminates, the output of Test is 1: if $P$ does not terminate, the output of Test is 0 (see Figure 17.12).

**Step 2**
In this step, we create another program called Strange that is made of two parts: a copy of Test at the beginning and an empty loopa loop with an empty bodyat the end. The loop uses X as the testing variable, which is actually the output of the Test program. This program also uses $P$ as the input. We call this program Strange for the following reason: if $P$ terminates, the first part of Strange, which is a copy of Test, outputs 1. This 1 is input to the loop. The loop does not terminateits an infinite loopand consequently Strange does not terminate. If $P$ does not terminate, the first part of Strange, which is a copy of Test, outputs 0. This 0 is input to the loop, so the loop does terminateits now a finite loop, the loop never iteratesand consequently, Strange does terminate. In other words, we have these strange situations:
- If $P$ terminates, Strange does not terminate.
- If $P$ does not terminate, Strange terminates.

**Step 3**
Having written the program Strange, we test it with itself (its Gdel number) as input. This is legitimate because we did not put any restrictions on $P$.
If we assume that Test exists, we have the following contradictions:
- Strange does not terminate if Strange terminates.
- Strange terminates if Strange does not terminate.
This proves that the Test program cannot exist and that we should stop looking for it, so
**The halting problem is unsolvable.**

The unsolvability of the halting program has proved that many other programs are also unsolvable, because if they are solvable, then the halting problem is solvablewhich it is not.

## 17.5 THE COMPLEXITY OF PROBLEMS
Now that we have shown that at least one problem is unsolvable by a computer, well touch on this important issue a bit more. In computer science, we can say that, in general, problems can be divided into two categories: **solvable problems** and **unsolvable problems**. The solvable problems can themselves be divided into two categories: **polynomial** and **nonpolynomial** problems (Figure 17.15).

### 17.5.1 Unsolvable problems
There are an infinite number of problems that cannot be solved by a computer: one is the halting problem. One method to prove that a problem is not solvable is to show that if that problem is solvable, the halting problem is solvable too. In other words, prove that the solvability of a problem results in the solvability of the halting problem.

### 17.5.2 Solvable problems
There are many problems that can be solved by a computer. However, we often want to know how *long* it takes for the computer to solve that problem. In other words, how complex is the program?
The complexity of a program can be measured in several different ways, such as its run time, the memory it needs, and so on. One approach is the programs run timehow long does the program take to run?

**Complexity of solvable problems**
One way to measure the complexity of a solvable problem is to find the number of operations executed by the computer when it runs the program. In this way, the complexity measure is independent of the speed of the computer that runs the program. This measure of complexity can depend on the number of inputs. For example, if a program is processing a list, such as sorting it, the complexity depends on the number of elements in the list.

**Big-O notation**
With the speed of computers today, we are not as concerned with exact numbers as with general orders of magnitude. For example, if the analysis of two programs shows that one executes 15 operations (or a set of operations) while the other executes 25, they are both so fast that we cant see the difference. On the other hand, if the numbers are 15 versus 1500, we should be concerned.
This simplification of efficiency is known as **big-O notation**. We present the idea of this notation without delving into its formal definition and calculation. In big-O notation, the number of operationsor a set of related operationsis given as a function of the number of inputs. The notation O(n) means a program does $n$ operations for $n$ inputs, while the notation O($n^2$) means a program does $n^2$ operations for $n$ inputs.

> **Example 17.7**
> Imagine we have written three different programs to solve the same problem. The first one has a complexity of O($\\log_{10} n$), the second O($n$), and the third O($n^2$). Assuming 1 million inputs, how long does it take to execute each of these programs on a computer that executes one instruction in one microsecond, that is, one million instructions per second?
>
> **Solution**
> The following shows the analysis:
> *   1st program: $n = 1000000$, O($\\log_{10} n$)  6. Time  6 s
> *   2nd program: $n = 1000000$, O($n$)  1000000. Time  1 sec
> *   3rd program: $n = 1000000$, O($n^2$)  $10^{12}$. Time  277 hours

**Polynomial problems**
If a program has a complexity of O(log $n$), O($n$), O($n^2$), O($n^3$), O($n^4$), or O($n^k$), where $k$ is a constant, it is called **polynomial**. With the speed of computers today, we can get solutions to **polynomial problems** with a reasonable number of inputs, for example 1000 to 1 million.

**Non polynomial problems**
If a program has a complexity that is greater than a polynomialfor example, O($10^n$) or O($n!$)it can be solved if the number of inputs is very small, such as fewer than 100. If the number of inputs is large, one could sit in front of the computer for months to see the result of a **nonpolynomial problem**. But who knows? At the rate at which the speed of computers is increasing, we may be able to get a result for this type of problem in less time.

## 17.6 END-CHAPTER MATERIALS
### 17.6.1 Recommended reading
For more details about the subjects discussed in this chapter, the following books are recommended:
- Hennie, F. *Introduction to Computability*, Reading, MA: Addison-Wesley, 1977
- Hofstadter, D. *Gdel, Escher, Bach: An Eternal Golden Braid*, St. Paul, MN: Vintage, 1980
- Hopcroft, J., Motwani, R. and Ullman, J. *Introduction to Automata Theory, Languages, and Computation*, Reading, MA: Addison-Wesley, 2006
- Kfoury, A., Moll, R. and Michael, A. *A Programming Approach to Computability*, New York: Springer, 1982
- Minsky, M. *Computation: Finite and Infinite Machines*, Engelwood Cliffs, NJ: Prentice-Hall, 1967
- Sipser, M. *Introduction to the Theory of Computation*, Boston, MA: Course Technology, 2005

### 17.6.2 Key terms
- big-O notation
- ChurchTuring thesis
- controller
- decrement statement
- finite state automaton
- Gdel number
- halting problem
- hexadecimal digit
- increment statement
- loop statement
- macro
- nonpolynomial problem
- polynomial problem
- read/write head
- solvable problem
- Turing machine
- unsolvable problem

### 17.6.3 Summary
- We can define a computer language with only three statements: the increment statement, the decrement statement, and the loop statement. The increment statement adds 1 to a variable, the decrement statement subtracts 1 from a variable, and the loop statement repeats an action or a series of actions while the value of a variable is not 0.
- It can be shown that this simple programming language can simulate several statements found in some popular languages. We call each simulation a macro and use it in other simulations without the need to repeat code.
- The Turing machine was designed to solve computable problems. It is the foundation of modern computers. A Turing machine is made of three components: a tape, a controller, and a read/write head.
- Based on the ChurchTuring thesis, if an algorithm to do a symbol manipulation task exists, then a Turing machine to do that task also exists.
- In theoretical computer science, an unsigned number is assigned to every program that can be written in a specific language. This is usually referred to as the Gdel number.
- A classical programming question is whether a program that can determine if another program halts can be constructed. Unfortunately, it has now been proved that this program cannot exist: the halting problem is not solvable.
- In computer science, problems can be divided into two categories: solvable problems and unsolvable problems. The solvable problems can themselves be divided into two categories: polynomial and non polynomial problems.

## 17.7 PRACTICE SET
### 17.7.1 Quizzes
A set of interactive quizzes for this chapter can be found on the books website. It is strongly recommended that the student takes the quizzes to check his/her understanding of the materials before continuing with the practice set.

### 17.7.2 Review questions
1. Name and describe the functions of the three basic statements that are the foundation of other statements in Simple Language.
2. Show how assigning the value of one variable to another uses the three basic statements.
3. What is the relationship between the Turing machine and our Simple Language?
4. What are the components of the Turing machine and what is the function of each component?
5. Describe one way to delimit the data on a Turing machines tape.
6. When a read/write head in a Turing machine finishes reading and writing a symbol, what are its next options?
7. How is a transition state diagram related to a Turing machine controller?
8. How is a transition state diagram related to a transition table? Do they have the same information? Which has more information?
9. What is a Gdel number? How do we use a Gdel number to prove that the halting problem is not solvable?
10. Compare and contrast the complexity of a polynomial solvable problem and a non polynomial solvable problem.

### 17.7.3 Problems
1. Rewrite Algorithm 17.6 (Y  X) so that it preserves the value of X.
2. Rewrite Algorithm 17.7 so that it calculates Z  Y + X while preserving the values of X and Y.
3. Rewrite Algorithm 17.8 so that it calculates Z  Y  X while preserving the values of X and Y.
4. Rewrite Algorithm 17.9 so that it calculates Z  Y^X while preserving the values of X and Y.
5. Simulate the following macro using the previously defined statements or macros in Simple Language: Y  Y - X.
6. Simulate the following macro using the previously defined statements or macros in the Language (X can be only 0 or 1):
   \`\`\`text
   if (X) then
   {
     A1
   }
   else
   {
     A2
   }
   \`\`\`
7. Given a Turing machine with a single instruction (A, 1, b, R, B) and the tape configuration:
   ... b 1 1 1 b ...
   (pointing to first 1)
   show the final configuration of the tape.
8. Given a Turing machine with a single instruction (A, b, b, R, B) and the tape configuration:
   ... b 1 1 1 b ...
   (pointing to first b)
   show the final configuration of the tape.
9. Given a Turing machine with five instructions (A, b, b, R, B), (B, 1, #, R, B), (B, b, b, L, C), (C, #, 1, L, C), (C, b, b, R, B) and the tape configuration:
   ... b 1 1 1 b ...
   (pointing to first b)
   show the final configuration of the tape.
10. Show the state diagram of a Turing machine that increments a nonnegative integer represented in the binary system. For example, if the contents of the tape is $(101)_2$, it will be changed to $(110)_2$.
11. Show that the simulation of incr (X) in the Turing machine, as defined in this chapter, gives the correct answer when X = 0.
12. Show that the simulation of decr (X) in the Turing machine, as defined in this chapter, gives the correct answer when X = 0.
13. Show how the simulation of a loop statement in the Turing machine, as defined in this chapter, can be changed to preserve the original value of X if we allow another symbol such as # to be used by the machine.
14. Give the transition states and the program for the Turing machine that simulates the macro X  0.
15. Give the transition states and the program for the Turing machine that simulates the macro Y  X.
16. A Turing machine uses a single 1 to represent the integer 0. Show how the integer n can be represented in this machine.
17. What is the Gdel number for the macro X1  0?
18. What is the Gdel number for the macro X2  2?
19. What is the Gdel number for the macro X3  X1 + X2?
`,zh:`
# 

 1  16 

## 

- 
- 
- 
- 
- -
- 
- 
- 
- 

## 17.1 
************ 17.1 '{'  '}'

### 17.1.1 
 1 17.1 

** 17.1 **
\`\`\`text
incr (X)
\`\`\`

### 17.1.2 
 1 17.2 

** 17.2 **
\`\`\`text
decr (X)
\`\`\`

### 17.1.3 
 0  17.3 

** 17.3 **
\`\`\`text
while (X)
{
  decr (X)
  Body of the loop
}
\`\`\`

### 17.1.4 
 C

****
********

**X  0**
 17.4  0  X**

** 17.4  X  0**
\`\`\`text
while (X)
{
  decr (X)
}
\`\`\`

**X  n**
 17.5  $n$  X X X  $n$ 

** 17.5  X  n**
\`\`\`text
X  0
incr (X)
incr (X)
...
incr (X)
//  incr (X)  n 
\`\`\`

**Y  X**
 17.6  Y  X X 

** 17.6  Y  X**
\`\`\`text
Y  0
while (X)
{
  decr (X)
  incr (Y)
}
\`\`\`

**Y  Y + X**
 17.7  Y  Y + X X 

** 17.7  Y  Y + X**
\`\`\`text
while (X)
{
  decr (X)
  incr (Y)
}
\`\`\`

**Y  Y  X**
 17.8  Y  Y  X X  X  Y 

** 17.8  Y  Y  X**
\`\`\`text
TEMP  Y
Y  0
while (X)
{
  decr (X)
  Y  Y + TEMP
}
\`\`\`

**Y  Y^X**
 17.9  Y  Y^X

** 17.9  Y  Y^X**
\`\`\`text
TEMP  Y
Y  1
while (X)
{
  decr (X)
  Y  Y  TEMP
}
\`\`\`

**if X then A**
 17.10 *if* X  0  1  X  0 AX  0 X  0

** 17.10  if X then A**
\`\`\`text
while (X)
{
  decr (X)
  A
}
\`\`\`

****


****
 *read X*  (X  n) 

## 17.2 
**** 1936 

### 17.2.1 
 17.2

** (Tape)**
 (**b**)  **1** 17.3 

 1 
 1  4  1111 1 7  1111111 1 1  0

** (Read/write head)**
******

** (Controller)**
**** (CPU) ****
 17.4 AB  C *x/y/L**x/y/R*  *x/y/N*  *x* *y* *x* (L) (R)  (N) 1 1**

 17.1 5 

** 17.1 **
|  |  |  |  |  |
| :--- | :--- | :--- | :--- | :--- |
| A | b | b | R | A |
| A | 1 | 1 | R | B |
| B | b | 1 | R | B |
| B | 1 | b | N | C |
| C | b | b | L | A |
| C | 1 | 1 | L | B |


1. (A, b, b, R, A)
2. (A, 1, 1, R, B)
3. (B, b, 1, R, B)
4. (B, 1, b, N, C)
5. (C, b, b, L, A)
6. (C, 1, 1, L, B)

 A  b b  A

> ** 17.1**
> 
> 1. (A, b, b, L, A)
> 2. (A, 1, 1, R, B)
> 3. (B, b, b, L, A)
> 4. (B, 1, b, R, A)
>  17.5  A 'b 1 1 1 1 b'  1
>
> ****
>  A  1 (A, 1, 1, R, B) 17.5  B

### 17.2.2 


****
 17.6  **incr (X)** S1  S4 S1  S2  S3  S4 

 17.6  incr (X)  X  1 X  1 1 X  X 

> ** 17.2**
>  X = 2  X
>
> ****
>  17.7 X  11 X  1  4  X  5  7 

****
 **decr (X)** *while*  17.8 S1S2  S3 S1  S2  1  b b 1 b  17.8 

> ** 17.3**
>  X = 2  X
>
> ****
>  17.9  1  1  *while* 

****
 X  17.10 

 S1S2  S3  X  X = 0  17.8  MR  ML  X  BS** BH**

 17.10  X  X  0  S3

> ** 17.4**
>  Y  Y + X 454  while 
> \`\`\`text
> while (X)
> {
>   decr (X)
>   incr (Y)
> }
> \`\`\`
>  X = 2  Y = 3 Y = 5 17.11  X  X 
>  X = 2X = 1  Y = 4X = 0  Y = 5

### 17.2.3 -
-

**-**
****

****

## 17.3 
****



 17.2

** 17.2 **
|  |  |  |  |
| :--- | :--- | :--- | :--- |
| 1 | 1 | 9 | 9 |
| 2 | 2 | incr | A |
| 3 | 3 | decr | B |
| 4 | 4 | while | C |
| 5 | 5 | { | D |
| 6 | 6 | } | E |
| 7 | 7 | X | F |
| 8 | 8 | | |

 X, X1, X2, , X9  Xn  X  nX3  X  3 Xn

### 17.3.1 

1.  
2.  

> ** 17.5**
>  \`incr X\` 
>
> ****
> 
> \`incr X\`  (AF)16  175
>  175 

### 17.3.2 

1.  
2.   17.2 **** 0



> ** 17.6**
>  3058 
>
> ****
> 
> 3058  (BF2)16  decr X 2  decr (X2)
>  \`decr (X2)\`

## 17.4 

\`\`\`text
X  1
while (X)
{
}
\`\`\`


****



### 17.4.1 
****

****
**

** 1**
 Test  $P$ 1  0 $P$ Test  1 $P$ Test  0 17.12

** 2**
 Strange  Test  X  Test  $P$  Strange $P$ Strange Test  1 1  Strange  $P$ Strange Test  0 0 Strange 
-  $P$ Strange 
-  $P$ Strange 

** 3**
 Strange  $P$ 
 Test 
-  Strange Strange 
-  Strange Strange 
 Test 
****



## 17.5 
**************** 17.15

### 17.5.1 


### 17.5.2 
**


****


** O **
 15  25  15  1500
** O ** O  O(n)  $n$  $n$  O($n^2$)  $n$  $n^2$ 

> ** 17.7**
>  O($\\log_{10} n$) O($n$) O($n^2$) 100 
>
> ****
> 
> *    1 $n = 1000000$O($\\log_{10} n$)  6  6 s
> *    2 $n = 1000000$O($n$)  1000000  1 
> *    3 $n = 1000000$O($n^2$)  $10^{12}$  277 

****
 O(log $n$)O($n$)O($n^2$)O($n^3$)O($n^4$)  O($n^k$) $k$ **** 1000  100 ****

****
 O($10^n$)  O($n!$) 100****

## 17.6 
### 17.6.1 

- Hennie, F. *Introduction to Computability*, Reading, MA: Addison-Wesley, 1977
- Hofstadter, D. *Gdel, Escher, Bach: An Eternal Golden Braid*, St. Paul, MN: Vintage, 1980
- Hopcroft, J., Motwani, R. and Ullman, J. *Introduction to Automata Theory, Languages, and Computation*, Reading, MA: Addison-Wesley, 2006
- Kfoury, A., Moll, R. and Michael, A. *A Programming Approach to Computability*, New York: Springer, 1982
- Minsky, M. *Computation: Finite and Infinite Machines*, Engelwood Cliffs, NJ: Prentice-Hall, 1967
- Sipser, M. *Introduction to the Theory of Computation*, Boston, MA: Course Technology, 2005

### 17.6.2 
-  O  (big-O notation)
- - (ChurchTuring thesis)
-  (controller)
-  (decrement statement)
-  (finite state automaton)
-  (Gdel number)
-  (halting problem)
-  (hexadecimal digit)
-  (increment statement)
-  (loop statement)
-  (macro)
-  (nonpolynomial problem)
-  (polynomial problem)
-  (read/write head)
-  (solvable problem)
-  (Turing machine)
-  (unsolvable problem)

### 17.6.3 
-  1 1 0 
- 
- 
- -
- 
- 
- 

## 17.7 
### 17.7.1 
/

### 17.7.2 
1. 
2. 
3. 
4. 
5. 
6. 
7. 
8. 
9. 
10. 

### 17.7.3 
1.  17.6 (Y  X) X 
2.  17.7 Z  Y + X X  Y 
3.  17.8 Z  Y  X X  Y 
4.  17.9 Z  Y^X X  Y 
5. Y  Y - X
6. X  0  1
   \`\`\`text
   if (X) then
   {
     A1
   }
   else
   {
     A2
   }
   \`\`\`
7.  (A, 1, b, R, B) 
   ... b 1 1 1 b ...
   ( 1)
   
8.  (A, b, b, R, B) 
   ... b 1 1 1 b ...
   ( b)
   
9.  (A, b, b, R, B), (B, 1, #, R, B), (B, b, b, L, C), (C, #, 1, L, C), (C, b, b, R, B) 
   ... b 1 1 1 b ...
   ( b)
   
10.  $(101)_2$ $(110)_2$
11.  incr (X)  X = 0 
12.  decr (X)  X = 0 
13.  # X 
14.  X  0 
15.  Y  X 
16.  1  0 n 
17.  X1  0 
18.  X2  2 
19.  X3  X1 + X2 
`},_N={en:`
# Chapter 18: Artificial Intelligence

In this chapter of the book, we offer an introduction to **artificial intelligence (AI)**. The first section is a brief history and an attempt to define artificial intelligence. **Knowledge representation**, a broad and well-developed area in AI, is discussed in the next section. We then introduce **expert systems**, systems that can replace human expertise when it is needed but not available. We then discuss how artificial intelligence can be used to simulate the normal (mundane) behavior of human beings in two areas: **image processing** and **language analysis**. We then show how expert systems and mundane systems can solve problems using different searching method. Finally, we discuss how **neural networks** can simulate the process of learning in an intelligent agent.

## Objectives
After studying this chapter, the student should be able to:
- Define and give a brief history of artificial intelligence.
- Describe how knowledge is represented in an intelligent agent.
- Show how expert systems can be used when a human expert is not available.
- Show how an artificial agent can be used to simulate mundane tasks performed by human beings.
- Show how expert systems and mundane systems can use different search techniques to solve problems.
- Show how the learning process in humans can be simulated, to some extent, using neural networks that create the electronic version of a neuron called a perceptron.

## 18.1 INTRODUCTION
In this section we first try to define the term **artificial intelligence (AI)** informally and give a brief history of it. We also define an **intelligent agent** and its two broad categories. Finally, we mention two programming languages that are commonly used in artificial intelligence.

### 18.1.1 What is artificial intelligence?
Although there is no universally agreed definition of artificial intelligence, we accept the following definition that matches the topics covered in this chapter:

**Artificial intelligence is the study of programmed systems that can simulate, to some extent, human activities such as perceiving, thinking, learning, and acting.**

### 18.1.2 A brief history of artificial intelligence
Although artificial intelligence as an independent field of study is relatively new, it has some roots in the past. We can say that it started 2400 years ago when the Greek philosopher Aristotle invented the concept of logical reasoning. The effort to finalize the language of logic continued with Leibniz and Newton. George Boole developed Boolean algebra in the nineteenth century (Appendix E) that laid the foundation of computer circuits. However, the main idea of a thinking machine came from Alan Turing, who proposed the Turing test. The term artificial intelligence was first coined by John McCarthy in 1956.

### 18.1.3 The Turing test
In 1950, Alan Turing proposed the **Turing Test**, which provides a definition of *intelligence* in a machine. The test simply compares the intelligent behavior of a human being with that of a computer. An interrogator asks a set of questions that are forwarded to both a computer and a human being. The interrogator receives two sets of responses, but does not know which set comes from the human and which set from the computer. After careful examination of the two sets, if the interrogator cannot definitely tell which set has come from the computer and which from the human, the computer has passed the Turing test for intelligent behavior.

### 18.1.4 Intelligent agents
An **intelligent agent** is a system that perceives its environment, learns from it, and interacts with it intelligently. Intelligent agents can be divided into two broad categories: *software agents* and *physical agents*.

**Software agents**
A **software agent** is a set of programs that are designed to do particular tasks. For example, some intelligent systems can be used to organize electronic mail (email). This type of agent can check the contents of received emails and classify them into different categories (junk, less important, important, very important, and so on). Another example of software agents is a search engine used to search the World Wide Web and find sites that can provide information about a requested subject.

**Physical agents**
A **physical agent (robot)** is a programmable system that can be used to perform a variety of tasks. Simple robots can be used in manufacturing to do routine jobs such as assembling, welding, or painting. Some organizations use mobile robots that do delivery jobs such as distributing mail or correspondence to different rooms. There are mobile robots that are used underwater for prospecting for oil.
A humanoid robot is an autonomous mobile robot that is supposed to behave like a human. Although humanoid robots are prevalent in science fiction, there is still a lot of work to do before such robots will be able to interact properly with their surroundings and learn from events that occur there.

### 18.1.5 Programming languages
Although some all-purpose languages such as C, C++, and Java are used to create intelligent software, two languages are specifically designed for AI: LISP and PROLOG.

**LISP**
**LISP (LISt Programming)** was invented by John McCarthy in 1958. As the name implies, LISP is a programming language that manipulates lists. LISP treats data as well as programs as lists, which means that a LISP program can change itself. This feature matches the idea of an intelligent agent that can learn from its environment and improve its behavior.
However, one drawback of LISP is its sluggishness. It is slow if the list to be handled is long. Another drawback is the complexity of its syntax.

**PROLOG**
**PROLOG (PROgramming in LOGic)** is a language that can build a database of facts and a knowledge base of rules. A program in PROLOG can use logical reasoning to answer questions that can be inferred from the knowledge base. However, PROLOG is not a very efficient programming language. Some complex problems can be more efficiently solved using other languages, such as C, C++, or Java.

## 18.2 KNOWLEDGE REPRESENTATION
If an artificial agent is supposed to solve some problems related to the real world, it needs to be able to represent knowledge somehow. Facts are represented as data structures that can be manipulated by programs stored inside the computer. In this section, we describe four common methods for representing knowledge: *semantic networks*, *frames*, *predicate logic*, and *rule-based systems*.

### 18.2.1 Semantic networks
**Semantic networks** were developed in the early 1960s by Richard H. Richens. A semantic network uses directed graphs to represent knowledge. A directed graph, as discussed in Chapter 12, is made of vertices (nodes) and edges (arcs). Semantic networks use vertices to represent concepts, and edges (denoted by arrows) to represent the relation between two concepts (Figure 18.1).

**Concepts**
To develop an exact definition of a concept, experts have related the definition of concepts to the theory of sets. A concept, therefore, can be thought of as a set or a subset. For example, *animal* defines the set of all animals, *horse* defines the set of all horses and is a subset of the set *animal*. An object is a member (instance) of a set. Concepts are shown by vertices.

**Relations**
In a semantic network, relations are shown by edges. An edge can define a *subclass* relationthe edge is directed from the subclass to its superclass. An edge can also define an *instance* relationthe edge is directed from the instance to the set to which it belongs. An edge can also define an *attribute* of an object (color, size, ...). Finally, an edge can define a property of an object, such as possessing another object. One of the most important relations that can be well defined in a semantic network is *inheritance*. An inheritance relation defines the fact that all the attributes of a class are present in an inherited class. This can be used to infer new knowledge from the knowledge represented by the graph.

### 18.2.2 Frames
**Frames** are closely related to semantic networks. In semantic networks, a graph is used to represent knowledge: in frames, data structures (records) are used to represent the same knowledge. One advantage of frames over semantic networks is that programs can handle frames more easily than semantic networks. Figure 18.2 shows how the semantic network shown in Figure 18.1 can be implemented using frames.

**Objects**
A node in a semantic network becomes an object in a set of frames, so an object can define a class, a subclass, or an instance of a class. In Figure 18.2 *reptile*, *mammal*, *dog*, *Roxy*, and *Ringo* are objects.

**Slots**
Edges in semantic networks are translated into **slots**fields in the data structure. The name of the slot defines the type of the relationship and the value of the slot completes the relationship. In Figure 18.2, for example, *animal* is a slot in the *reptile* object.

### 18.2.3 Predicate logic
The most common knowledge representation is **predicate logic**. Predicate logic can be used to represent complex facts. It is a well-defined language developed via a long history of theoretical logic. Although this section defines predicate logic, we first introduce **propositional logic**, a simpler language. We then discuss predicate logic, which employs propositional logic.

**Propositional logic**
Propositional logic is a language made up from a set of sentences that can be used to carry out logical reasoning about the world.

**Operators**
Propositional logic uses five operators, as shown below:
 (not),  (or),  (and),  (if ... then),  (if and only if)

The first operator is unarythe operator takes only one sentence: the other four operators are binarythey take two sentences. The logical value (*true* or *false*) of each sentence depends on the logical value of the atomic sentences (sentences with no operators) of which the complex sentence is made. Figure 18.3 shows the truth table for each logical operator in propositional logic. Truth tables were introduced in Chapter 4 and explained in Appendix E.

**Sentence**
A sentence in this language is defined recursively as shown below:
1.  An uppercase letter, such as A, B, S, or T, that represents a statement in a natural languages, is a sentence.
2.  Any of the two constant values (*true* and *false*) is a sentence.
3.  If P is a sentence, then P is a sentence.
4.  If P and Q are sentences, then P  Q, P  Q, P  Q, and P  Q are sentences.

> **Example 18.1**
> The following are sentences in propositional language:
> a. Today is Sunday (S).
> b. It is raining (R).
> c. Today is Sunday or Monday (S  M).
> d. It is not raining (R)
> e. If a dog is a mammal then a cat is a mammal (D  C)

**Deduction**
In AI we need to create new facts from the existing facts. In propositional logic, the process is called **deduction**. Given two presumably true sentences, we can deduce a new true sentence. The first two sentences are called *premisses*: the deduced sentence is called the *conclusion*. The whole is called an *argument*. For example:
*   Premiss 1: Either he is at home or at the office
*   Premiss 2: He is not at home
*   Conclusion: Therefore, he is at the office

If we use H for he is at home, O for he is at office, and the symbol |- for the therefore, then we can show the above argument as:
{H  O, H} |- O

The question is how we can prove if a deductive argument is *valid*. A valid deductive argument is an argument whose conclusions follow necessarily from its premisses. In other words, in a valid deductive argument, it is impossible for the conclusion to be false while its premisses all are true.
One way to do this is to create a truth table for the premisses and the conclusion. A conclusion is invalid if we can find a *counterexample* case: a case in which both premisses are true, but the conclusion is false.

**An argument is valid if no counterexample can be found.**

> **Example 18.2**
> The validity of the argument {H  O, H} |- O can be proved using a truth table. The row where H is False and O is True makes both premisses true and the conclusion true. There is no row where premisses are true and conclusion is false.

> **Example 18.3**
> The argument {R  C, C} |- R is not valid because a counterexample can be found. (R: She is rich, C: She has a car). Premiss 1: If she is rich, she has a car. Premiss 2: She has a car. Conclusion: Therefore, she is rich.
> Counterexample: She has a car (True), but she is not rich (False). Premiss 1 (F  T is T) is True, Premiss 2 is True, but Conclusion is False.

**Predicate logic**
In propositional logic, a symbol that represents a sentence is atomic: it cannot be broken up to find information about its components. For example, consider the sentences:
P1: Linda is Marys mother
P2: Mary is Annes mother
We can combine these two sentences in many ways to create other sentences, but we cannot extract any relation between Linda and Anne. For example, we cannot infer from the above two sentences that Linda is the grandmother of Anne. To do so, we need predicate logic: the logic that defines the relation between the parts in a proposition.

In predicate logic, a sentence is divided into a predicate and arguments. For example, each of the following propositions can be written as predicates with two arguments:
P1: Linda is Marys mother becomes **mother (Linda, Mary)**
P2: Mary is Annes mother becomes **mother (Mary, Anne)**

The relationship of motherhood in each of the above sentences is defined by the predicate *mother*. If the object *Mary* in both sentences refers to the same person, we can infer a new relation between Linda and Anne: **grandmother (Linda, Anne)**. This is the whole purpose of predicate logic.

**Sentence**
A sentence in predicate language is defined as follows:
1.  A predicate with n arguments such as *predicate_name (argument1, ..., argumentn)* is a sentence. The *predicate_name* relates arguments to each other. Each argument can be:
    a. A constant, such as *human*, *animal*, *John*, *Mary*.
    b. A variable, such as *x*, *y*, and *z*.
    c. A function such as *mother (Anne)*. Note that a function is a predicate that is used as an argument: a function returns an object that can takes the place of an argument.
2.  Any of the two constant values (*true* and *false*) is a sentence.
3.  If P is a sentence, then P is a sentence.
4.  If P and Q are sentences, then P  Q, P  Q, P  Q, and P  Q are sentences.

> **Example 18.4**
> 1. The sentence John works for Anns sister can be written as: **works [John, sister (Ann)]**
> 2. The sentence Johns father loves Anns sister can be written as: **loves [father (John), sister (Ann)]**

**Quantifiers**
Predicate logic allows us to use **quantifiers**. Two quantifiers are common in predicate logic:  and .
1.  The first, ****, which is read as for all, is called the **universal quantifier**: it states that something is true for every object that its variable represents.
2.  The second, ****, which is read as there exists, is called the **existential quantifier**: it states that something is true for one or more objects that its variable represents.

> **Example 18.5**
> 1. 'All men are mortals': x [man (x)  mortal (x)]
> 2. 'Frogs are green': x [frog (x)  green (x)]
> 3. 'Some flowers are red': x [flower (x)  red(x)]
> 4. 'John has a book': x [book (x)  has (John, x)]
> 5. 'No frog is yellow': x[frog (x)  yellow (x)] or x [frog (x)  yellow (x)]

**Deduction**
In predicate logic, if there is no quantifier, the verification of an argument is the same as that which we discussed in propositional logic. However, the verification becomes more complicated if there are quantifiers.
Premiss 1: All men are mortals.
Premiss 2: Socrates is a man.
Conclusion: Therefore, Socrates is mortal.
Verification: x [man (x)  mortal (x)] , man (Socrates) |- mortal (Socrates)

**Beyond predicate logic**
There have been further developments in logic to include the need of logical reasoning. Some examples of these include high-order logic, default logic, modal logic, and temporal logic.
- **High-order logic**: Extends the scope of quantifiers to predicates themselves (e.g., P).
- **Modal logic**: Includes expressions like could, should, may, might, ought.
- **Temporal logic**: Extends predicate logic with temporal operators such as from now on.
- **Default logic**: Assumes default conclusions unless there is evidence to the contrary (e.g., birds fly).

### 18.2.4 Rule-based systems
A **rule-based system** represents knowledge using a set of rules that can be used to deduce new facts from known facts. The rules express what is true if specific conditions are met. A rule-based database is a set of if... then... statements in the form
**If A then B** or **A  B**
in which A is called the *antecedent* and B is called the *consequent*. Note that in a rule-based system, each rule is handled independently without any connection to other rules.

**Components**
A rule-based system is made up of three components: an **interpreter** (or **inference engine**), a **knowledge base**, and a **fact database**, as shown in Figure 18.4.

**Knowledge base**
The knowledge base component in a rule-based system is a database (repository) of rules. It contains a set of pre-established rules that can be used to draw conclusions from the given facts.

**Database of facts**
The database of facts contains a set of conditions that are used by the rules in the knowledge base.

**Interpreter**
The interpreter (inference engine) is a processor or controllera program, for examplethat combines rules and facts. Interpreters are of two types: **forward chaining** and **backward chaining**.

**Forward chaining**
**Forward chaining** is the process in which an interpreter uses a set of rules and a set of facts to perform an action. The action can be just adding a new fact to the base of facts, or issuing some commands. The interpreter interprets and executes rules until no more rules can be interpreted.
If there is any conflict in which two different rules can be applied to one fact or one rule can be applied to two facts, the system needs to call a conflict resolution procedure.

**Backward chaining**
Forward chaining is not very efficient if the system tries to prove a conclusion. All facts must be checked by all rules to come up with the given conclusion. In this case, it may be more efficient if **backward chaining** is used. The process starts with the conclusion (goal). If the goal is already in the fact database, the process stops and the conclusion is proved. If the goal is not in the fact database, the system finds the rule that has the goal in its conclusion. However, instead of firing that rule, backward chaining is now applied to each fact in the rule (recursion).

## 18.3 EXPERT SYSTEMS
**Expert systems** use the knowledge representation languages discussed in the previous section to perform tasks that normally need human expertise. They can be used in situations in which that expertise is in short supply, expensive, or unavailable when required. For example, in medicine, an expert system can narrow down a set of symptoms to a likely subset of causes, a task normally carried out by a doctor.

### 18.3.1 Extracting knowledge
An expert system is built on predefined knowledge about its field of expertise. The first step in building an expert system is therefore to extract the knowledge from a human expert. This extracted knowledge becomes the knowledge base.
Extracting knowledge from an expert is normally a difficult task because the knowledge is often heuristic (based on probability rather than certainty) and intuitive. The knowledge-extraction process is normally done by a *knowledge engineer*.

### 18.3.2 Extracting facts
To be able to infer new facts or perform actions, a fact database is needed in addition to the knowledge base. The fact database in an expert system is case-based, in which facts collected or measured are entered into the system to be used by the inference engine.

### 18.3.3 Architecture
Figure 18.7 shows the general idea behind the architecture of an expert system. An expert system can have up to seven components: user, user interface, inference engine, knowledge base, fact database, explanation system, and knowledge base editor.
The **inference engine** is the heart of an expert system. Four of the seven componentsuser interface, inference engine, explanation system, and knowledge base editorcan be made once and used for many applications, as they are not dependent on the particular knowledge base or fact database. These components form an **expert system shell**.

- **User interface**: Allows the user to interact with the system.
- **Inference engine**: Uses the knowledge base and fact database to infer the action.
- **Knowledge base**: Collection of rules based on expert interviews.
- **Fact database**: Case-based data entered by the user.
- **Explanation system**: Explains the rationale behind the decision made.
- **Knowledge base editor**: Used to update the knowledge base.

## 18.4 PERCEPTION
One of the goals in artificial intelligence is to create a machine that behaves like an ordinary human. **Perception** is understanding what is received through the sensessight, hearing, touch, smell, taste. An intelligent agent should be able to perceive if it needs to act like a human being. AI has been particularly involved in two types of perception, sight and hearing.

### 18.4.1 Image processing
**Image processing** or **computer vision** is an area of AI that deals with the perception of objects through the artificial eyes of an agent, such as a camera. An image processor takes a two-dimensional image from the outside world and tries to create a description of the three-dimensional objects present in the scene. The processor uses a database containing the characteristics of objects for comparison.

**Edge detection**
The first stage in image processing is **edge detection**: finding where the edges in the image are. Edges can define the boundaries between an object and its background. Edges show discontinuity in surface, depth, or illumination. The edges can be detected by finding adjacent pixels with a large difference in intensity.

**Segmentation**
**Segmentation** is the next stage in image analysis. Segmentation divides the image into homogeneous segments or areas. A homogeneous area is an area in which the intensity of pixels varies smoothly. Segmentation finds the boundaries between different areas inside the object. Several methods exist, such as *thresholding*, *splitting*, and *merging*.

**Finding depth**
The next step is to find the depth of the object or objects in the image. Depth finding can help the intelligent agent to gauge how far the object is from it.
- **Stereo vision**: Uses two eyes or two cameras. If the object is very close, the two images are different; if far away, they are almost the same.
- **Motion**: Creates several images when one or more objects are moving. The relative position of a moving object with respect to other objects gives a clue to distance.

**Finding orientation**
Orientation of the object in the scene can be found using two techniques: *shading* and *texture*.
- **Shading**: The amount of light reflected from a surface depends on the orientation of the surface relative to the light source.
- **Texture**: A regularly repeated pattern can help in finding the orientation or curvature.

**Object recognition**
The last step is **object recognition**. To recognize an object, the agent needs to have a model of the object in memory for comparison. One solution is to assume that objects are compound objects made of a set of simple **primitive geometric shapes** (block, cylinder, cone, etc.). When an agent sees an object, it tries to decompose the object into a combination of the primitives.

### 18.4.2 Language understanding
One of the inherent capabilities of a human being is to understandthat is, interpretthe audio signals that they perceive. A machine that can understand **natural language** can be very useful. We can divide the task into four consecutive steps: speech recognition, syntactic analysis, semantic analysis, and pragmatic analysis.

**Speech recognition**
The first step is **speech recognition**. The speech signal (analog) is analyzed and the sequence of words it contains are extracted. The signal needs to be divided into different sounds, sometimes called *phonemes*.

**Syntactic analysis**
The **syntactic analysis** step is used to define how words are to be grouped in a sentence.
- **Grammar**: The first tool to correctly analyze a sentence is a well-defined grammar.
- **Parser**: A machine that determines if a sentence is grammatically (syntactically) correct does not need to check all possible choices before rejecting a sentence as an invalid one. This is done by a **parser**, which creates a **parse tree** based on the grammar rules.

**Semantic analysis**
The **semantic analysis** extracts the meaning of a sentence after it has been syntactically analyzed. This analysis creates a representation of the objects involved in the sentence, their relations, and their attributes.

**Pragmatic analysis**
**Pragmatic analysis** is needed to further clarify the purpose of the sentence and to remove ambiguities.
- **Purpose**: Determine if the sentence is a request, an inquiry, etc.
- **Removing ambiguity**: Resolving ambiguities where a word has multiple functions or meanings, or where a syntactically correct sentence is nonsense.

## 18.5 SEARCHING
One of the techniques for solving problems in artificial intelligence is **searching**. Searching can be described as solving a problem using a set of **states** (a situation). A search procedure starts from an **initial state**, goes through **intermediate states** until finally reaching a **target state**. The set of all states used by a searching process is referred to as the **search space**.
Example: The 8-puzzle.

### 18.5.1 Search methods
There are two general search methods: *brute-force* and *heuristic*. The brute-force method is itself either *breadth-first* or *depth-first*.

**Brute-force search**
We use **brute-force search** if we do not have any prior knowledge about the search.
- **Breadth-first search**: We start from the root of the tree and examine all the nodes at each level before we move to the next level. This guarantees finding a solution if one exists and finding the shortest path, but is inefficient.
- **Depth-first search**: We start from the root and do a forward search until we hit the goal or a dead-end. If we hit a dead-end, we **backtrack** to the nearest branch and do a forward search again.

**Heuristic search**
Using **heuristic search**, we assign a quantitative value called a **heuristic value (h value)** to each node. This quantitative value shows the relative closeness of the node to the goal state. For example, in the 8-puzzle, the heuristic value could be the minimum number of movements a tile must make to reach its goal position. We start with the state with the smaller *h* value (closer to the goal) and continue this way.

## 18.6 NEURAL NETWORKS
If an intelligent agent is supposed to behave like a human being, it may need to learn. Most methods use **inductive learning** or **learning by example**. This means that a large set of problems and their solutions are given to the machine from which to learn. **Neural networks** try to simulate the learning process of the human brain using a network of neurons.

### 18.6.1 Biological neurons
The human brain has billions of processing units, called **neurons**. A neuron is made of three parts: **soma**, **axon**, and **dendrites**. The dendrites act as input devices; the axon acts as an output device. The **synapse** is the connecting point. A neuron can be in one of two states: *excited* (fires an output) or *inhibited*.

### 18.6.2 Perceptrons
A **perceptron** is an artificial neuron similar to a single biological neuron. It takes a set of weighted inputs, sums the inputs, and compares the result with a **threshold** value. If the result is above the threshold value, the perceptron fires (output 1), otherwise, it does not (output 0).
$S = (x_1 \\cdot w_1 + x_2 \\cdot w_2 + ...)$
If $S > T$, then $y = 1$; else $y = 0$.
A perceptron can be trained by adjusting weights based on correct or incorrect outputs from known examples.

### 18.6.3 Multilayer networks
Several layers of perceptrons can be combined to create **multilayer neural networks**. The output from each layer becomes the input to the next layer. The first layer is the **input layer**, the middle layers are called **hidden layers**, and the last layer is the **output layer**.

### 18.6.4 Applications
Neural networks can be used when enough pre-established inputs and outputs exist to train the network. Applications include **optical character recognition (OCR)** and credit assignment (establishing credit ratings).

## 18.7 END-CHAPTER MATERIALS
### 18.7.1 Recommended reading
- Cawsey, A. *The Essence of Artificial Intelligence*, Upper Saddle River, NJ: Prentice-Hall, 1998
- Luger, G. *Artificial Intelligence: Structures and Strategies for Complex Problem Solving*, Reading, MA: Addison-Wesley, 2004
- Winston, P. *Artificial Intelligence*, Reading, MA: Addison-Wesley, 1993
- Coppin, B. *Artificial Intelligence Illuminated*, Sudbury, MA: Jones and Bartlett, 2004
- Russel, S. and Norvig, P. *Artificial Intelligence: A Modern Approach*, Upper Saddle River, NJ: Prentice-Hall, 2003
- Dean, T. *Artificial Intelligence: Theory and Practice*, Redwood City, Reading, MA: Addison-Wesley, 2002

### 18.7.2 Key terms
- artificial intelligence
- axon
- brute-force search
- breadth-first search
- depth-first search
- expert system
- frame
- heuristic search
- image processing
- intelligent agent
- LISP
- neural network
- neuron
- perceptron
- physical agent
- pragmatic analysis
- predicate logic
- PROLOG
- search space
- segmentation
- semantic analysis
- semantic network
- software agent
- soma
- speech recognition
- synapse
- syntactic analysis
- temporal logic
- thresholding
- Turing test

### 18.7.3 Summary
- Artificial intelligence is the study of programmed systems that can simulate human activities such as perceiving, thinking, learning, and acting. The Turing Test compares the intelligent behavior of a human being with that of a computer.
- An intelligent agent is a system that perceives its environment, learns from it, and interacts with it. Agents can be software agents or physical agents (robots).
- Knowledge representation methods include semantic networks, frames, predicate logic, and rule-based systems. Semantic networks use graphs; frames use data structures. Predicate logic uses logical reasoning. Rule-based systems use rules to deduce new facts.
- Expert systems perform tasks that normally need human expertise. They extract knowledge from experts and use an inference engine to make decisions.
- Perception involves understanding sensory inputs. Image processing deals with visual perception (edge detection, segmentation, depth finding, object recognition). Language understanding involves speech recognition, syntactic analysis, semantic analysis, and pragmatic analysis.
- Searching is a technique for solving problems by moving through states in a search space. Brute-force search (breadth-first, depth-first) explores systematically. Heuristic search uses rules of thumb to find solutions faster.
- Neural networks simulate the learning process of the human brain using artificial neurons called perceptrons, often arranged in multilayer networks. They learn by example (inductive learning).

## 18.8 PRACTICE SET
### 18.8.1 Quizzes
A set of interactive quizzes for this chapter can be found on the books website. It is strongly recommended that the student takes the quizzes to check his/her understanding of the materials before continuing with the practice set.

### 18.8.2 Review questions
1. Describe the Turing test. Do you think this test can be used to define an intelligent system accurately?
2. Define an intelligent systems and list two broad categories of agents.
3. Compare and contrast LISP and PROLOG when they are used in artificial intelligence.
4. Describe the need for knowledge representation and list four different methods discussed in this chapter.
5. Compare and contrast predicate logic and propositional logic.
6. Compare and contrast frames and semantic networks.
7. Define a rule-base system and compare it with semantic networks.
8. Compare and contrast expert systems and mundane systems.
9. List different steps in image processing.
10. List different steps in language processing.
11. Define a neural network and how it can simulate the learning process in human beings.
12. Define a perceptron.

### 18.8.3 Problems
1. Draw a semantic network to show the relations between the following: medical doctor, family practitioner, gynecologist, intern, engineer, accountant, Dr. Pascal who is a French family practitioner.
2. Represent the semantic network of Problem P18-1 as a set of frames.
3. Using the symbol R for the sentence It is raining and the symbol S for the sentence It is sunny, write each of the following English sentences in propositional logic:
   a. It is not raining.
   b. It is not sunny.
   c. It is neither raining nor sunny.
   d. It is raining and sunny.
   e. If it is sunny, then it is not raining.
   f. If it is raining, then it is not sunny.
   g. It is sunny if and only if it is not raining.
   h. It is not true that if it is not raining, it is sunny.
4. If the symbols C, W, and H mean it is cold, it is warm, and it is hot, write the English statements corresponding to the following statements in propositional logic:
   a. H
   b. W  H
   c. W  H
   d. W  ( H)
   e.  (W  H)
   f. W  H
   g. ( C)  W
   h.  (W  H)
   i. H  ( W)
   j. ((C)  H)  (C  (H))
5. Using the symbols Wh, Re, Gr, and Fl for the predicates is white, is red, is green, and is a flower respectively, write the following sentences in predicate logic:
   a. Some flowers are white.
   b. Some flowers are not red.
   c. Not all flowers are red.
   d. Some flowers are either red or white.
   e. There is not a green flower.
   f. No flowers are green.
   g. Some flowers are not white.
6. Using the symbols Has, Loves, Dog, and Cat for the predicates has, loves, is a dog, and is a cat respectively, write the following sentences in predicate logic:
   a. John has a cat.
   b. John loves all cats.
   c. John loves Anne.
   d. Anne loves some dogs.
   e. Not everything John loves is a cat.
   f. Anne does not like some cats.
   g. If John loves a cat, Anne loves it.
   h. John loves a cat if and only if Anne loves it.
7. Using the symbols Expensive, Cheap, Buys, and Sells for the predicates is expensive, is cheap, buys, and sells respectively, write the following sentences in predicate logic:
   a. Everything is expensive.
   b. Everything is cheap.
   c. Bob buys everything that is cheap.
   d. John sells something expensive.
   e. Not everything is expensive.
   f. Not everything is cheap.
   g. If something is cheap, then it is not expensive.
8. Using the symbols Identical for the predicate is identical to, write the following sentences in predicate logic. Note that the predicate equal needs two arguments:
   a. John is not Anne.
   b. John exists.
   c. Anne does not exist.
   d. Something exists.
   e. Nothing exists.
   f. There are at least two things.
9. Use a truth table to find whether the following argument is valid: {P  Q, P} |- Q
10. Use a truth table to find whether the following argument is valid: {P  Q, P} |- Q
11. Use a truth table to find whether the following argument is valid: {P  Q, P} |- Q
12. Use a truth table to find whether the following argument is valid: {P  Q, Q  R} |- (P  R)
13. Draw a neural network that can simulate an OR gate.
14. Draw a neural network that can simulate an AND gate.
15. The initial and goal states of an 8-puzzle are shown in Figure 18.25. Draw the heuristic search tree for solving the puzzle.
16. Show the breadth-first search for the tree diagram shown in Figure 18.26.
17. Show the depth-first search for the tree diagram of Problem P18-16.
18. Draw the tree diagram for the maze shown in Figure 18.27.
19. Draw the tree and show a breadth-first search for Problem P18-18.
20. Draw the tree and show a depth-first search for Problem P18-18.
`,zh:`
# 

** (AI)****** AI ****************

## 

- 
- 
- 
- 
- 
- 

## 18.1 
** (AI)** ****

### 18.1.1 


****

### 18.1.2 
 2400  19  E 1956 

### 18.1.3 
1950 ******

### 18.1.4 
********

****
****

****
** ()** 


### 18.1.5 
 CC++  Java  AI LISP  PROLOG

**LISP**
**LISP (LISt Programming)**  1958 LISP LISP  LISP 
LISP 

**PROLOG**
**PROLOG (PROgramming in LOGic)** PROLOG PROLOG  CC++  Java

## 18.2 
********

### 18.2.1 
**** Richard H. Richens  1960  12  18.1

****
******

****
******...**

### 18.2.2 
**** 18.2  18.1 

****
 18.2 *******Roxy*  *Ringo* 

** (Slots)**
**** 18.2 ****

### 18.2.3 
********

****


****

 (),  (),  (),  (...),  ()

**** 18.3  4  E 

****

1.   ABS  T
2.  ****
3.   P  P 
4.   P  Q  P  Q, P  Q, P  Q,  P  Q 

> ** 18.1**
> 
> a.  (S)
> b.  (R)
> c.  (S  M)
> d.  (R)
> e.  (D  C)

****
 AI **********
*    1
*    2
*   

 H O  |- 
{H  O, H} |- O

**
**

****

> ** 18.2**
>  {H  O, H} |- O  H  O 

> ** 18.3**
>  {R  C, C} |- R RC 1 2
>  1F  T  T 2 

****

P1Linda  Mary 
P2Mary  Anne 
 Linda  Anne  Linda  Anne 


P1Linda  Mary  **mother (Linda, Mary)**
P2Mary  Anne  **mother (Mary, Anne)**

 *mother*  *Mary*  Linda  Anne **grandmother (Linda, Anne)**

****

1.   n  *predicate_name (argument1, ..., argumentn)* *predicate_name* 
    a.  *human**animal**John**Mary*
    b.  *x**y*  *z*
    c.  *mother (Anne)*
2.  ****
3.   P  P 
4.   P  Q  P  Q, P  Q, P  Q,  P  Q 

> ** 18.4**
> 1. John  Ann **works [John, sister (Ann)]**
> 2. John  Ann **loves [father (John), sister (Ann)]**

****
****  
1.  ********
2.  ********

> ** 18.5**
> 1. x [man (x)  mortal (x)]
> 2. x [frog (x)  green (x)]
> 3. x [flower (x)  red(x)]
> 4. John x [book (x)  has (John, x)]
> 5. x[frog (x)  yellow (x)]  x [frog (x)  yellow (x)]

****

 1
 2

x [man (x)  mortal (x)] , man (Socrates) |- mortal (Socrates)

****

- **** P
- ****
- ****
- ****

### 18.2.4 
****......
** A  B**  **A  B**
 A **B **

****
**************** 18.4 

****


****


****
********

****
****


****
****

## 18.3 
****

### 18.3.1 

**

### 18.3.2 


### 18.3.3 
 18.7 
********

- ****
- ****
- ****
- ****
- ****
- ****

## 18.4 
****AI 

### 18.4.1 
******** AI 

****
****

****
**********

****

- ****
- ****

****
****
- ****
- ****

****
********

### 18.4.2 
****

****
******

****
****
- ****
- ************

****
****

****
****
- ****
- ****

## 18.5 
************************


### 18.5.1 
********

****
****
- ****
- ********

****
****** (h )**  *h* 

## 18.6 
************

### 18.6.1 
************************

### 18.6.2 
******** 1 0
$S = (x_1 \\cdot w_1 + x_2 \\cdot w_2 + ...)$
 $S > T$ $y = 1$ $y = 0$


### 18.6.3 
****************

### 18.6.4 
** (OCR)** 

## 18.7 
### 18.7.1 
- Cawsey, A. *The Essence of Artificial Intelligence*, Upper Saddle River, NJ: Prentice-Hall, 1998
- Luger, G. *Artificial Intelligence: Structures and Strategies for Complex Problem Solving*, Reading, MA: Addison-Wesley, 2004
- Winston, P. *Artificial Intelligence*, Reading, MA: Addison-Wesley, 1993
- Coppin, B. *Artificial Intelligence Illuminated*, Sudbury, MA: Jones and Bartlett, 2004
- Russel, S. and Norvig, P. *Artificial Intelligence: A Modern Approach*, Upper Saddle River, NJ: Prentice-Hall, 2003
- Dean, T. *Artificial Intelligence: Theory and Practice*, Redwood City, Reading, MA: Addison-Wesley, 2002

### 18.7.2 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- LISP
- 
- 
- 
- 
- 
- 
- PROLOG
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 

### 18.7.3 
- 
- 
- 
- 
- 
- 
- 

## 18.8 
### 18.8.1 
/

### 18.8.2 
1. 
2. 
3.  LISP  PROLOG 
4. 
5. 
6. 
7. 
8. 
9. 
10. 
11. 
12. 

### 18.8.3 
1. Pascal 
2.  P18-1 
3.  R  S 
   a. 
   b. 
   c. 
   d. 
   e. 
   f. 
   g. 
   h. 
4.  CW  H 
   a. H
   b. W  H
   c. W  H
   d. W  ( H)
   e.  (W  H)
   f. W  H
   g. ( C)  W
   h.  (W  H)
   i. H  ( W)
   j. ((C)  H)  (C  (H))
5.  WhReGr  Fl 
   a. 
   b. 
   c. 
   d. 
   e. 
   f. 
   g. 
6.  HasLovesDog  Cat 
   a. John 
   b. John 
   c. John  Anne
   d. Anne 
   e. John 
   f. Anne 
   g.  John Anne 
   h.  Anne John 
7.  ExpensiveCheapBuys  Sells 
   a. 
   b. 
   c. Bob 
   d. John 
   e. 
   f. 
   g. 
8.  Identical equal
   a. John  Anne
   b. John 
   c. Anne 
   d. 
   e. 
   f. 
9. {P  Q, P} |- Q
10. {P  Q, P} |- Q
11. {P  Q, P} |- Q
12. {P  Q, Q  R} |- (P  R)
13.  OR 
14.  AND 
15. 8  18.25 
16.  18.26 
17.  P18-16 
18.  18.27 
19.  P18-18 
20.  P18-18 
`},TN={en:`
# Chapter 19: Introduction to Social Media

In this chapter, we briefly touch on **social media** as one of the applications of computer science. Our goal is not to show how to use social media; many students know and use social media in their daily lives. Our goal is primarily to show the concepts behind social media and how these websites are designed for this purpose. We will discuss only two, **Facebook** and **Twitter**, each as an example of a particular social media type.

## Objectives
After studying this chapter, the student should be able to:
- Define the *friendship* relationship in Facebook.
- Define the two-way relationship between friends in Facebook.
- Understand the communication channels in Facebook.
- Know how to become a member and how to terminate membership in Facebook.
- Know how to log in and log out of Facebook.
- Know how to find friends in Facebook.
- Know how to communicate with friends in Facebook.
- Define the *following* relationship in Twitter.
- Define the one-way relationship between members and followers in Twitter.
- Understand the communication channels in Twitter.
- Know how to become a member and how to terminate membership in Twitter.
- Know how to log in and log out of Twitter.
- Know how to follow other members in Twitter.
- Know how to communicate with followers in Twitter.

## 19.1 INTRODUCTION
In the last century, when computer science started as a discipline, we could never have imagined that it would become a part of our daily life in such a short period of time. One of the areas in which computer science has helped all citizens is with the advent of *social media*. Today most people around the world are, to a greater or lesser extent, involved with one or more types of social media, which can be considered a computer science application. Social media is in fact the result of using several computer science disciplines including operating systems, computer programming, computer networks, and databases.

Social media platforms are websites on a large scale, designed to let people exchange their ideas, opinions and experiences. Some are designed primary for exchanging messages or pictures; some are designed to let job seekers find employers, and employers find employees.

A discussion of all types of social media would take a book by itself. In this chapter, therefore, we look at only two of them: Facebook and Twitter. We have chosen these two because the concepts behind Facebook or Twitter are duplicated, more or less, in several other sites.

## 19.2 FACEBOOK
Facebook is a **social media** that allows families and friends around the world to keep in touch with each other and share thoughts, pictures, comments, and so on.

**Facebook allows members to share thoughts, pictures and comments.**

### 19.2.1 General idea
Before explaining how to use Facebook, let us consider the general ideas behind it.

**Friendship**
In Facebook, sharing is done only between **friends**. **Friendship** is a one-to-one reciprocal relationship. If John is a friend of Lucie, Lucie is also a friend of John. However, the relationship does not propagate; if John is a friend of Lucie and Lucie is a friend of Ann, it does not necessarily mean that John is a friend of Ann. To be so, John or Ann needs to request friendship from the other.

**In Facebook, a friend of a friend is not necessarily a friend.**

Although there are billions of members in Facebook, we will assume for the purposes of this discussion that it has only eight members (Ml to M8), as shown in Figure 19.1.

Now assume that the following requests for friendship are made and are all accepted by the other members:
1. Ml requests friendship from M2.
2. M2 requests friendship from M5.
3. M3 requests friendship from M2.
4. M4 requests friendship from M7.
5. M6 requests friendship from M3.
6. M7 requests friendship from M6.
7. M8 requests friendship from M2.

Figure 19.2 shows the friendship relationships between the eight members. Note that Facebook holds the information about each member, but adds a link between two friends after the friendship has been requested and approved.

**Communication**
Although friendship between members is a two-way relationship, we can think of communication as a one-way (one-to-many) relationship: one member posts something, and all their friends can see it, as shown in Figure 19.3:
a. What is posted by Ml can be seen by M2.
b. What is posted by M2 can be seen by Ml, M3, M5, and M8.
c. What is posted by M3 can be seen by M2 and M6.
d. What is posted by M4 can be seen by M7.
e. What is posted by M5 can be seen M2.
f. What is posted by M6 can be seen by M3 and M7.
g. What is posted by M7 can be seen by M4 and M6.
h. What is posted by M8 can be seen by M2.

### 19.2.2 Web pages
Facebook uses several pages, but the two used most often are the home page and the general page. Let us show these two pages before explaining how to use them.

**Home page**
The **home page** is used only for sign-up (enrolling) and log-in (accessing) Facebook. The general format is shown in Figure 19.4.

**User page**
The **user page** is the main page you will use on Facebook. The page is fairly complex, but the general format is shown in Figure 19.5. Note that your page always has a toolbar as the first row. It has three columns, but the two columns on the left can be scrolled to show more options.

### 19.2.3 Membership
You need to be a member of Facebook to use it. To become a member, you need to sign up. To terminate your membership, you need to sign out or deactivate your account.

**Sign up**
To become a member of Facebook (which is free), you need to go to the Facebook home page (www.facebook.com) as shown in Figure 19.4. You can then use the following steps to sign up.
1. Ignore the *log-in* section (first row) and go to the *sign-up* section.
2. Enter your first and last name in the corresponding boxes.
3. Enter your email or mobile number in the corresponding box.
4. Re-enter your email or mobile number in the corresponding box.
5. Select your data of birth (Month, Day, Year).
6. Check your gender button.
7. Click on the sign-up button.

**Sign out (deactivation)**
To permanently deactivate your account in Facebook, go to your home page (Figure 19.5) and do the following:
1. Click the down arrow on the far right of the tool bar.
2. In the submenu that appears, click on *Settings*.
3. Click on *Security*.
4. Choose *Deactivate your account* and follow the steps to confirm it.

### 19.2.4 Accessing services of Facebook
Even if you have signed up as a member, whenever you want to use Facebook, you need to *log in*. When you do not want to use it for a while, you can *log out*.

**Log in**
To log in into your account, go to the Facebook home page at www.facebook.com (Figure 19.5). In the first row, type your email or mobile number, type your password, and click on the log-in button. You will see your page, which means you can now use Facebook.

**Log out**
Whenever you are not using your Facebook page for a while, you can log out. On the toolbar of user page (your page) (Figure 19.5) click on the down arrow to see the menu. Then click on the log-out button.

### 19.2.5 Friends
As described above, the whole idea of using Facebook is to keep in touch with *friends*. If you post something on the Facebook site, you need to have friends to see it. If you want to see what another member posts, you have to be one of her friends. In other words, you need to find friends and let other members find you as a friend before you can start to communicate through Facebook.

**Finding friends**
There are several ways of finding friends in Facebook.

**Accept Facebook recommendation**
You can accept a Facebook recommendation, based on the information you provided during sign-up. To accept a recommendation, go to the toolbar of your page (Figure 19.5) and click on the *find friend* button, which displays a list of people whom you may know. The list is divided into several categories (eg people you may know, mutual friends, people from your home town, current city, high school, college or university, employer etc) that you can scroll through to choose from. In each category, you can select people with whom you want to be friends and click the *add friend* button in front of their name.

**Follow email contacts**
You can **follow** people who regularly contact you by email. On your home page toolbar (Figure 19.5) click on the *friend* icon (two faces next to *find friend* button). Facebook displays a page with different email icons. Choose the appropriate one and type your email and password to see a list of individuals who communicate with you by email. If you want someone on this list to be your Facebook friend, click on the *add friend* button.

**Find people you know**
At the left side of your home page toolbar (Figure 19.5) type the member name and click on the search icon. Facebook shows the list of members with that name. If you find someone you know, click on the name to see their profile page. If you want that person to be your Facebook friend, click on the *add friend* button.

**Accept friendship from other members**
Other members may want to add you as their friends. In this case, you may accept or decline friendship when you receive the request. On the toolbar, click on the *friend request* button. You will see the profile for every member who has sent you a request to be your friend. You can click the *confirm* or *decline* button in front of the member name to accept or reject the invitation.

**Unfriend a friend**
You can remove any member from your friends list at any time. To do so, click on your profile picture on your home page toolbar (Figure 19.5). Click the *friends* button under your name to see the list of your friends. Scroll down until you see the name of a member that you want to unfriend. Then click on the *unfriend* button.

### 19.2.6 Exchanging information
The whole purpose of Facebook is to allow friends to exchange news (texts, photos, videos etc). To receive your friends posts, go to your *news feed* where they will appear. To send news to your friends, you need to *update your status*. We will briefly show these two activities.

**Reading news**
To see what news your friends have posted, go the toolbar (Figure 19.5) and click on the *home* button. You will see all the new posts made by your friends. Each post includes the name of your friend, the date it was posted, and the contents. They may also contain links to web pages. Posted photos will also appear there, but you may want to make them larger by clicking on them. If there are videos in the posts, a thumbnail appears in the body of the news feed with the *play* arrow; click it to play the video.

**Commenting on posted updates**
At the top of each item of posted news (called an update), there is a *like* button that you can click on to show that you like the post.

**Sharing posted updates**
Click the *share* button underneath the original post to see a new window. Enter any comments you want to make about the post in the new window and then click the *share* button in the new window. In this way, you can post what you have received to your own friends.

**Posting news**
Facebook allows you to post news (called updates) for your friends. This can be a long message (up to 60000 characters), a link to a web page, a photo, or a video.

**Posting news**
To post **news**, go to the toolbar (Figure 19.5) and click on the *home* button to see the posting window. The *update status* will be selected by default. Click on the *whats on your mind* button and type your news. Then click the *post* button to post the news for your friends.

**Posting photos or videos**
In the posting window (see Posting News paragraph), click on the *add photos/video* button and then select the right-hand button to post your photos or videos.

**Tagging**
If you want to mention a friend in your post, you can *tag* that friend. To do so, you need to click on the *tag* button (picture of a head) and then select the name of the friend from the list.

**Limiting who can see your post**
Generally, when you post something on Facebook, all Facebook members can see it. You can restrict this just to your friends or even just to yourself. In the *status update* window (see Posting News paragraph), click the button *public* to let anyone see the post, click the *friends* button so that only your friends see the post, or click the *only me* button so that no one except you sees the post.

## 19.3 TWITTER
**Twitter** is a social network that allows members to post a short message, called a **tweet**, of a maximum 140 characters, for their followers to see.

**Twitter allows members to post a tweet for their followers.**

### 19.3.1 General idea
Before showing how to use Twitter, let us discuss the general idea behind this social media site.

**Memberfollowers relationship**
In Twitter, the relationship is between members and their followers; a one-to-many relationship. A group of Twitter members follow the member they like; the followed member may not even know who their followers are. This is similar to the relationship between a celebrity and her followers: the followers are interested in what the celebrity does, but the celebrity probably does not know who these followers are.

Let us assume that we have eight members registered on the Twitter site as shown in Figure 19.6. Now assume some members decide to follow other members as shown below:
1. M1 follows M2 and M5.
2. M2 follows M3.
3. M3 follows M4 and M5.
4. M4 follows M3 and M8.
5. M5 follows M2 and M6.
6. M6 follows M8.
7. M7 follows M3.
8. M8 follows M7.

Figure 19.7 shows the new one-way relationships (followerfollowed).

**Communication**
In Twitter, it is also easier to think of communication as a one-to-many relationship. A member posts a tweet for her followers. Figure 19.8 shows this scenario.
a. M1 has no followers. This means that what is posted by M1 can be seen by no one.
b. M2 has M1 and M5 as followers. This means that what is posted by M2 can be seen by M1 and M5.
c. M3 has M2, M4, and M7 as followers. This means that what is posted by M3 can be seen by M2, M4, and M7.
d. M4 has M3 as a follower. This means that what is posted by M4 can be seen by M3.
e. M5 has M1 and M3 as followers. This means that what is posted by M5 can be seen by M1 and M3.
f. M6 only has M5 as a follower. This means that what is posted by M6 can be seen only by M5.
g. M7 has no followers. This means that what is posted by M7 can be seen by no one.
h. M8 has M4 and M6 as follower. This means what is posted by M8 can be seen by M4 and M6.

### 19.3.2 Pages
The Twitter website has several pages, but the two used primarily are the *web page* and the *home page*. Other pages can be reached from one of these two pages. Let us describe these two pages before explaining how to use them.

**Web page**
The **web page** is used for joining Twitter for the first time or when you want to log into your account (Figure 19.9)

**Home page**
The **home page** is used when you have already have an account with Twitter and you want to use it. The general format of this page is shown in Figure 19.10.

### 19.3.3 Membership
As with any social media, you need to sign up to become a member (Figure 19.9). If you want to deactivate your account you need to sign out (Figure 19.10).

**Sign up**
To become a member of Twitter, go to www.twitter.com to find the Twitter web page, as shown in Figure 19.9. Then click on the *sign-up* button to see the sign-up window as shown in Figure 19.11.
In the sign-up window give your full name, your phone number or email, and your password. Now click the *sign-up* button to join as a member.

**Sign out (deactivation)**
To permanently deactivate your account in Twitter, go to the Twitter home page (Figure 19.10) and do the following:
1. Click the *profile* and *settings* icons.
2. When the new window opens, click on the *settings* and *privacy* buttons.
3. When the new window opens, click on the *deactivate my account* button.

### 19.3.4 Accessing services of Twitter
Even if you are a member, whenever you want to use Twitter, you need to *log in*. When you do not want to use it for a while, you can *log out*.

**Log in**
When you are a member, you can log in to your account from any computer or smartphone. On the Twitter web page (Figure 19.9), click on the *log-in* button to see the log-in window as shown in Figure 19.12.
In the log-in window, give your full name, your phone number or email, and your password. Now click the *log-in* button. You can now use Twitter.

**Log out**
To log out of your account in Twitter, go to the Twitter home page (Figure 19.10) and do the following:
1. Click the *profile* and *settings* icons.
2. When the new window opens, click on the *log-out* button.

### 19.3.5 Following and being followed
The whole idea of Twitter is to enable members and their followers to communicate. Members can receive tweets if they follow other members. If members have followers, they can send useful tweets which will be received by their followers.

**You need to follow other members**
If you want to receive tweets from certain members, you need to let Twitter know that you want to **follow** them. There is no need to get permission from the member you want to follow (unless they explicitly ask Twitter to block you as one of their followers). If you enter the names of the members you want to follow, Twitter creates a list of them in your profile and every time any of these members sends a tweet, you will get a copy. The question is: how do you tell Twitter who you want to follow? There are several ways to do this.

**Accept Twitter recommendation**
You can accept Twitters recommendation (based on your past activity and interests). To do this, go to the bottom left section of the Twitter home page, the *who to follow* window, as shown in Figure 19.13 and click the *view-all* button to see Twitters recommendations. To learn more about any of these members, click on the @name. To follow a member, click the *follow* button.

**Follow email contacts**
You can follow people who regularly contact you by email. On the *who to follow* page (Figure 19.13) click on the *find friends* button (at the bottom of the right-hand column). A list of email providers appears on the next window, from which you can choose those friends who communicate with you via those email providers.

**Search for specific people or organizations**
On the *who to follow* section (Figure 19.13) click the *view all* button. When the new window opens, enter either the actual name or the Twitter name of the person or organization you are looking for. Now click the *search* button. If an individual or organization with that name is a Twitter member, you can choose to follow them.

**Stop following a member**
You may for some reason want to stop receiving tweets from a member. To do so, you must unfollow them. Go to the Twitter home page, click on the *following* link. Move the mouse over the *follow* button for that member and change it to *unfollow* button.

**Other members following you**
If you want your tweets to be read, you need to have followers to receive them. However, you cannot choose your followers; they have to find you and decide to follow you. They do not need to get your approval to follow you, but if you wish to, you can inform Twitter that you want to block a specific follower.

### 19.3.6 Sending tweets
Although you do not know all your followers personallythey have selected you, you have not selected themand cannot communicate with them directly, Twitter has a list of your followers. To send a tweet to your followers, just post it on your Twitter page and the site will send it to all your followers.

**Compose a new tweet**
The first thing you need to know is how to compose a new tweet. This can be done as follows (see Figure 19.14).
1. Click the *tweet* button on any Twitter web page to see the *compose new tweet* panel.
2. In the *compose new tweet* panel, type your message.
3. Click the *tweet* button at the bottom of the page to post your tweet.
4. Twitter takes your tweet and adds your profile, including your name, at the top of the tweet.
5. Twitter then sends a copy to all your followers.

**Referring to other peoples tweets**
In any tweets you send, you can also refer to the tweets of other users. This can be done in two ways: by using **ampersands** and/or by using **hashtags**.

**Using ampersands**
When you are sending a tweet to your followers, if you want to refer to the tweets of another user, you can insert the name of that user preceded by an ampersand (@). Any of your followers can click on the name to see tweets posted by that user.

**Using hashtags**
Sometimes you want to refer to a set of tweets that contain a specific word or phrase originating from different senders. In this case you can use a hashtag (#) in front of the word. The word becomes a keyword representing a particular topic or issue, and any click on the word displays all recent tweets that contain that word.

### 19.3.7 Receiving tweets
After you identify and designate those members that you want to follow, any tweet posted by any one of them comes to your Twitter home page (also called your Twitter feed). To get to your home page, click on the *home* icon at the top-left of the Twitter toolbar (Figure 19.10) which enlarges the *whats happening* section. After reading any tweet, you can:
1. click on the arrow to compose a tweet in response to the sender of the tweet.
2. click on the double arrow to **retweet** the received tweet to their own followers.
3. click on the star to show that they like the tweet.

## 19.4 END-CHAPTER MATERIALS
### 19.4.1 Recommended reading
For more details about the subjects discussed in this chapter, the following book is recommended:
Russel Matthew A. *Mining the Social Web*, Sebastopol, CA: OReilly, 2014

### 19.4.2 Key terms
- Facebook
- follow
- following
- friend
- friendship
- hashtag
- home page
- news
- sign out
- social media
- tweet
- Twitter
- user page
- web page

### 19.4.3 Summary
- Facebook allows families and friends around the world to keep in touch with each other.
- In Facebook, each member needs to find friends to communicate with, but a friend of a friend is not a friend.
- Communication in Facebook is one-to-many. What is posted by one member can be seen by all their friends.
- To become a member of Facebook, one needs to sign up. To terminate membership, one needs to sign out.
- To use Facebook, a member needs to log in; to stop using Facebook for a while, a member needs to log out.
- Twitter allows a member to post a tweet (small message) for their followers to read.
- In Twitter, each member needs to find other members to follow.
- Communication in Twitter is one-to-many. Everything posted by one member can be seen by all their followers.
- To become a member of Twitter, one needs to sign up. To terminate membership, one needs to sign out.
- To use Twitter, a member needs to log in; to stop using Twitter for a while, a member needs to log out.
- A member needs to follow other members to receive tweets from them.

## 19.5 PRACTICE SET
### 19.5.1 Quizzes
A set of interactive quizzes for this chapter can be found on the books website. It is strongly recommended that the student takes the quizzes to check his/her understanding of the materials before continuing with the practice set.

### 19.5.2 True/false questions
Categorize the following statements as true or false.
T19-1. In Facebook, members post something for their followers.
T19-2. In Facebook, sharing is done between friends.
T19-3. In Facebook, a friend of a friend is a friend.
T19-4. Friendship in Facebook is a one-way relationship.
T19-5. Communication in Facebook is one-way.
T19-6. To sign up in Facebook you need to be on the user page.
T19-7. There is only one way to find friends in Facebook.
T19-8. In Facebook, what is posted by one member can be seen by all their friends.
T19-9. In Twitter communication takes place between a member and his/her friends.
T19-10. To become a member of Twitter, you need to log in.
T19-11. To discontinue membership in Twitter, you need to sign out.
T19-12. Before using Twitter, you need to look for followers.
T19-13. In Twitter, a post (message) can contain thousands of characters.
T19-14. To refer to another person named in your tweet, you need to use an ampersand.
T19-15. To refer to a word in all tweets, you need to use a hashtag.

### 19.5.3 Review questions
Q19-1. What is the difference between Facebook and Twitter when we consider the relationship between members?
Q19-2. What is the difference between Facebook and Twitter when we are thinking about the size of messages exchanged?
Q19-3. In Twitter, explain why a follower cannot send a message to the member that he/she follows.
Q19-4. In Facebook, if x and y are friends and z is only a friend of x but not a friend of y, can x send a message to z? Can z send a message to x?
Q19-5. In Twitter, if x is a follower of y and y is a follower of z, can x see a tweet sent by z?

### 19.5.4 Problems
P19-1. In Figure 19.2, assume that M2 and M5 terminate their friendships. Redraw Figure 19.3 for the new situation.
P19-2. In Figure 19.2, assume that M3 and M8 become friends. Redraw Figure 19.3 for the new situation.
P19-3. In Figure 19.7, assume that M2 decided to follow M6. Redraw Figure 19.7 using the new situation.
P19-4. In Figure 19.7, assume that M4 follows M7 and M7 follows M3. Redraw Figure 19.7 using the new situation.
`,zh:`
# 

**** **Facebook**  **Twitter** 

## 

-  Facebook **
-  Facebook 
-  Facebook 
-  Facebook 
-  Facebook
-  Facebook 
-  Facebook 
-  Twitter **
-  Twitter 
-  Twitter 
-  Twitter 
-  Twitter
-  Twitter 
-  Twitter 

## 19.1 
**



Facebook  Twitter Facebook  Twitter 

## 19.2 FACEBOOK
Facebook ****

**Facebook **

### 19.2.1 
 Facebook 

****
 Facebook ******** John  Lucie Lucie  John  John  Lucie  Lucie  Ann  John  Ann John  Ann 

** Facebook **

 Facebook M1  M8 19.1 


1. M1  M2 
2. M2  M5 
3. M3  M2 
4. M4  M7 
5. M6  M3 
6. M7  M6 
7. M8  M2 

 19.2 Facebook 

****
 19.3 
a. M1  M2 
b. M2  M1M3M5  M8 
c. M3  M2  M6 
d. M4  M7 
e. M5  M2 
f. M6  M3  M7 
g. M7  M4  M6 
h. M8  M2 

### 19.2.2 
Facebook 

** (Home page)**
****Facebook 19.4 

** (User page)**
**** Facebook  19.5 

### 19.2.3 
 Facebook 

** (Sign up)**
 Facebook  Facebook  (www.facebook.com) 19.4 
1. ****
2. 
3. 
4. 
5. 
6. 
7. 

** ()**
 Facebook  19.5
1. 
2. **
3. **
4. **

### 19.2.4  Facebook 
 Facebook ****

** (Log in)**
 Facebook  www.facebook.com 19.5 Facebook

** (Log out)**
 Facebook  19.5

### 19.2.5 
 Facebook ** Facebook  Facebook 

****
 Facebook 

** Facebook **
 Facebook  19.5****

****
**** 19.5****Facebook  Facebook **

****
 19.5Facebook  Facebook **

****
******

** (Unfriend)**
 19.5****

### 19.2.6 
Facebook ****

****
 19.5****

****
**

****
****

****
Facebook  60000 

****
**** 19.5********

****
*/*

** (Tagging)**
****

****
 Facebook  Facebook ********

## 19.3 TWITTER
**Twitter**  140 ** (tweet)**

**Twitter **

### 19.3.1 
 Twitter 

**-**
 Twitter  Twitter 

 Twitter  19.6 
1. M1  M2  M5
2. M2  M3
3. M3  M4  M5
4. M4  M3  M8
5. M5  M2  M6
6. M6  M8
7. M7  M3
8. M8  M7

 19.7 -

****
 Twitter  19.8 
a. M1  M1 
b. M2  M1  M5  M2  M1  M5 
c. M3  M2M4  M7  M3  M2M4  M7 
d. M4  M3  M4  M3 
e. M5  M1  M3  M5  M1  M3 
f. M6  M5  M6  M5 
g. M7  M7 
h. M8  M4  M6  M8  M4  M6 

### 19.3.2 
Twitter ****

** (Web page)**
**** Twitter  19.9

** (Home page)**
**** Twitter  19.10 

### 19.3.3 
 19.9 19.10

** (Sign up)**
 Twitter  www.twitter.com  Twitter  19.9 ** 19.11 
**

** ()**
 Twitter  Twitter  19.10
1. ****
2. ****
3. **

### 19.3.4  Twitter 
 Twitter ****

** (Log in)**
 Twitter  19.9** 19.12 
** Twitter

** (Log out)**
 Twitter  Twitter  19.10
1. ****
2. **

### 19.3.5 
Twitter 

****
 Twitter **** Twitter Twitter  Twitter 

** Twitter **
 Twitter  Twitter ** 19.13 ** Twitter  @name**

****
** 19.13**

****
** 19.13** Twitter ** Twitter 

****
 Twitter ******

****
 Twitter 

### 19.3.6 
 Twitter  Twitter 

****
 19.14
1.  Twitter ****
2. **
3. **
4. Twitter 
5.  Twitter 

****
 **@  (ampersands)** / **#  (hashtags)**

** @ **
 @  (@)

** #  (hashtags)**
 #  (#)

### 19.3.7 
 Twitter  Twitter  Twitter ** 19.10**
1. 
2. ** (retweet)** 
3. 

## 19.4 
### 19.4.1 

Russel Matthew A. *Mining the Social Web*, Sebastopol, CA: OReilly, 2014

### 19.4.2 
- Facebook
-  (follow)
-  (following)
-  (friend)
-  (friendship)
-  (hashtag)
-  (home page)
-  (news)
-  (sign out)
-  (social media)
-  (tweet)
- Twitter
-  (user page)
-  (web page)

### 19.4.3 
- Facebook 
-  Facebook 
- Facebook 
-  Facebook 
-  Facebook Facebook
- Twitter 
-  Twitter 
- Twitter 
-  Twitter 
-  Twitter Twitter
- 

## 19.5 
### 19.5.1 
/

### 19.5.2 

T19-1.  Facebook 
T19-2.  Facebook 
T19-3.  Facebook 
T19-4. Facebook 
T19-5. Facebook 
T19-6.  Facebook 
T19-7.  Facebook 
T19-8.  Facebook 
T19-9.  Twitter /
T19-10.  Twitter 
T19-11.  Twitter 
T19-12.  Twitter 
T19-13.  Twitter 
T19-14.  @ 
T19-15.  # 

### 19.5.3 
Q19-1. Facebook  Twitter 
Q19-2. Facebook  Twitter 
Q19-3.  Twitter /
Q19-4.  Facebook  x  y  z  x  y x  z z  x 
Q19-5.  Twitter  x  y  y  z x  z 

### 19.5.4 
P19-1.  19.2  M2  M5  19.3
P19-2.  19.2  M3  M8  19.3
P19-3.  19.7  M2  M6 19.7
P19-4.  19.7  M4  M7  M7  M3 19.7
`},kN={en:`
# Chapter 20: Social and Ethical Issues

In this chapter, we briefly focus on social and ethical issues related to the use of computers and to the Internet as a network of computers.

## Objectives
After studying this chapter, the student should be able to:
- Define three ethical principles related to the use of computers.
- Distinguish between physical and intellectual property and list some types of intellectual property.
- Define privacy as related to the use of computers.
- Give the definition of a computer crime and discuss types of attacks, motivation for attacks, and how to protect against attacks.
- Define hackers and the damage done by them.

## 20.1 ETHICAL PRINCIPLES
One of the ways to evaluate our responsibility towards the rest of the world when using a computer is to base our decisions on **ethics**. Ethics is a very complex subject that would take several books to describe in detail. In this chapter, we discuss only three principles that can be related to our goal, shown in Figure 20.1.

### 20.1.1 Moral rules
The first ethical principle states that when we make an ethical decision, we need to consider if the decision is made in accordance with a universally accepted principle of morality. For example, if we want to illegally access a computer to get some information, we need to ask ourselves if this act is moral. We know that most people in the world do not consider such actions to be moral, which means that we would be ignoring the first principle of ethics if we acted in this way.

**The first principle of ethics says that we should avoid doing anything if it is against universal morality.**

### 20.1.2 Utilization
The second theory of ethics is related to the consequences of the act. An act is ethical if it results in consequences which are useful for society. If a person accesses a banks computer and erases customer records, is this act useful for society? Since this action may damage the financial status of the banks customer, it is detrimental to society. It does not bring about a good result. It is not ethical.

**The second principle of ethics says that an act is ethical if it brings about a good result.**

### 20.1.3 Social contract
The social contract theory says that an act is ethical when a majority of people in society agrees with it. If someone breaks into somebody elses house and commits a robbery, does this act receive the approval of a majority of society? Since the answer is negative, this act is not ethical.

**The third principle of ethics says an act is ethical if a majority of people in society agree with it.**

## 20.2 INTELLECTUAL PROPERTY
Most ethical issues in the past were related to physical property. Physical property has been defined and physical property rights have been recognized by society throughout history. If a person has a physical object, such as a computer, the rights to this property are granted to the owner. It has been proved that ignoring physical property rights may affect the three ethical principles discussed above.

Modern societies have gone further and have recognized the right to **intellectual property**. For example, an author should be given the right to benefit from his/her written book. An artist should be given the right to benefit from his/her artwork. However, there are some differences between the two types of property:
1. A physical property cannot be copied; it needs to be manufactured or built. If we need another computer, we need to physically build it. On the other hand, intellectual property can be copied. We can make a copy of a book without rewriting it.
2. Copying intellectual property still leaves the owner with the original. Stealing a computer deprives the owner of its use.
3. The owner of intellectual property is only one person (or a group); many people can have the same physical property.

### 20.2.1 Types of intellectual property
Modern societies have recognized several types of intellectual property: trademarks, trade secrets, patents, and copyright.

**Trademarks**
A **trademark** identifies a companys product or service. A trademark is an intellectual property right granted by the government for a limited term, but which can be renewed. A trademark is considered intellectual property in that the corresponding product cannot legally be copied by other companies or individuals.

**Trade secrets**
A **trade secret** is the information about a product that is kept secret by the owner. For example, a company can create a product but keep the formula secret. A programmer can create a piece of software, but keep the program code secret. People can use the product or the software, but they do not own the formula or the code. Unlike trademarks, a trade secret does not have to be registered; the owner just has to keep it secret.

**Patents**
A **patent** is a right to a monopoly to use and commercially exploit a piece of intellectual property for a limited period of time. The owner has the right to give or not to give permission to anyone who wishes to use the invention. However, the individual property needs to have certain characteristics such as novelty, usefulness, and the capability of being built.

**Copyright**
A **copyright** is a right to a written or created work. It gives the author the exclusive rights to copy, distribute, and display the work. Copyright arises automatically, and does not need to be applied for or formally registered, but a statement of the creators copyright should be mentioned somewhere on the work.

## 20.3 PRIVACY
Today, a large amount of personal information about a citizen is collected by private and public agencies. Although in many cases the collection of this information is necessary, it may also pose some risks. Some of the information collected by government or private companies can be used commercially. In many countries, a citizens right to privacy is, directly or indirectly, mentioned in the nations constitution. However, there is a conflict between peoples right to privacy and the need to collect information about them. Usually governments create a balance between the two through laws. Some countries have introduced codes of ethics related to the use of computers to collect data, as shown below:
1. Collect only data that are needed.
2. Be sure that the collected data are accurate.
3. Allow individuals to know what data have been collected.
4. Allow individuals to correct the collected data if necessary.
5. Be sure that collected data are used only for the original purpose.
6. Use encryption techniques (discussed in Chapter 16) to accomplish private communication.

## 20.4 COMPUTER CRIMES
For the purposes of this book, we give a simple definition of a computer crime. A computer crime is an illegal act, called an *attack*, involving any of the following:
1. A computer
2. A computer network
3. A computer-related device
4. Software
5. Data stored in a computer
6. Documentation related to the use of computers

### 20.4.1 Types of attacks
Attacks can be divided into two categories: *penetration* and *denial of service*.

**Penetration attack**
Penetration in this case means breaking into a system to get access to the data stored in a computer or in a computer network. Penetration can result in changing data directly or injecting **viruses**, **worms**, and **Trojan horses** to alter the data indirectly.

**Viruses**
Viruses are unwanted programs that are hidden within other programs (host). When the user executes the host program, the virus takes control and replicates itself by attaching itself to other programs. Eventually, the multitude of viruses may stop normal computer operations. Viruses can also be transferred to other machines through the network.

**Worms**
A worm is an independent program which can copy itself and which travels through the network. It is a self-replicating piece of software that can travel from one node to another. It tries to find weaknesses in the system to inflict harm. It can reproduce many copies of itself, thus slowing down access to the Internet or stopping communication altogether.

**Trojan horses**
A Trojan horse is a computer program that does perform a legitimate task, but which also contains code to carry out malicious attacks such as deleting or corrupting files. It can also be used to access user passwords or other secret information.

**Denial of service attack**
The **denial of service** is an attack on a computer connected to the Internet. These attacks reduce the capability of a computer system to function correctly or bring the system down altogether by exhausting its resources.

### 20.4.2 Motives
Attacks are made with many different motivations such as political reasons, a hackers personal interpretation of computer ethics, terrorism, espionage, financial gain, or hate.

### 20.4.3 Attack protection
Although attacks cannot be avoided easily, there are some strategies that can be applied to reduce the number or impact of the attacks. We describe three strategies briefly.

**Use physical protection**
The computer can be physically protected to allow physical access only to trusted individuals.

**Use protective software**
Software can be used to protect your data, such as data encryption or the use of strong passwords to access the software.

**Install strong anti-virus software**
Strong anti-virus software can control access to the computer when installing new software or accessing Internet sites.

### 20.4.4 Cost
It is obvious that ordinary citizens usually bear the cost of these computer attacks. When private companies spend money on preventing attacks, consumers using their products pay through increased prices. When government organizations spend money to prevent attacks, citizens pay through increased taxes.

## 20.5 HACKERS
The word **hacker** today has a different meaning than when it was used in the past. Previously, a hacker was a person with a lot of knowledge who could improve a system and increase its capability. Today, a hacker is someone who gains unauthorized access to a computer belonging to someone else in order to copy secret information.

Although some of the infiltrations carried out by hackers can be harmless, most countries impose heavy penalties for both harmless and harmful hacking. In most countries, accessing government computers without authorization is a crime. Moreover, in many countries there is a heavy punishment for hackers who access the computers of private institutions, and the simple act of obtaining information from somebody elses computer is a crime, whether the information is used or not.

## 20.6 END-CHAPTER MATERIALS
### 20.6.1 Recommended reading
For more details about the subjects discussed in this chapter, the following books are recommended:
- Kizza, J. M. *Ethical and Social Issues in the Information Age*, London: Springer, 2010
- Schneider, M and. Gersting, J. L. *Invitation to Computer Science*, 7th edition, Boston, MA: Cengage Learning, 2016
- Reynold, C. and Tymann, P. *Schaums Outline of Principles of Computer Science*, New York: McGraw-Hill, 2008
- Long, L and Long, N. *Computers*, Upper Saddle River, NJ: Prentice-Hall, 1999

### 20.6.2 Key terms
- copyright
- denial of service
- ethical principle
- hackers
- intellectual property
- moral rules
- patent
- penetration attack
- privacy
- social contract
- trademark
- trade secret
- Trojan horse
- utilization
- virus
- worm

### 20.6.3 Summary
- One of the ways to evaluate our responsibility towards the rest of the world when using a computer is to base our decisions on ethics using the three principles of moral rules, utilization, and social contract.
- Ethical issues nowadays deal not only with physical property but also with intellectual property.
- Four different types of intellectual property are trademarks, trade secrets, patents, and copyrights.
- One major ethical issue of our time is respect of privacy.
- Computer crime mostly involves penetration or denial of service attacks on computer systems.
- Computer attacks can be avoided using physical protection, protective software, and anti-virus software.
- The term *hacker* today refers to a person or organization that gains unauthorized access to a computer belonging to someone else to copy secret information.

## 20.7 PRACTICE SET
### 20.7.1 Quizzes
A set of interactive quizzes for this chapter can be found on the books website. It is strongly recommended that the student takes the quizzes to check his/her understanding of the materials before continuing with the practice set.

### 20.7.2 Review questions
Q20-1. What are the three principles of ethics discussed in this chapter?
Q20-2. What are some differences between a physical and an intellectual property?
Q20-3. What are some privacy codes of ethics related to using computers?
Q20-4. What is the difference between penetration and denial of service when talking about computer crimes?
Q20-5. What are the three ways a malicious person can penetrate a computer belonging to someone else?

### 20.7.3 Problems
P20-1. Assume you have created a piece of software that can be used by many vendors. Is this intellectual property protected by a copyright or a patent? Explain your answer.
P20-2. You have created a piece of software for which you want to keep the code secret. Do you need to register this intellectual property? Explain your answer.
P20-3. If someone collects data about you without informing you in advance, is this act against your right to privacy? Explain your answer.
P20-4. If someone sends you an email that carries a virus, what type of computer crime is committed here? Explain your answer.
P20-5. If someone renders an institutions computer system so busy that it cannot do any more work, what type of computer crime is committed? Explain your answer.
P20-6. Explain the difference between a virus and a worm.
P20-7. Explain the difference between a virus and a Trojan horse.
P20-8. Explain the difference between a worm and a Trojan horse.
P20-9. Describe different ways in which you can protect your computer from attacks.
P20-10. Explain the damage that a hacker can inflict on a computer system of a financial institution.
`,zh:`
# 



## 

- 
- 
- 
- 
- 

## 20.1 
**** 20.1 

### 20.1.1 


****

### 20.1.2  (Utilization)


****

### 20.1.3 


****

## 20.2 


****
1. 
2. 
3. 

### 20.2.1 


** (Trademarks)**
****

** (Trade secrets)**
****

** (Patents)**
****

** (Copyright)**
****

## 20.3 

1. 
2. 
3. 
4. 
5. 
6.  16 

## 20.4 
**
1. 
2. 
3. 
4. 
5. 
6. 

### 20.4.1 
****

****
************

** (Viruses)**


** (Worms)**


** (Trojan horses)**


****
****

### 20.4.2 


### 20.4.3 


****


****


****


### 20.4.4 


## 20.5 
****



## 20.6 
### 20.6.1 

- Kizza, J. M. *Ethical and Social Issues in the Information Age*, London: Springer, 2010
- Schneider, M and. Gersting, J. L. *Invitation to Computer Science*, 7th edition, Boston, MA: Cengage Learning, 2016
- Reynold, C. and Tymann, P. *Schaums Outline of Principles of Computer Science*, New York: McGraw-Hill, 2008
- Long, L and Long, N. *Computers*, Upper Saddle River, NJ: Prentice-Hall, 1999

### 20.6.2 
-  (copyright)
-  (denial of service)
-  (ethical principle)
-  (hackers)
-  (intellectual property)
-  (moral rules)
-  (patent)
-  (penetration attack)
-  (privacy)
-  (social contract)
-  (trademark)
-  (trade secret)
-  (Trojan horse)
-  (utilization)
-  (virus)
-  (worm)

### 20.6.3 
- 
- 
- 
- 
- 
- 
- **

## 20.7 
### 20.7.1 
/

### 20.7.2 
Q20-1. 
Q20-2. 
Q20-3. 
Q20-4. 
Q20-5. 

### 20.7.3 
P20-1. 
P20-2. 
P20-3. 
P20-4. 
P20-5. 
P20-6. 
P20-7. 
P20-8. 
P20-9. 
P20-10. 
`},AN={en:`
# Appendix A: Unicode

Computers use numbers. They store characters by assigning a number to each one. The original coding system was called ASCII (American Standard Code for Information Interchange) and had 128 characters each stored as a 7-bit number. ASCII can satisfactorily handle lowercase and uppercase letters, digits, punctuation characters, and some control characters. An attempt was made to extend the ASCII character set to eight bits. The new code, which was called Extended ASCII, was never internationally standardized.

To overcome the difficulties inherent in ASCII and Extended ASCIInot enough bits to represent characters and other symbols needed for communication in other languagesthe Unicode Consortium, a group of multilingual software manufacturers, created a universal encoding system to provide a comprehensive character set, called **Unicode**.

Unicode was originally a 2-byte character set. Unicode version 5, however, is a 4-byte code and is fully compatible with ASCII and Extended ASCII. The ASCII set, which is now called Basic Latin, is Unicode with the upper 25 bits set to zero. Extended ASCII, which is now called Latin-1, is Unicode with the 24 upper bits set to zero. Figure A.1 shows how the different systems are compatible.

Each character or symbol in Unicode is defined by a 32-bit number. The code can define up to $2^{32}$ (4294967296) characters or symbols. The description here uses hexadecimal digits in the following format, in which each X is a hexadecimal digit:

\`U+XXXXXXXX\`

## A.1 PLANES
Unicode divides the whole code space into planes. The most significant 16 bits define the plane, which means we can have 65536 ($2^{16}$) planes. For plane 0, the most significant 16 bits are 0s, $(0000)_{16}$, in plane 1 the bits are $(0001)_{16}$, in plane 2 they are $(0002)_{16}$, and so on until in the plane 65536, they are $(FFFF)_{16}$. Each plane can define up to 65536 characters or symbols. Figure A.2 shows the structure of Unicode code spaces and its planes.

### A.1.1 Basic multilingual plane (BMP)
The **basic multilingual plane**, plane 0, is designed to be compatible with the previous 16-bit Unicode. The most significant 16 bits in this plane are all zeros. The codes are normally shown as \`U+XXXX\` with the understanding that XXXX defines only the least significant 16 bits. This plane mostly defines character sets in different languages, with the exception of some codes used for control or other special characters (for more information, see the Unicode Web Page).

### A.1.2 Other planes
Unicode had other planes:
*   The **supplementary multilingual plane**, plane $(0001)_{16}$, is designed to provide more code for multilingual characters that are not included in the BMP plane.
*   The **supplementary ideographic plane**, plane $(0002)_{16}$, is designed to provide code for ideographic symbols, any symbol that primarily denotes an idea or meaning in contrast to a sound or pronunciation.
*   The **supplementary special plane**, plane $(000E)_{16}$, is used for special characters not found in the Basic Latin or Basic Latin-1 codes.
*   **Private use planes**, planes $(000F)_{16}$ and $(0010)_{16}$, are reserved for private use.

## A.2 ASCII
Today, ASCII or Basic Latin, is part of Unicode. It occupies the first 128 codes in Unicode (U-00000000 to U-0000007F). Table A.1 contains the hexadecimal codes and symbols. To find the actual code, we prepend $(000000)_{16}$ to the code.

**Table A.1 ASCII**

| Code | Symbol | Code | Symbol | Code | Symbol | Code | Symbol |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| $(00)_{16}$ | Null | $(20)_{16}$ | Space | $(40)_{16}$ | @ | $(60)_{16}$ | \` |
| $(01)_{16}$ | SOH | $(21)_{16}$ | ! | $(41)_{16}$ | A | $(61)_{16}$ | a |
| $(02)_{16}$ | STX | $(22)_{16}$ |  | $(42)_{16}$ | B | $(62)_{16}$ | b |
| $(03)_{16}$ | ETX | $(23)_{16}$ | # | $(43)_{16}$ | C | $(63)_{16}$ | c |
| $(04)_{16}$ | EOT | $(24)_{16}$ | $ | $(44)_{16}$ | D | $(64)_{16}$ | d |
| $(05)_{16}$ | ENQ | $(25)_{16}$ | % | $(45)_{16}$ | E | $(65)_{16}$ | e |
| $(06)_{16}$ | ACK | $(26)_{16}$ | & | $(46)_{16}$ | F | $(66)_{16}$ | f |
| $(07)_{16}$ | BEL | $(27)_{16}$ |  | $(47)_{16}$ | G | $(67)_{16}$ | g |
| $(08)_{16}$ | BS | $(28)_{16}$ | ( | $(48)_{16}$ | H | $(68)_{16}$ | h |
| $(09)_{16}$ | HT | $(29)_{16}$ | ) | $(49)_{16}$ | I | $(69)_{16}$ | i |
| $(0A)_{16}$ | LF | $(2A)_{16}$ | * | $(4A)_{16}$ | J | $(6A)_{16}$ | j |
| $(0B)_{16}$ | VT | $(2B)_{16}$ | + | $(4B)_{16}$ | K | $(6B)_{16}$ | k |
| $(0C)_{16}$ | FF | $(2C)_{16}$ | , | $(4C)_{16}$ | L | $(6C)_{16}$ | l |
| $(0D)_{16}$ | CR | $(2D)_{16}$ | - | $(4D)_{16}$ | M | $(6D)_{16}$ | m |
| $(0E)_{16}$ | SO | $(2E)_{16}$ | . | $(4E)_{16}$ | N | $(6E)_{16}$ | n |
| $(0F)_{16}$ | SI | $(2F)_{16}$ | / | $(4F)_{16}$ | O | $(6F)_{16}$ | o |
| $(10)_{16}$ | DLE | $(30)_{16}$ | 0 | $(50)_{16}$ | P | $(70)_{16}$ | p |
| $(11)_{16}$ | DC1 | $(31)_{16}$ | 1 | $(51)_{16}$ | Q | $(71)_{16}$ | q |
| $(12)_{16}$ | DC2 | $(32)_{16}$ | 2 | $(52)_{16}$ | R | $(72)_{16}$ | r |
| $(13)_{16}$ | DC3 | $(33)_{16}$ | 3 | $(53)_{16}$ | S | $(73)_{16}$ | s |
| $(14)_{16}$ | DC4 | $(34)_{16}$ | 4 | $(54)_{16}$ | T | $(74)_{16}$ | t |
| $(15)_{16}$ | NAK | $(35)_{16}$ | 5 | $(55)_{16}$ | U | $(75)_{16}$ | u |
| $(16)_{16}$ | SYN | $(36)_{16}$ | 6 | $(56)_{16}$ | V | $(76)_{16}$ | v |
| $(17)_{16}$ | ETB | $(37)_{16}$ | 7 | $(57)_{16}$ | W | $(77)_{16}$ | w |
| $(18)_{16}$ | CAN | $(38)_{16}$ | 8 | $(58)_{16}$ | X | $(78)_{16}$ | x |
| $(19)_{16}$ | EM | $(39)_{16}$ | 9 | $(59)_{16}$ | Y | $(79)_{16}$ | y |
| $(1A)_{16}$ | SUB | $(3A)_{16}$ | : | $(5A)_{16}$ | Z | $(7A)_{16}$ | z |
| $(1B)_{16}$ | ESC | $(3B)_{16}$ | ; | $(5B)_{16}$ | [ | $(7B)_{16}$ | { |
| $(1C)_{16}$ | FS | $(3C)_{16}$ | < | $(5C)_{16}$ | \\ | $(7C)_{16}$ | | |
| $(1D)_{16}$ | GS | $(3D)_{16}$ | = | $(5D)_{16}$ | ] | $(7D)_{16}$ | } |
| $(1E)_{16}$ | RS | $(3E)_{16}$ | > | $(5E)_{16}$ | ^ | $(7E)_{16}$ | ~ |
| $(1F)_{16}$ | US | $(3F)_{16}$ | ? | $(5F)_{16}$ | _ | $(7F)_{16}$ | DEL |

### A.2.1 Some properties of ASCII
ASCII has some interesting properties that we need to briefly mention here:
1.  The first code, $(00)_{16}$, which is non-printable, is the null character. It represents the absence of any character.
2.  The last code, $(7F)_{16}$, is the delete character, which is also non-printable. It is used by some programs to delete the current character.
3.  The space character, $(20)_{16}$, is a printable character. It prints a blank space.
4.  Characters with code $(01)_{16}$ to $(1F)_{16}$ are control characters: they are not printable. Table A.2 shows their functions. Most of these characters were used in data communication in out-of-date protocols.

**Table A.2 Explanation for control characters**
| Symbol | Explanation | Symbol | Explanation |
| :--- | :--- | :--- | :--- |
| SOH | Start of heading | DC1 | Device control 1 |
| STX | Start of text | DC2 | Device control 2 |
| ETX | End of text | DC3 | Device control 3 |
| EOT | End of transmission | DC4 | Device control 4 |
| ENQ | Enquiry | NAK | Negative acknowledgment |
| ACK | Acknowledgment | SYN | Synchronous idle |
| BEL | Ring bell | ETB | End of transmission block |
| BS | Backspace | CAN | Cancel |
| HT | Horizontal tab | EM | End of medium |
| LF | Line feed | SUB | Substitute |
| VT | Vertical tab | ESC | Escape |
| FF | Form feed | FS | File separator |
| CR | Carriage return | GS | Group separator |
| SO | Shift out | RS | Record separator |
| SI | Shift in | US | Unit separator |

5.  The uppercase letters start from $(41)_{16}$. The lowercase letters start from $(61)_{16}$. When numerically compared, uppercase letters are smaller than lowercase ones. This means that when we sort a list based on ASCII values, the uppercase letters show before the lowercase letters.
6.  The uppercase and lowercase letters differ by only one bit in the 7-bit code. For example, character A is $(41)_{16}$ and character a is $(61)_{16}$. The difference is bit 6, which is 0 in uppercase letters and 1 in lowercase letters. If we know the code for one case, we can find the code for the other easily by adding or subtracting, $(20)_{16}$ in hexadecimal or flipping the sixth bit. In other words, the code for character A is $(41)_{16} = (1000001)_2$, but the code for character a is $(61)_{16} = (1100001)_2$: the sixth bit in binary notation is flipped from 0 to 1.
7.  The uppercase letters are not immediately followed by lowercase lettersthere are some punctuation characters in between.
8.  Decimal digits (0 to 9) begin at $(30)_{16}$. This means that if we want to change a numeric character to its face value as an integer, we need to subtract $(30)_{16} = 48$ from it. For example, the code for 8 in ASCII is $(38)_{16} = 56$. To find the face value, we need to subtract 48 from this, or $56 - 48 = 8$.
`,zh:`
#  A (Unicode)

 ASCII 128  7 ASCII  ASCII  ASCII (Extended ASCII)

 ASCII  ASCII Unicode  **Unicode**

Unicode  2 Unicode  5  4  ASCII  ASCII ASCII  25  Unicode ASCII Latin-1 24  Unicode A.1 

Unicode  32  $2^{32}$ (4294967296)  X 

\`U+XXXXXXXX\`

## A.1  (PLANES)
Unicode  16  65536 ($2^{16}$)  0 16  0$(0000)_{16}$ 1  $(0001)_{16}$ 2  $(0002)_{16}$ 65536  $(FFFF)_{16}$ 65536  A.2  Unicode 

### A.1.1  (BMP)
**** 0 16  Unicode  16  \`U+XXXX\` XXXX  16  Unicode 

### A.1.2 
Unicode 
*   **** $(0001)_{16}$ BMP 
*   **** $(0002)_{16}$
*   **** $(000E)_{16}$-1 
*   **** $(000F)_{16}$  $(0010)_{16}$

## A.2 ASCII
ASCII  Unicode  Unicode  128 U-00000000  U-0000007F A.1  $(000000)_{16}$

** A.1 ASCII**

|  |  |  |  |  |  |  |  |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| $(00)_{16}$ | Null | $(20)_{16}$ | Space | $(40)_{16}$ | @ | $(60)_{16}$ | \` |
| $(01)_{16}$ | SOH | $(21)_{16}$ | ! | $(41)_{16}$ | A | $(61)_{16}$ | a |
| $(02)_{16}$ | STX | $(22)_{16}$ |  | $(42)_{16}$ | B | $(62)_{16}$ | b |
| $(03)_{16}$ | ETX | $(23)_{16}$ | # | $(43)_{16}$ | C | $(63)_{16}$ | c |
| $(04)_{16}$ | EOT | $(24)_{16}$ | $ | $(44)_{16}$ | D | $(64)_{16}$ | d |
| $(05)_{16}$ | ENQ | $(25)_{16}$ | % | $(45)_{16}$ | E | $(65)_{16}$ | e |
| $(06)_{16}$ | ACK | $(26)_{16}$ | & | $(46)_{16}$ | F | $(66)_{16}$ | f |
| $(07)_{16}$ | BEL | $(27)_{16}$ |  | $(47)_{16}$ | G | $(67)_{16}$ | g |
| $(08)_{16}$ | BS | $(28)_{16}$ | ( | $(48)_{16}$ | H | $(68)_{16}$ | h |
| $(09)_{16}$ | HT | $(29)_{16}$ | ) | $(49)_{16}$ | I | $(69)_{16}$ | i |
| $(0A)_{16}$ | LF | $(2A)_{16}$ | * | $(4A)_{16}$ | J | $(6A)_{16}$ | j |
| $(0B)_{16}$ | VT | $(2B)_{16}$ | + | $(4B)_{16}$ | K | $(6B)_{16}$ | k |
| $(0C)_{16}$ | FF | $(2C)_{16}$ | , | $(4C)_{16}$ | L | $(6C)_{16}$ | l |
| $(0D)_{16}$ | CR | $(2D)_{16}$ | - | $(4D)_{16}$ | M | $(6D)_{16}$ | m |
| $(0E)_{16}$ | SO | $(2E)_{16}$ | . | $(4E)_{16}$ | N | $(6E)_{16}$ | n |
| $(0F)_{16}$ | SI | $(2F)_{16}$ | / | $(4F)_{16}$ | O | $(6F)_{16}$ | o |
| $(10)_{16}$ | DLE | $(30)_{16}$ | 0 | $(50)_{16}$ | P | $(70)_{16}$ | p |
| $(11)_{16}$ | DC1 | $(31)_{16}$ | 1 | $(51)_{16}$ | Q | $(71)_{16}$ | q |
| $(12)_{16}$ | DC2 | $(32)_{16}$ | 2 | $(52)_{16}$ | R | $(72)_{16}$ | r |
| $(13)_{16}$ | DC3 | $(33)_{16}$ | 3 | $(53)_{16}$ | S | $(73)_{16}$ | s |
| $(14)_{16}$ | DC4 | $(34)_{16}$ | 4 | $(54)_{16}$ | T | $(74)_{16}$ | t |
| $(15)_{16}$ | NAK | $(35)_{16}$ | 5 | $(55)_{16}$ | U | $(75)_{16}$ | u |
| $(16)_{16}$ | SYN | $(36)_{16}$ | 6 | $(56)_{16}$ | V | $(76)_{16}$ | v |
| $(17)_{16}$ | ETB | $(37)_{16}$ | 7 | $(57)_{16}$ | W | $(77)_{16}$ | w |
| $(18)_{16}$ | CAN | $(38)_{16}$ | 8 | $(58)_{16}$ | X | $(78)_{16}$ | x |
| $(19)_{16}$ | EM | $(39)_{16}$ | 9 | $(59)_{16}$ | Y | $(79)_{16}$ | y |
| $(1A)_{16}$ | SUB | $(3A)_{16}$ | : | $(5A)_{16}$ | Z | $(7A)_{16}$ | z |
| $(1B)_{16}$ | ESC | $(3B)_{16}$ | ; | $(5B)_{16}$ | [ | $(7B)_{16}$ | { |
| $(1C)_{16}$ | FS | $(3C)_{16}$ | < | $(5C)_{16}$ | \\ | $(7C)_{16}$ | | |
| $(1D)_{16}$ | GS | $(3D)_{16}$ | = | $(5D)_{16}$ | ] | $(7D)_{16}$ | } |
| $(1E)_{16}$ | RS | $(3E)_{16}$ | > | $(5E)_{16}$ | ^ | $(7E)_{16}$ | ~ |
| $(1F)_{16}$ | US | $(3F)_{16}$ | ? | $(5F)_{16}$ | _ | $(7F)_{16}$ | DEL |

### A.2.1 ASCII 
ASCII 
1.   $(00)_{16}$ 
2.   $(7F)_{16}$ 
3.   $(20)_{16}$ 
4.   $(01)_{16}$  $(1F)_{16}$  A.2 

** A.2 **
|  |  |  |  |
| :--- | :--- | :--- | :--- |
| SOH |  | DC1 |  1 |
| STX |  | DC2 |  2 |
| ETX |  | DC3 |  3 |
| EOT |  | DC4 |  4 |
| ENQ |  | NAK |  |
| ACK |  | SYN |  |
| BEL |  | ETB |  |
| BS |  | CAN |  |
| HT |  | EM |  |
| LF |  | SUB |  |
| VT |  | ESC |  |
| FF |  | FS |  |
| CR |  | GS |  |
| SO |  | RS |  |
| SI |  | US |  |

5.   $(41)_{16}$  $(61)_{16}$  ASCII 
6.   7  A  $(41)_{16}$ a  $(61)_{16}$ 6  0 1 $(20)_{16}$  A  $(41)_{16} = (1000001)_2$ a  $(61)_{16} = (1100001)_2$ 0  1
7.  
8.  0  9 $(30)_{16}$  $(30)_{16} = 48$ASCII  8  $(38)_{16} = 56$ 48 $56 - 48 = 8$
`},SN={en:`
# Appendix B: Unified Modeling Language (UML)

**Unified Modeling Language (UML)** is a graphical language used for analysis and design. Through UML we can specify, visualize, construct, and document software and hardware systems using standard graphical notations. UML provides different levels of abstraction, called **views**, as shown in Figure B.1.

As shown in Figure B.1 the four views are:
1.  The **user view**, which shows the interaction of the user with the system. This view is represented by use-case diagrams.
2.  The **structural view**, which shows the static structure of the system. This view is represented by class diagrams.
3.  The **behavioral view**, which shows how the objects in the system behave. This view is represented by collaboration, sequence, state, and activity diagrams.
4.  The **implementation view**, which shows how the system is implemented. It contains component and deployment diagrams.

## B.1 THE USER VIEW
The user view is a high level view of the whole system. It shows how a system is organized in general. There is only one type of diagram in user views, the use-case diagram.

### B.1.1 Use-case diagrams
A project normally starts with a use-case diagram. A **use-case diagram** gives the users view of a system: it shows how the users communicate with the system. Figure B.2 shows an example of a use-case diagram. A use-case diagram uses four main components: **system**, **use cases**, **actors**, and **relationships**. Each component is explained below.

**System**
A system performs a function. We are interested only in a computer system. The computer system in a use-case diagram is shown by a rectangular box with the name of the system outside the box in the top-left corner.

**Use cases**
A system contains many actions represented as use cases. Each use case defines one of the actions that can be taken by the users of a system. A use case in a use-case diagram is shown by a rectangle with rounded corners.

**Actors**
An actor is someone or something that uses the system. Although actors are shown as stick figures, they do not necessarily represent human beings.

**Relationships**
Relationships are associations between actors and use cases. A relationship is shown as a line connecting actors to use cases. An actor can relate to multiple use cases and a use case can be used by multiple actors.

## B.2 THE STRUCTURAL VIEW
The structural view shows the static nature of the system, classes and their relationships. The structural view uses only one type of diagram, class diagrams.

### B.2.1 Class diagrams
A **class diagram** manifests the static structure of a system. It shows the characteristics of the classes and the relationship between them. The symbol for a class is a rectangle with the name of the class written inside. Figure B.3 shows three classes, Person, Fraction, and Elevator, belonging to three different systemsthat is, there is no relationship between them.

Class diagrams are extended by adding attributes, types, and methods to the diagram. Relationships between classes are shown with association and generalization diagrams.

**Attributes and types**
A class symbol can include attributes and types in a separate compartment. An attribute is a property of a class and a type is the type of data used to represent that attribute. Figure B.4 shows some attributes of the classes Person and Fraction.

**Methods**
A class can also be extended to include methods. A method is a procedure that can be used by an object (an instance of a class) or applied to an object. In other words, an object is either a doer or a receiver. Figure B.5 shows two classes with attributes and methods. The attributes and methods are listed in separate compartments.

**Association**
An association is a conceptual relation between two classes. An association is shown by a solid line between two classes. If a name is given to the association, it is written next to the line with a solid arrow.
An association can be one-to-one, one-to-many, many-to-one or many-to-many. Figure B.6 shows four classes and some associations between them. It shows that one professor (an object of the Professor class) can teach from one to five courses (15). Conversely, in this example, a course can have only one professor. The university (an object of the University class) can have many professors and many students (objects of the Student class), as indicated by the asterisk (*) on the association line. The figure also shows that a student can take many courses.

**Generalization**
Generalization organizes classes based on their similarities and differences. Generalization allows us to define **subclasses** and **superclasses**. A subclass inherits characteristics (attributes and methods) of all its superclasses, but it normally has some characteristics (attributes and methods) of its own. Figure B.7 shows single and multiple inheritance.

## B.3 THE BEHAVIORAL VIEW
A behavioral view looks at the behavior of objects in a system. Depending on the type of the behavior, we can have four different diagrams: collaboration diagrams, state diagrams, sequence diagrams, and activity diagrams.

### B.3.1 Collaboration diagrams
A collaboration diagram is similar to a class diagram. The difference is that the class diagram shows the relationship between classes, whereas a collaboration diagram shows the relationship between objects (instances of classes).
Any object instantiated from the class can also be shown in a rectangle with the name of the object followed by a colon and the name of the class. For an anonymous object, the name of the object is left out. Figure B.8 shows three objects instantiated from the class Person.

**Attributes and values**
An attribute is a property of a class, while a value is a property of an object corresponding to an attribute. An object symbol can include values. Figure B.9 shows some attributes of the classes Person and Fraction with values for attributes within the classes.

**Methods and operations**
Although an object symbol can also include methods and operations, it is not common in a collaboration diagram.

**Links**
A link in a collaboration diagram is an instance of an association in a class diagram. Objects can be related to each other using links. Two stereotype notations can be used for links: local and parameter. The first shows that one object uses another object as a local variable: the second shows that one object uses another object as a parameter. Multiplicity, as shown in the association between Student and Course in Figure B.6, can also be shown by multiple superimposed objects. Multiplicity can also be shown between objects of the same class. Figure B.10 shows that a Students object uses multiple Course objects as parameters.

**Messages**
An object can send a message to another object. A message can represent an event sent from the first object to the second. A message can also invoke a method in the second object. Finally, an object can create or destroy another object using a message. Messages are shown by an arrow pointing in the direction of the message and are shown over the link between objects. Figure B.11 shows how an Editor object sends a print message to a Printer object.

### B.3.2 State diagrams
A state diagram is used to show changes in the states of a single object. An object may change its state in response to an event. For example, a switch may change its state from **off** to **on** when it is turned on. A washing machine may change its state from **wash** to **rinse** in response to triggers from a timer.

**Symbols**
A state diagram uses three main symbols, as shown in Figure B.12.

**States**
There are three symbols for states: the start state, the stop state, and the intermediate state. The start state, which is drawn as a black circle with its name next to the circle, is allowed only once in the diagram. The stop state, which is drawn as a solid black circle inside another circle, can be repeated in the diagram. The intermediate state is drawn as a rectangle with rounded corners with the name of the state inside the rectangle.

**Transitions**
In a state diagram, a transition is a movement between states. The transition symbol is an arrowed line between two states. The arrow shows the next state. One or more transitions can leave a state: only one transition can arrive at a state.

**Decision point**
A decision point is shown by a diamond. A transition can take several paths based on data or conditions in the object.

**Events**
In a state diagram, an object is triggered by an event, which can be external or internal. For example, a switch may move from an **off** state to an **on** state if it is turned on. An event is represented by a string which defines the operation in the class that handles the event. It may have parentheses containing the formal parameters to be passed to the operation. An event can also have a condition enclosed in brackets. The following shows an example of an event:
\`withdraw (amount) [amount < balance]\`
An object may or may not move to another state when triggered by an event.

**Actions**
Although an action may be triggered in several ways, we only mention an action triggered by an event. An action is shown by a string, which normally defines another object and the event that should be invoked for that object. If parameters are needed for the target object they are included in parentheses. The action is separated from the event by using a forward slash. The following shows an example of an action:
\`deposit (amount) / add (balance)\`

**Example B.1**
Figure B.13 shows a simple example of a state diagram. There are six statesa start and a stop state and four intermediate statesnine events, and four actions.

### B.3.3 Sequence diagrams
A sequence diagram shows the interaction between objects (or actors) over time. In a sequence diagram, objects (or actors) are listed as columns, and time, which flows notionally downwards, is represented as a vertical broken line.

**Symbols**
A sequence diagram uses five main symbols, as shown in Figure B.14.

**Actor**
The symbol for an actor is the same stick figure as we saw in use-case diagrams. Since actors can also communicate with objects, they can be part of a sequence diagram.

**Object**
Objects, as we saw before, are instances of classes. A sequence diagram represents the interaction between the objects.

**Lifeline**
A lifeline, shown by a solid or dashed vertical line, represents an individual participant in a sequence diagram. It is usually headed by a rectangle that contains the name of the object or actor. The vertical line, which represents the lifespan of the object, extends to the point where the object is no longer active.

**Activation**
Activation, represented by a solid narrow rectangle, shows the time when the object is involved in an activity, that is, when it is not idle. For example, if an object has sent a message to another object and is waiting for a response, the object is involved during this time.

**Message**
Messages are shown as horizontal arrowed lines showing the interaction between objects (or actors).

**Example B.2**
Figure B.15 shows a simple example of a sequence diagram with one actor and three anonymous objects. The diagram also shows concurrency: the first object, after receiving the first message, concurrently sends two messages: one to the actor and one to the second object.

### B.3.4 Activity diagrams
An activity diagram shows the break-down of a complex operation or a process into a set of simpler operations or processes. An activity diagram is more detailed than a sequence diagram. A sequence diagram emphasizes objects, while an activity diagram shows more detailed operations performed by one or more objects. An activity diagram in object-oriented programming replaces a traditional flowchart in procedural programming. However, a traditional flowchart shows only sequential flow control (serial), while an activity diagram can show both sequential and concurrent (parallel) flow control.

**Symbols**
An activity diagram uses six main symbols, as shown in Figure B.16.

**Activities**
An activity is a step in an activity diagram. We show an activity using a rectangle with rounded corners that contains the name of the activity. The level of detail in an activity should be consistent for the whole diagram. If more detail is needed for one of the activities, a new diagram should be drawn to show it.

**Transitions**
Similar to a state diagram, a transition in an activity diagram is shown by an arrowed line. The arrow shows the direction of the action.

**Start and end points**
The start point in an activity diagram is a solid circle with a single outgoing transition: the stop point is a solid circle surrounded by a hollow circle (bulls eye) with a single incoming transition. There can be only one start point. While logically there can be only one end point, multiple end points are allowed to make the diagram easier to read.

**Decision and merge**
A diamond shows a decision or a merge point. A transition can take several paths based on conditions. When used as a decision point, a diamond symbol can have only one entry, with two or more exits. When used as a merge point, a diamond symbol can have two or more entries but only one exit.

**Fork or joint**
A thick line shows a fork or join in parallel processing. A fork symbol shows the start of two or more threads of processes: a joint symbol shows the end of the threads.

**Example B.3**
Figure B.17 shows an example of an activity diagram. Activities 2 and 3 are done concurrently (parallel processing).

### B.3.5 Swimlanes
Sometimes operations in an activity diagram are performed by different objects or actors. To show that more than one object or actor is involved, **swimlanes** are added to an activity diagram, as shown in Figure B.18.

## B.4 THE IMPLEMENTATION VIEW
An implementation view shows how the final product is implemented. Two types of diagrams are used to show the implementations: component diagrams and deployment diagrams.

### B.4.1 Component diagrams
A component diagram shows the software components and the dependencies among them. The components are shown as rectangles with two small rectangles on their left edges. A dependency between the components is shown by a dashed line with an arrow on the end. We can also use stereotyping on the dependency line by including such stereotype relations such as <<report>>. Figure B.19 shows a component diagram.

### B.4.2 Deployment diagrams
A deployment diagram shows nodes connected by communication links. A node is shown as a cuboid and the communication association (link) is shown as a line connecting two nodes. A node can also include one or more components. Figure B.20 shows a simple deployment diagram.
`,zh:`
#  B (UML)

** (UML)**  UMLUML **** B.1 

 B.1 
1.  ****
2.  ****
3.  ****
4.  ****

## B.1 


### B.1.1  (Use-case diagrams)
**** B.2 ****************

****


****


** (Actors)**


****


## B.2 


### B.2.1  (Class diagrams)
**** B.3 PersonFraction  Elevator



****
 B.4  Person  Fraction 

****
 B.5 

** (Association)**

 B.6 Professor  (15)University Student  (*) 

** (Generalization)**
******** B.7 

## B.3 


### B.3.1  (Collaboration diagrams)

 B.8  Person 

****
 B.9  Person  Fraction 

****


** (Links)**
 B.6  Student  Course  B.10  Student  Course 

****
 B.11  Editor  Printer 

### B.3.2  (State diagrams)
****************

****
 B.12 

****


****


****


****
********
\`withdraw (amount) [amount < balance]\`


****

\`deposit (amount) / add (balance)\`

** B.1**
 B.13 

### B.3.3  (Sequence diagrams)


****
 B.14 

****


****


****


** (Activation)**


****


** B.2**
 B.15 

### B.3.4  (Activity diagrams)


****
 B.16 

****


****


****


****


****


** B.3**
 B.17  2  3 

### B.3.5  (Swimlanes)
**** B.18 

## B.4 


### B.4.1  (Component diagrams)
 <<report>>  B.19 

### B.4.2  (Deployment diagrams)
 B.20 
`},CN={en:`
# Appendix C: Pseudocode

One of the most common tools for defining algorithms is pseudocode. **Pseudocode** is an English-like representation of the code required for an algorithm. It is part English and part structured code. The English part provides a relaxed syntax that is easy to read. The code part consists of an extended version of the basic algorithmic constructs: *sequence*, *selection*, and *loop*. Algorithm C.1 shows an example of pseudocode. We briefly discuss each component in the next section.

**Algorithm C.1 Example of pseudocode**
\`\`\`
Algorithm: FindingSmallest (list)
Purpose: Finds the smallest number among a list of numbers
Pre: List of numbers
Post: None
Return: The smallest number in the list
{
    smallest  first number
    Loop (not end of list)
    {
        If (next number < smallest)
        {
            smallest  second number
        }
    }
    Return value of smallest
}
\`\`\`

## C.1 COMPONENTS

An algorithm written in pseudocode can be decomposed into several elements and constructs.

### C.1.1 Algorithm header
Each algorithm begins with a header that names it. For example, in Algorithm C.1, the header starts with the word *Algorithm*, which gives the algorithms title as Finding Smallest.

### C.1.2 Purpose, conditions, and return
After the header, we normally mention the purpose, the precondition, postconditions, and the data returned from the algorithm.

**Purpose**
The purpose is a short statement about what the algorithm does. It needs to describe only the general algorithm processing. It should not attempt to describe all of the processing. The purpose starts with the word Purpose and continues with the goal of the algorithm.

**Precondition**
The precondition lists any precursor requirements. For example, we require that the list be available to the algorithm.

**Postcondition**
The postcondition identifies any effect created by the algorithm. For example, the algorithm may require the printing of data.

**Return**
We believe that every algorithm should show what is returned from the algorithm. If there is nothing to be returned, we advise that null be specified. The smallest value that is found is returned.

**Statement**
Statements are commands such as **assign**, **input**, **output**, **if-then-else**, and **loop**, as shown in Algorithms C.1, C.2, C.3, and C.4. Nested statementsstatements inside another statementare indented. The list of nested statements starts with the opening brace (curly bracket) and ends with a closing brace. The whole argument is a list of nested statements inside the algorithm itself. For this reason, we see an opening brace at the beginning and a closing brace at the end.

### C.1.3 Statement constructs
When Niklaus Wirth first proposed the structured programming model, he stated that any algorithm could be written with only three programming constructs: *sequence*, *selection*, and *loop*. Our pseudocode contains only these three basic constructs. The implementation of these constructs relies on the richness of the implementation language. For example, the loop can be implemented as a *while*, *do-while*, or *for* statement in the C language.

**Sequence**
A sequence is a series of statements that do not alter the execution path within an algorithm. Although it is obvious that statements such as **assign** and **add** are sequence statements, it is not so obvious that a call to other algorithms is also considered a sequence statement. The reason lies in the structured programming concept that each algorithm has only one entry and one exit. Furthermore, when an algorithm completes, it returns to the statement immediately after the call that invoked it. You can therefore properly consider the algorithm call a sequence statement. Algorithm C.2 shows a sequence.

**Algorithm C.2 Example of a sequence**
\`\`\`
x  first number
y  second number
z  x  y
call Argument X
\`\`\`

**Selection**
Selection statements evaluate one or more alternatives. If true, one path is taken; if false, a different path is taken. The typical selection statement is the two-way selection (if-else). Whereas most languages provide for multi-way selections, we provide none in pseudocode. The alternatives of the selection are identified by indentation, as shown in Algorithm C.3.

**Algorithm C.3 Example of a selection**
\`\`\`
If (x < y)
{
    Increment x
    Print x
}
Else
{
    Decrement y
    Print y
}
\`\`\`

**Loop**
A loop iterates a block of code. The loop in our pseudocode most closely resembles the *while* loop. It is a pretest loop: that is, the condition is evaluated before the body of the loop is executed. If the condition is true, the body is executed. If the condition is false, the loop terminates. Algorithm C.4 shows an example of a loop.

**Algorithm C.4 Example of a loop**
\`\`\`
Loop (more lines in the file File1)
{
    Read next line
    Delete the leading space
    Copy the line to File2
}
\`\`\`
`,zh:`
#  C (Pseudocode)

********** C.1 

** C.1 **
\`\`\`
Algorithm: FindingSmallest (list)
Purpose: 
Pre: 
Post: 
Return: 
{
    smallest  
    Loop ()
    {
        If ( < smallest)
        {
            smallest  
        }
    }
    Return smallest 
}
\`\`\`

## C.1 



### C.1.1 
 C.1  *Algorithm* Finding Smallest

### C.1.2 


** (Purpose)**
 Purpose 

** (Precondition)**


** (Postcondition)**


** (Return)**
 null

** (Statement)**
 **assign** ()**input** ()**output** ()**if-then-else** (--)  **loop** ()  C.1C.2C.3  C.4 curly bracket

### C.1.3 
 Niklaus Wirth ****** C  *while**do-while*  *for* 

** (Sequence)**
 **assign**  **add**  C.2 

** C.2 **
\`\`\`
x  
y  
z  x  y
call Argument X
\`\`\`

** (Selection)**
 (if-else) C.3 

** C.3 **
\`\`\`
If (x < y)
{
    Increment x
    Print x
}
Else
{
    Decrement y
    Print y
}
\`\`\`

** (Loop)**
 *while*  C.4 

** C.4 **
\`\`\`
Loop ( File1 )
{
    Read 
    Delete 
    Copy  File2
}
\`\`\`
`},EN={en:`
# Appendix D: Structure Chart

The structure chart is the primary tool in a procedure-oriented software design phase. As a design tool, it is created before we start writing our program.

## D.1 STRUCTURE CHART SYMBOLS
Figure D.1 shows the various symbols used in a structure chart.

### D.1.1 Module symbol
Each rectangle in a structure chart represents a module. The name in the rectangle is the name you give to the module (Figure D.2).

### D.1.2 Selection in structure charts
Figure D.3 shows two symbols for a module that is called by a selection statement: the condition and the exclusive OR.

In Figure D.3a, the module *A* contains a conditional call to a submodule, *fun*. If the condition is true, you call *fun*. If it is not true, we skip *fun*. This situation is represented in a structure chart as a diamond on the vertical line between the two module blocks.

Figure D.3b represents selection between two different modules. In this example the module *select* chooses between *A* and *B*. One and only one of them will be called each time the selection statement is executed. This is known as an **exclusive OR**: one of the two alternatives is executed to the exclusion of the other. The exclusive OR is represented by a plus sign between the modules.

Now consider the design of a series of modules that can be called exclusively. This occurs when a multi-way selection contains calls to several different modules. Figure D.4 contains an example of a selection statement that calls different modules based on color.

### D.1.3 Loops in structure charts
Lets look at how loops are shown in a structure chart. The symbols are very simple. Loops go in circles, so the symbol used is a circle. Programmers use two basic looping symbols. The first is a simple loop, shown in Figure D.5a. The other is the conditional loop, shown in Figure D.5b. When the module is called unconditionally, as in a *while* loop, the circle flows around the line above the called module. On the other hand, if the call is conditional, as in a module called in an *if-else* statement inside a loop, then the circle includes a decision diamond on the line.

Figure D.6 shows the basic structure for a module called *process*. The circle is *below* the module that controls the loop. In this example, the looping statement is contained in *process*, and it calls three modules, *A*, *B*, and *C*. The exact nature of the loop cannot be determined from the structure chart. It could be any of the three basic looping constructs.

## D.2 READING STRUCTURE CHARTS
Structure charts are read *top-down* and *left-to-right*. Referring to Figure D.2, this rule says that the program (*main*) consists of three submodules: *initialize*, *process*, and *endOfJob*. According to the left-to-right rule, the first call in the program is to *initialize*. After *initialize* is complete, the program calls *process*. When *process* is complete, the program calls *endOfJob*. In other words, the modules on the same level of a structure chart are called in order from left to right.

The concept of top-down is demonstrated by *process*. When *process* is called, it calls *A*, *B*, and *C* in turn. Module *B* does not start running, however, until *A* is finished. While *A* is running, it calls *A1* and *A2* in turn. In other words, all modules in a line from *process* to *A2* must be called before module *B* can start.

Often a program will contain several calls to a common module. These calls are usually scattered throughout the program. The structure chart will show the call wherever it logically occurs in the program. To identify common structures, the lower right corner of the rectangle will contain crosshatching or will be shaded. If the common module is complex and contains submodules, these submodules need to be shown only once. An indication that the incomplete references contain additional structure should be shown. This is usually done with a line below the module rectangle and a cut (~) symbol. This idea is shown in Figure D.7, which uses a common module, *average*, in two different places in the program. Note, however, that you never show a module connected to two calling modules graphically.

## D.3 RULES OF STRUCTURE CHARTS
We summarize the rules discussed in this section:
*   Each rectangle in a structure chart represents a module.
*   The name in the rectangle is the name that will be used in the coding of the module.
*   The structure chart contains only module flow. No code is indicated.
*   Common modules are indicated by crosshatching or shading in the lower right corner of the module rectangle.
*   Data flows and flags are optional. When used, they should be named.
*   Input flows and flags are shown to the left of the vertical line; output flows and flags are shown to the right.
`,zh:`
#  D (Structure Chart)



## D.1 
 D.1 

### D.1.1 
 D.2

### D.1.2 
 D.3  (exclusive OR)

 D.3a  *A*  *fun*  *fun* *fun*

 D.3b  *select*  *A*  *B* ****

 D.4 

### D.1.3 
 D.5a  D.5b  *while*  *if-else* 

 D.6  *process* ** *process*  *A**B*  *C*

## D.2 
**** D.2 (*main*) *initialize**process*  *endOfJob* *initialize* *initialize*  *process* *process*  *endOfJob*

 *process*  *process*  *A**B*  *C* *B*  *A*  *A*  *A1*  *A2* *process*  *A2*  *B* 

 (~)  D.7  *average*

## D.3 

*   
*   
*   
*   
*   
*   
`},IN={en:`
# Appendix E: Boolean Algebra and Logic Circuits

## E.1 BOOLEAN ALGEBRA
**Boolean algebra** deals with variables and constants that take only one of two values: 1 or 0. This algebra is a suitable way to represent information in a computer, which is made of a collection of signals that can be in only one of the two states: on or off.

### E.1.1 Constants, variables, and operators
We use constants, variables, and operators in Boolean algebra.

**Constants**
There are only two constants: 1 and 0. The value of 1 is associated with the logical value *true*: the value 0 is associated with the logical value *false*.

**Variables**
We use letters such as x, y, and z to represent variables. Boolean variables can take only the values 0 or 1.

**Operators**
We use three basic operators: NOT, AND, and OR. We use a prime to represent NOT, a dot to represent AND, and a plus sign to represent OR, as shown below:
x  NOT x        x . y  x AND y        x + y  x OR y
An operator takes one or two values and creates one output value. The first operator, NOT, is a unary operator that takes only one value: the other two, AND and OR, are binary operators that take two values. Note that the choice of operators is arbitrary. We can construct all gates from the NAND gate (explained later).

### E.1.2 Expressions
An expression is a combination of Boolean operators, constants, and variables. The following shows some Boolean expressions:
0    x    x . 1    x + 0
x + 1 + y    x . (y + z)    x + y + z    x . y . z . t

### E.1.3 Logic gates
A **logic gate** is an electronic device that normally takes 1 to N inputs and creates one output. In this appendix, however, we use gates with only one or two inputs for simplicity. The logical value of the output is determined by the expression representing the gate and the input values. A variety of logic gates are commonly used in digital computers. Figure E.1 shows the symbols for the eight most common gates, their truth tables (see Chapter 4), and the expressions that can be used to find the output when the input or inputs are given.

*   **Buffer**. The first gate is just a buffer, in which the input and the output are the same. If the input is 0, the output is 0: if the input is 1, the output is 1. The buffer only amplifies the input signal.
*   **NOT**. The NOT gate is the implementation of the NOT operator. The output of this gate is the complement of the input. If the input is 1, the output is 0: if the input is 0, the output is 1.
*   **AND**. The AND gate is the implementation of the AND operator. It takes two inputs and creates one output. The output is 1 if both inputs are 1s, otherwise it is 0. Sometimes the AND operator is referred to as *product*.
*   **OR**. The OR gate is the implementation of the OR operator. It takes two inputs and creates one output. The output is 1 if any of the inputs, or both of them, is 1, otherwise it is 0. Sometimes the OR gate is referred to as *sum*.
*   **NAND**. The NAND gate is a logical combination of an AND gate followed by a NOT gate. The reason for its existence can be explained when we discuss the actual implementation of these gates. The output of a NAND gate is the complement of the corresponding AND gate if the inputs to two gates are the same.
*   **NOR**. The NOR gate is a logical combination of an OR gate followed by a NOT gate. The reason for its existence can also be explained when we discuss the actual implementation of these gates. The output of a NOR gate is the complement of the corresponding OR gate if the inputs to two gates are the same.
*   **XOR**. The XOR (exclusive-OR) gate is defined by the expression $(x . y + x. y)$, which is normally represented as $(x \\oplus y)$. The output of this gate is 1 when the two inputs are different and is 0 when the inputs are the same. One can say that this is a more restricted OR gate. The output of an XOR gate is the same as the OR gate except that, if the two inputs are 1s, the output is 0.
*   **XNOR**. The XNOR (exclusive-NOR) gate is defined by the expression $(x . y + x. y)$ which is normally represented as $(x \\oplus y)$. It is the complement of the XOR gate. The output of this gate is 1 when the two inputs are the same and 0 when the inputs are different. One can say that this represents the logical idea of equivalence: only if the two inputs are equal is the output 1.

**Implementation of gates**
The logic gates discussed in the previous section can be physically implemented using electronic switches (transistors). The most common implementation uses only three gates: NOT, NAND, and NOR. A NAND gate uses fewer components than an AND gate. This is also true for the NOR gate *versus* the OR gate. As a result, NAND and NOR gates have become the common standard in the industry. We only discuss these three implementations. Although we show simple switches in this discussion, we need to know that, in practice, switches are replaced by transistors. A transistor, when used in gates, behaves like a switch. The switch can be opened or closed by applying the appropriate voltage to the input. Several different technologies are used to implement these transistors, but we leave this discussion to books on electronics.

**Implementation of the NOT gate**
The NOT gate can be implemented with an electronic switch, a voltage source, and a resistor as shown in Figure E.2.
The input to the gate is a control signal that holds the switch open or closed. An input signal of 0 holds the switch open, while an input signal of 1 closes the switch. The output is the voltage at the point before the switch (output terminal). If the value of this voltage is positive (V volts), the output is interpreted as 1: if the voltage is 0 (or below a threshold), the output is interpreted as 0. When the switch is open, there is no current through the resistor, and therefore no voltage drop. The output voltage is V (interpreted as logic 1). Closing the switch grounds the output terminal and makes its voltage 0 (or almost 0), which is interpreted as logic 0. Note that the behavior of the circuit matches the values shown in the table.
**To implement a NOT gate, we need only one electronic switch.**

**Implementation of the NAND gate**
The NAND gate can be implemented using two switches in series (two inputs). For the current to flow through the circuit from the positive terminal to the ground, both switches must be closedthat is, both inputs must be 1s. In this case, the voltage of the output terminal is zero because it is grounded (logic 0). If one of the switches or both switches are openthat is, where the inputs are 00, 01, or 10no current flows through the resistor. There is thus no voltage drop across the resistor and the voltage at the output terminal is V (logic 1).
Figure E.3 shows the implementation of the NAND gate. The behavior of the circuit matches the values shown in the table. Note that if an AND gate is needed, it can be made from a NAND gate followed by a NOT gate.
**To implement a NAND gate, we need two electronic switches that are connected in series.**

**Implementation of the NOR gate**
The NOR gate can also be implemented using two switches in parallel (two inputs). If both switches are open, then the current does not flow through the resistor. In this case, there is no voltage drop across the resistor, which means the output terminal holds the voltage V (logic 1). If either or both of the switches are closed, the output terminal is grounded and the output voltage is zero (logic 0).
Figure E.4 shows the implementation of the NOR gate. The behavior of the circuit matches the values in the table. Note that if an OR gate is needed, it can be simulated using a NOR gate followed by a NOT gate.
**To implement a NOR gate, we need two electronic switches that are connected in parallel.**

### E.1.4 Axioms, theorems, and Identities
To be able to work with Boolean algebra, we need to have some rules. The rules in Boolean algebra are divided into three broad categories: axioms, theorems, and identities.

**Axioms**
Boolean algebra, like any other algebra, uses some rules, called **axioms**: they cannot be proved. Table E.1 shows the axioms for Boolean algebra.

**Table E.1 Axioms for Boolean algebra**
| | Related to NOT | Related to AND | Related to OR |
| :--- | :--- | :--- | :--- |
| 1 | $x = 0 \\rightarrow x = 1$ | | |
| 2 | $x = 1 \\rightarrow x = 0$ | | |
| 3 | | $0 \\cdot 0 = 0$ | $0 + 0 = 0$ |
| 4 | | $1 \\cdot 1 = 1$ | $1 + 1 = 1$ |
| 5 | | $1 \\cdot 0 = 0 \\cdot 1 = 0$ | $1 + 0 = 0 + 1 = 1$ |

**Theorems**
Theorems are rules that we prove using the axioms, although we must leave the proofs to textbooks on Boolean algebra. Table E.2 shows some theorems used in Boolean algebra.

**Table E.2 Basic theorems for Boolean algebra**
| | Related to NOT | Related to AND | Related to OR |
| :--- | :--- | :--- | :--- |
| 1 | $(x) = x$ | | |
| 2 | | $0 \\cdot x = 0$ | $0 + x = x$ |
| 3 | | $1 \\cdot x = x$ | $1 + x = 1$ |
| 4 | | $x \\cdot x = x$ | $x + x = x$ |
| 5 | | $x \\cdot x = 0$ | $x + x = 1$ |

**Identities**
We can also drive many identities using the axioms and the theorems. We list only the most common in Table E.3, although we must leave the proofs to textbooks on Boolean algebra.

**Table E.3 Basic Identities related to OR and AND operators**
| | Description | Related to AND | Related to OR |
| :--- | :--- | :--- | :--- |
| 1 | Commutativity | $x \\cdot y = y \\cdot x$ | $x + y = y + x$ |
| 2 | Associativity | $x \\cdot (y \\cdot z) = (x \\cdot y) \\cdot z$ | $x + (y + z) = (x + y) + z$ |
| 3 | Distributivity | $x \\cdot (y + z) = (x \\cdot y) + (y \\cdot z)$ | $x + (y \\cdot z) = (x + y) \\cdot (x + z)$ |
| 4 | De Morgans Rules | $(x \\cdot y) = x + y$ | $(x + y) = x \\cdot y$ |
| 5 | Absorption | $x \\cdot (x + y) = x \\cdot y$ | $x + (x \\cdot y) = x + y$ |

De Morgans Rules play a very important role in logic design, as we will see shortly. They can be extended to more than one variable. For example, we can have the following two identities for three variables:
$(x + y + z) = x. y. z$        $(x. y. z) = x + y + z$

### E.1.5 Boolean functions
We define a **Boolean function** as a function with $n$ Boolean input variables and one Boolean output variable, as shown in Figure E.5.

A function can be represented either by a truth table or an expression. The truth table for a function has $2^n$ rows and $n + 1$ columns, in which the first $n$ columns define the possible values of the variables and the last column defines the value of the functions output for the combination of the values defined in the first $n$ columns.
Figure E.6 shows the truth tables and expression representation for two functions $F_1$ and $F_2$. Although the truth table representation is unique, a function can be represented by different expressions. We have shown two of the expressions for each function. Note that the second expressions are shorter and simpler. Later we show that we need to simplify the expressions to make the implementation more efficient.

**Table-to-expression transformation**
The specification of a function is normally given by a truth table (see Chapter 4). To implement the function using logic gates (as discussed earlier), we need to find an expression for the truth table. This can be done in two ways.

**Sum of products**
The first method of changing a truth table into an expression is referred to as the **sum of products** method. A sum of products representation of a function is made of up to $2^n$ terms in which each term is called a **minterm**. A minterm is a product (ANDing) of all variables in a function in which each variable appears only once. For example, in a three-variable function, we can have eight minterms, such as $x. y. z$ or $x. y. z$. Each term represents one row in the truth value. If the value of a variable is 0, the complement of the variable appears in the term: if the value of the variable is 1, the variable itself appears in the term. To transform a truth table to a sum of product representation, we use the following strategy:
1.  Find the minterms for each row for which the function has a value of 1.
2.  Use the sum (ORing) of the terms in step 1.

**Product of sums**
The second method of changing a truth table to an expression is referred to as the **product of sums** method. A product of sum representation of a function is made of up to $2^n$ terms in which each term is called a **maxterm**. A maxterm is a sum (ORing) of all variables in a function in which each variable appears only once. For example, in a three-variable function, we can have eight maxterms such as $x+ y+ z$ or $x + y+ z$. To transform a truth table to a product of sum representation, we use the following strategy:
1.  Find the minterms for each row for which the function has a 0 value.
2.  Find the complement of the sum of the terms in step 1.
3.  Use De Morgans rules to change minterms to maxterms.

**Example E.1**
Figure E.7 shows how we create the sum of products and product of sums for the functions F1 and F2 in Figure E.6.

The sum of products is directly made from the table, but the product of sums needs the use of De Morgans rules. Note that sometimes the first method gives the shorter expression and sometimes the second one.

### E.1.6 Function simplification
Although we can implement a Boolean function using the logic gates discussed before, it is normally not efficient. The direct implementation of a function requires more gates. The number of gates could be reduced if we can carry out simplification. Traditionally two methods of simplification are used: the algebraic method using Karnaugh maps, and the QuineMcKluskey method.

**Algebraic method**
We can simplify a function using the axioms, theorems, and identities discussed before. For example, we can simplify the first function ($F_1$) in Figure E.7, as shown below:
$F_1 = x \\cdot y + x \\cdot y + x \\cdot y$
$= (x + x) \\cdot y + x \\cdot y$        Identity 3 (distributivity) for AND
$= 1 \\cdot y + x \\cdot y$                Theorem 5 for OR
$= y + x \\cdot y$                        Theorem 3 for AND
$= y + y \\cdot x$                        Theorem 1 (commutativity) for AND
$= y + x$                            Identity 5 (absorption)
$= x + y$                            Theorem 1 (commutativity) for OR

This means that if the non-simplified version needs eight gates, the simplified version needs only two gates, one NOT and one OR.

**Karnaugh map method**
Another simplification method involves the use of a **Karnaugh map**. This method can normally be used for functions of up to four variables. A map is a matrix of $2^n$ cells in which each cell represents one of the values of the function. The first point that deserves attention is to fill up the map correctly. Contrary to expectations, the map is not always filled up row by row or column by column: it is filled up according to the value of variables as shown on the map. Figure E.8 shows an example where n = 2, 3, or 4.

In the truth table, we use the function values from the top to the bottom of the truth table. The map is filled up one by one, but the order of rows are 1, 2, 4, 3. In each row, the columns are filled up one by one, but the order of the columns are 1, 2, 4, 3. The fourth row comes before the third row: the fourth column comes before the third. This arrangement is needed to allow the maximum of simplification.

**Sum of products**
The simplification can be done to create sum of products terms. When we simplify a function in this way we use minterms with value of 1. To create an efficient expression, we first combine adjacent minterm cells. Note that adjacency can also include wrap-around of bits.

**Example E.2**
Figure E.9 shows the sum of products simplification for our first function. The 1s in the second row are the entire x domain. The 1s in the first column are the entire y domain. The resulting simplified function is $F_1 = (x) + (y)$. The figure also shows the implementation using one OR gate and one NOT gate.

**Example E.3**
Figure E.10 shows the sum of products simplification for our second function. The 1s in the second row are the intersection of x and z domains, which is represented as $(x . z)$. The 1s in the first row are the intersection of x and z domains, which is represented as $(x. z)$. The resulting simplified function is $F_2 = (x . z) + (x. z)$. The figure also shows the implementation using one OR gate, two AND gates, and two NOT gates.

**Product of sums**
The simplification can be done using the product of sums methods. When we simplify a function in this way, we need to use maxterms. To create an efficient expression, we first combine the adjacent minterm cells. However, the function obtained in this way is the complement of the function we are looking for: we need to use the De Morgans rules to find our function.

**Example E.4**
Figure E.11 shows a product of sums simplification for our first function. Note that in this case the implementation is exactly the same as Figure E.9, but this is not always the case. Also note that our function has only one term: we need no AND gate.

**Example E.5**
Figure E.12 shows the product-of-sums simplification for our second function. Note that the process gives us $(F_2)$, so we need to apply the De Morgans rules to find $F_2$. The figure also shows the implementation using two NOT gates, two OR gates, and one AND gate. This implementation is less efficient than the one we found with minterms. We should always use the one which is more efficient.

## E.2 LOGIC CIRCUITS
A computer is normally built out of standard components that we collectively refer to as **logic circuits**. Logic circuits are divided into two broad categories, known as *combinational circuits* and *sequential circuits*. We briefly discuss each category here and give some examples.

### E.2.1 Combinational circuits
A **combinational circuit** is a circuit made up of a combination of logic gates with $n$ inputs and $m$ outputs. Each output at any time entirely depends on all given inputs.
**In a combinational circuit, each output at any time depends entirely on all inputs.**
Figure E.13 shows the block diagram of a combinational circuit with $n$ inputs and $m$ outputs. Comparing Figure E.13 and Figure E.5, we can say that a combinational circuit with $m$ outputs can be thought of as $m$ functions, a function for each output.
The output of a combinational circuit is normally defined by a truth table. However, the truth table needs to have $m$ outputs.

**Half adder**
A simple example of a combinational circuit is a **half adder**, an adder that can only add two bits. A half adder is a combinational circuit with two inputs and two outputs. The two inputs define the two bits to be added. The first output is the sum of the two bits, while the second output is the carry bit that needs to be propagated to the next adder. Figure E.14 shows a half-adder with its truth table and the logic gates used to the make the circuit.
The sum of two bits can be achieved using an XOR gate: the carry can be achieved using and AND gate.

**Multiplexer**
A **multiplexer** is a combinational circuit with $n$ inputs and only one output. The $n$ inputs are made up of $D$ data inputs and $C$ control inputs ($n = D + C$). At any time, the multiplexer routes one of its $D$ data inputs to its single data output. The selection is based on the value of control bits. To select one of the $D$ data inputs, we need $C = \\log_2 D$ control bits. If $D = 2$, at any time only one of the data inputs is routed to the output. The control input is only one bit. If the control input is 0, the first data input is directed to the output: if the control input is 1, the second input is routed to the output.
Figure E.15 shows the truth table and the circuit for a 2 x 1 multiplexer. Note that the circuit actually has three inputs and one output: the control input is considered one of the inputs.
Note that the truth table here is very simplified: the output depends only on the control input but the value of the output, however, is one of the two data inputs.

### E.2.2 Sequential circuits
A combinational circuit is memoryless: it does not remember its previous output. At any moment the output depends on the current input. A **sequential circuit**, on the other hand, includes the concept of memory in the logic. The memory enables the circuit to remember its current state to be used in the future; the future state can be dependent on the current state.

**Flip-flops**
To add the idea of memory to the combinational circuit, a storage element called a **flip-flop** was invented that can hold one bit of information. A set of flip-flops can be used to hold a set of bits.

**SR flip-flops**
The simplest type of flip-flop is called an **SR flip-flop**, in which there are two inputs S (set) and R (reset) and two outputs Q and Q, which are always complements of each other. Figure E.16 shows the symbol, the circuit, and the characteristic table of an SR flip-flop. Note that the characteristic table is different from the truth tables we have used for combinational circuits. The characteristic table shows the next output, Q ($t + 1$) based on the current output, Q ($t$) and the input.
The characteristic table shows that if both S and R are zero, Q ($t + 1$) = Q ($t$). The next output will be the same as the current output. If S is 0 and R is 1, Q ($t + 1$) = 0, which means the output will be reset (R = 1). If S is 1 and R is 0, Q ($t + 1$) = 1, which means that the output will be set. However, if both S and R are 1s, the next output is unpredictable (undefined). Note that we have not shown the value of Q in the characteristic table, because it is always the complement of Q.
An SR flip-flop can be used as a setreset device. For example, if the output is connected to an electric sounder, the alarm can be set by letting R = 0 and S = 1. After setting, the alarm continues sounding until it is reset by setting R = 1 and S = 0. The only flaw in this design is that R and S should not simultaneously be 1s.
To understand the behavior of the SR flip-flop we need to create its truth table. However, note that we now have three inputs and one output (Q and Q are independent). Table E.4 shows the truth table for this flip-flop.

**Table E.4 Truth table for an SR flip-flop**
| S | R | Q (t) | Q (t + 1) |
| :--- | :--- | :--- | :--- |
| 0 | 0 | 0 | 0 |
| 0 | 0 | 1 | 1 |
| 0 | 1 | 0 | 0 |
| 0 | 1 | 1 | 0 |
| 1 | 0 | 0 | 1 |
| 1 | 0 | 1 | 1 |
| 1 | 1 | 0 | undefined |
| 1 | 1 | 1 | undefined |

**D flip-flop**
The SR flip-flop cannot be used as a 1-bit memory, as it needs two inputs instead of one. A small modification to the SR flip-flop can create a **D flop** (D stands for data). Figure E.17 shows the symbol and characteristics of a D flip-flop.
Note that the output of D flip-flop is the same as its input. However, the output remains as it is until the new input is given. This means that it memorizes its input states.

**JK flip-flop**
To remove the undefined state from the SR flip-flop, the **JK flip-flop** was invented (JK stands for Jack Kilby, who invented integrated circuits). Adding two AND gates to an SR flip-flop creates a JK flip-flop that has no undefined state. Figure E.18 shows the JK flip-flop and its characteristic table.

**T flip-flop**
Another common type of flip-flop is the **T flip-flop** (T stands for *toggle*). This flip-flop can be made by connecting the two inputs of an JK flip-flop together and calling it the T input. This input toggles the state of the flip-flop: if the input is 0, the next state is the same as the current state. If the input is 1, the next state is the complement of the current state. Figure E.19 shows the symbol, circuit, and characteristic table of the T flip-flop.

**Synchronous versus asynchronous**
The flip-flops we have discussed so far are all referred to as **asynchronous devices**: the transition from one state to another can happen only when there is a change in the input.
Digital computers, on the other hand, are **synchronous devices**. A central clock in the computer controls the timing of all logic circuits. The clock creates a signala series of pulses with an exact pulse widththat coordinates all events. A simple event takes place only at the tick of this clock signal.
Figure E.20 shows an abstract idea of a clock signal. We call it *abstract* because in reality no electronic circuit can generate a signal with perfectly sharp impulses, but the signal shown here is sufficient for our discussion.

A flip-flop can be synchronous if we add one more input to the circuit: the clock input. The clock input can be ANDed with every input to gate the input so that it is effective only when the clock pulse is present. Figure E.21 shows the symbols for the clocked versions of all four flip-flop types we discussed. Figure E.22 shows the circuit of an SR flip-flop with a clock signal. The other flip-flops have the same additional circuitry.

**Register**
As the first application of a synchronous (clocked) sequential circuit, we will introduce a simplified version of a **register**. A register is an $n$-bit storage device that stores its data between consecutive clock pulses. At the trigger of the clock, the old data is discarded and replaced by the new data.
Figure E.23 shows a 4-bit register in which each cell is composed of a D flip-flop. Note that the clock input is common for all cells. We have rotated our previous symbols to make the connections simpler.

**Digital counter**
An $n$-bit **digital counter** counts from 0 to $2^n - 1$. For example, when $n = 4$, the output of the counter is 0000, 0001, 0010, 0011, , 1111, so it counts from 0 to 15. An $n$-bit counter can be made out of $n$ T flip-flops. At the start, the counter represents 0000. The count enable linesee Figure E.24carries a sequence of 1s: the data (pulse) to be counted. Looking at the sequence of events, we can see that the rightmost bit is complemented with each positive transition of the count enable connection, simulating the arrival of a data item. When the rightmost bit changes from 1 to 0, the next leftmost bit is complemented. The process is repeated for all bits. This observation gives us a clue to the use of a T flip-flop. The characteristic table of this flip-flop shows that each input of value 1 complements the output. Note that this counter can count only up to 15 or $(1111)_2$. The arrival of the sixteenth data item resets the counter back to $(0000)_2$. Figure E.24 shows the circuit of a 4-bit counter.
`,zh:`
#  E

## E.1 
****1  0

### E.1.1 


****
1  0 1 * (true)*  0 * (false)* 

****
 x, y,  z  0  1

****
NOTAND  OR NOT AND OR
x  NOT x        x . y  x AND y        x + y  x OR y
 NOT  AND  OR  NAND 

### E.1.2 

0    x    x . 1    x + 0
x + 1 + y    x . (y + z)    x + y + z    x . y . z . t

### E.1.3 
**** 1  N  E.1  4 

*   ** (Buffer)** 0 0 1 1
*   **NOT**NOT  NOT  1 0 0 1
*   **AND**AND  AND  1 1 0 AND **
*   **OR**OR  OR  1 1 0 OR **
*   **NAND**NAND  AND  NOT NAND  AND 
*   **NOR**NOR  OR  NOT NOR  OR 
*   **XOR**XOR $(x . y + x. y)$  $(x \\oplus y)$ 1 0 OR XOR  OR  1 0
*   **XNOR**XNOR $(x . y + x. y)$  $(x \\oplus y)$ XOR  1 0 1

****
NOTNAND  NORNAND  AND NOR ** OR NAND  NOR 

**NOT **
NOT  E.2 
 0  1 V  1 0 0 V 1 0 0 0
** NOT **

**NAND **
NAND  1 0 0001  10 V 1
 E.3  NAND  AND  NAND  NOT 
** NAND **

**NOR **
NOR  V 1 0
 E.4  NOR  OR  NOR  NOT 
** NOR **

### E.1.4 


** (Axioms)**
**** E.1 

** E.1 **
| |  NOT  |  AND  |  OR  |
| :--- | :--- | :--- | :--- |
| 1 | $x = 0 \\rightarrow x = 1$ | | |
| 2 | $x = 1 \\rightarrow x = 0$ | | |
| 3 | | $0 \\cdot 0 = 0$ | $0 + 0 = 0$ |
| 4 | | $1 \\cdot 1 = 1$ | $1 + 1 = 1$ |
| 5 | | $1 \\cdot 0 = 0 \\cdot 1 = 0$ | $1 + 0 = 0 + 1 = 1$ |

** (Theorems)**
 E.2 

** E.2 **
| |  NOT  |  AND  |  OR  |
| :--- | :--- | :--- | :--- |
| 1 | $(x) = x$ | | |
| 2 | | $0 \\cdot x = 0$ | $0 + x = x$ |
| 3 | | $1 \\cdot x = x$ | $1 + x = 1$ |
| 4 | | $x \\cdot x = x$ | $x + x = x$ |
| 5 | | $x \\cdot x = 0$ | $x + x = 1$ |

** (Identities)**
 E.3 

** E.3  OR  AND **
| |  |  AND  |  OR  |
| :--- | :--- | :--- | :--- |
| 1 |  | $x \\cdot y = y \\cdot x$ | $x + y = y + x$ |
| 2 |  | $x \\cdot (y \\cdot z) = (x \\cdot y) \\cdot z$ | $x + (y + z) = (x + y) + z$ |
| 3 |  | $x \\cdot (y + z) = (x \\cdot y) + (y \\cdot z)$ | $x + (y \\cdot z) = (x + y) \\cdot (x + z)$ |
| 4 |  | $(x \\cdot y) = x + y$ | $(x + y) = x \\cdot y$ |
| 5 |  | $x \\cdot (x + y) = x \\cdot y$ | $x + (x \\cdot y) = x + y$ |


$(x + y + z) = x. y. z$        $(x. y. z) = x + y + z$

### E.1.5 
**** $n$  E.5 

 $2^n$  $n + 1$  $n$  $n$ 
 E.6  $F_1$  $F_2$ 

****
 4 

** (Sum of products)**
**** $2^n$ ** (minterm)**AND  $x. y. z$  $x. y. z$ 0 1
1.   1 
2.   1 OR 

** (Product of sums)**
**** $2^n$ ** (maxterm)**OR  $x+ y+ z$  $x + y+ z$
1.   0 
2.   1 
3.  

** E.1**
 E.7  E.6  F1  F2 



### E.1.6 
 Quine-McKluskey 

****
 E.7  ($F_1$)
$F_1 = x \\cdot y + x \\cdot y + x \\cdot y$
$= (x + x) \\cdot y + x \\cdot y$        AND  3
$= 1 \\cdot y + x \\cdot y$                OR  5
$= y + x \\cdot y$                        AND  3
$= y + y \\cdot x$                        AND  1
$= y + x$                             5
$= x + y$                            OR  1

 NOT  OR

****
** (Karnaugh map)** $2^n$  E.8  n = 2, 3,  4

 1, 2, 4, 3 1, 2, 4, 3

****
 1 

** E.2**
 E.9  1  x  1  y  $F_1 = (x) + (y)$ OR  NOT 

** E.3**
 E.10  1  x  z  $(x . z)$ 1  x  z  $(x. z)$ $F_2 = (x . z) + (x. z)$ OR  AND  NOT 

****


** E.4**
 E.11  E.9  AND 

** E.5**
 E.12  $(F_2)$ $F_2$ NOT  OR  AND 

## E.2 
********

### E.2.1 
**** $n$  $m$ 
****
 E.13  $n$  $m$  E.13  E.5 $m$  $m$ 
 $m$ 

** (Half adder)**
**** E.14 
 XOR  AND 

** (Multiplexer)**
**** $n$ $n$  $D$  $C$  ($n = D + C$) $D$  $D$  $C = \\log_2 D$  $D = 2$ 0 1
 E.15  2 x 1 


### E.2.2 
****

** (Flip-flops)**
****

**SR **
 **SR ** S (set)  R (reset)  Q  Q E.16  SR  Q ($t$)  Q ($t + 1$)
 S  R  Q ($t + 1$) = Q ($t$) S  0  R  1 Q ($t + 1$) = 0 (R = 1) S  1  R  0 Q ($t + 1$) = 1 S  R  1 Q  Q 
SR - R = 0  S = 1  R = 1  S = 0  R  S  1
 SR Q  Q  E.4 

** E.4 SR **
| S | R | Q (t) | Q (t + 1) |
| :--- | :--- | :--- | :--- |
| 0 | 0 | 0 | 0 |
| 0 | 0 | 1 | 1 |
| 0 | 1 | 0 | 0 |
| 0 | 1 | 1 | 0 |
| 1 | 0 | 0 | 1 |
| 1 | 0 | 1 | 1 |
| 1 | 1 | 0 | undefined |
| 1 | 1 | 1 | undefined |

**D **
SR  1  SR  **D **D  E.17  D 
D 

**JK **
 SR  **JK **JK  Jack Kilby SR  AND  JK  E.18  JK 

**T **
 **T **T  *toggle* JK  T  0 1 E.19  T 

****
****
****
 E.20 **

 AND  E.21  E.22  SR 

** (Register)**
**** $n$ 
 E.23  4  D 

** (Digital counter)**
$n$ **** 0  $2^n - 1$ $n = 4$  0000, 0001, 0010, 0011, , 1111 0  15$n$  $n$  T  0000 E.24 1 1  0  T  1  15  $(1111)_2$ $(0000)_2$ E.24  4 
`},NN={en:`
# Appendix F: Examples of Programs in C, C++, and Java

In this appendix we present some examples of programs written in three languages, C, C++, and Java, to give a general idea about the structure of these three common languages. Note that the line number at the left of each program is not part of the program; it is added to make references easier. Also note that the text in color are comments and ignored by the compiler when the program is compiled into machine language.

## F.1 PROGRAMS IN C LANGUAGE
In this section, we show three simple programs in C. The goal is not to teach the language; it is to give an idea what programs in C look like.

### Example F.1
Program F-1 is the simplest program written in the C language that prints the message Hello World!. It is an example that uses only the sequence construct, which means that the code is executed line by line without branching or repeating some sections.

**Program F-1 First program in C**
\`\`\`c
1 /*
2 This program shows how we can use only sequence construct
3 to achieve a simple goal.
4 */
5
6 #include <stdio.h>
7
8 int main ()
9 {
10   // Statement
11   printf ("Hello World\\n");
12   return 0;
13
14 } // End of main
\`\`\`
**Run:**
Hello World

### Example F.2
Program F-2 is an example of a simple program in C that uses both sequence and branching construct. If a condition is met, the program executes some lines; if not, other lines are executed. We run the program twice to show the two different cases.

**Program F-2 Second program in C**
\`\`\`c
1 /*
2 This program shows how to make a decision in a program written in C.
3 The program gets an integer and finds if it is divisible by 7.
4 */
5
6 #include <stdio.h>
7
8 int main ()
9 {
10   // Declaration
11   int num;
12   // Statement
13   printf ("Enter an integer: ");
14   scanf ("%d", &num);
15   // Selection
16   if (num % 7 == 0)
17   {
18     printf ("The number %d", num);
19     printf (" is divisible by 7.\\n");
20   }
21   else
22   {
23     printf ("The number %d", num);
24     printf (" is not divisible by 7.\\n");
25   }
26   return 0;
27 } // End of main
\`\`\`
**Run:**
Enter an integer: 24
The number 24 is not divisible by 7.
**Run:**
Enter an integer: 35
The number 35 is divisible by 7.

### Example F.3
Program F-3 shows the combination of sequence and repetition construct. We use a loop to repeatedly print a number, but the number is changing in each repetition. We run the program twice: the first time, the limit is 6; the second time the limit is 9.

**Program F-3 Third program in C**
\`\`\`c
1 /*
2 This program shows how to use repetition in C.
3 The program prints number from 1 to n, in which n is given by the user.
4 */
5
6 #include <stdio.h>
7
8 int main ()
9 {
10 // Declaration
11 int n;
12 int i;
13 // Statement
14 printf ("Enter the upper limit: ");
15 scanf ("%d", &n);
16 // Repetition
17 for (i = 1; i <= n; i++)
18 {
19   printf ("%d\\n", i);
20 }
21 return 0;
22 } // End of main
\`\`\`
**Run:**
Enter the upper limit: 6
1
2
3
4
5
6
**Run:**
Enter the upper limit: 9
1
2
3
4
5
6
7
8
9

## F.2 PROGRAMS IN C++ LANGUAGE
In this section, we show how to write the same three previous programs using the C++ language. The point is to show the similarity and differences between the languages. The C language is a procedural language in which there are no classes and objects. On the other hand, C++ is an object-oriented language in which we can have classes and objects.

### Example F.4
Program F-4 accomplishes the same purpose as Program F-1, but it is written in C++ instead of C. We can see the main difference in line 14. To print data in C++, we need to use an object. The term *cout* defines an object that is responsible to output data.

**Program F-4 First program in C++**
\`\`\`cpp
1 /*
2 This program demonstrates some of the components of a simple
3 program written in C++
4 */
5
6 #include <iostream>
7 #include <iomanip>
8
9 using namespace std;
10
11 int main ()
12 {
13 // Statement
14 cout << "Hello World!" << endl;
15 return 0;
16 } // End of main
\`\`\`
**Run:**
Hello World

### Example F.5
Program F-5 accomplishes the same purpose as Program F-2, but it is written in C++ instead of C. The main difference between this program and its C version is in lines 16, 17, 21, 22, 26, and 27 in which we need to use input object (*cin*) and output objects (*cout*) for input and output.

**Program F-5 Second program in C++**
\`\`\`cpp
1 /*
2 This program shows how to make a decision in a program written in C++.
3 The program gets an integer and prints it if it is less than 50.
4 */
5
6 #include <iostream>
7 #include <iomanip>
8
9 using namespace std;
10
11 int main ()
12 {
13 // Declaration
14 int num;
15 // Statement
16 cout << ("Enter an integer: ");
17 cin >> num;
18 // Decision
19 if (num % 7 == 0)
20 {
21   cout << "The number " << num;
22   cout << " is divisible by 7." << endl;
23 }
24 else
25 {
26   cout << "The number " << num;
27   cout << " is not divisible by 7." << endl;
28 }
29 return 0;
30 } // End of main
\`\`\`
**Run:**
Enter an integer: 22
The number 22 is not divisible by 7.
**Run:**
Enter an integer: 21
The number 21 is divisible by 7.

### Example F.6
Program F-6 accomplishes the same purpose as Program F-3, but it is written in C++ instead of C. The main difference between this program and its C version is in lines 17, 18, and 23 in which we need to use input object (*cin*) and output objects (*cout*) for input and output.

**Program F-6 Third program in C++**
\`\`\`cpp
1 /*
2 This program shows how to use repetition in C++.
3 The program prints number from 1 to n, in which n is given by the user.
4 */
5
6 #include <iostream>
7 #include <iomanip>
8
9 using namespace std;
10
11 int main ()
12 {
13 // Declaration
14 int n;
15
16 // Statement
17 cout << "Enter the upper limit: ";
18 cin >> n;
19
20 // loop
21 for (int i = 1; i <= n; i++)
22 {
23   cout << i << endl;
24 }
25
26 return 0;
27 } // End of main
\`\`\`
**Run:**
Enter the upper limit: 4
1
2
3
4
**Run:**
Enter the upper limit: 8
1
2
3
4
5
6
7
8

## F.3 PROGRAMS IN JAVA LANGUAGE
In this section, we show how to write the same three programs in Java language. The point is to show the similarity and differences between the languages. The first difference we encounter is in the *main* function in C++ and *main* method in Java. In C++, the main function is a stand-alone program; in Java the main method should be part of a class. We call these classes First, Second, and Third respectively in these programs.

### Example F.7
Program F-7 accomplishes the same purpose as Program F-4, but it is written in Java instead of C++. We need a class to host the *main* method. Another difference is in line 10 where we use a predefined object (System.out) for output.

**Program F-7 First program in Java**
\`\`\`java
1 /*
2 This program demonstrates some of the components of a simple
3 program written in Java
4 */
5
6 public class First
7 {
8 public static void main (String[] args)
9 {
10   System.out.println ("Hello World!");
11 } // End main
12 } // End class
\`\`\`

### Example F.8
Program F-8 accomplishes the same purpose as Program F-5, but it is written in Java instead of C++. We need a class to host the *main* method. Other differences are in lines 13, 14, 15, 20, 21, 26, and 27 where we use an object of class Scanner for input and a predefined object (System.out) for output.

**Program F-8 Second program in Java**
\`\`\`java
1 /*
2 This program shows how to make a decision in a program written in Java.
3 The program gets an integer and checks if it is divisible by 7.
4 */
5
6 import java.util.*;
7
8 public class Second
9 {
10 public static void main (String[] args)
11 {
12   // Declaration
13   Scanner input = new Scanner (System.in);
14   System.out.print ("Enter an integer: ");
15   int num = input.nextInt ();
16
17   // Decision
18   if (num % 7 == 0)
19   {
20     System.out.print ("The number " + num);
21     System.out.println (" is divisible by 7");
22
23   }
24   else
25   {
26     System.out.print ("The number " + num);
27     System.out.println (" is not divisible by 7.");
28
29   }
30 } // End main
31
32 } // End class
\`\`\`
**Run:**
Enter an integer: 25
The number 25 is not divisible by 7.
**Run:**
Enter an integer: 42
The number 42 is divisible by 7.

### Example F.9
Program F-9 accomplishes the same purpose as Program F-6, but it is written in Java instead of C++. We need a class to host the *main* method. Other differences are in lines 13, 14, 15, and 20 where we use an object of class Scanner for input and a predefined object (System.out) for output.

**Program F-9 Third program in Java**
\`\`\`java
1 /*
2 This program shows how to use a loop in Java.
3 The program prints number from 1 to n, in which n is given by the user.
4 */
5
6 import java.util.*;
7
8 public class Third
9 {
10  public static void main (String[] args)
11  {
12    // Statements to get the value of n
13    Scanner input = new Scanner (System.in);
14    System.out.print("Enter the upper limit: ");
15    int n = input.nextInt ();
16
17    // Loop
18    for (int i = 1 ; i <= n; i++)
19    {
20      System.out.println (i);
21    }
22  } // End main
23
24 } // End class
\`\`\`
**Run:**
Enter the upper limit: 3
1
2
3
**Run:**
Enter the upper limit: 7
1
2
3
4
5
6
7
`,zh:`
#  FCC++  Java 

 CC++  Java 

## F.1 C 
 C  C 

###  F.1
 F-1  C Hello World!

** F-1  C **
\`\`\`c
1 /*
2 
3 
4 */
5
6 #include <stdio.h>
7
8 int main ()
9 {
10   // 
11   printf ("Hello World\\n");
12   return 0;
13
14 } // main 
\`\`\`
****
Hello World

###  F.2
 F-2  C 

** F-2  C **
\`\`\`c
1 /*
2  C 
3  7 
4 */
5
6 #include <stdio.h>
7
8 int main ()
9 {
10   // 
11   int num;
12   // 
13   printf ("Enter an integer: ");
14   scanf ("%d", &num);
15   // 
16   if (num % 7 == 0)
17   {
18     printf ("The number %d", num);
19     printf (" is divisible by 7.\\n");
20   }
21   else
22   {
23     printf ("The number %d", num);
24     printf (" is not divisible by 7.\\n");
25   }
26   return 0;
27 } // main 
\`\`\`
****
Enter an integer: 24
The number 24 is not divisible by 7.
****
Enter an integer: 35
The number 35 is divisible by 7.

###  F.3
 F-3  6 9

** F-3  C **
\`\`\`c
1 /*
2  C 
3  1  n  n 
4 */
5
6 #include <stdio.h>
7
8 int main ()
9 {
10 // 
11 int n;
12 int i;
13 // 
14 printf ("Enter the upper limit: ");
15 scanf ("%d", &n);
16 // 
17 for (i = 1; i <= n; i++)
18 {
19   printf ("%d\\n", i);
20 }
21 return 0;
22 } // main 
\`\`\`
****
Enter the upper limit: 6
1
2
3
4
5
6
****
Enter the upper limit: 9
1
2
3
4
5
6
7
8
9

## F.2 C++ 
 C++ C C++ 

###  F.4
 F-4  F-1  C++  C  14  C++  *cout* 

** F-4  C++ **
\`\`\`cpp
1 /*
2  C++ 
3 
4 */
5
6 #include <iostream>
7 #include <iomanip>
8
9 using namespace std;
10
11 int main ()
12 {
13 // 
14 cout << "Hello World!" << endl;
15 return 0;
16 } // main 
\`\`\`
****
Hello World

###  F.5
 F-5  F-2  C++  C  C  1617212226  27  (*cin*)  (*cout*) 

** F-5  C++ **
\`\`\`cpp
1 /*
2  C++ 
3  50 
4 */
5
6 #include <iostream>
7 #include <iomanip>
8
9 using namespace std;
10
11 int main ()
12 {
13 // 
14 int num;
15 // 
16 cout << ("Enter an integer: ");
17 cin >> num;
18 // 
19 if (num % 7 == 0)
20 {
21   cout << "The number " << num;
22   cout << " is divisible by 7." << endl;
23 }
24 else
25 {
26   cout << "The number " << num;
27   cout << " is not divisible by 7." << endl;
28 }
29 return 0;
30 } // main 
\`\`\`
****
Enter an integer: 22
The number 22 is not divisible by 7.
****
Enter an integer: 21
The number 21 is divisible by 7.

###  F.6
 F-6  F-3  C++  C  C  1718  23  (*cin*)  (*cout*) 

** F-6  C++ **
\`\`\`cpp
1 /*
2  C++ 
3  1  n  n 
4 */
5
6 #include <iostream>
7 #include <iomanip>
8
9 using namespace std;
10
11 int main ()
12 {
13 // 
14 int n;
15
16 // 
17 cout << "Enter the upper limit: ";
18 cin >> n;
19
20 // 
21 for (int i = 1; i <= n; i++)
22 {
23   cout << i << endl;
24 }
25
26 return 0;
27 } // main 
\`\`\`
****
Enter the upper limit: 4
1
2
3
4
****
Enter the upper limit: 8
1
2
3
4
5
6
7
8

## F.3 JAVA 
 Java  C++  *main*  Java  *main*  C++ main  Java main  FirstSecond  Third

###  F.7
 F-7  F-4  Java  C++  *main*  10  (System.out) 

** F-7  Java **
\`\`\`java
1 /*
2  Java 
3 
4 */
5
6 public class First
7 {
8 public static void main (String[] args)
9 {
10   System.out.println ("Hello World!");
11 } // main 
12 } // class 
\`\`\`

###  F.8
 F-8  F-5  Java  C++  *main*  131415202126  27  Scanner  (System.out) 

** F-8  Java **
\`\`\`java
1 /*
2  Java 
3  7 
4 */
5
6 import java.util.*;
7
8 public class Second
9 {
10 public static void main (String[] args)
11 {
12   // 
13   Scanner input = new Scanner (System.in);
14   System.out.print ("Enter an integer: ");
15   int num = input.nextInt ();
16
17   // 
18   if (num % 7 == 0)
19   {
20     System.out.print ("The number " + num);
21     System.out.println (" is divisible by 7");
22
23   }
24   else
25   {
26     System.out.print ("The number " + num);
27     System.out.println (" is not divisible by 7.");
28
29   }
30 } // main 
31
32 } // class 
\`\`\`
****
Enter an integer: 25
The number 25 is not divisible by 7.
****
Enter an integer: 42
The number 42 is divisible by 7.

###  F.9
 F-9  F-6  Java  C++  *main*  131415  20  Scanner  (System.out) 

** F-9  Java **
\`\`\`java
1 /*
2  Java 
3  1  n  n 
4 */
5
6 import java.util.*;
7
8 public class Third
9 {
10  public static void main (String[] args)
11  {
12    //  n 
13    Scanner input = new Scanner (System.in);
14    System.out.print("Enter the upper limit: ");
15    int n = input.nextInt ();
16
17    // 
18    for (int i = 1 ; i <= n; i++)
19    {
20      System.out.println (i);
21    }
22  } // main 
23
24 } // class 
\`\`\`
****
Enter the upper limit: 3
1
2
3
****
Enter the upper limit: 7
1
2
3
4
5
6
7
`},MN={en:`
# Appendix G: Mathematical Review

In this appendix we review some mathematical concepts that may help with understanding the topics covered in the book. We first give a brief treatment of exponential and logarithmic functions. We then discuss modular arithmetic. Finally, we give the formulas for the discrete cosine transforms that are used in data compression.

## G.1 EXPONENT AND LOGARITHM
In solving some problems in this book, we often need to know how to handle exponential and logarithmic functions. This section briefly reviews these two concepts.

### G.1.1 Exponential functions
The exponential function with base a is defined as $a^x$. If x is an integer, this is interpreted as multiplying a by itself x times. Normally we can use a calculator to find the value of y.

**Example G.1**
Calculate the value of the following exponential functions.
a. $3^2$
b. $5.2^6$
**Solution**
Using the interpretation of exponentiation, we can find:
a. $3^2 = 3 \\times 3 = 9$
b. $5.2^6 = 5.2 \\times 5.2 \\times 5.2 \\times 5.2 \\times 5.2 \\times 5.2 = 19770.609664$

**Example G.2**
Calculate the value of the following exponential functions:
a. $3^{2.2}$
b. $5.2^{6.3}$
**Solution**
These problems can be done more easily using a calculatorwe can find:
a. $3^{2.2} \\approx 11.212$
b. $5.2^{6.3} \\approx 32424.60$

**Three common bases**
In the expression $a^b$, we call $a$ the base and $b$ the exponent. Three bases are very common: base 10, base $e$, and base 2.
*   Base 10 is the base of decimal system. Most calculators have a $10^x$ key.
*   The base used in science and mathematics is the natural base $e$, which has the value 2.71828183... Most calculators have an $e^x$ key. This base is used in science because some phenomena, such as radioactive decay, can be best described using this base.
*   The base which we normally need in computer science is base 2. Most calculators have no $2^x$ key, but we can always use the general $x^y$ key, in which $x = 2$.

**Example G.3**
Calculate the value of the following exponential functions:
a. $e^4$
b. $e^{6.3}$
c. $10^{3.3}$
d. $2^{6.3}$
e. $2^{10}$
**Solution**
a. $e^4 \\approx 54.60$
b. $e^{6.3} \\approx 544.57$
c. $10^{3.3} \\approx 1995.26$
d. $2^{6.3} \\approx 78.79$
e. $2^{10} = 1024$

**Example G.4**
In computer science the dominant base is 2. It is a good practice for us to know the powers of 2 for some common exponents. We often need to remember that:
$2^0 = 1$   $2^1 = 2$   $2^2 = 4$   $2^3 = 8$   $2^4 = 16$   $2^5 = 32$   $2^6 = 64$
$2^7 = 128$   $2^8 = 256$   $2^9 = 512$   $2^{10} = 1024$

**Properties of the exponential function**
Exponential functions have several properties, and some are useful to us:
1. $a^0 = 1$
2. $a^1 = a$
3. $a^{-x} = 1 / a^x$
4. $a^{x+y} = a^x \\times a^y$
5. $a^{x-y} = a^x / a^y$
6. $(a^x)^y = a^{x \\times y}$

**Example G.5**
Examples using these properties are:
a. $5^0 = 1$
b. $6^1 = 6$
c. $2^{-4} = 1/2^4 = 1/16 = 0.0625$
d. $2^{5+3} = 2^5 \\times 2^3 = 32 \\times 8 = 256$
e. $3^{2-3} = 3^2 / 3^3 = 9 / 27 = 1/3 \\approx 0.33$
f. $(10^4)^2 = 10^{4 \\times 2} = 10^8 = 100000000$

### G.1.2 Logarithmic function
A logarithmic function is the inverse of an exponential function, as shown below:
$y = a^x \\leftrightarrow x = \\log_a y$
Just as in the exponential function, $a$ is called the **base** of the logarithmic function. In other words, if $x$ is given, we can calculate $y$ by using the exponential function: if $y$ is given, we can calculate $x$ by using the logarithmic function.

**Exponential and logarithmic functions are the inverse of each other.**

Logarithms facilitate calculations in arithmetic because they convert multiplication to addition and exponentiation to multiplication.

**Example G.6**
Calculate the value of the following logarithmic functions:
a. $\\log_3 9$
b. $\\log_2 16$
c. $\\log 100$
d. $\\log_2 (-2)$
**Solution**
We have not yet shown how to calculate the log function in different bases, but we can solve this problem intuitively.
a. Because $3^2 = 9$, $\\log_3 9 = 2$, using the fact that the two functions are the inverse of each other.
b. Similarly, because $2^4 = 16$, then $\\log_2 16 = 4$.
c. Since there is no finite number $x$ such that $10^x = 0$, then $\\log_{10} 0$ is undefined or mathematically negative infinity.
d. A negative number in real number mathematics does not have a logarithm. However, in the domain of complex numbers we can have the logarithm of a negative number, but we leave this to books on complex number theory.

**Three common bases**
As in the case of exponentiation, there are three common bases in logarithms: base 10, base $e$, and base 2. Logarithms in base $e$ are normally shown as **ln** (natural logarithm), and logarithms in base 10 as **log** (omitting the base). Not all calculators have logarithms in base 2. We show how to handle this base shortly.

**Example G.7**
Calculate the value of the following logarithmic functions:
a. $\\log 233$
b. $\\ln 45$
**Solution**
For these two bases we can use a calculator:
a. $\\log 233 \\approx 2.367$
b. $\\ln 45 \\approx 3.81$

**Base transformation**
We often need to find the value of a logarithmic function in a base other than $e$ or 10. If the available calculator cannot give the result in our desired base, we can use a fundamental property of the logarithm, base transformation, as shown:
$\\log_a y = \\frac{\\log_b y}{\\log_b a}$
Note that the right-hand side shows two log functions with base $b$, which is different from the base $a$ at the left-hand side. This means that we can choose a base that is available in our calculator (base $b$) and find the log of a base that is not available (base $a$).

**Example G.8**
Calculate the value of the following logarithmic functions:
a. $\\log_3 810$
b. $\\log_5 600$
c. $\\log_2 1024$
d. $\\log_2 600$
**Solution**
These bases are normally not available on most calculators, but we can use base 10, which is available.
a. $\\log_3 810 = \\log 810 / \\log 3 = 2.908 / 0.477 \\approx 6.095$
b. $\\log_5 600 = \\log 600 / \\log 5 = 2.778 / 0.699 \\approx 3.975$
c. $\\log_2 1024 = \\log 1024 / \\log 2 = 3.01 / 0.301 = 10$
d. $\\log_2 600 = \\log 600 / \\log 2 \\approx 2.778 / 0.301 \\approx 9.223$

**Example G.9**
Base 2 is very common in computer science. Since we know that $\\log_{10} 2 \\approx 0.301$, it is very easy to calculate (approximately) the log of this base. We find the log of the corresponding number in base 10 and divide it by 0.310. Alternatively, we can multiply the corresponding log in base 10 by 3.332 ($\\approx 1 / 0.301$).
a. $\\log_2 600 \\approx 3.322 \\times \\log_{10} 600 \\approx 3.322 \\times 2.778 \\approx 9.228$
b. $\\log_2 2048 \\approx 3.322 \\times \\log_{10} 2048 \\approx 3.322 \\times 2.778 = 11$

**Properties of logarithmic functions**
Logarithmic functions have six useful properties, each related to the corresponding property of the exponential function (mentioned earlier).
1. $\\log_a 1 = 0$
2. $\\log_a a = 1$
3. $\\log_a (1/x) = -\\log_a x$
4. $\\log_a (x \\times y) = \\log_a x + \\log_a y$
5. $\\log_a (x/y) = \\log_a x - \\log_a y$
6. $\\log_a x^y = y \\times \\log_a x$

**Example G.10**
Calculate the value of the following logarithmic functions.
a. $\\log_3 1$
b. $\\log_3 3$
c. $\\log (1/10)$
d. $\\log_a (x \\times y)$ if we know that $\\log_a x = 2$ and $\\log_a y = 3$
e. $\\log_a (x/y)$ if we know that $\\log_a x = 2$ and $\\log_a y = 3$
f. $\\log_2 (1024)$ without using a calculator
**Solution**
We use the property of log functions to solve the problems:
a. $\\log_3 1 = 0$
b. $\\log_3 3 = 1$
c. $\\log (1/10) = \\log 10^{-1} = -1 \\log 10 = -1$
d. $\\log_a (x \\times y) = \\log_a x + \\log_a y = 2 + 3 = 5$
e. $\\log_a (x / y) = \\log_a x - \\log_a y = 2 - 3 = -1$
f. $\\log_2 (1024) = \\log_2 (2^{10}) = 10 \\times \\log_2 2 = 10 \\times 1 = 10$

## G.2 MODULAR ARITHMETIC
In integer arithmetic, if we divide $a$ by $n$, we can get $q$ and $r$. The relationship between these four integers can be shown as $a = q \\times n + r$. In this relation, $a$ is called the dividend, $q$ the quotient, $n$ the divisor, and $r$ the residue. Since an operation is normally defined with one single output, this is not an operation. We can call it the **division relation**.

**Example G.11**
Assume that $a = 214$ and $n = 13$. We can find $q = 16$ and $r = 6$ using the division algorithm we have learned in arithmetic, as shown in Figure G.1.
Most computer languages can find the quotient and the residue using language-specific operators. For example, in the C language, the division operator (/) can find the quotient and the modulo operator (%) can find the residue.

### G.2.1 The modulo operator
In modular arithmetic we are interested in only one of the outputs, the remainder, $r$. We dont care about the quotient, $q$. In other words, we want to know what is the value of $r$ when we divide $a$ by $n$. This implies that we can change the above relation into a binary operator with two inputs $a$ and $n$ and one output $r$. The binary operator is then called the **modulo operator** and is shown as **mod**. The second input ($n$) is called the **modulus** and the output $r$ is called the **residue**. Figure G.2 shows the division relation compared with the modulo operator.

The modulo operator (**mod**) takes an integer ($a$) a modulus ($n$). The operator creates a residue ($r$). Although $a$ and $r$ can be any integer, $n$ cannot be 0 because it implies division by zero, which yields an undefined value or infinity. However, in practice we need the value of $n$ to be non-negative. For this reason, the values of $a$ and $r$ should be between 0 and $n - 1$.

**Example G.12**
A very good example of the use of modular arithmetic is our clock system. The clock is based on modulo 12 arithmetic. However, the integer 12 in our clock should actually be 0 to make it conformant with the modulo arithmetic.

**Example G.13**
Find the result of the following operations:
a. 28 mod 6
b. 32 mod 12
c. 19 mod 15
d. 7 mod 11
**Solution**
We are looking for the residue $r$. We can divide $a$ by $n$ and find $q$ and $r$. We can then disregard $q$ and keep $r$.
a. Dividing 28 by 6 results in $r = 4$. This means that 28 mod 6 = 4.
b. Dividing 32 by 12 results in $r = 8$. This means that 32 mod 12 = 8.
c. Dividing 19 by 15 results in $r = 4$. This means that 19 mod 15 = 4.
d. Dividing 7 by 11 results in $r = 7$. This means that 7 mod 11 = 7.

### G.2.2 Arithmetic operations
The three binary operations (addition, subtraction, and multiplication) that we discussed for integers can also be defined for modulo arithmetic. We may need to normalize the result (apply the mod operation and use the residue) if the result is greater than $n - 1$, as shown in Figure G.3.

Actually, two sets of binary operators are used here. The first set is one of the binary operators (+, -, $\\times$) and the second is the **mod** operator. We need to use parentheses to emphasize the order of operations. If at any time during calculation we find a negative value for $r$, the value should be normalized. We need to add the modulus to the result as many times as is necessary to make it positive.

**Example G.14**
Perform the following operations:
a. Add 7 to 14 using modulo 15.
b. Subtract 11 from 7 using modulo 13.
c. Multiply 11 by 7 using modulo 20.
**Solution**
The following shows the two steps involved in each case:
$(14 + 7) \\text{ mod } 15 \\rightarrow (21) \\text{ mod } 15 = 6$
$(7 - 11) \\text{ mod } 13 \\rightarrow (-4) \\text{ mod } 13 = -4 + 13 = 9$
$(7 \\times 11) \\text{ mod } 20 \\rightarrow (77) \\text{ mod } 20 = 17$

**Example G.15**
Perform the following operations:
a. Add 17 to 27 using modulo 14.
b. Subtract 43 from 12 using modulo 13
c. Multiply 123 by -10 using modulo 19.
**Solution**
Note that the integers in these examples are sometimes out of the range of 0 to $n - 1$. We can normalize them either before applying the operation or after applying the operation. We show the second choice, you try the first choice. The result should be the same.
$(17 + 27) \\text{ mod } 14 \\rightarrow (44) \\text{ mod } 14 = 2$
$(12 - 43) \\text{ mod } 15 \\rightarrow (-31) \\text{ mod } 15 = -1 + 15 = 14$
$(123 \\times -10) \\text{ mod } 20 \\rightarrow (-1230) \\text{ mod } 19 = -14 + 19 = 5$

**Modulo-2 arithmetic**
Modulo-2 arithmetic is of particular interest. As the modulus is 2, we can use only the values 0 and 1. Operations in this arithmetic are very simple. The following shows how we can add or subtract 2 bits:
Adding: $(0 + 0) \\text{ mod } 2 = 0$  $(0 + 1) \\text{ mod } 2 = 1$
$(1 + 0) \\text{ mod } 2 = 1$  $(1 + 1) \\text{ mod } 2 = 0$
Subtracting: $(0 - 0) \\text{ mod } 2 = 0$  $(0 - 1) \\text{ mod } 2 = 1$
$(1 - 0) \\text{ mod } 2 = 1$  $(1 - 1) \\text{ mod } 2 = 0$
Notice particularly that addition and subtraction give the same results. In this arithmetic we use the XOR (exclusive OR) operation for both addition and subtraction. The result of an XOR operation is 0 if two bits are the same and 1 if two bits are different. Figure G.4 shows this operation.

## G.3 DISCRETE COSINE TRANSFORM
In this section we give the mathematical background for the discrete cosine and inverse discrete cosine transforms that are used for data compression, as discussed in Chapter 15.

### G.3.1 The discrete cosine transform
The discrete cosine transform (DCT) changes each block of 64 pixels so that the relative relationship between pixels is preserved but redundancies are revealed. The formula follows. $P(x, y)$ defines one particular value in the picture block, while $T(m, n)$ defines one value in the transformed block.

$T(m, n) = 0.25 c(m) c(n) \\sum_{x=0}^7 \\sum_{y=0}^7 P(x, y) \\cos \\left[ \\frac{(2x + 1)m\\pi}{16} \\right] \\cos \\left[ \\frac{(2y + 1)n\\pi}{16} \\right]$

where $c(i) = 1/\\sqrt{2}$ if $i = 0$, and $c(i) = 1$ otherwise.

### G.3.2 The inverse discrete cosine transform
The inverse transform is used to create the $P(x, y)$ table from the $T(m, n)$ table.

$P(x, y) = 0.25 \\sum_{m=0}^7 \\sum_{n=0}^7 c(m) c(n) T(m, n) \\cos \\left[ \\frac{(2m + 1)x\\pi}{16} \\right] \\cos \\left[ \\frac{(2n + 1)y\\pi}{16} \\right]$

where $c(i) = 1/\\sqrt{2}$ if $i = 0$, and $c(i) = 1$ otherwise.

**Example G.16**
Evaluate $T(0, 0)$ and $T(0, 1)$ if $P(x, y) = 20$ for all $x$ and $y$.
**Solution**
Using sum-to-product identity $\\cos x + \\cos y = 2[\\cos(x + y)/2] [\\cos(x - y)/2]$, we can show that the sum of all cosine terms is 0.
`,zh:`
#  G



## G.1 


### G.1.1 
 $a$  $a^x$ $x$  $a$  $x$  $y$ 

** G.1**

a. $3^2$
b. $5.2^6$
****

a. $3^2 = 3 \\times 3 = 9$
b. $5.2^6 = 5.2 \\times 5.2 \\times 5.2 \\times 5.2 \\times 5.2 \\times 5.2 = 19770.609664$

** G.2**

a. $3^{2.2}$
b. $5.2^{6.3}$
****

a. $3^{2.2} \\approx 11.212$
b. $5.2^{6.3} \\approx 32424.60$

****
 $a^b$  $a$ $b$  10 $e$  2
*    10  $10^x$ 
*    $e$ 2.71828183... $e^x$ 
*    2 $2^x$  $x^y$  $x = 2$

** G.3**

a. $e^4$
b. $e^{6.3}$
c. $10^{3.3}$
d. $2^{6.3}$
e. $2^{10}$
****
a. $e^4 \\approx 54.60$
b. $e^{6.3} \\approx 544.57$
c. $10^{3.3} \\approx 1995.26$
d. $2^{6.3} \\approx 78.79$
e. $2^{10} = 1024$

** G.4**
 2 2 
$2^0 = 1$   $2^1 = 2$   $2^2 = 4$   $2^3 = 8$   $2^4 = 16$   $2^5 = 32$   $2^6 = 64$
$2^7 = 128$   $2^8 = 256$   $2^9 = 512$   $2^{10} = 1024$

****

1. $a^0 = 1$
2. $a^1 = a$
3. $a^{-x} = 1 / a^x$
4. $a^{x+y} = a^x \\times a^y$
5. $a^{x-y} = a^x / a^y$
6. $(a^x)^y = a^{x \\times y}$

** G.5**

a. $5^0 = 1$
b. $6^1 = 6$
c. $2^{-4} = 1/2^4 = 1/16 = 0.0625$
d. $2^{5+3} = 2^5 \\times 2^3 = 32 \\times 8 = 256$
e. $3^{2-3} = 3^2 / 3^3 = 9 / 27 = 1/3 \\approx 0.33$
f. $(10^4)^2 = 10^{4 \\times 2} = 10^8 = 100000000$

### G.1.2 

$y = a^x \\leftrightarrow x = \\log_a y$
$a$ **** $x$ $y$ $y$ $x$

****



** G.6**

a. $\\log_3 9$
b. $\\log_2 16$
c. $\\log 100$
d. $\\log_2 (-2)$
****

a.  $3^2 = 9$ $\\log_3 9 = 2$
b.  $2^4 = 16$ $\\log_2 16 = 4$
c.  $x$  $10^x = 0$ $\\log_{10} 0$ 
d. 

****
 10 $e$  2 $e$  **ln** 10  **log** 2 

** G.7**

a. $\\log 233$
b. $\\ln 45$
****

a. $\\log 233 \\approx 2.367$
b. $\\ln 45 \\approx 3.81$

****
 $e$  10 
$\\log_a y = \\frac{\\log_b y}{\\log_b a}$
 $b$  $a$  $b$ $a$

** G.8**

a. $\\log_3 810$
b. $\\log_5 600$
c. $\\log_2 1024$
d. $\\log_2 600$
****
 10
a. $\\log_3 810 = \\log 810 / \\log 3 = 2.908 / 0.477 \\approx 6.095$
b. $\\log_5 600 = \\log 600 / \\log 5 = 2.778 / 0.699 \\approx 3.975$
c. $\\log_2 1024 = \\log 1024 / \\log 2 = 3.01 / 0.301 = 10$
d. $\\log_2 600 = \\log 600 / \\log 2 \\approx 2.778 / 0.301 \\approx 9.223$

** G.9**
 2  $\\log_{10} 2 \\approx 0.301$ 10  0.310 10  3.332 ($\\approx 1 / 0.301$)
a. $\\log_2 600 \\approx 3.322 \\times \\log_{10} 600 \\approx 3.322 \\times 2.778 \\approx 9.228$
b. $\\log_2 2048 \\approx 3.322 \\times \\log_{10} 2048 \\approx 3.322 \\times 2.778 = 11$

****

1. $\\log_a 1 = 0$
2. $\\log_a a = 1$
3. $\\log_a (1/x) = -\\log_a x$
4. $\\log_a (x \\times y) = \\log_a x + \\log_a y$
5. $\\log_a (x/y) = \\log_a x - \\log_a y$
6. $\\log_a x^y = y \\times \\log_a x$

** G.10**

a. $\\log_3 1$
b. $\\log_3 3$
c. $\\log (1/10)$
d. $\\log_a (x \\times y)$  $\\log_a x = 2$  $\\log_a y = 3$
e. $\\log_a (x/y)$  $\\log_a x = 2$  $\\log_a y = 3$
f. $\\log_2 (1024)$ 
****

a. $\\log_3 1 = 0$
b. $\\log_3 3 = 1$
c. $\\log (1/10) = \\log 10^{-1} = -1 \\log 10 = -1$
d. $\\log_a (x \\times y) = \\log_a x + \\log_a y = 2 + 3 = 5$
e. $\\log_a (x / y) = \\log_a x - \\log_a y = 2 - 3 = -1$
f. $\\log_2 (1024) = \\log_2 (2^{10}) = 10 \\times \\log_2 2 = 10 \\times 1 = 10$

## G.2 
 $a$  $n$ $q$  $r$ $a = q \\times n + r$$a$ $q$ $n$ $r$ ****

** G.11**
 $a = 214$  $n = 13$ $q = 16$  $r = 6$ G.1 
 C  (/)  (%) 

### G.2.1 
 $r$ $q$ $a$  $n$ $r$  $a$  $n$  $r$ **** **mod** ($n$) **** $r$ **** G.2 

 (**mod**)  ($a$)  ($n$) ($r$) $a$  $r$  $n$  0 $n$ $a$  $r$  0  $n - 1$ 

** G.12**
 12  12  0

** G.13**

a. 28 mod 6
b. 32 mod 12
c. 19 mod 15
d. 7 mod 11
****
 $r$ $a$  $n$  $q$  $r$ $q$  $r$
a. 28  6  $r = 4$ 28 mod 6 = 4
b. 32  12  $r = 8$ 32 mod 12 = 8
c. 19  15  $r = 4$ 19 mod 15 = 4
d. 7  11  $r = 7$ 7 mod 11 = 7

### G.2.2 
 $n - 1$ mod  G.3 

 (+, -, $\\times$) **mod**  $r$ 

** G.14**

a.  15  7  14
b.  13  7  11
c.  20  11  7
****

$(14 + 7) \\text{ mod } 15 \\rightarrow (21) \\text{ mod } 15 = 6$
$(7 - 11) \\text{ mod } 13 \\rightarrow (-4) \\text{ mod } 13 = -4 + 13 = 9$
$(7 \\times 11) \\text{ mod } 20 \\rightarrow (77) \\text{ mod } 20 = 17$

** G.15**

a.  14  17  27
b.  13  12  43
c.  19  123  -10
****
 0  $n - 1$ 
$(17 + 27) \\text{ mod } 14 \\rightarrow (44) \\text{ mod } 14 = 2$
$(12 - 43) \\text{ mod } 15 \\rightarrow (-31) \\text{ mod } 15 = -1 + 15 = 14$
$(123 \\times -10) \\text{ mod } 20 \\rightarrow (-1230) \\text{ mod } 19 = -14 + 19 = 5$

**-2 **
-2  2 0  1 2 
$(0 + 0) \\text{ mod } 2 = 0$  $(0 + 1) \\text{ mod } 2 = 1$
$(1 + 0) \\text{ mod } 2 = 1$  $(1 + 1) \\text{ mod } 2 = 0$
$(0 - 0) \\text{ mod } 2 = 0$  $(0 - 1) \\text{ mod } 2 = 1$
$(1 - 0) \\text{ mod } 2 = 1$  $(1 - 1) \\text{ mod } 2 = 0$
 XORXOR  0 1 G.4 

## G.3 
 15 

### G.3.1 
 (DCT)  64 $P(x, y)$  $T(m, n)$ 

$T(m, n) = 0.25 c(m) c(n) \\sum_{x=0}^7 \\sum_{y=0}^7 P(x, y) \\cos \\left[ \\frac{(2x + 1)m\\pi}{16} \\right] \\cos \\left[ \\frac{(2y + 1)n\\pi}{16} \\right]$

 $i = 0$ $c(i) = 1/\\sqrt{2}$ $c(i) = 1$

### G.3.2 
 $T(m, n)$  $P(x, y)$ 

$P(x, y) = 0.25 \\sum_{m=0}^7 \\sum_{n=0}^7 c(m) c(n) T(m, n) \\cos \\left[ \\frac{(2m + 1)x\\pi}{16} \\right] \\cos \\left[ \\frac{(2n + 1)y\\pi}{16} \\right]$

 $i = 0$ $c(i) = 1/\\sqrt{2}$ $c(i) = 1$

** G.16**
 $P(x, y) = 20$  $x$  $y$ $T(0, 0)$  $T(0, 1)$
****
 $\\cos x + \\cos y = 2[\\cos(x + y)/2] [\\cos(x - y)/2]$ 0
`},zN={en:`
# Appendix H: Error Detection and Correction

When data is transferred from one place to another, or moved from one device to another, the accuracy of the data must be checked. For most applications, a system must guarantee that the data received is identical to the data transmitted. Some applications, on the other hand, can tolerate a small level of error. For example, random errors in audio or video transmissions may be tolerable, but when we transfer text, we expect a very high level of accuracy. We only discuss error in transition: errors due to data corruption in storage are treated in the same way.

## H.1 INTRODUCTION
We first discuss some issues related to error detection and correction.

### H.1.1 Types of errors
Whenever bits flow from one place to another they are subject to unpredictable changes because of interference in the transmission medium, such as crosstalk, external electromagnetic fields, and so on. This is illustrated by Figure H.1.

In a **single-bit error**, a 0 is changed to a 1 or a 1 to a 0. In a **burst error** multiple bits are changed. The term **single-bit error** means that only 1 bit of a given data unit, such as a byte, character, or packet, is changed from 1 to 0 or from 0 to 1. The term **burst error** means that two or more bits in the data unit have changed from 1 to 0 or from 0 to 1.

### H.1.2 Redundancy
The central concept in correcting errors is **redundancy**. To be able to correct errors, we need to send extra bits with our data. These redundant bits are added by the sender and removed by the receiver. Their presence allows the receiver to correct corrupted bits.

**To correct errors, we need to send extra (redundant) bits with data.**

### H.1.3 Detection versus correction
The correction of errors is more difficult than the detection. In **error detection**, we are looking only to see if an error has occurred. The answer is a simple yes or no. We are not even interested in the number of errors: a single-bit error is the same for us as a burst error.

In **error correction**, we need to know the exact number of bits that are corruptedand more importantly, their location in the message. The number of errors and the size of the message are important factors. If we need to correct a single error in an 8-bit data unit, we need to consider eight possible error locations: if we need to correct two errors in a data unit of the same size, we need to consider 28 (7 + 6 + ... + 1) possibilities. You can imagine the receivers difficulty in finding ten errors in a data unit of 1000 bits.

### H.1.4 Forward error correction versus retransmission
There are two main methods of error correction. **Forward error correction** is the process in which the receiver tries to guess the message by using redundant bits. This is possible, as we will see later, if the number of errors is small. Correction by **retransmission** is a technique in which the receiver detects the occurrence of an error and asks the sender to resend the message. Re-sending is repeated until a message arrives that the receiver believes is error-free: usually, not all errors can be detected.

### H.1.5 Coding
Redundancy is achieved through various coding schemes. The sender adds redundant bits through a process that creates a relationship between the redundant bits and the actual data bits. The receiver checks the relationships between the two sets of bits to detect or correct the errors. The ratio of redundant bits to data bits and the robustness of the process are important factors in any coding scheme. Figure H.2 shows the general idea of coding.

We can divide coding schemes into two broad categories: **block coding** and **convolution coding**. In this appendix, we concentrate on block coding: convolution coding is more complex and beyond the scope of this book.
Block coding uses modular arithmetic, as discussed in Appendix G.

**We only concentrate on block codes: we leave convolution codes to advanced texts.**

## H.2 BLOCK CODING
In **block coding** we divide a message into blocks, each of $k$ bits, called **datawords**. We add $r$ redundant bits to each block to make the length $n = k + r$. The resulting $n$-bit blocks are called **codewords**. How the extra $r$ bits are chosen or calculated is something we discuss later. For the moment, it is important to know that we have a set of datawords, each of size $k$, and a set of codewords, each of size of $n$.

With $k$ bits, we can create a combination of $2^k$ datawords: with $n$ bits, we can create a combination of $2^n$ codewords. Since $n > k$, the number of possible codewords is larger than the number of possible datawords. The block coding process is one-to-one: the same dataword is always encoded as the same codeword. This means that we have $2^n - 2^k$ codewords that are not used. We call these codewords **invalid** or **illegal**. Figure H.3 shows the situation.

**Example H.1**
Let us assume our message is made up of a single block of 8 bits ($k = 8$). There are $2^8 = 256$ possible combination of datawords. If we add two redundant bits ($r = 1$), then each possible codeword is 10 bits ($n = 10$) and the total number of possible codewords is $2^{10} = 1024$. This means that we have $1024 - 256 = 768$ codewords are invalid. If one of these invalid codewords is received, the receiver knows that the codeword is corrupted.

### H.2.1 Error detection
How can errors be detected by using block coding? If the following two conditions are met, the receiver detects a change in the original codeword.
1.  The receiver has (or can find) a list of valid codewords.
2.  The original codeword has changed to an invalid one.
Figure H.4 shows the role of block coding in error detection.

The sender creates codewords out of datawords by using a generator that applies the rules and procedures of encoding (discussed later). Each codeword sent to the receiver may change during transmission. If the received codeword is the same as one of the valid codewords, the word is accepted and the corresponding dataword is extracted for use. If the received codeword is not valid, it is discarded.
However, if the codeword is corrupted during transmission, but the received word still matches a valid codeword, the error remains undetected. This type of coding can therefore detect only single errors: two or more errors in the same codeword may remain undetected.

**Example H.2**
Let us assume that $k = 2$ and $n = 3$. Table H.1 shows the list of datawords and defined codewords, which is agreed between the sender and the receiver. Later we will see how to derive a codeword from a dataword.

**Table H.1 A code for error detection (Example H.2)**
| Datawords | Codewords |
| :--- | :--- |
| 00 | 000 |
| 01 | 011 |
| 10 | 101 |
| 11 | 110 |

Assume that the sender encodes the dataword 01 as 011 and sends it to the receiver. Consider the following cases:
1.  The receiver receives 011. It is a valid codeword. The receiver extracts the dataword 01 from it.
2.  The codeword is corrupted during transmission, and 111 is receivedthat is, the leftmost bit is corrupted. This is not a valid codeword, so it is discarded.
3.  The codeword is corrupted during transmission, and 000 is receivedthat is, the right two bits are corrupted. This is a valid codeword. The receiver incorrectly extracts the dataword 00. Two corrupted bits have made the error undetectable.

**An error-detecting code can detect only the types of errors for which it is designed: other types of errors may remain undetected.**

### H.2.2 Error correction
Error correction is much more difficult than error detection. In error detection, the receiver needs to know only that the received codeword is invalid: in error correction, the receiver needs to find (or guess) the original codeword sent. We need more redundant bits for error correction than for error detection. Figure H.5 shows the role of block coding in error correction. We can see that the idea is the same as error detection, but the generator and checker functions are much more complex.

**Example H.3**
Let us add more redundant bits to Example H.2 to see if the receiver can correct an error without knowing what was actually sent. We add three redundant bits to the 2-bit dataword to make 5-bit codewords. Again, later we will show how we choose the redundant bits. For the moment let us concentrate on the error correction concept. Table H.2 shows the datawords and codewords.

**Table H.2 A code for error correction (Example H.3)**
| Dataword | Codeword | Dataword | Codeword |
| :--- | :--- | :--- | :--- |
| 00 | 00000 | 10 | 10101 |
| 01 | 01011 | 11 | 11110 |

Assume the dataword is 01. The sender consults the table (or uses an algorithm) to create the codeword 01011. The codeword is corrupted during transmission, and 01001 is receivedan error in the second bit from the right. First, the receiver finds that the received codeword is not in the table. This means an error has occurred. (Detection must come before correction.) The receiver, assuming that only 1 bit is corrupted, uses the following strategy to guess the correct dataword.
1.  Comparing the received codeword with the first codeword in the table (01001 *versus* 00000), the receiver decides that the first codeword is not the one that was sent because there are two different bits.
2.  By the same reasoning, the original codeword cannot be the third or fourth one in the table.
3.  The original codeword must be the second one in the table, because this is the only one that differs from the received codeword by 1 bit. The receiver replaces 01001 with 01011 and consults the table to find the dataword 01.

## H.3 LINEAR BLOCK CODES
Almost all block codes used today belong to a subset called **linear block codes**. The use of nonlinear block codes for error detection and correction is not as widespread, because their structure makes theoretical analysis and implementation difficult. We therefore concentrate on linear block codes.
The formal definition of linear block codes requires a knowledge of abstract algebra (particularly Galois fields) which is beyond the scope of this book. We therefore give an informal definition. For our purposes, a linear block code is a code in which the exclusive OR (modulo-2 addition, discussed in Appendix G) of two valid codewords creates another valid codeword.

**In a linear block code, the exclusive OR (XOR) of any two valid codewords creates another valid codeword.**

**Example H.4**
Let us see if the two codes we defined in Table H.1 and Table H.2 belong to the class of linear block codes.
1.  The scheme in Table H.1 is a linear block code because the result of XORing any codeword with any other codeword is a valid codeword. For example, XORing of the second and third codewords creates the fourth one.
2.  The scheme in Table H.2 is also a linear block code. We can create all four codewords by XORing two other codewords.

### H.3.1 Some linear block codes
Let us now show some linear block codes. These codes are trivial because we can easily find the encoding and decoding algorithms and check their performances.

**Simple parity-check code**
Perhaps the most familiar error-detecting code is the **simple parity-check code**. In this code, a $k$-bit dataword is changed to an $n$-bit codeword, where $n = k + 1$. The extra bit, called the **parity bit**, is added to a pre-defined position. It is selected to make the total number of 1s in the codeword even. Although some implementations specify an odd number of 1s, we discuss the even number case.

**A simple parity-check code is a single-bit error-detecting code in which n = k + 1.**

Our first code (Table H.3) is a parity-check code with $k = 2$ and $n = 3$. The code in Table H.3 is also a parity-check code with $k = 4$ and $n = 5$.

**Table H.3 Simple parity-check code C(5, 4)**
| Datawords | Codewords | Datawords | Codewords |
| :--- | :--- | :--- | :--- |
| 0000 | 00000 | 1000 | 10001 |
| 0001 | 00011 | 1001 | 10010 |
| 0010 | 00101 | 1010 | 10100 |
| 0011 | 00110 | 1011 | 10111 |
| 0100 | 01001 | 1100 | 11000 |
| 0101 | 01010 | 1101 | 11011 |
| 0110 | 01100 | 1110 | 11101 |
| 0111 | 01111 | 1111 | 11110 |

Figure H.6 shows a possible structure of an encoder (at the sender) and a decoder (at the receiver).
The encoder uses a generator that takes a copy of a 4-bit dataword ($a_0, a_1, a_2$, and $a_3$) and generates a parity bit $r_0$. The dataword bits and the parity bit create the 5-bit codeword. The parity bit that is added makes the number of 1s in the codeword even. This is normally done by adding the 4 bits of the dataword (modulo-2): the result is the parity bit. In other words:
$r_0 = a_3 + a_2 + a_1 + a_0$       (modulo-2)

If the number of 1s is even, the result is 0: if the number of 1s is odd, the result is 1. In both cases, the total number of 1s in the codeword is even.
The sender sends the codeword, which may be corrupted during transmission. The receiver receives a 5-bit word. The checker at the receiver does the same thing as the generator in the sender with one exception: the addition is done over all five bits. The result, which is called the **syndrome**, is just 1 bit. The syndrome is 0 when the number of 1s in the received codeword is even; otherwise, it is 1.
$s_0 = b_3 + b_2 + b_1 + b_0 + q_0$       (modulo-2)

A syndrome is the output of a checking process that is fed into the decision logic of a receiver in order to decide what to do with the data portion of the code word. The decision may be to accept it, to reject it, or (for correcting code) to modify it before accepting it. In this case, the syndrome is passed to the **decision logic analyzer**. If there is no error in the codeword, the syndrome is 0 and the decision logic accepts the data portion of the codeword as the actual dataword. If the syndrome is 1, there must be an error in the codeword, and so the decision logic discards the data portion of the codeword: the dataword is not created.

**Example H.5**
Let us look at some transmission scenarios. Assume that the sender sends the dataword 1011. The parity bit is $(1 + 0 + 1 + 1) \\text{ mod } 2 = 1$, which is appended to the right of the dataword. The codeword created from this dataword is therefore 10111, which is sent to the receiver. We examine five cases:
1.  No error occurs: the received codeword is 10111. The syndrome is 0. The dataword 1011 is created.
2.  A single-bit error changes $a_1$. The received codeword is 10011. The syndrome is 1. No dataword is created.
3.  A single-bit error changes the parity bit $r_0$. The received codeword is 10110. The syndrome is 1. No dataword is created. Note that although none of the dataword bits are corrupted, no dataword is created because the code is not sophisticated enough to show the position of the corrupted bit.
4.  An error changes $r_0$ and a second error changes $a_3$. The received codeword is 00110. The syndrome is 0. The dataword 0011 is created at the receiver. Note that here the dataword is wrongly created due to the syndrome value: the simple parity-check decoder cannot detect an even number of errors. The errors cancel each other out and give the syndrome a value of 0.
5.  Three bits$a_3$, $a_2$, and $a_1$are changed by errors. The received codeword is 01011. The syndrome is 1. The dataword is not created. This shows that the simple parity check, guaranteed to detect a single error, can also find any odd number of errors.

**A simple parity-check code can detect an odd number of errors.**

**Hamming codes**
Hamming codes are a subset of linear block codes that follow two criteria:
$n = k + r$ and $n = 2^r - 1$
in which $k$ is the number of bits in dataword, $r$ is the number of redundant bits, and $n$ is the number of bits in the codeword. These codes can detect up to $r - 1$ bits of error and can correct up to $(r - 1) / 2$ bits of error.

**Example H.6**
A code with $k = 4, r = 3$, and $n = 7$ satisfies the two conditions of a Hamming code, because we have $7 = 4 + 3$ and $7 = 2^3 - 1$. This code can detect only $(3 - 1) = 2$ bits of error and correct only $(3 - 1)/2 = 1$ bit of error.
The theory of Hamming codes in general is beyond the scope of this book. For more information, see *Data Communication and Networking*, by Behrouz Forouzan, McGraw-Hill, New York, 2006. In the next section, we discuss a subset of Hamming code called cyclic codes.

## H.4 CYCLIC CODES
Cyclic codes are special linear block codes with one extra property. In a **cyclic code**, if a codeword is cyclically shifted (rotated), the result is another codeword. For example, if 1011000 is a codeword and we cyclically left-shift it, then 0110001 is also a codeword.

### H.4.1 Cyclic redundancy check
We can create cyclic codes to correct errors. However, the theoretical background required is beyond the scope of this appendix. In this section, we simply discuss a category of cyclic codes called the **cyclic redundancy checks (CRC)** that are used in networks such as LANs and WANs.
Table H.4 shows an example of a CRC code. We can see both the linear and cyclic properties of this code.

**Table H.4 A CRC code with k = 4, n = 7, and r = 3**
| Dataword | Codeword | Dataword | Codeword |
| :--- | :--- | :--- | :--- |
| 0000 | 0000000 | 1000 | 1000101 |
| 0001 | 0001011 | 1001 | 1001110 |
| 0010 | 0010110 | 1010 | 1010011 |
| 0011 | 0011101 | 1011 | 1011000 |
| 0100 | 0100111 | 1100 | 1100010 |
| 0101 | 0101100 | 1101 | 1101001 |
| 0110 | 0110001 | 1110 | 1110100 |
| 0111 | 0111010 | 1111 | 1111111 |

Figure H.7 shows one possible design for the encoder and decoder.
In the encoder in Figure H.7, the dataword has $k$ bits (4 here) and the codeword has $n$ bits (here 7). The size of the dataword is augmented by adding $n - k$ (here 3) 0s to the right-hand side of the word. The $n$-bit result is fed into the generator. The generator uses a predefined divisor of size $n - k + 1$ (here 4). The generator divides the augmented dataword by the divisor using modulo-2 division. The quotient of the division is discarded: the remainder ($r_2 r_1 r_0$) is appended to the dataword to create the codeword.
The decoder receives the codeword, which could be corrupted. A copy of all $n$ bits is fed to the checker, which is a replica of the generator. The remainder produced by the checker is a syndrome of $n - k$ (here 3) bits, which is fed to the decision logic analyzer. The analyzer has a simple function: if the syndrome bits are all 0s, the 4 leftmost bits of the codeword are accepted as the dataword (interpreted as no error), otherwise, the 4 bits are discarded (error).

**Encoder**
Let us take a closer look at the encoder. The encoder takes the dataword and augments it with $n - k$ number of 0s. It then divides the augmented dataword by the divisor, as shown in Figure H.8.
Note that this is not the regular binary divisionobviously the result of dividing 72 by 11 is not the quotient of 10 and the remainder of 6. This is binary division in modulo 2 arithmetic, as we discussed in Appendix G. In this division, adding and subtracting is the same (it is the XOR operation discussed in Appendix E), which means that we do not subtract, but add. A better explanation of this division is that we treat the binary word as a polynomial with a coefficient in modulo 2 arithmeticonly 0 or 1. For more information, we refer the interested reader to *finite field theory (Galois fields)* and books on error detection and correction.
In each step, a copy of the divisor is XORed with the 4 bits of the dividend. The result of the XOR operation (remainder) is 3 bits (in this case), which is used for the next step after 1 extra bit is carried downsee Figure H.8to make it 4 bits long. There is one important point we need to remember in this type of division. If the leftmost bit of the dividend (or the part used in each step) is 0, the corresponding bit in the quotient is 0.
When there are no bits left to pull down, we have a result. The 3-bit remainder forms the check bits ($r_2, r_1, \\text{and } r_0$). They are appended to the dataword to create the codeword. Note also that we are not interested in the quotient, as only the remainder is used in cyclic codes.

**Decoder**
The codeword can change during transmission. The decoder does the same division process as the encoder. The remainder of the division is the syndrome. If the syndrome is all 0s, there is no error: the dataword is separated from the received codeword and accepted. Otherwise, everything is discarded. Figure H.9 shows two cases. The left-hand figure shows the value of syndrome when no error has occurred: the syndrome is 000. The right-hand part of the figure shows the case in which there is a single error: the syndrome is not all 0s (it is 011).

**Divisor**
You may be wondering how the divisor 1011 is chosen. This needs abstract algebra and theory of finite field to explain, which we leave this to books specialized in this area.

### H.4.2 Performance of cyclic codes
We have seen that cyclic codes have a very good performance in detecting single-bit errors, double errors, an odd number of errors, and burst errors. They can easily be implemented in hardware and software. They are especially fast when implemented in hardware. This has made cyclic codes a good candidate for many networks.

## H.5 CHECKSUM
The last error detection method we discuss here is called the **checksum**. The checksum is used in the Internet by several protocols. Like linear and cyclic codes, the checksum is based on the concept of **redundancy**.

### H.5.1 Checksum concept
The concept of the checksum is not difficult. Let us illustrate it with a few examples.

**Example H.7**
Suppose our data is a list of five 4-bit numbers that we want to send to some destination. In addition to sending these numbers, we send the sum of the numbers. For example, if the set of numbers is (7, 11, 12, 0, 6), we send (7, 11, 12, 0, 6, 36), where 36 is the sum of the original numbers. The receiver adds the five numbers and compares the result with the sum. If the two are the same, the receiver assumes no error, accepts the five numbers, and discards the sum. Otherwise, there is an error somewhere and the data is not accepted.

**Example H.8**
We can make the job of the receiver easier if we send the negative (complement) of the sum, called the *checksum*. In this case, we send (7, 11, 12, 0, 6, -36). The receiver can add all the numbers received (including the checksum). If the result is 0, it assumes no error, otherwise there is an error.

### H.5.2 Ones complement
The previous example has one major drawback. Our data can be written as 4-bit words (they are all less than 15) except for the checksum. One solution is to use **ones complement** arithmetic, as discussed in Chapter 3.

**Example H.9**
Let us redo Example H.8 using ones complement arithmetic. Figure H.10 shows the process at the sender and at the receiver.
The sender initializes the checksum to 0 and adds all data items and the checksum (the checksum is considered as one data item and is shown in color). The result is 36. However, 36 cannot be expressed in 4 bits. The extra two bits are wrapped and added with the sum to create the wrapped sum value 6. In the figure, we have shown the details in binary. The sum is then complemented, resulting in the checksum value 9 ($15 - 6 = 9$). The sender now sends six data items to the receiver, including the checksum 9. The receiver follows the same procedure as the sender. It adds all data items (including the checksum): the result is 45. The sum is wrapped and becomes 15. The wrapped sum is complemented and becomes 0. Since the value of the checksum is 0, this means that the data is not corrupted. The receiver drops the checksum and keeps the other data items. If the checksum is not zero, the entire packet is dropped and must be retransmitted.

### H.5.3 Internet checksum
Traditionally, the Internet (IP protocol) has used a 16-bit checksum. The sender and receiver use the following procedures:

**Sender side**
*   A 16-bit checksum is set to zero and added to the message.
*   The new message is divided into 16-bit words.
*   All words are added using ones complement addition.
*   The sum is complemented and replaces the previous checksum.

**Receiver side**
*   The received message (including the checksum) is divided into 16-bit words.
*   All words are added using ones complement addition.
*   The sum is complemented.
*   If the complemented sum is 0, the message is accepted, otherwise it is rejected.

**Example H.10**
Let us calculate the checksum for a text word of eight characters (Forouzan) as shown in Figure H.11.
The text needs to be divided into 2-byte (16-bit) words. We use ASCII encoding (see Appendix A) to change each byte to a two-digit hexadecimal number. For example, F is represented as $(46)_{16}$ and o is represented as $(6F)_{16}$. In Figure H.11.a, the value of the partial sum for the first column is $(36)_{16}$. We keep the rightmost digit (6) and insert the leftmost digit (3) as the carry in the second column. The process is repeated for each column. The checksum is calculated and transmitted with the data to the receiver. The receiver performs the same operations, Figure H.11.b. If there is any corruption, the checksum recalculated by the receiver is not all 0s.

**Performance**
The traditional checksum uses a small number of bits (16) to detect errors in a message of any size (sometimes thousands of bits). However, it is not as strong as the CRC in its error-checking capability. For example, if the value of one word is incremented and the value of another word is decremented by the same amount, the two errors cannot be detected because the sum and checksum remain the same. Also if the values of several words are incremented but the total change is a multiple of 65535 ($2^{16}-1$), the sum and the checksum remain the same and the error goes undetected.
`,zh:`
#  H



## H.1 


### H.1.1 
 H.1 

****0  1  1  0******** 1  1  0  0  1**** 1  0  0  1

### H.1.2 
****

****

### H.1.3 
****

**** 8  28 (7 + 6 + ... + 1)  1000 

### H.1.4 
********

### H.1.5 
 H.2 

********
 G 

****

## H.2 
**** $k$ **** $r$  $n = k + r$ $n$ **** $r$  $k$  $n$ 

 $k$  $2^k$  $n$  $2^n$  $n > k$ $2^n - 2^k$ ******** H.3 

** H.1**
 8  ($k = 8$) $2^8 = 256$  ($r = 1$) 10  ($n = 10$) $2^{10} = 1024$ $1024 - 256 = 768$ 

### H.2.1 

1.  
2.  
 H.4 




** H.2**
 $k = 2$  $n = 3$ H.1 

** H.1  H.2**
|  |  |
| :--- | :--- |
| 00 | 000 |
| 01 | 011 |
| 10 | 101 |
| 11 | 110 |

 01  011 
1.   011 01
2.   111
3.   000 00

****

### H.2.2 
 H.5 

** H.3**
 H.2  2  5  H.2 

** H.2  H.3**
|  |  |  |  |
| :--- | :--- | :--- | :--- |
| 00 | 00000 | 10 | 10101 |
| 01 | 01011 | 11 | 11110 |

 01 01011 01001 1 
1.  01001 ** 00000
2.  
3.   1  01001  01011  01

## H.3 
****
-2  G 

** (XOR) **

** H.4**
 H.1  H.2 
1.   H.1  XOR  XOR 
2.   H.2  XOR 

### H.3.1 


****
**** $k$  $n$  $n = k + 1$**** 1  1

** n = k + 1**

 H.3 $k = 2$  $n = 3$  H.3  $k = 4$  $n = 5$ 

** H.3  C(5, 4)**
|  |  |  |  |
| :--- | :--- | :--- | :--- |
| 0000 | 00000 | 1000 | 10001 |
| 0001 | 00011 | 1001 | 10010 |
| 0010 | 00101 | 1010 | 10100 |
| 0011 | 00110 | 1011 | 10111 |
| 0100 | 01001 | 1100 | 11000 |
| 0101 | 01010 | 1101 | 11011 |
| 0110 | 01100 | 1110 | 11101 |
| 0111 | 01111 | 1111 | 11110 |

 H.6 
 4 $a_0, a_1, a_2$  $a_3$ $r_0$ 5  1  4 -2
$r_0 = a_3 + a_2 + a_1 + a_0$       (-2)

 1  0 1  1 1 
 5 ** (syndrome)** 1  1  0 1
$s_0 = b_3 + b_2 + b_1 + b_0 + q_0$       (-2)

**** 0 1

** H.5**
 1011 $(1 + 0 + 1 + 1) \\text{ mod } 2 = 1$ 10111
1.   10111 0 1011
2.   $a_1$ 10011 1
3.   $r_0$ 10110 1
4.   $r_0$ $a_3$ 00110 0 0011 0
5.  $a_3$$a_2$  $a_1$ 01011 1

****

****

$n = k + r$  $n = 2^r - 1$
 $k$ $r$ $n$  $r - 1$  $(r - 1) / 2$ 

** H.6**
$k = 4, r = 3$,  $n = 7$  $7 = 4 + 3$  $7 = 2^3 - 1$ $(3 - 1) = 2$  $(3 - 1)/2 = 1$ 
 Behrouz Forouzan  *Data Communication and Networking*McGraw-HillNew York2006

## H.4 
**** 1011000  0110001 

### H.4.1 
** (CRC)**  LAN  WAN 
 H.4  CRC 

** H.4  k = 4, n = 7,  r = 3  CRC **
|  |  |  |  |
| :--- | :--- | :--- | :--- |
| 0000 | 0000000 | 1000 | 1000101 |
| 0001 | 0001011 | 1001 | 1001110 |
| 0010 | 0010110 | 1010 | 1010011 |
| 0011 | 0011101 | 1011 | 1011000 |
| 0100 | 0100111 | 1100 | 1100010 |
| 0101 | 0101100 | 1101 | 1101001 |
| 0110 | 0110001 | 1110 | 1110100 |
| 0111 | 0111010 | 1111 | 1111111 |

 H.7 
 H.7  $k$  4 $n$  7 $n - k$ 3 0 $n$  $n - k + 1$ 4-2 $r_2 r_1 r_0$
 $n$  $n - k$ 3 0 4  4 

****
 $n - k$  0  H.8 
 72  11  10  6 2  G  E  XOR  2  0  1* ()* 
 4  XOR XOR  3  1  H.8 4  0 0
3 $r_2, r_1, \\text{ } r_0$

****
 0 H.9  000 0 011

****
 1011 

### H.4.2 


## H.5 
********

### H.5.1 


** H.7**
 4  (7, 11, 12, 0, 6) (7, 11, 12, 0, 6, 36) 36 

** H.8**
** (7, 11, 12, 0, 6, -36) 0

### H.5.2 
 4  15**** 3 

** H.9**
 H.8 H.10 
 0 3636  4  6 9 ($15 - 6 = 9$) 9 45 15 0 0

### H.5.3 
 (IP )  16 

****
*   16 
*    16 
*   
*   

****
*    16 
*   
*   
*    0

** H.10**
 ('Forouzan')  H.11 
 2  (16 )  ASCII  A'F'  $(46)_{16}$'o'  $(6F)_{16}$ H.11.a  $(36)_{16}$ (6)  (3)  H.11.b 0

****
 (16)  CRC  65535 ($2^{16}-1$) 
`},$N={en:`
# Appendix I: Addition and Subtraction for Sign-and-Magnitude Integers

In Chapter 4 we showed how to operate on data. Addition and subtraction for sign-and-magnitude integers are a little more involved and are discussed in this appendix.

## I.1 OPERATIONS ON INTEGERS
Addition and subtraction for integers in sign-and-magnitude representation look very complex. We have four different combination of signs (two signs, each of two values) for addition, and four different conditions for subtraction. This means that we need to consider eight different situations. However, if we examine the signs in more detail, we can reduce the number of cases, as shown in Figure I-1.

Let us first explain the diagram:
1.  We check the operation. If the operation is subtraction, we change the sign of the second integer (B). This means we now only have to worry about the addition of two signed integers.
2.  We apply the XOR operation to the two signs. If the result (stored in temporary location S) is 0, it means that the signs are the same (either both signs are positive or both are negative).
3.  If the signs are the same, $R = \\pm (A_M + B_M)$. We need to add the magnitude and the sign of the result is the common sign. So, we have:
    $R_M = (A_M) + (B_M)$ and $R_S = A_S$
    where the subscript M means magnitude and subscript S means sign. In this case, however, we should be careful about the overflow. When we add the two magnitudes, an overflow may occur that must be reported and the process aborted.
4.  If the signs are different, $R = \\pm (A_M - B_M)$. So we need to subtract $B_M$ from $A_M$ and then make a decision about the sign. Instead of subtracting bit by bit, we take the twos complement of the second magnitude ($B_M$) and add them. The sign of the result is the sign of the integer with larger magnitude.
    a. It can be shown that if $A_M \\ge B_M$, there is an overflow and the result is a positive number. Therefore, if there is an overflow, we discard the overflow and let the sign of the result be the sign of A.
    b. It can be shown that if $A_M < B_M$, there is no overflow, but the result is a negative number. So if there is no overflow, we make the twos complement of the result and let the sign of the result be the sign of B.

**Example I.1**
Two integers A and B are stored in sign-and-magnitude format (we have separated the sign from the magnitude for clarity). Show how B is added to A.
A = $(0 \\ 0010001)_2$ B = $(0 \\ 0010110)_2$

**Solution**
The operation is adding: the sign of B is not changed. Since $S = A_S \\text{ XOR } B_S = 0, R_M = A_M + B_M$ and $R_S = A_S$. There is no overflow.

| | Sign | Magnitude |
|---|---|---|
| $A_S$ | 0 | 0 0 1 0 0 0 1 $A_M$ |
| $B_S$ | 0 | + 0 0 1 0 1 1 0 $B_M$ |
| $R_S$ | 0 | 0 0 1 0 0 1 1 1 $R_M$ |

Checking the result in decimal, (+17) + (+22) = (+39).

**Example I.2**
Two integers A and B are stored in sign-and-magnitude format. Show how B is added to A.
A = $(0 \\ 0010001)_2$ B = $(1 \\ 0010110)_2$

**Solution**
The operation is adding: the sign of B is not changed. Since $S = A_S \\text{ XOR } B_S = 1; R_M = A_M + (\\bar{B}_M + 1)$. Since there is no overflow, we need to take the twos complement of $R_M$. The sign of R is the sign of B.

| | Sign | Magnitude |
|---|---|---|
| $A_S$ | 0 | 0 0 1 0 0 0 1 $A_M$ |
| $B_S$ | 1 | + 1 1 0 1 0 1 0 $(\\bar{B}_M + 1)$ |
| | | 1 1 1 1 1 0 1 1 $R_M$ |
| $R_S$ | 1 | 0 0 0 0 0 1 0 1 $R_M = (\\bar{R}_M + 1)$ |

Checking the result in decimal, (+17) + (-22) = (-5).

**Example I.3**
Two integers A and B are stored in sign-and-magnitude format. Show how B is subtracted from A.
A = $(1 \\ 1010001)_2$ B = $(1 \\ 0010110)_2$

**Solution**
The operation is subtracting: $S_B = S_B \\text{ XOR } 1$. $S = A_S \\text{ XOR } B_S = 1, R_M = A_M + (\\bar{B}_M + 1)$. Since there is an overflow, the value of $R_M$ is final. The sign of R is the sign of A.

| | Sign | Magnitude |
|---|---|---|
| $A_S$ | 1 | 1 0 1 0 0 0 1 $A_M$ |
| $B_S$ | 1 | + 1 1 0 1 0 1 0 $(\\bar{B}_M + 1)$ |
| $R_S$ | 1 | 1 0 1 1 1 0 1 1 $R_M$ |

Checking the result in decimal, (-81) - (-22) = (-59).
`,zh:`
#  I

 4 

## I.1 
 I.1 


1.   (B) 
2.   XOR  S  0
3.  $R = \\pm (A_M + B_M)$
    $R_M = (A_M) + (B_M)$  $R_S = A_S$
     M  S 
4.  $R = \\pm (A_M - B_M)$ $A_M$  $B_M$ ($B_M$) 
    a.  $A_M \\ge B_M$ A 
    b.  $A_M < B_M$ B 

** I.1**
 A  B  B  A
A = $(0 \\ 0010001)_2$ B = $(0 \\ 0010110)_2$

****
B  $S = A_S \\text{ XOR } B_S = 0, R_M = A_M + B_M$  $R_S = A_S$

| |  |  |
|---|---|---|
| $A_S$ | 0 | 0 0 1 0 0 0 1 $A_M$ |
| $B_S$ | 0 | + 0 0 1 0 1 1 0 $B_M$ |
| $R_S$ | 0 | 0 0 1 0 0 1 1 1 $R_M$ |

(+17) + (+22) = (+39)

** I.2**
 A  B  B  A
A = $(0 \\ 0010001)_2$ B = $(1 \\ 0010110)_2$

****
B  $S = A_S \\text{ XOR } B_S = 1; R_M = A_M + (\\bar{B}_M + 1)$ $R_M$ R  B 

| |  |  |
|---|---|---|
| $A_S$ | 0 | 0 0 1 0 0 0 1 $A_M$ |
| $B_S$ | 1 | + 1 1 0 1 0 1 0 $(\\bar{B}_M + 1)$ |
| | | 1 1 1 1 1 0 1 1 $R_M$ |
| $R_S$ | 1 | 0 0 0 0 0 1 0 1 $R_M = (\\bar{R}_M + 1)$ |

(+17) + (-22) = (-5)

** I.3**
 A  B  A  B
A = $(1 \\ 1010001)_2$ B = $(1 \\ 0010110)_2$

****
$S_B = S_B \\text{ XOR } 1$$S = A_S \\text{ XOR } B_S = 1, R_M = A_M + (\\bar{B}_M + 1)$$R_M$ R  A 

| |  |  |
|---|---|---|
| $A_S$ | 1 | 1 0 1 0 0 0 1 $A_M$ |
| $B_S$ | 1 | + 1 1 0 1 0 1 0 $(\\bar{B}_M + 1)$ |
| $R_S$ | 1 | 1 0 1 1 1 0 1 1 $R_M$ |

(-81) - (-22) = (-59)
`},RN={en:`
# Appendix J: Addition and Subtraction for Reals

In Chapter 4 we showed how to operate on data. Addition and subtraction for reals are a little more involved and are discussed in this appendix.

## J.1 OPERATIONS ON REALS
All arithmetic operations such as addition, subtraction, multiplication, and division can be applied to reals stored in floating-point format. Multiplication of two reals involves multiplication of two integers in sign-and-magnitude representation. Division of two reals involves division of two integers in sign-and-magnitude representations. Since we did not discuss the multiplication or division of integers in sign-and-magnitude representation, we will not discuss the multiplication and division of reals, and only show addition and subtraction for reals.

Addition and subtraction of real numbers stored in floating-point numbers is reduced to addition and subtraction of two integers stored in sign-and-magnitude (combination of sign and mantissa) after the alignment of decimal points. Figure J.1 shows a simplified version of the procedure (there are some special cases that we have ignored).

The simplified procedure works as follows:
1.  If any of the two numbers (A or B) is zero, we let the result be 0 and stop.
2.  If the operation is subtraction, we change the sign of the second number (B) to simulate addition.
3.  We denormalize both numbers by including the hidden 1 in the mantissa and incrementing the exponents. The mantissa is now is treated as an integer.
4.  We then align the exponents, which means that we increment the lower exponent and shift the corresponding mantissa until both have the same exponent. For example, if we have:
    $1.11101 \\times 2^4 + 1.01 \\times 2^2$
    we need to make both exponents 4:
    $1.11101 \\times 2^4 + 0.00101 \\times 2^4$
5.  Now, we treat the combination of the sign and mantissa of each number as an integer in sign-and-magnitude format. We add these two integers, as explained earlier in Appendix I.
6.  Finally, we normalized the number again to $1.000010 \\times 2^5$.

**Example J.1**
Show how the computer finds the result of (+5.75) + (+161.875) = (+167.625).

**Solution**
As we saw in Chapter 3, these two numbers are stored in floating-point format, as shown below, but we need to remember that each number has a hidden 1 (which is not stored, but assumed):

| | S | E | M |
|---|---|---|---|
| A | 0 | 10000001 | 01110000000000000000000 |
| B | 0 | 10000110 | 01000011110000000000000 |

The first few steps in the UML diagram (Figure J.1) are not needed. We move to denormalization and denormalize the numbers by adding the hidden 1s to the mantissa and incrementing the exponent. Now both denormalized mantissas are 24 bits and include the hidden 1s. They should be stored in a location that can hold all 24 bits. Each exponent is incremented:

| | S | E | Denormalized M |
|---|---|---|---|
| A | 0 | 10000010 | 101110000000000000000000 |
| B | 0 | 10000111 | 101000011110000000000000 |

Now we need to align the mantissas. We need to increment the first exponent and shift its mantissa to the right. We change the first exponent to $(10000111)_2$, so we need to shift the first mantissa right by five positions:

| | S | E | Denormalized M |
|---|---|---|---|
| A | 0 | 10000111 | 000001011100000000000000 |
| B | 0 | 10000111 | 101000011110000000000000 |

Now we do sign-and-magnitude addition, treating the sign and the mantissa of each number as one integer stored in sign-and-magnitude representation:

| | S | E | Denormalized M |
|---|---|---|---|
| R | 0 | 10000111 | 101001111010000000000000 |

There is no overflow in the mantissa, so we normalize:

| | S | E | M |
|---|---|---|---|
| R | 0 | 10000110 | 01001111010000000000000 |

The mantissa is only 23 bits, no rounding is needed. $E = (10000110)_2 = 134$, $M=0100111101$. In other words, the result is $(1.0100111101)_2 \\times 2^{134-127} = (10100111.101)_2 = 167.625$.

**Example J.2**
Show how the computer finds the result of (+5.75) + (-7.0234375) = -1.2734375.

**Solution**
These two numbers can be stored in floating-point format, as shown below:

| | S | E | M |
|---|---|---|---|
| A | 0 | 10000001 | 01110000000000000000000 |
| B | 1 | 10000001 | 11000001100000000000000 |

Denormalization results in:

| | S | E | Denormalized M |
|---|---|---|---|
| A | 0 | 10000010 | 101110000000000000000000 |
| B | 1 | 10000010 | 111000001100000000000000 |

Alignment is not needed (both exponents are the same), so we apply addition operation on the combinations of sign and mantissa. The result is shown below, in which the sign of the result is negative:

| | S | E | Denormalized M |
|---|---|---|---|
| R | 1 | 10000010 | 001010001100000000000000 |

Now we need to normalize. We decrement the exponent three times and shift the denormalized mantissa to the left three positions:

| | S | E | M |
|---|---|---|---|
| R | 1 | 01111111 | 010001100000000000000000 |

The mantissa is now 24 bits, so we round it to 23 bits:

| | S | E | M |
|---|---|---|---|
| R | 1 | 01111111 | 01000110000000000000000 |

The result is $R = - 2^{127-127} \\times 1.0100011 = - 1.2734375$, as expected.
`,zh:`
#  J

 4 

## J.1 


 J.1 


1.  A  B 0 
2.   (B) 
3.  **** 1
4.  
    $1.11101 \\times 2^4 + 1.01 \\times 2^2$
     4
    $1.11101 \\times 2^4 + 0.00101 \\times 2^4$
5.   I 
6.   $1.000010 \\times 2^5$

** J.1**
 (+5.75) + (+161.875) = (+167.625) 

****
 3  1

| | S | E | M |
|---|---|---|---|
| A | 0 | 10000001 | 01110000000000000000000 |
| B | 0 | 10000110 | 01000011110000000000000 |

UML  J.1 1  24  1 24 

| | S | E |  M |
|---|---|---|---|
| A | 0 | 10000010 | 101110000000000000000000 |
| B | 0 | 10000111 | 101000011110000000000000 |

 $(10000111)_2$

| | S | E |  M |
|---|---|---|---|
| A | 0 | 10000111 | 000001011100000000000000 |
| B | 0 | 10000111 | 101000011110000000000000 |



| | S | E |  M |
|---|---|---|---|
| R | 0 | 10000111 | 101001111010000000000000 |



| | S | E | M |
|---|---|---|---|
| R | 0 | 10000110 | 01001111010000000000000 |

 23 $E = (10000110)_2 = 134$$M=0100111101$ $(1.0100111101)_2 \\times 2^{134-127} = (10100111.101)_2 = 167.625$

** J.2**
 (+5.75) + (-7.0234375) = -1.2734375 

****


| | S | E | M |
|---|---|---|---|
| A | 0 | 10000001 | 01110000000000000000000 |
| B | 1 | 10000001 | 11000001100000000000000 |



| | S | E |  M |
|---|---|---|---|
| A | 0 | 10000010 | 101110000000000000000000 |
| B | 1 | 10000010 | 111000001100000000000000 |



| | S | E |  M |
|---|---|---|---|
| R | 1 | 10000010 | 001010001100000000000000 |



| | S | E | M |
|---|---|---|---|
| R | 1 | 01111111 | 010001100000000000000000 |

 24  23 

| | S | E | M |
|---|---|---|---|
| R | 1 | 01111111 | 01000110000000000000000 |

 $R = - 2^{127-127} \\times 1.0100011 = - 1.2734375$
`},DN={en:`
# Acronyms

| Acronym | Description |
| :--- | :--- |
| ADT | Abstract data type |
| AES | Advanced Encryption Standard |
| ALU | Arithmetic logic unit |
| ANSI | American National Standards Institute |
| ASCII | American Standard Code for Information Interchange |
| B-frame | Bidirectional frame |
| bit | Binary digit |
| BST | Binary search tree |
| CA | Certification authority |
| CD-R | Compact disc recordable |
| CD-ROM | Compact disc read-only memory |
| CD-RW | Compact disc rewritable |
| CGI | Common Gateway Interface |
| CISC | Complex instruction set computer |
| COBOL | Common Business-Oriented Language |
| CPU | Central processing unit |
| DBMS | Database management system |
| DCT | Discrete cosine transform |
| DES | Data Encryption Standard |
| digraph | Directed graph |
| DMA | Direct memory access |
| DRAM | Dynamic RAM |
| DVD | Digital versatile disk |
| EBCDIC | Extended Binary Coded Decimal Interchange Code |
| EEPROM | Electronically erasable programmable read-only memory |
| EPROM | Erasable programmable read-only memory |
| E-R | Entityrelation |
| FIFO | First in, first out |
| FORTRAN | FORmula TRANslation |
| FTP | File Transfer Protocol |
| GIF | Graphic Interchange Format |
| GUI | Graphical user interface |
| HTML | Hypertext Markup Language |
| HTTP | Hypertext Transfer Protocol |
| I-frame | Intracoded frame |
| IMAP | Internet Mail Access Protocol |
| IP | Internet Protocol |
| ISO | International Organization for Standardization |
| ISP | Internet service provider |
| JPEG | Joint Photographic Experts Group |
| KDC | Key distribution center |
| LAN | Local area network |
| LIFO | Last in, first out |
| LZ | Lempel Ziv |
| LZW | Lempel Ziv Welch |
| MAC | Media access control |
| MAC | Message authentication code |
| MAN | Metropolitan area network |
| MIME | Multipurpose Internet Mail Extension |
| MP3 | MPEG audio layer 3 |
| MPEG | Motion Pictures Experts Group |
| MS-DOS | Microsoft Disk Operating System |
| MTA | Message transfer agent |
| NF | Normal Form |
| NTFS | NT file system |
| P-frame | Predicted frame |
| POP | Post Office Protocol |
| PROM | Programmable read-only memory |
| RAM | Random access memory |
| RDBMS | Relational database management system |
| RGB | Red, green, blue |
| RISC | Reduced instruction set computer |
| ROM | Read-only memory |
| RSA | RivestShamirAdleman |
| SCSI | Small computer system interface |
| SCTP | Stream Control Transmission Protocol |
| SMTP | Simple Mail Transfer Protocol |
| SQL | Structured Query Language |
| SRAM | Static RAM |
| TCP | Transmission Control Protocol |
| TCP/IP | Transmission Control Protocol/Internet Protocol |
| TELNET | Terminal Network |
| UDP | User Datagram Protocol |
| UML | Unified Modeling Language |
| URL | Uniform Resource Locator |
| USB | Universal serial bus |
| WAN | Wide area network |
| WORM | Write once, read many |
| WWW | World Wide Web |
| XML | Extensible Markup Language |
| XOR | Exclusive OR |
`,zh:`
#  (Acronyms)

|  |  |
| :--- | :--- |
| ADT |  (Abstract data type) |
| AES |  (Advanced Encryption Standard) |
| ALU |  (Arithmetic logic unit) |
| ANSI |  (American National Standards Institute) |
| ASCII |  (American Standard Code for Information Interchange) |
| B-frame |  (Bidirectional frame) |
| bit |  (Binary digit) |
| BST |  (Binary search tree) |
| CA |  (Certification authority) |
| CD-R |  (Compact disc recordable) |
| CD-ROM |  (Compact disc read-only memory) |
| CD-RW |  (Compact disc rewritable) |
| CGI |  (Common Gateway Interface) |
| CISC |  (Complex instruction set computer) |
| COBOL |  (COmmon Business-Oriented Language) |
| CPU |  (Central processing unit) |
| DBMS |  (Database management system) |
| DCT |  (Discrete cosine transform) |
| DES |  (Data Encryption Standard) |
| digraph |  (Directed graph) |
| DMA |  (Direct memory access) |
| DRAM |  RAM (Dynamic RAM) |
| DVD |  (Digital versatile disk) |
| EBCDIC |  (Extended Binary Coded Decimal Interchange Code) |
| EEPROM |  (Electronically erasable programmable read-only memory) |
| EPROM |  (Erasable programmable read-only memory) |
| E-R | - (Entityrelation) |
| FIFO |  (First in, first out) |
| FORTRAN |  (FORmula TRANslation) |
| FTP |  (File Transfer Protocol) |
| GIF |  (Graphic Interchange Format) |
| GUI |  (Graphical user interface) |
| HTML |  (Hypertext Markup Language) |
| HTTP |  (Hypertext Transfer Protocol) |
| I-frame |  (Intracoded frame) |
| IMAP |  (Internet Mail Access Protocol) |
| IP |  (Internet Protocol) |
| ISO |  (International Organization for Standardization) |
| ISP |  (Internet service provider) |
| JPEG |  (Joint Photographic Experts Group) |
| KDC |  (Key distribution center) |
| LAN |  (Local area network) |
| LIFO |  (Last in, first out) |
| LZ | Lempel Ziv |
| LZW | Lempel Ziv Welch |
| MAC |  (Media access control) |
| MAC |  (Message authentication code) |
| MAN |  (Metropolitan area network) |
| MIME |  (Multipurpose Internet Mail Extension) |
| MP3 | MPEG  3 (MPEG audio layer 3) |
| MPEG |  (Motion Pictures Experts Group) |
| MS-DOS |  (Microsoft Disk Operating System) |
| MTA |  (Message transfer agent) |
| NF |  (Normal Form) |
| NTFS | NT  (NT file system) |
| P-frame |  (Predicted frame) |
| POP |  (Post Office Protocol) |
| PROM |  (Programmable read-only memory) |
| RAM |  (Random access memory) |
| RDBMS |  (Relational database management system) |
| RGB |  (Red, green, blue) |
| RISC |  (Reduced instruction set computer) |
| ROM |  (Read-only memory) |
| RSA | RivestShamirAdleman |
| SCSI |  (Small computer system interface) |
| SCTP |  (Stream Control Transmission Protocol) |
| SMTP |  (Simple Mail Transfer Protocol) |
| SQL |  (Structured Query Language) |
| SRAM |  RAM (Static RAM) |
| TCP |  (Transmission Control Protocol) |
| TCP/IP | / (Transmission Control Protocol/Internet Protocol) |
| TELNET |  (Terminal Network) |
| UDP |  (User Datagram Protocol) |
| UML |  (Unified Modeling Language) |
| URL |  (Uniform Resource Locator) |
| USB |  (Universal serial bus) |
| WAN |  (Wide area network) |
| WORM |  (Write once, read many) |
| WWW |  (World Wide Web) |
| XML |  (Extensible Markup Language) |
| XOR |  (Exclusive OR) |
`},ON={en:`
# Glossary

**10-Gigabit Ethernet**
An implementation of Ethernet operating at 10 Gigabits per second.

**absolute pathname**
In UNIX or Linux, a path name that starts from the root.

**abstract data type (ADT)**
A data declaration packaged together with operations that are meaningful on the data type.

**AC value**
A value that changes with time.

**access method**
A technique for reading data from a secondary (auxiliary) storage device.

**actual parameters**
The parameters in the function calling statement that contain the values to be passed to the function. Contrast with *formal parameters*.

**Ada**
A high-level concurrent programming language developed by the US Department of Defense.

**additive cipher**
A type of cipher that key defines shifting of a character toward the end of the alphabet (shift cipher). Simplest monoalphabetic cipher in which each ciphertext character is plaintext character plus the key value.

**address bus**
The part of the system bus used for address transfer.

**address space**
A range of addresses.

**algorithm**
The logical steps necessary to solve a problem with a computer.

**American National Standards Institute (ANSI)**
An organization that creates standards in programming languages, electrical specifications, communication protocols, and so on.

**American Standard Code for Information Interchange (ASCII)**
An encoding scheme that defines control and printable characters for 128 values.

**ampersand**
The at-sign (@) used in email addressing.

**analog**
A continuously varying entity.

**analog data**
Data that are continuous and smooth and not limited to specific value.

**analog signal**
A type of waveform that changes smoothly over time.

**analog-to-analog conversion**
Representation of analog data by analog signal.

**analog-to-digital conversion**
Representation of analog data by digital signal.

**analog-to-digital**
Representation of analog data by digital signal.

**analysis phase**
A phase in the software system lifecycle that defines requirements that specify what the proposed system is to accomplish.

**ancestor**
Any node in the path from the current node to the root of a tree.

**AND**
One of the bit-level operations: the result of the operation is 1 only if both bits are 1s, otherwise it is 0.

**applet**
A computer program written in Java that creates an active Web document.

**application gateway**
A computer that stands between the firewall and the organization computer to filter unwanted messages.

**application layer**
The seventh layer in the TCP/IP model: provides access to network services.

**application programs**
In DBMS terminology, the programs that access and process data.

**arc**
A directed line in a graph. Contrast with *edge*.

**arithmetic logic unit (ALU)**
The part of a computer system that performs arithmetic and logic operations on data.

**arithmetic operation**
An operation that takes two numbers and creates another number.

**arithmetic operator**
The operator used in an arithmetic operation.

**arithmetic shift operation**
A shift operation in which the sign of the number is preserved.

**array**
A fixed-sized, sequenced collection of elements of the same data type.

**artificial intelligence**
The study of computer systems that simulate the intelligence of the human mind.

**assembler**
System software that converts a source program into executable object code. Traditionally associated with an assembly language program. See also *compiler*.

**assembly language**
A programming language in which there is a one-to-one correspondence between the computers machine language and the symbolic instruction set of the language.

**assignment statement**
The statement that assigns a value to a variable.

**asymmetric-key cipher**
A type of cryptography that uses two different keys: a public key for encryption and a private key for decryption.

**asymmetric-key encryption**
Encryption using a public key.

**attribute**
In a relational database, each column in a relation. In relational database terminology the name of the column heading.

**audio**
Recording or transmission of sound or music.

**authentication**
Verification of the sender of a message.

**autokey cipher**
A cipher that key is automatically created from the plaintext cipher during encryption.

**auxiliary storage**
Any storage device outside main memory: permanent data storage; external storage; secondary storage.

**availability**
The component of information security that requires that information created and stored by an organization be available to authorized entities.

**axon**
The part of a neuron in the human body that provides output to other neurons via a synapse.

**base**
The number of digits used in a numbering system. Base of binary is 2, of octal is 8, of decimal is 10, and of hexadecimal is 16.

**basis path testing**
A white-box test method that creates a set of test cases that executes every statement in the software at least once.

**batch operating system**
The operating system used in early computers, in which jobs were grouped before being served.

**bidirectional frame (B-frame)**
In MPEG, a frame that is related to both the preceding and following frames.

**big-O notation**
A measure of the efficiency of an algorithm with only the dominant factor considered.

**binary digit (bit)**
The smallest unit of information (0 or 1).

**binary file**
A collection of data stored in the internal format of the computer. Contrast with *text file*.

**binary operation**
An operation that needs two input operands.

**binary search**
A search algorithm in which the search value is located by repeatedly dividing the list in half.

**binary search tree (BST)**
A binary tree in which the keys of the left subtrees are all less than the root key, the keys of all right subtrees are greater than or equal to the root key, and each subtree is itself a binary search tree.

**binary system**
A numbering system that uses two symbols (0 and 1).

**binary tree**
A tree in which each node has zero, one, or two subtrees.

**bit**
Acronym for binary digit. In a computer, the basic storage unit with a value of either 0 or 1.

**bit depth**
The number of bits representing a sample in a sampling process.

**bit pattern**
A sequence of bits (0s and 1s).

**bit rate**
The number of bits transmitted per second.

**bitmap graphic**
A graphic representation in which a combination of pixels defines the image.

**black-box testing**
Testing based on the system requirements rather than a knowledge of the program.

**block cipher**
A cipher in which a group of characters are encrypted or decrypted at a time.

**Bluetooth**
A wireless technology designed to connect devices in a small area.

**Boolean algebra**
An algebra for manipulation of objects that can take one of only two values: true or false.

**bootstrap**
The process in which the operating system is loaded into main memory when the computer is turned on.

**breadth-first traversal**
A graph traversal method in which nodes adjacent to the current node are processed before their descendants.

**browser**
An application program that displays a WWW document.

**brute-force search**
A search method that examines every path in a search tree until it finds the goal.

**bubble sort**
A sort algorithm in which each pass through the data moves (bubbles) the lowest element to the beginning of the unsorted portion of the list.

**bucket**
In a hashing algorithm, a location that can accommodate multiple data units.

**bucket hashing**
A hashing method that uses buckets to reduce collision.

**bus**
The physical channel that links hardware components in a computer: the shared physical medium used in a bus-topology network.

**byte**
A unit of storage, usually 8 bits.

**bytecode**
A machine language into which a Java source program is compiled.

**C language**
A procedural language developed by Dennis Ritchie.

**C++ language**
An object-oriented language developed by Bjarne Stroustrup.

**cache memory**
A small, fast memory used to hold data items that are being processed.

**Caesar cipher**
A shift cipher used by Julius Caesar.

**cardinality**
In relational database, the total number of rows in each relation.

**cellular telephony**
A wireless communication technique in which one area is divided into cells. Each cell is served by a transmitter.

**central processing unit (CPU)**
The part of a computer that contains the control components to interpret instructions. In a personal computer, a microchip containing a control unit and an arithmetic logic unit.

**certification authority (CA)**
An organization that binds a public key to an entity and issues a certificate.

**challengeresponse authentication**
A process in which the claimant proves that she knows a secret without sending it.

**child**
A node in a tree or graph that has a predecessor.

**ChurchTuring thesis**
In computability theory, a combined hypothesis about the nature of computable functions by recursion (Churchs Thesis) and by mechanical devices equivalent to a Turing machine.

**cipher**
An encryption decryption algorithm.

**ciphertext**
Encrypted data.

**circular shift operation**
A shift operation in which dropped bits from one end of a binary word are inserted at the other end.

**circular waiting**
A condition in an operating system in which all processes and resources involved form a loop.

**class**
The combination of data and functions joined to form a type.

**class diagram**
A diagram that manifests the relationship between classes in a system.

**clientserver paradigm**
A paradigm in which two computers connected by an internet run a program: one to provide a service and one to request a service.

**coaxial cable**
A cable made of one conductor media and a sheath that serves as the second conductor.

**code**
A set of bit patterns designed to represent text symbols.

**code generator**
A process in a compiler or interpreter that creates the machine language code.

**cohesion**
The attribute of a module that describes how closely the processes in a module are related to one another.

**collision**
In hashing, an event that occurs when a hashing algorithm produces an address for an insertion, and that address is already occupied.

**collision resolution**
An algorithmic process that determines an alternative address after a collision.

**color depth**
The number of bits used to represent the color of a pixel.

**column-major storage**
A method of storing two-dimensional arrays in which the elements are stored column by column.

**COmmon Business-Oriented Language (COBOL)**
A business programming language developed by Grace Hopper.

**compact disk (CD)**
A direct access optical storage medium.

**compact disk read-only memory (CD-ROM)**
A compact disc in which data is written to the disc by the manufacturer and can only be read by the user.

**compact disk recordable (CD-R)**
A compact disc that a user can write to only once, but read from many times.

**compact disk rewritable (CD-RW)**
A compact disc that can be written to many times and read from many times.

**compilation**
The process of translating the whole source program written in a high-level language into machine language before executing the program.

**compiler**
System software that converts a source program into executable object code: traditionally associated with high-level languages. See also *assembler*.

**complex instruction set computer (CISC)**
A computer that defines an extensive set of instructions, even those that are used less frequently.

**composite type**
A data type that is composed of two or more simple types.

**compound statement**
In some programming languages, a collection of statements (instructions) treated as one by the language.

**computer language**
Any of the syntactical languages used to write programs for computers, such as machine language, assembly language, C, COBOL, and FORTRAN.

**conceptual level**
Relating to the logical structure of a database. It deals with the meaning of the database, not its physical implementation.

**confidentiality**
A security goal that defines procedures to hide information from an unauthorized entity.

**connecting device**
A device that connect computers or networks.

**connectionless protocol**
A protocol for data transfer without connection establishment or termination.

**constant**
A data value that cannot change during the execution of the program. Contrast with *variable*.

**control bus**
The bus that carries information between computer components.

**control statement**
A statement that alters the sequential flow of control in a source program.

**control structure testing**
A white-box test method that uses different categories of tests: conditional testing, dataflow testing, and loop testing.

**control unit**
The component of a CPU that interprets the instructions and controls the flow of data.

**controller**
A component of a Turing machine that is equivalent to a computers CPU.

**copyright**
A copyright is a right to a written or created work. It gives the author the exclusive rights to copy, distribute, and display the work.

**country domain**
A subdomain in the Domain Name System that uses two characters (representing a country) as the last suffix.

**coupling**
A measure of the interdependence between two separate functions.

**cryptographic hash function**
A function that creates a message digest from a message.

**cryptography**
The science and art of transforming messages to make them secure and immune to attack.

**current directory**
In UNIX and Linux, the directory that a user is in at the present time.

**cycle**
A graph path with a length greater than 1 that starts and ends at the same vertex.

**data bus**
The bus inside a computer used to carry data between components.

**data compression**
Reduction of the volume of data without significant loss.

**data confidentiality**
A security service designed to protect data from disclosure attacks, snooping, and traffic analysis.

**data file**
A file that contains only data, not programs.

**data flow diagram**
A diagram that shows the movement of data in the system.

**data integrity**
A security service designed to protect data from modification, insertion, deletion, and replaying.

**data link layer address**
The address used in the data link layer, sometimes called the MAC address, sometimes the physical address.

**data processor**
An entity that inputs data, processes it, and outputs the result.

**data structure**
The syntactical representation of data organized to show the relationship among the individual elements.

**data type**
A named set of values and operations defined to manipulate them, such as character and integer.

**data-link layer**
The second layer of the TCP/IP protocol.

**database**
A collection of organized information.

**database management system (DBMS)**
A program or a set of programs that manipulates a database.

**database model**
A model that defines the logical design of data.

**datagram**
An independent data unit.

**DC value**
A value that does not change with time.

**deadlock**
A situation in which the resources needed by one job to finish its task are held by other jobs.

**decimal digit**
A symbol in the decimal system.

**decimal system**
A method of representing numbers using ten symbols (0 to 9).

**decision**
In programing a two-way path that one of them should be chosen by the program.

**declarative language**
A computer language that uses the principle of logical reasoning to answer queries.

**declarative paradigm**
A paradigm that uses the principle of logical reasoning to answer queries.

**decode**
Interpretation of an instruction by the control unit.

**decrement statement**
A statement that subtracts 1 from the value of a variable.

**decryption**
Recovery of the original message from encrypted data. See *encryption*.

**decryption algorithm**
An algorithm that decrypts an encrypted message to create the plain text.

**default logic**
A logic in which the default conclusion of an argument is acceptable if it is consistent with the contents of knowledge base.

**delete operation**
Operation that deletes a tuple based on the criterion given in the call. In a relational database, the operation that deletes a tuple from the relation.

**demand paging**
A memory allocation method in which a page of a program is loaded into memory only when it is needed.

**demand paging and segmentation**
A memory allocation method in which a page or a segment of a program is loaded into memory only when it is needed.

**demand segmentation**
A memory allocation method in which a segment of a program is loaded into memory only when it is needed.

**demodulator**
A device that converts a signal to data.

**dendrite**
In a neuron, the section that acts as the input device.

**denial of service**
The only attack on the availability goal of security that may slow down or interrupt the system.

**depth-first traversal**
A traversal method in which all of a nodes descendants are processed before any adjacent nodes (siblings).

**dequeue**
Deleting an element from a queue.

**descendant**
Any node in the path from the current node to a leaf.

**design phase**
A phase in the software system lifecycle that defines how the system will accomplish what was defined in the analysis phase.

**development process**
The process of creating software that is outside the system lifecycle.

**device manager**
A component of an operating system that controls access to the input/output devices.

**dictionary-based encoding**
A compression method in which a dictionary is created during the session.

**difference operation**
An operation on two sets, the result of which is the first set minus the common elements in the two sets, or an operator in a relational database that is applied to two relations with the same attributes. The tuples in the resulting relation are those that are in the first relation but not the second.

**digest**
A compressed image of a message.

**digit extraction hashing**
The process of extracting selected digits from a key and use them as an address.

**digit extraction method**
A hashing method that uses digit extraction.

**digital**
A discrete (noncontinuous) entity.

**Digital data**
Data represented by discrete values.

**digital signal**
A signal with a number of distinct values.

**digital signature**
A method used to authenticate the sender of a message and to preserve the integrity of its data.

**digital subscriber line (DSL)**
A technology that supports high-speed communication over existing telephone line.

**digital versatile disk (DVD)**
A direct access optical storage medium.

**digital-to-analog conversion**
Representation of digital data by an analog signal.

**digital-to-digital conversion**
Representation of digital data by digital signal.

**digraph**
A directed graph.

**direct hashing**
A hashing method in which the key is obtained without algorithmic modification.

**direct memory access (DMA)**
A form of I/O in which a special device controls the exchange of data between memory and I/O devices.

**directed graph**
A graph in which the direction is indicated on the lines (arcs).

**directory**
A file that contains the names and addresses of other files.

**discrete cosine transform (DCT)**
A mathematical transformation used in JPEG encoding.

**distributed database**
A database in which data is stored on several computers.

**distributed system**
An operating system that controls resources located in computers at different sites.

**division remainder method**
A type of hashing in which the key is divided by a number and the remainder is used as the address.

**domain name**
In DNS, a sequence of labels separated by dots.

**Domain Name Server (DNS)**
A computer that holds information about Internet domain names.

**doman name space**
A method for organizing the name space in which the names are defined in an inverted-tree structure with the root at the top.

**dotted-decimal notation**
The notation devised to make IP addresses easier to read: each byte is converted to a decimal number; numbers are separated by a dot.

**DSL**
Digital subscriber line.

**dynamic RAM (DRAM)**
RAM in which the cells use capacitors. DRAM must be refreshed periodically to retain its data.

**edge**
A graph line that has no direction.

**edge detection**
A method of image processing that finds the edges in an image by looking at areas with changes in color or texture.

**electrically erasable programmable read-only memory (EEPROM)**
Programmable read-only memory that can be programmed and erased using electronic impulses without being removed from the computer.

**electronic mail (email)**
A method of sending messages electronically based on a mailbox address rather than host-to-host exchange.

**emacs**
A text editor in Unix.

**encryption**
Converting a message into a form that is unreadable unless decrypted.

**encryption algorithm**
An algorithm that encrypts a plain text message.

**end system**
A sender or receiver of data.

**end users**
In DBMS terminology, users that access the database directly.

**enqueue**
Inserting an element into a queue.

**entity authentication**
A technique designed to let one party prove the identity of another party.

**entityrelation (E-R) model**
A model that defines the entities and their relationship in a relational database.

**entityrelationship (E-R) diagram**
A diagram used in EntityRelation model.

**ephemeral port number**
A port number used by the client.

**erasable programmable read-only memory (EPROM)**
Programmable read-only memory that can be programmed. Erasing EPROM requires removing it from the computer.

**error report file**
In a file update process, a report of errors detected during the update.

**ethical principle**
One of the ways to evaluate our responsibility towards the rest of the world when using a computer is to base our decisions on ethics.

**Excess representation**
A number representation method used to store the exponential value of a fraction.

**Excess_1023**
The high-precision IEEE standard for representation of floating point numbers.

**Excess_127**
The low-precision IEEE standard for representing floating-point numbers.

**execute**
Sending commands to different section of the computer by the Control Unit.

**expert system**
A system that uses knowledge representation to perform tasks that normally need human expertise.

**expression**
A sequence of operators and operands that reduces to a single value.

**expression tree**
An upside down tree in which the root and nodes are operators and leaves are operands.

**external level**
The part of the database that interacts with the user.

**Facebook**
A social network site with more than one billion users.

**Fast Ethernet**
An implementation of Ethernet with a data rate of 100 Mps.

**fetch**
The part of the instruction cycle in which the instruction to be executed is brought in from memory.

**fiber-optic cable**
A medium that carries signals in the form of pulses. It consists of a thin cylinder of glass or plastic (core) inside another cylinder of glass or plastic (cladding).

**field**
The smallest named unit of data that has meaning in describing information. A field may be either a variable or a constant.

**File Transfer Protocol (FTP)**
An application-layer service in TCP/IP for transferring files from and to a remote site.

**finite state automaton**
A machine that has predefined number of states.

**firewall**
A device installed between the internal network of an organization and the rest of the Internet to provide security.

**FireWire**
An I/O device controller with a high-speed serial interface that transfers data in packets.

**first in, first out (FIFO)**
An algorithm in which the first data item that is added to a list is removed from the list first.

**flat-file**
A stand-alone file not related to any other file in an organization.

**floating-point representation**
A number representation in which the position of the decimal point is floated to create better precision. Normally used to represent real numbers in a computer.

**follow**
How to connect to other users on Twitter.

**following**
The many-to-one relationship in Twitter in which many users follow a user.

**follwing**
Follow people you know to see their tweets on your home page.

**formal parameters**
The parameter declaration in a function to describe the type of data to be passed to the function.

**FORmula TRANslation (FORTRAN)**
A high-level procedural language used for scientific and engineering applications.

**fragmented distributed database**
A distributed database in which data is localized.

**frame**
A data unit at the data-link layer.

**frames**
A method similar to semantic networks for knowledge representation.

**frequency masking**
The process that a frequency totally mask another frequency.

**friend**
In Facebook, a user who can receive posts made by another user.

**friendship**
In Facebook, sharing is done only between friends. Friendship is a one-to-one reciprocal relationship.

**front**
The next element in a queue that is deleted by the dequeue operation.

**function**
In a functional paradigm, a black box that maps a list of input to a list of output.

**functional language**
A programming language in which a program is considered to be a mathematical function.

**functional paradigm**
A paradigm in which a program is considered a mathematical function.

**general linear list**
A list in which data can be inserted or deleted anywhere in the list.

**generic domain**
A subdomain in the domain name space that uses generic suffixes.

**Gigabit Ethernet**
An Etherenet with on gigabit (1000 Mbps) data rate.

**glass-box testing**
See *white-box testing*.

**Gdel number**
A number assigned to every program that can be written in a specific language.

**graph**
A collection of nodes, called vertices, and line segments, called edges or arcs, connecting pairs of nodes.

**Graphic Interchange Format (GIF)**
An 8-bit per pixel bitmap image.

**graphical user interface (GUI)**
A user interface that defines icon and operations on icons.

**Guided media**
Cable.

**hacker**
An astute computer specialist who may do harm.

**halting problem**
Writing a program that tests whether or not any program, represented by its Gdel number, will terminate.

**hardware**
Any of the physical components of a computer system, such as a keyboard or a printer.

**hardware abstraction layer (HAL)**
The lowest level program in the Windows system that hides the differences from upper layer.

**hashed file**
A file that is searched using one of the hashing methods.

**hashed MAC (HMAC)**
A recommendation by ITU to describe a certificate in public-key distribution using a well-known standard called ASN.1.

**hashing method**
A method to access a hashed file.

**hashtag**
A way to indicate an important word in a tweet. It starts with a hash (#) sign.

**HDMI (High-Definition Multimedia Interface)**
HDMI is a digital replacement for existing analog video standards.

**header**
The information added to the beginning of a packet for routing and other purposes.

**heuristic search**
A search in which a rule or a piece of information is used to make the search more efficient.

**hexadecimal digit**
A symbol in the hexadecimal system.

**hexadecimal system**
A numbering system with base 16. Its digits are 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, and F.

**hierarchical model**
A database model that organizes data in a treelike structure that can be searched from top to bottom.

**high-level language**
A (portable) programming language designed to allow the programmer to concentrate on the application rather than the structure of a particular computer or operating system.

**high-order logic**
A logic that extends the scope of quantifiers  and  in predicate logic to bind predicates as well as variables.

**hold state**
The state of a job that is waiting to be loaded into memory.

**home address**
In a hashed list, the first address produced by the hashing algorithm.

**home directory**
In UNIX or Linux, a directory that a user is in when first logged in.

**home page**
The main page of a hypertext document available on the Web.

**host**
A station or node node on the network.

**host identifier**
The identifier of a station.

**hub**
A device that connects other devices in a network.

**Huffman coding**
A statistical compression method using variable-length code.

**hypertext**
A document containing embedded links to other documents.

**Hypertext Markup Language (HTML)**
The computer language for specifying the contents and format of a Web document: allows text to include fonts, layouts, embedded graphics, and links to other documents.

**Hypertext Transfer Protocol (HTTP)**
The protocol that is used to retrieve Web pages on the Internet.

**identifier**
The name given to an object in a programming language.

**image processing**
An area of artificial intelligence that deals with the perception of objectsthe artificial eyes of an agent.

**imperative language**
Another name for a procedural language.

**imperative paradigm**
Another name for a procedural paradigm.

**implementation phase**
A phase in the software system lifecycle in which the actual programs are created.

**increment statement**
In C or C++, the statement that adds 1 to an integer value.

**incremental model**
A model in software engineering in which the entire package is constructed with each module consisting of just a shell: modules gain complexity with each iteration of the package.

**index**
The address of an element in an array.

**indexed color**
A technique in raster graphic that uses only a portion of True-Color to encode colors in each application.

**indexed file**
A file that uses an index for random access.

**infix**
An arithmetic notation in which the operator is placed between two operands.

**infrared waves**
Part of light spectrum from 300 GHz to 400 THz used for short-range communication.

**inheritance**
The ability to extend a class to create a new class while retaining the data objects and methods of the base class and adding new data objects and methods.

**inorder traversal**
A binary tree traversal method in which the root is traversed after the left subtree and before the right subtree.

**input**
The given data to an operation.

**input data**
User information that is submitted to a computer to run a program.

**input/output (I/O) controller**
A device that controls access to input/output devices.

**input/output subsystem**
The part of the computers organization that receives data from the outside and sends data to the outside.

**insert operation**
An operation in a relational database that inserts a tuple in a relation.

**insertion sort**
A sort algorithm in which the first element from the unsorted portion of the list is inserted into its proper position in the sorted portion of the list.

**instruction**
A command that tells a computer what to do.

**instruction register**
A register in the CPU that holds the instruction before being interpreted by the control unit.

**integer**
An integral number, a number without a fractional part.

**integrated circuit**
Transistors, wiring, and other components on a single chip.

**integrity**
A security goal to protect data from modification, insertion, deletion, or replaying.

**intellectual property**
Intangible things such as ideas, inventions, technologies, artworks, music and literature over which one can claim ownership.

**intelligent agent**
An agent that perceives its environment, learns from it, and interacts with it intelligently.

**interface**
A list of public operations or data that are to be passed or returned from an operation.

**internal level**
The part of the database that defines where data is actually stored.

**internal node**
Any tree node except the root and the leaves: a node in the middle of a tree.

**International Organization for Standardization (ISO)**
A worldwide organization that defines and develops standards for a variety of topics.

**internet**
Abbreviation for internetwork.

**Internet**
The global Internet that uses the TCP/IP protocol suite.

**Internet address**
A 32-bit address used to define a computer uniquely on the Internet.

**Internet Protocol (IP)**
The network-layer protocol in the TCP/IP protocol responsible for transmitting packets from one computer to another across the Internet.

**Internet Protocol version 6 (IPv6)**
The new IP with augmented address space and redesigned packets and protocols.

**Internet service provider (ISP)**
An organization that provides Internet services.

**internetwork**
A network of networks.

**interpretation**
The process of translating each line of a source program into the corresponding object program and executing the line.

**interpreter**
A program that translates a source program in a high-level language line by line and executes each line immediately.

**interrupt driven I/O**
A form of I/O in which the CPU, after issuing an I/O command, continues serving other processes until it receives an interrupt signal that the I/O operation is completed.

**intersection operation**
An operation on two sets in which the result is a set with the elements common to the two sets.

**intersector gap**
The gap between sectors on a disk.

**intertrack gap**
The gap between tracks on a tape.

**intracoded frame (I-frame)**
In MPEG, an independent frame.

**inverted file**
A file sorted according to a second key.

**IP address**
See *Internet address*.

**IP datagram**
The data unit in the network layer.

**IP new generation (IPng)**
Another name for IPv6.

**isolated I/O**
A method of addressing an I/O module in which the instructions used to read/write memory are totally different than the instructions used to read/write to input/output devices.

**Java**
An object-oriented programming language for creating stand-alone programs or dynamic documents on the Internet.

**job**
A program becomes a job when it is selected for execution.

**job scheduler**
A scheduler that selects a job for processing from a queue of jobs waiting to be moved to memory.

**join operation**
An operation in a relational database that takes two relations and combines them based on common attributes.

**Joint Photographic Experts Group (JPEG)**
A standard for compressing images.

**kernel**
The main part of an operating system.

**key**
One or more fields used to identify a record (structure).

**key-distribution center (KDC)**
A trusted third party that establishes a shared secret key between two parties.

**keyboard**
An input device providing character-by-character input.

**land**
On an optical disc, an area not hit by the laser in the translation of a bit pattern. Usually represents a bit.

**last in, first out (LIFO)**
An algorithm in which the last data item that is added to a list is removed from the list first.

**leaf**
A graph or tree node with one incoming arc and no outgoing arcs.

**Lempel Ziv (LZ) encoding**
A compression algorithm that uses a dictionary.

**Lempel Ziv Welch (LZW) encoding**
An enhanced version of LZ encoding.

**lexical analyzer**
A program used in a translation process that reads the source code symbol by symbol and creates a list of tokens.

**linear list**
A list structure in which each element except the last has a unique successor.

**link**
In a list structure, the field that identifies the next element in the list.

**linked list**
A linear list structure in which the ordering of the elements is determined by link fields.

**linked list resolution**
A collision resolution method in hashing that uses a separate area for synonyms, which are maintained in a linked list.

**Linux**
An operating system developed by Linus Torvalds to make UNIX more efficient when run on an Intel microprocessor.

**LISP**
A list processing programming language in which everything is considered a list.

**list**
An ordered set of data contained in main memory.

**literal**
A constant used in a program.

**local area network (LAN)**
A network connecting devices inside a limited area.

**local variable**
A variable defined within a block or a module.

**logical operation**
An operation in which the result is a logical value (true or false).

**logical operator**
An operator that combines Boolean values to get a new Boolean values.

**logical shift operation**
A shift operation that does not preserve the sign of the number.

**loop**
In a program, a structured programming construct that causes one or more statements to be repeated. In a graph, a line that starts and ends with the same vertex.

**loop statement**
A statement that causes the program to iterate a set of statements.

**lossless data compression**
Data compression in which no data is lost. Used for compressing text or programs.

**lossy data compression**
Data compression in which some data is allowed to be lost. Used for image, audio, or video compression.

**MAC addresses**
Address of a device at the data-link layer.

**machine cycle**
A repeated collection of fetch, decode, and execute operations.

**machine language**
Instructions native to the central processor of a computer that are executable without assembly or compilation.

**macro**
A custom-designed procedure that can be used repeatedly.

**magnetic disk**
A storage medium with random access capability.

**magnetic tape**
A storage medium with sequential access capability.

**Mail Transfer Agent**
The client-server program used in email communication.

**main memory**
The primary memory of a computer, consisting of medium speed. random access memory. Contrast with *cache memory*.

**maintainability**
A quality that refers to keeping a system running correctly and up to date.

**mantissa**
The part of a floating-point number that shows the numbers significant digits.

**mask**
A variable or constant that contains a bit configuration used to control the setting of bits in a bitwise operation.

**masquerading**
A type of attack on integrity of information in which the attacker impersonates somebody else.

**master disk**
The first component created in a CD-ROM

**master file**
A permanent file that contains the most current data regarding an application.

**medium access control (MAC) address**
See *data link layer address*.

**memory**
The main memory of a computer consisting of random access memory (RAM) and read-only memory (ROM), used to store data and program instructions.

**memory management**
The component of the operating system that controls the use of main memory.

**memory-mapped I/O**
A method of addressing an I/O module in a single address space, used for both memory and I/O devices.

**Message Access Agent (MAA)**
A client-server program that pulls the stored email message.

**message authentication code (MAC)**
A message digest that includes a secret between two parties.

**message digest**
The fixed-length string created from applying a hash function to a message.

**message transfer agent (MTA)**
An SMTP program that transfers a message across the Internet.

**method**
A function in an object-oriented language.

**metropolitan area network (MAN)**
A network that can span a city or a town.

**microcomputer**
A computer small enough to fit on a desktop.

**Microsoft Disk Operating System (MS-DOS)**
The operating system based on DOS and developed by Microsoft.

**modal logic**
An extension to logic that includes certainty and possibility.

**modem**
A modulatordemodulator combined.

**modularity**
Breaking a large project into small parts that can be understood and handled easily.

**modulator**
A device that converts data to a signal.

**module**
A small part created from applying modularity to a project.

**modulo division**
Dividing two numbers and keeping the remainder.

**monitor**
A nonstorage device that provides output.

**Monitor**
The monitor displays output and at the same time echoes input typed on the keyboard.

**monoalphabetic cipher**
A cipher in which the same character is always encrypted the same regardless of its position in the text.

**monoprogramming**
The technique that allows only one program to be in memory at a time.

**moral rule**
A principle in ethics dictating that we should avoid doing anything that is against universal morality.

**moral rules**
The first ethical principle states that when we make an ethical decision, we need to consider if the decision is made in accordance with a universally accepted principle of morality.

**Moving Picture Experts Group (MPEG)**
A lossy compression method for compressing video (and audio).

**MPEG audio layer (MP3)**
A standard used for compression audio based on MPEG.

**multidimensional array**
An array with elements having more than one level of indexing.

**Multiple Instruction Stream, Single Data Stream (MISD)**
A computer in which several streams operates on one single data.

**multiple instruction_stream, multiple data stream (MIMD)**
A computer with several CUs, several ALUs, and several memory unit.

**multiprogramming**
A technique that allows more than one program to reside in memory while being processed.

**multithreading**
Parallel processing supported by some languages such as Java.

**mutual exclusion**
A condition imposed by an operating system in which only one process can hold a resource.

**name**
In relational database terminology, the identifier of a relation.

**name space**
All the name assigned to a machine on an internet

**network**
A system of connected nodes that can share resources.

**network layer**
The third layer in the TCP/IP model, responsible for delivery of packets from the original host to the final destination.

**network model**
A database model in which a record can have more than one parent record.

**neural network**
A network of neurons which is modeled on the human brain.

**neuron**
The individual cells that are responsible for transmitting information in the human brain and nervous system.

**new master file**
The master file that is created from an old master file when the file is updated.

**news**
Facebook allows you to post news (called updates) for your friends. This can be a long message (up to 60 000 characters), a link to a web page, a photo, or a video.

**no preemption**
A condition in which the operating system cannot temporarily allocate a resource.

**node**
In a data structure, an element that contains both data and structural elements used to process the data structure.

**node-to-node**
The communication at the data-link layer.

**nonpolynomial problem**
A problem that cannot be solved with polynomial complexity.

**nonpositional number system**
A number system in which the position of symbols does not define the value of the symbol.

**Nonstorage device**
Nonstorage devices allow the CPU/memory to communicate with the outside world, but they cannot store information.

**nonstorage device**
A device that allows communication between CPU and memory without storing information.

**normal form (NF)**
A step in the normalization process of a relational database.

**normalization**
In a relational database, the process of applying normal forms to a relational model.

**NOT operator**
The operation that changes a 0 bit to 1 or a 1 bit to 0.

**null pointer**
A pointer that points to nothing.

**number system**
A system that uses a set of symbols to define a value.

**object program**
The machine language code created from a compiler or an interpreter.

**object-oriented analysis**
The analysis phase of a developmental process in which the implementation uses an object-oriented language.

**object-oriented database**
A database in which data is treated as structures (objects).

**object-oriented design**
Given the details and codes for each class in object-orienting programming.

**object-oriented language**
A programming language in which the objects and the operations to be applied to them are tied together.

**object-oriented paradigm**
A paradigm in which a program acts on active objects.

**octal digit**
A digit in base 8.

**octal system**
A numbering system with a base of 8: the octal digits are 0 to 7.

**old master file**
The master file that is processed in conjunction with the transaction file to create the new master file.

**one-dimensional array**
An array with only one level of indexing.

**one-time pad**
A type of cipher in which the key is randomly chosen for each encipherment.

**ones complement**
A bitwise operation that reverses the value of the bits in a variable.

**open addressing resolution**
A collision resolution method in which the new address is in the home area.

**operability**
The quality factor that addresses the ease with which a system can be used.

**operand**
An object in a statement on which an operation is performed. Contrast with *operator*.

**operating system**
The software that controls the computing environment and provides an interface to the user.

**operator**
The syntactical token representing an action on data (the operand). Contrast with *operand*.

**optical storage device**
An I/O device that uses (laser) light to store and retrieve data.

**OR operator**
A binary operation resulting in an output of 0 only if the two inputs are 0s, otherwise 1.

**output**
The resulting data from an operation.

**output data**
The results of running a computer program.

**output device**
A device that can be written to but not read from.

**overflow**
The condition that results when there are insufficient bits to represent a number in binary.

**packet-filter firewall**
A firewall that uses a filtering table to protect the organization.

**packetizing**
Encapsulating data in a packet.

**page**
One of a number of equally sized sections of a program.

**paging**
A multiprogramming technique in which memory is divided into equally sized sections called *frames*.

**palette color**
See *indexed color*.

**parallel processing**
A form of multiprocessing that speeds processing by allowing several processors to operate at the same time.

**parallel system**
An operating system with multiple CPUs on the same machine.

**parameter**
A value passed to a function.

**parent**
A tree or graph node with one or more child nodes.

**parent directory**
The directory immediately above the current directory.

**parser**
An entity that does parsing.

**partitioning**
A technique used in multiprogramming that divides the memory into variable-length sections.

**Pascal**
A programming language designed with the goal of teaching programming to novices by emphasizing the structured programming approach.

**pass by reference**
A parameter passing technique in which the called function refers to a passed parameter using an alias name.

**pass by value**
A parameter passing technique in which the value of a variable is passed to a function.

**patent**
A right to an intellectual property.

**path**
A sequence of nodes in which each vertex is adjacent to the next.

**peer-to-peer paradigm**
A paradigm in which two peer computers can communicate with each other to exchange services.

**penetration attack**
Penetration means breaking into a system to get access to the data stored in a computer or in a computer network.

**penetration attack**
Unlawful accessing of a computer to get information or to cause damage.

**perceptron**
A simple neuron-like element that is used in neural networks.

**perceptual encoding**
Type of encoding used in audio.

**physical agent**
A programmable system (robot) that can be used to perform a variety of tasks.

**physical layer**
The first layer in the TCP/IP model, responsible for signaling and transmitting bits across the network.

**pico**
Another text editor in Unix.

**picture element (pixel)**
The smallest unit of an image.

**pipelining**
A technique used by modern computers to improve the throughput by combining different phases of on instruction with the next.

**Pipelining**
Modern computers use a technique called pipelining to improve the throughput (the total number of instructions performed in each period of time). The idea is that if the control unit can do two or three of these phases simultaneously, the next instruction can start before the previous one is finished.

**pit**
On an optical disc, an area struck by the laser in the translation of a bit pattern, which usually represents a 0 bit.

**pixel**
See *picture element*.

**place value**
The value related to a position in the positional number system.

**plaintext**
Text before being encrypted.

**point-to-point**
A type of network that connects two communication devices through a transmission media.

**pointer**
A constant or variable that contains an address that can be used to access data stored elsewhere.

**polyalphabetic cipher**
A type of cipher that a character in the plaintext will change to a different character in the ciphertext base on its position in the text.

**polycarbonate resin**
In CD-ROM production, a material injected into a mold.

**polymorphism**
In C++, defining several operations with the same name that can do different things in related classes.

**polynomial problem**
A problem that can be solved in an acceptable time by a computer.

**pop**
The stack delete operation.

**port address**
See *port number*.

**port number**
The address used in TCP and UDP to distinguish one process from another.

**portability**
The quality factor relating to the ease with which a system can be moved to other hardware environments.

**positional number system**
A number system in which the position of a symbol in a number defines its value.

**postfix**
An arithmetic notation in which the operator is placed after its operands.

**postorder traversal**
A binary tree traversal method in which the left subtree is processed first, then the right subtree, then the root.

**pragmatic analysis**
The analysis of a sentence to find the real meaning of words by removing the ambiguities.

**predicate logic**
A logic system in which quantifiers can be applied to terms but not to predicates.

**predicted frame (P-frame)**
In MPEG, a frame that is related to the preceding I-frame or B-frame.

**Predictive encoding**
Encoding the difference between two samples instead of encoding the sample itself.

**prefix**
An arithmetic notation in which the operator is placed before the operands.

**preorder traversal**
A binary tree traversal in which the left subtree is traversed first, the root is traversed next, and the right subtree is traversed last.

**prime area**
In a hashed list, the memory that contains the home address.

**printer**
An output device that creates hard copy.

**privacy**
The right of individual to keep some information secret.

**privacy**
Today, a large amount of personal information about a citizen is collected by private and public agencies. Some countries have ethical rules about the use of this information.

**private key**
One of the two keys used in public key encryption.

**procedural language**
A computer language in a procedural paradigm.

**procedural paradigm**
A paradigm in which a program acts on passive objects using procedures.

**procedure-oriented analysis**
The analysis phase of a developmental process in which the implementation uses a procedural language.

**procedure-oriented design**
The design phase of developmental process when the implementation uses a procedural language.

**process**
A program in execution.

**process manager**
An operating system component that controls the processes.

**process scheduler**
An operating system mechanism that dispatches the processes waiting to get access to the CPU.

**product**
The result of multiplying a list of numeric data and finding the result.

**program**
A set of instructions.

**program counter**
A register in the CPU that holds the address of the next instruction in memory to be executed.

**programmable read-only memory (PROM)**
Memory with contents electrically set by the manufacturer that may be reset by the user.

**programmed I/O**
A form of I/O in which the CPU must wait for the I/O operation to be completed.

**programming language**
A language with limited words and limited rules designed to solve problems on a computer.

**project operation**
An operation in a relational database in which a set of columns is selected based on a criterion.

**PROLOG**
A programming language that can build a database of facts and a knowledge base of rules.

**propositional logic**
A logic system based on logical operators and propositional term.

**protocol**
A set of rules for data exchange between computers.

**protocol layering**
The idea of using a set of protocols to create a hierarchy of rules for handling a difficult task.

**proxy firewall**
A firewall that stands between the customer computer and the corporation computer. It accepts only legitimate messages from the customer computer.

**proxy firewall**
A proxy computer (sometimes called an application gateway) that stands between the customer computer and the corporation computer.

**pseudocode**
English-like statements that follow a loosely defined syntax and are used to convey the design of an algorithm or function.

**public key**
One of the keys in a public key encryption, revealed to the public.

**public-key certificate**
A certificate that binds an entity to its public key.

**push**
The stack insert operation.

**quantifier**
Two operators used in predicate logic:  and .

**quantization**
Assigning a value from a finite set of values.

**queue**
A linear list in which data can only be inserted at one end, called the rear, and deleted from the other end, called the front.

**radix**
The base in a positional number system.

**random access**
A storage method that allows data to be retrieved in an arbitrary order.

**random access memory (RAM)**
The main memory of the computer that stores data and programs.

**raster graphic**
See *bitmap graphic*.

**read-only memory (ROM)**
Permanent memory with contents that cannot be changed.

**read/write head**
The device in a hard disk that reads or writes data.

**ready state**
In process management, the state of processing in which the process is waiting to get the attention of the CPU.

**real**
A number with both integral and fractional parts.

**real-time system**
An operating system that is expected to do a task within specific time constraints.

**rear**
The last element inserted into a queue using the enqueue operation.

**record**
Information related to one entity.

**recursion**
A function design in which the function calls itself.

**reduced instruction set computer (RISC)**
A computer that uses only frequently used instructions.

**register**
A fast stand-alone storage location that holds data temporarily.

**relation**
A table in a relational database.

**relational database**
A database model in which data is organized in related tables called relations.

**relational database management system (RDBMS)**
A set of programs that handles relations in a relational database model.

**relational model**
See *relational database*.

**relational operator**
An operator that compares two values.

**relative pathname**
The path of a file defined in terms of the working directory.

**reliability**
The quality factor that addresses the confidence or trust in a systems total operation.

**remote login**
Logging on to a remote computer that is connected to the local computer.

**repetition**
One of the three constructs in structural programming.

**replaying**
A type of attack on information integrity in which the attacker intercepts the message and resends it again.

**replicated distributed database**
A database in which each site holds a replica of another site.

**resolution**
The scanning rate in image processing: the number of pixels per unit measure.

**resource holding**
A condition in which a process holds a resource but cannot use it until all other resources are available.

**retrieval**
The location and return of an element in a list.

**retweet**
A tweet forwarded to other Twitter users.

**RGB**
A color system in which tints are represented by a combination of red, green, and blue primary colors.

**Roman number system**
The nonpositional number system used by the Romans.

**root**
The first node of a tree.

**root directory**
The highest level in a file hierarchy.

**rotational speed**
The spin rate of a magnetic disk.

**router**
A device operating at the first three TCP/IP layers that connects independent networks. A router routes a packet based on its destination address.

**routing**
The process performed by a router.

**row-major storage**
A method of storing array elements in memory in which the elements are stored row by row.

**RSA cryptosystem**
A common public cryptosystem designed by River, Shamir, and Adleman. It uses two exponents, e and d, in which the the first is public and the second is private.

**RSA cryptosystem**
RSA cryptosystem is one of the common public-key algorithms.

**rule-based system**
A knowledge representation system that uses a set of rules that can be used to deduce new facts from known facts.

**run-length encoding**
A lossless compression method in which a sequence of the same symbols is replaced by the symbol and the number of repetitions.

**running state**
In process management, a state in which a process is using the CPU.

**sampling**
Taking measurements at equal intervals.

**sampling rate**
The number of samples obtained per second in the sampling process.

**scanning**
Converting an image into digital data by sampling its density and color at evenly-spaced points.

**scheduler**
A program to move a job from one state to another.

**scheduling**
Allocating the resources of an operating system to different programs and deciding which program should use which resource, and when.

**scheme**
The de facto standard of the LISP language.

**scientific notation**
Representation of a number with one digit at the left of the decimal point and the power of 10 defines the shifting of the decimal point.

**search space**
The set of possible situations that can be examined by a search method to find a solution.

**searching**
The process that examines a list to locate one or more elements containing a designated value known as the search argument.

**secondary storage device**
See *auxiliary storage*.

**secret key**
A key that is shared by two participants in secret key encryption.

**sector**
A part of a track on a disk.

**Secure Hash Algorithm (SHA)**
A standard hash function developed by NIST.

**Secure Shell (SSH)**
A client-server program that provide secure logging.

**security**
The quality factor that addresses the ease or difficulty with which an unauthorized user can access data.

**security attack**
An attack threatening the security goals of a system.

**security goal**
One of the three goals of information security: confidentiality, integrity, and availability.

**seek time**
In disk access, the time required to move the read/write head over the track that holds the required data.

**segment**
Part of a packet.

**segmentation**
A step in image processing that divides the image into homogeneous segments or areas.

**select operation**
An operation in a relational database that selects a set of tuples.

**selection**
One of the three constructs in structure programming.

**selection sort**
A sort algorithm in which the smallest value in the unsorted portion of the list is selected and placed at the end of the sorted portion of the list.

**semantic analysis**
Analysis of the meaning of words in a sentence or tokens in a statement.

**semantic network**
A graph in which the node represents objects and the edges represent relationships between objects.

**sequence**
One of the three constructs in structure programming.

**sequential access**
An access method in which the records in a file are accessed serially beginning with the first element.

**sequential file**
A file structure in which data must be processed sequentially from the first element in the file.

**sequential search**
A search technique used with a linear list in which searching begins at the first element and continues until the value of an element equal to the value being sought is located, or until the end of the list is reached.

**server**
In a clientserver system, the centralized computer that provides auxiliary services (server programs).

**shell**
A user interface in some operating systems, such as UNIX.

**shift cipher**
A type of substitution cipher in which the key defines shifting of characters toward the end of the alphabet.

**siblings**
Nodes in a tree with the same parent.

**side effect**
A change in a variable that results from the evaluation of an expression: any input/output performed by a called function.

**sign out**
To terminate membership in a social media.

**sign out**
You need to be a member of Facebook to use it. To become a member, you need to sign up. To terminate your membership, you need to sign out or deactivate your account.

**sign-and-magnitude representation**
A method of integer representation in which 1 bit represents the sign of the number and the remaining bits represent the magnitude.

**simple type**
An atomic data type such as integer or real.

**single instruction stream, multiple data stream (SIMD)**
A computer with one control unit, multiple ALU, and one memory unit.

**single-user operating system**
An operating system in which only one program can be in memory at a time.

**small computer system interface (SCSI)**
An I/O device controller with a parallel interface.

**snooping**
Unauthorized access to confidential information.

**social contract**
A principle of ethics that says an act is ethical if a majority of people in society agree with it.

**social contract**
The social contract theory says that an act is ethical when a majority of people in society agrees with it.

**social media**
Websites used by people to share ideas and messages.

**social network**
Another name for social media.

**software**
The application and system programs necessary for computer hardware to accomplish a task.

**software agent**
In artificial intelligence applications, a set of programs that are designed to do particular tasks.

**software engineering**
The design and writing of structured programs.

**software lifecycle**
The life of a software package.

**software quality**
Three characteristics of a software (operability, maintainability, and transferability).

**solvable problem**
A problem that can be solved by a computer.

**soma**
The body of a neuron that holds the nucleus of the cell.

**something inherent**
A characteristic of the claimant, such as conventional signature, fingerprint, voice, and so on, used for entity authentication.

**something known**
A secret known by the claimant that can be used by the verifier in entity authentication.

**something possessed**
Something belonging to the claimant that can prove the claimants identity.

**sort pass**
One loop during which all elements are tested by a sorting program.

**sorting**
The process that orders a list or file.

**source program**
The file that contains program statements written by a programmer before they are converted into machine language: the input file to an assembler or compiler.

**source-to-destination delivery**
The delivery of a data packet from the source to the destination.

**spatial compression**
Compression done on a frame by the JPEG encoding process.

**speech recognition**
The first step in natural language processing (in AI) in which the speech signal is analyzed and the sequence of words it contains are extracted.

**spoofing**
See *masquerading*.

**stack**
A restricted data structure in which data can be inserted and deleted only at one end, called the top.

**Standard Ethernet**
The original Ethernet operating at 10 Mbps.

**starvation**
A problem in the operation of an operating system in which processes cannot get access to the resources they need.

**state chart**
A diagram, similar to a state diagram, but used in object-oriented software engineering.

**state diagram**
A diagram that shows the different states of a process.

**statement**
A syntactical construct in C that represents one operation in a function.

**static RAM (SRAM)**
A technology that uses traditional flip-flop gates (a gate with two states, 0 and 1) to hold data.

**steganography**
A security technique in which a message is concealed by covering it with something else.

**storage device**
An I/O device that can store large amounts of information for retrieval at a later time.

**stream cipher**
A cipher that encryption and decryption are done a character at a time.

**String**
A correction of characters considered as a single unit of data.

**string**
A string, as a set of characters, is treated in different languages differently. In C, a string is an array of characters. In C++, a string can be an array of characters, but there is a type named string. In Java, a string is a type.

**structure chart**
A design and documentation tool that represents a program as a hierarchical flow of functions.

**structured program**
A program written according to the rules of Software Engineering.

**Structured Query Language (SQL)**
A database language that includes statements for database definition, manipulation, and control.

**subalgorithm**
A part of an algorithm that is independently written and is executed when called inside the algorithm.

**subprogram**
A smaller program called by the main program.

**subroutine**
See *subalgorithm*.

**substitution cipher**
A cipher that replaces one symbol with another.

**subtree**
Any connected structure below the root of a tree.

**summation**
Addition of a series of numbers.

**switch**
A device that connects components in a network together.

**switched WAN**
A complex WAN made of several medium and several switches.

**symbolic language**
A computer language, one level removed from machine language, that has a mnemonic identifier for each machine instruction and can use symbolic data names.

**symmetric-key cipher**
A type of cryptography in which a single secret key is used for both encryption and decryption.

**symmetric-key encryption**
Encryption using a symmetric-key cipher.

**synapse**
A connection between two neuron in the human nervous system.

**synonym**
In a hashed list, two or more keys that hash to the same home address.

**syntactic analysis**
The analysis of a sentence to check for grammar.

**syntax**
The grammatical rules of a language.

**syntax analyzer**
The process that checks the grammar of a sentence.

**system documentation**
A formal structured record of a software package.

**TCP/IP protocol suite**
A five-layer protocol suite that defines the exchange of transmission across the Internet

**technical documentation**
Documenting the procedures for installation and servicing of the software system.

**TELNET (terminal network)**
A general-purpose client-server program that allows remote login.

**temporal compression**
Compression done by MPEG on frames.

**temporal logic**
A type of logic that includes change and the effect of time in reasoning.

**temporal masking**
A process that a loud sound eliminates the effect of less loud sound.

**terminated state**
In process management, a state in which a process has finished executing.

**testability**
An attribute of software that measures the ease with which the software can be tested as an operational system.

**testing phase**
A phase in the software lifecycle in which experiments are carried out to prove that a software package works.

**text**
Data stored as characters.

**text editor**
Software that creates and maintains text files, such as a word processor or a source program editor.

**text file**
A file in which all data is stored as characters. Contrast with *binary file*.

**thresholding**
A method used in image segmentation in which a pixel with a specific intensity is selected and the method tries to find all the pixels with the same intensity.

**throughput**
The number of data units that can be passed through a point in one unit of time.

**ticket**
In session key distribution, an encrypted message containing the session key intended for Bob, but sent to Alice to be deliver to Bob.

**time sharing**
An operating system concept in which more than one user has access to a computer at the same time.

**token**
A syntactical construct that represents an operation, a flag, or a piece of data.

**topology**
The structure of a network, including the physical arrangement of devices.

**track**
A part of a disk.

**trade secret**
Information about a product that is kept secret.

**trademark**
A sign or name that identifies a company product.

**traffic analysis**
A type of attack on confidentiality in which the attacker obtains some information by monitoring online traffic.

**transaction file**
A file containing relatively transient data that are used to change the contents of a master file.

**transfer time**
The time to move data from the disk to the CPU/memory.

**transferability**
A quality in software system that refers to the ability to move the system from one platform to another.

**translator**
A generic term for any of the language conversion programs. See also *assembler* and *compiler*.

**Transmission Control Protocol (TCP)**
One of the transport-layer protocols in the TCP/IP protocol suite.

**Transmission Control Protocol/Internet Protocol (TCP/IP)**
The official protocol of the Internet, composed of five layers.

**transmission medium**
The physical path linking two communication devices.

**transmission rate**
The number of bits sent per second.

**transposition cipher**
A cipher that transposes symbols in the plaintext to create the ciphertext and vice versa.

**traversal**
An algorithmic process in which each element in a structure is processed once and only once.

**tree**
A set of connected nodes structured so that each node has only one predecessor.

**Trojan horse**
A program that can do malicious acts such as deleting or corrupting files.

**True-Color**
A technique in raster graphic that uses 24 bits to represent a color.

**truncation error**
The error that occurs when a number is stored using floating-point representation. The value of the number stored may not be exactly as expected.

**truth table**
A table listing all the possible logical input combinations with the corresponding logical output.

**tuple**
In a relational database, a record (a line) in a relation.

**Turing machine**
A computer model with three components (tape, controller, and read/write head) that can implement statements in a computer language.

**Turing model**
A computer model based on Alan Turings theoretical definition of a computer.

**Turing test**
A test devised by Alan Turing to determine whether a computer can be said to be truly intelligent.

**tweet**
A short (maximum 140 characters) message exchanged by users in Twitter. Sending a tweet.

**twisted-pair cable**
Two insulated cable twisted together in a cover.

**Twitter**
A popular social network where users can post short messages called tweets.

**two-dimensional array**
An array with elements having two levels of indexing. See also *multidimensional array*.

**twos complement**
A representation of binary numbers in which the complement of a number is found by complementing all bits and adding a 1 after that.

**twos complement representation**
A method of integer representation in which a negative number is represented by leaving all the rightmost 0s and the first unchanged and complementing the remaining bits.

**unary operation**
An operation that needs only one input operand.

**underflow**
An event that occurs when an attempt is made to delete data from an empty data structure.

**undirected graph**
A graph consisting only of edgesthat is, a graph in which there is no indication of direction on the lines.

**unfollow**
A process whereby a user stops following another user on Twitter.

**unguided media**
Transmission media with no physical boundries.

**Unicode**
A 32-bit code that includes the symbols and alphabets from most languages in the world.

**Unified Modeling Language (UML)**
A graphical language used for analysis and design.

**Uniform Resource Locator (URL)**
A string of characters that defines a page on the Internet.

**union operation**
An operation on two sets in which the result contains all the elements from both sets without duplicates.

**universal serial bus (USB)**
A serial I/O device controller that connects slower devices such as the keyboard and mouse to a computer.

**UNIX**
A popular operating system among computer programmers and computer scientists.

**unsigned integer**
An integer without a sign whose value ranges between and positive infinity.

**unsolvable problem**
A problem that cannot be solved by a computer.

**update operation**
An operation in a relational database in which the operation about one tuple is changed.

**use-case diagram**
A diagram showing the user view of a system in UML.

**user agent (UA)**
An SMTP component that prepares the message, creates the envelope, and puts the message in the envelope.

**user datagram**
The data unit used by the UDP protocol.

**User Datagram Protocol (UDP)**
One of the transport-layer protocols in the TCP/IP protocol suite.

**user interface**
A program that accepts requests from users (processes) and interprets them for the rest of the operating system.

**user page**
The main page in Facebook.

**user page**
The user page is the main page you will use on Facebook.

**users**
In DBMS terminology, every entity that access the database.

**utility**
An application program in UNIX.

**utilization**
A principle in ethics that says an act is ethical if it creates a good result.

**utilization**
The second theory of ethics, related to the consequences of the act. An act is ethical if it results in consequences which are useful for society.

**variable**
A memory storage object whose value can be changed during the execution of a program. Contrast with *constant*.

**vector graphic**
A type of graphics file format in which lines and curves are defined using mathematical formulas.

**verifying algorithm**
The algorithm that verifies the validity of a digital signature.

**vertex**
A node in a graph.

**vi**
A screen text editor available in Unix operating system.

**video**
A representation of images (called frames) in time.

**virtual memory**
A form of memory organization that allows swapping of programs between memory and magnetic storage to give the impression of a larger main memory than really exists.

**virus**
Unwanted program hidden inside another program, and which can replicate itself.

**von Neumann model**
A computer model (consisting of memory, arithmetic logic unit, control unit, and input/output subsystems) upon which the modern computer is based.

**waiting state**
A state in which a process is waiting to receive the attention of the CPU.

**waterfall model**
A software development model in which each module is completely finished before the next module is started.

**Web**
See *World Wide Web*.

**Web page**
A unit of hypertext or hypermedia available on the Web.

**well-known port number**
A port number that defines a process on the network.

**white-box testing**
Program testing in which the internal design of the program is considered. Also known as glass-box testing. Contrast with *black-box testing*.

**wide area network (WAN)**
A network that spans a large geographical distance.

**WiMax**
Worldwide Interoperability Access.

**Windows**
The operating system designed by Microsoft.

**Windows 2000**
A version of the Windows NT operating system.

**Windows NT**
An operating system devised by Microsoft to replace MS-DOS.

**Windows XP**
A version of the Windows NT operating system.

**working directory**
The directory that is currently being used.

**World Wide Web (WWW)**
A multimedia Internet service that allows users to traverse the Internet by moving from one document to another via links.

**Worldwide Interoperability Access**
Wireless version of DSL or cable connection to the Internet.

**worm**
An independent program that travels through the network and can copy itself.

**write once, read many (WORM)**
Another name for a CDR.

**X.509**
A technique used by modern computers to improve the throughput by combining different phases of on instruction with the next.

**X.509**
X.509 is a way to describe a certificate in a structured way. It uses a well-known protocol called ASN.1 that defines fields familiar to computer programmers.

**XOR operator**
A bitwise operation in which the result of the operation is 1 only if one of the operands is 1.

**zero-knowledge authentication**
An entity authentication method in which the claimant does not reveal anything that might endanger the confidentiality of the secret.
`,zh:`
# 

**10-Gigabit Ethernet**
 10 

**absolute pathname ()**
 UNIX  Linux 

**abstract data type (ADT) ()**


**AC value ()**


**access method ()**


**actual parameters ()**
**

**Ada**


**additive cipher ()**


**address bus ()**


**address space ()**


**algorithm ()**


**American National Standards Institute (ANSI) ()**


**American Standard Code for Information Interchange (ASCII) ()**
 128 

**ampersand (& )**
 @ 

**analog ()**


**analog data ()**


**analog signal ()**


**analog-to-analog conversion ()**


**analog-to-digital conversion ()**


**analog-to-digital ()**


**analysis phase ()**


**ancestor ()**


**AND ()**
 1  1 0

**applet ()**
 Java  Web 

**application gateway ()**


**application layer ()**
TCP/IP 

**application programs ()**
 DBMS 

**arc ()**
**

**arithmetic logic unit (ALU) ()**


**arithmetic operation ()**


**arithmetic operator ()**


**arithmetic shift operation ()**


**array ()**


**artificial intelligence ()**


**assembler ()**
**

**assembly language ()**


**assignment statement ()**


**asymmetric-key cipher ()**


**asymmetric-key encryption ()**


**attribute ()**


**audio ()**


**authentication ()**


**autokey cipher ()**


**auxiliary storage ()**


**availability ()**


**axon ()**


**base ()**
 2 8 10 16

**basis path testing ()**


**batch operating system ()**


**bidirectional frame (B-frame) ()**
 MPEG 

**big-O notation ( O )**


**binary digit (bit) ()**
0  1

**binary file ()**
**

**binary operation ()**


**binary search ()**


**binary search tree (BST) ()**


**binary system ()**
0  1

**binary tree ()**


**bit ()**
 0  1 

**bit depth ()**


**bit pattern ()**
0  1

**bit rate ()**


**bitmap graphic ()**


**black-box testing ()**


**block cipher ()**


**Bluetooth ()**


**Boolean algebra ()**


**bootstrap ()**


**breadth-first traversal ()**


**browser ()**
 WWW 

**brute-force search ()**


**bubble sort ()**


**bucket ()**


**bucket hashing ()**


**bus ()**


**byte ()**
 8 

**bytecode ()**
Java 

**C language (C )**
 Dennis Ritchie 

**C++ language (C++ )**
 Bjarne Stroustrup 

**cache memory ()**


**Caesar cipher ()**
Julius Caesar 

**cardinality ()**


**cellular telephony ()**


**central processing unit (CPU) ()**


**certification authority (CA) ()**


**challengeresponse authentication ()**


**child ()**


**ChurchTuring thesis (-)**


**cipher ()**


**ciphertext ()**


**circular shift operation ()**


**circular waiting ()**


**class ()**


**class diagram ()**


**clientserver paradigm ()**


**coaxial cable ()**


**code ()**


**code generator ()**


**cohesion ()**


**collision ()**


**collision resolution ()**


**color depth ()**


**column-major storage ()**


**COmmon Business-Oriented Language (COBOL) ()**
 Grace Hopper 

**compact disk (CD) ()**


**compact disk read-only memory (CD-ROM) ()**


**compact disk recordable (CD-R) ()**


**compact disk rewritable (CD-RW) ()**


**compilation ()**


**compiler ()**
**

**complex instruction set computer (CISC) ()**


**composite type ()**


**compound statement ()**


**computer language ()**
CCOBOL  FORTRAN

**conceptual level ()**


**confidentiality ()**


**connecting device ()**


**connectionless protocol ()**


**constant ()**
**

**control bus ()**


**control statement ()**


**control structure testing ()**


**control unit ()**
CPU 

**controller ()**
 CPU

**copyright ()**


**country domain ()**


**coupling ()**


**cryptographic hash function ()**


**cryptography ()**


**current directory ()**
 UNIX  Linux 

**cycle ()**
 1

**data bus ()**


**data compression ()**


**data confidentiality ()**


**data file ()**


**data flow diagram ()**


**data integrity ()**


**data link layer address ()**
 MAC 

**data processor ()**


**data structure ()**


**data type ()**


**data-link layer ()**
TCP/IP 

**database ()**


**database management system (DBMS) ()**


**database model ()**


**datagram ()**


**DC value ()**


**deadlock ()**


**decimal digit ()**


**decimal system ()**
0  9

**decision ()**


**declarative language ()**


**declarative paradigm ()**


**decode ()**


**decrement statement ()**
 1 

**decryption ()**
**

**decryption algorithm ()**


**default logic ()**


**delete operation ()**


**demand paging ()**


**demand paging and segmentation ()**


**demand segmentation ()**


**demodulator ()**


**dendrite ()**


**denial of service ()**


**depth-first traversal ()**


**dequeue**


**descendant ()**


**design phase ()**


**development process ()**


**device manager ()**
/

**dictionary-based encoding ()**


**difference operation ()**


**digest ()**


**digit extraction hashing ()**


**digit extraction method ()**


**digital ()**


**Digital data ()**


**digital signal ()**


**digital signature ()**


**digital subscriber line (DSL) ()**


**digital versatile disk (DVD) ()**


**digital-to-analog conversion ()**


**digital-to-digital conversion ()**


**digraph ()**


**direct hashing ()**


**direct memory access (DMA) ()**
 I/O  I/O 

**directed graph ()**


**directory ()**


**discrete cosine transform (DCT) ()**
JPEG 

**distributed database ()**


**distributed system ()**


**division remainder method ()**


**domain name ()**
 DNS 

**Domain Name Server (DNS) ()**


**doman name space ()**


**dotted-decimal notation ()**
 IP 

**DSL**


**dynamic RAM (DRAM) ( RAM)**
 RAMDRAM 

**edge ()**


**edge detection ()**


**electrically erasable programmable read-only memory (EEPROM) ()**


**electronic mail (email) ()**


**emacs**
Unix 

**encryption ()**


**encryption algorithm ()**


**end system ()**


**end users ()**
 DBMS 

**enqueue**


**entity authentication ()**


**entityrelation (E-R) model (- (E-R) )**


**entityrelationship (E-R) diagram (- (E-R) )**
-

**ephemeral port number ()**


**erasable programmable read-only memory (EPROM) ()**
 EPROM 

**error report file ()**


**ethical principle ()**


**Excess representation ()**


**Excess_1023**
 IEEE 

**Excess_127**
 IEEE 

**execute ()**


**expert system ()**


**expression ()**


**expression tree ()**


**external level ()**


**Facebook**


**Fast Ethernet ()**
 100 Mps 

**fetch ()**


**fiber-optic cable ()**


**field ()**


**File Transfer Protocol (FTP) ()**
TCP/IP 

**finite state automaton ()**


**firewall ()**


**FireWire ()**
 I/O 

**first in, first out (FIFO) ()**


**flat-file ()**


**floating-point representation ()**


**follow ()**
 Twitter 

**following ()**
Twitter 

**follwing ()**


**formal parameters ()**


**FORmula TRANslation (FORTRAN) ()**


**fragmented distributed database ()**


**frame ()**


**frames ()**


**frequency masking ()**


**friend ()**
 Facebook 

**friendship ()**
 Facebook 

**front ()**
 dequeue 

**function ()**


**functional language ()**


**functional paradigm ()**


**general linear list ()**


**generic domain ()**


**Gigabit Ethernet ()**
 (1000 Mbps) 

**glass-box testing ()**
**

**Gdel number ()**


**graph ()**


**Graphic Interchange Format (GIF) ()**
 8 

**graphical user interface (GUI) ()**


**Guided media ()**


**hacker ()**


**halting problem ()**


**hardware ()**


**hardware abstraction layer (HAL) ()**
Windows 

**hashed file ()**


**hashed MAC (HMAC) ( MAC)**
ITU  ASN.1 

**hashing method ()**


**hashtag ()**
 (#) 

**HDMI (High-Definition Multimedia Interface) ()**
HDMI 

**header ()**


**heuristic search ()**


**hexadecimal digit ()**


**hexadecimal system ()**
 16  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E  F

**hierarchical model ()**


**high-level language ()**


**high-order logic ()**
    

**hold state ()**


**home address ()**


**home directory ()**
 UNIX  Linux 

**home page ()**


**host ()**


**host identifier ()**


**hub ()**


**Huffman coding ()**


**hypertext ()**


**Hypertext Markup Language (HTML) ()**
 Web 

**Hypertext Transfer Protocol (HTTP) ()**


**identifier ()**


**image processing ()**


**imperative language ()**


**imperative paradigm ()**


**implementation phase ()**


**increment statement ()**
 C  C++  1 

**incremental model ()**


**index ()**


**indexed color ()**


**indexed file ()**


**infix ()**


**infrared waves ()**
 300 GHz  400 THz 

**inheritance ()**


**inorder traversal ()**


**input ()**


**input data ()**


**input/output (I/O) controller (/ (I/O) )**
/

**input/output subsystem (/)**


**insert operation ()**


**insertion sort ()**


**instruction ()**


**instruction register ()**
CPU 

**integer ()**


**integrated circuit ()**


**integrity ()**


**intellectual property ()**


**intelligent agent ()**


**interface ()**


**internal level ()**


**internal node ()**


**International Organization for Standardization (ISO) ()**


**internet ()**
internetwork 

**Internet ()**
 TCP/IP 

**Internet address ()**
 32 

**Internet Protocol (IP) ()**
TCP/IP 

**Internet Protocol version 6 (IPv6) ()**
 IP

**Internet service provider (ISP) ()**


**internetwork ()**


**interpretation ()**


**interpreter ()**


**interrupt driven I/O ( I/O)**
 I/O  CPU  I/O  I/O 

**intersection operation ()**


**intersector gap ()**


**intertrack gap ()**


**intracoded frame (I-frame) ()**
 MPEG 

**inverted file ()**


**IP address (IP )**
**

**IP datagram (IP )**


**IP new generation (IPng) (IP )**
IPv6 

**isolated I/O ( I/O)**
 I/O ///

**Java**


**job ()**


**job scheduler ()**


**join operation ()**


**Joint Photographic Experts Group (JPEG) ()**


**kernel ()**


**key ()**


**key-distribution center (KDC) ()**


**keyboard ()**


**land ()**


**last in, first out (LIFO) ()**


**leaf ()**


**Lempel Ziv (LZ) encoding (Lempel Ziv (LZ) )**


**Lempel Ziv Welch (LZW) encoding (Lempel Ziv Welch (LZW) )**
LZ 

**lexical analyzer ()**


**linear list ()**


**link ()**


**linked list ()**


**linked list resolution ()**


**Linux**
 Linus Torvalds  UNIX  Intel 

**LISP**


**list ()**


**literal ()**


**local area network (LAN) ()**


**local variable ()**


**logical operation ()**


**logical operator ()**


**logical shift operation ()**


**loop ()**


**loop statement ()**


**lossless data compression ()**


**lossy data compression ()**


**MAC addresses (MAC )**


**machine cycle ()**


**machine language ()**


**macro ()**


**magnetic disk ()**


**magnetic tape ()**


**Mail Transfer Agent ()**


**main memory ()**
**

**maintainability ()**


**mantissa ()**


**mask ()**


**masquerading ()**


**master disk ()**
CD-ROM 

**master file ()**


**medium access control (MAC) address ( (MAC) )**
**

**memory ()**
 (RAM)  (ROM) 

**memory management ()**


**memory-mapped I/O ( I/O)**
 I/O  I/O 

**Message Access Agent (MAA) ()**


**message authentication code (MAC) ()**


**message digest ()**


**message transfer agent (MTA) ()**
 SMTP 

**method ()**


**metropolitan area network (MAN) ()**


**microcomputer ()**


**Microsoft Disk Operating System (MS-DOS) ()**
 DOS  Microsoft 

**modal logic ()**


**modem ()**
-

**modularity ()**


**modulator ()**


**module ()**


**modulo division ()**


**monitor ()**


**Monitor ()**


**monoalphabetic cipher ()**


**monoprogramming ()**


**moral rule ()**


**moral rules ()**


**Moving Picture Experts Group (MPEG) ()**


**MPEG audio layer (MP3) (MPEG )**
 MPEG 

**multidimensional array ()**


**Multiple Instruction Stream, Single Data Stream (MISD) ()**


**multiple instruction_stream, multiple data stream (MIMD) ()**
 CU ALU 

**multiprogramming ()**


**multithreading ()**
 Java

**mutual exclusion ()**


**name ()**


**name space ()**


**network ()**


**network layer ()**
TCP/IP 

**network model ()**


**neural network ()**


**neuron ()**


**new master file ()**


**news ()**
Facebook  60 000 

**no preemption ()**


**node ()**


**node-to-node ()**


**nonpolynomial problem ()**


**nonpositional number system ()**


**Nonstorage device ()**
 CPU/

**nonstorage device ()**
 CPU 

**normal form (NF) ()**


**normalization ()**


**NOT operator (NOT )**
 0  1  1  0 

**null pointer ()**


**number system ()**


**object program ()**


**object-oriented analysis ()**


**object-oriented database ()**


**object-oriented design ()**


**object-oriented language ()**


**object-oriented paradigm ()**


**octal digit ()**
 8 

**octal system ()**
 8  0  7

**old master file ()**


**one-dimensional array ()**


**one-time pad ()**


**ones complement ()**


**open addressing resolution ()**


**operability ()**


**operand ()**
**

**operating system ()**


**operator ()**
**

**optical storage device ()**
 I/O 

**OR operator (OR )**
 0  0 1 

**output ()**


**output data ()**


**output device ()**


**overflow ()**


**packet-filter firewall ()**


**packetizing ()**


**page ()**


**paging ()**
**

**palette color ()**
**

**parallel processing ()**


**parallel system ()**
 CPU 

**parameter ()**


**parent ()**


**parent directory ()**


**parser ()**


**partitioning ()**


**Pascal**


**pass by reference ()**


**pass by value ()**


**patent ()**


**path ()**


**peer-to-peer paradigm ()**


**penetration attack ()**


**penetration attack ()**


**perceptron ()**


**perceptual encoding ()**


**physical agent ()**


**physical layer ()**
TCP/IP 

**pico**
Unix 

**picture element (pixel) ( ())**


**pipelining ()**


**Pipelining ()**


**pit ()**
 0 

**pixel ()**
**

**place value ()**


**plaintext ()**


**point-to-point ()**


**pointer ()**


**polyalphabetic cipher ()**


**polycarbonate resin ()**
 CD-ROM 

**polymorphism ()**
 C++ 

**polynomial problem ()**


**pop**


**port address ()**
**

**port number ()**
TCP  UDP 

**portability ()**


**positional number system ()**


**postfix ()**


**postorder traversal ()**


**pragmatic analysis ()**


**predicate logic ()**


**predicted frame (P-frame) ()**
 MPEG  I-frame  B-frame 

**Predictive encoding ()**


**prefix ()**


**preorder traversal ()**


**prime area ()**


**printer ()**


**privacy ()**


**privacy ()**


**private key ()**


**procedural language ()**


**procedural paradigm ()**


**procedure-oriented analysis ()**


**procedure-oriented design ()**


**process ()**


**process manager ()**


**process scheduler ()**
 CPU 

**product ()**


**program ()**


**program counter ()**
CPU 

**programmable read-only memory (PROM) ()**


**programmed I/O ( I/O)**
 I/O  CPU  I/O 

**programming language ()**


**project operation ()**


**PROLOG**


**propositional logic ()**


**protocol ()**


**protocol layering ()**


**proxy firewall ()**


**proxy firewall ()**


**pseudocode ()**


**public key ()**


**public-key certificate ()**


**push**


**quantifier ()**
  

**quantization ()**


**queue ()**


**radix ()**


**random access ()**


**random access memory (RAM) ()**


**raster graphic ()**
**

**read-only memory (ROM) ()**


**read/write head (/)**


**ready state ()**
 CPU 

**real ()**


**real-time system ()**


**rear ()**
 enqueue 

**record ()**


**recursion ()**


**reduced instruction set computer (RISC) ()**


**register ()**


**relation ()**


**relational database ()**


**relational database management system (RDBMS) ()**


**relational model ()**
**

**relational operator ()**


**relative pathname ()**


**reliability ()**


**remote login ()**


**repetition ()**


**replaying ()**


**replicated distributed database ()**


**resolution ()**


**resource holding ()**


**retrieval ()**


**retweet ()**
 Twitter 

**RGB**


**Roman number system ()**


**root ()**


**root directory ()**


**rotational speed ()**


**router ()**
 TCP/IP 

**routing ()**


**row-major storage ()**


**RSA cryptosystem (RSA )**
 RiverShamir  Adleman  e  d

**RSA cryptosystem (RSA )**
RSA 

**rule-based system ()**


**run-length encoding ()**


**running state ()**
 CPU 

**sampling ()**


**sampling rate ()**


**scanning ()**


**scheduler ()**


**scheduling ()**


**scheme**
LISP 

**scientific notation ()**
10 

**search space ()**


**searching ()**


**secondary storage device ()**
**

**secret key ()**


**sector ()**


**Secure Hash Algorithm (SHA) ()**
 NIST 

**Secure Shell (SSH) ()**


**security ()**


**security attack ()**


**security goal ()**


**seek time ()**
/

**segment ()**


**segmentation ()**


**select operation ()**


**selection ()**


**selection sort ()**


**semantic analysis ()**


**semantic network ()**


**sequence ()**


**sequential access ()**


**sequential file ()**


**sequential search ()**


**server ()**


**shell**
 UNIX

**shift cipher ()**


**siblings ()**


**side effect ()**
/

**sign out ()**


**sign out ()**
 Facebook 

**sign-and-magnitude representation ()**
 1 

**simple type ()**


**single instruction stream, multiple data stream (SIMD) ()**
 ALU 

**single-user operating system ()**


**small computer system interface (SCSI) ()**
 I/O 

**snooping ()**


**social contract ()**


**social contract ()**


**social media ()**


**social network ()**


**software ()**


**software agent ()**


**software engineering ()**


**software lifecycle ()**


**software quality ()**


**solvable problem ()**


**soma ()**


**something inherent ()**


**something known ()**


**something possessed ()**


**sort pass ()**


**sorting ()**


**source program ()**


**source-to-destination delivery ()**


**spatial compression ()**
JPEG 

**speech recognition ()**
 AI 

**spoofing ()**
**

**stack ()**


**Standard Ethernet ()**
 10 Mbps 

**starvation ()**


**state chart ()**


**state diagram ()**


**statement ()**
C 

**static RAM (SRAM) ( RAM)**
 0  1 

**steganography ()**


**storage device ()**
 I/O 

**stream cipher ()**


**String ()**


**string ()**
 C  C++  string  Java 

**structure chart ()**


**structured program ()**


**Structured Query Language (SQL) ()**


**subalgorithm ()**


**subprogram ()**


**subroutine ()**
**

**substitution cipher ()**


**subtree ()**


**summation ()**


**switch ()**


**switched WAN ( WAN)**
 WAN

**symbolic language ()**


**symmetric-key cipher ()**


**symmetric-key encryption ()**


**synapse ()**


**synonym ()**


**syntactic analysis ()**


**syntax ()**


**syntax analyzer ()**


**system documentation ()**


**TCP/IP protocol suite (TCP/IP )**


**technical documentation ()**


**TELNET (terminal network) ()**


**temporal compression ()**
MPEG 

**temporal logic ()**


**temporal masking ()**


**terminated state ()**


**testability ()**


**testing phase ()**


**text ()**


**text editor ()**


**text file ()**
**

**thresholding ()**


**throughput ()**


**ticket ()**
 Bob  Alice  Bob

**time sharing ()**


**token ()**


**topology ()**


**track ()**


**trade secret ()**


**trademark ()**


**traffic analysis ()**


**transaction file ()**


**transfer time ()**
 CPU/

**transferability ()**


**translator ()**
****

**Transmission Control Protocol (TCP) ()**
TCP/IP 

**Transmission Control Protocol/Internet Protocol (TCP/IP) (/)**


**transmission medium ()**


**transmission rate ()**


**transposition cipher ()**


**traversal ()**


**tree ()**


**Trojan horse ()**


**True-Color ()**
 24 

**truncation error ()**


**truth table ()**


**tuple ()**


**Turing machine ()**
/

**Turing model ()**


**Turing test ()**


**tweet ()**
Twitter  140 

**twisted-pair cable ()**


**Twitter**


**two-dimensional array ()**
**

**twos complement ()**
 1 

**twos complement representation ()**
 0  1 

**unary operation ()**


**underflow ()**


**undirected graph ()**


**unfollow ()**
 Twitter 

**unguided media ()**


**Unicode ()**
 32 

**Unified Modeling Language (UML) ()**


**Uniform Resource Locator (URL) ()**


**union operation ()**


**universal serial bus (USB) ()**
 I/O 

**UNIX**


**unsigned integer ()**
 0 

**unsolvable problem ()**


**update operation ()**


**use-case diagram ()**
 UML 

**user agent (UA) ()**
SMTP 

**user datagram ()**
UDP 

**User Datagram Protocol (UDP) ()**
TCP/IP 

**user interface ()**


**user page ()**
Facebook 

**user page ()**
 Facebook 

**users ()**
 DBMS 

**utility ()**
UNIX 

**utilization ()**


**utilization ()**


**variable ()**
**

**vector graphic ()**


**verifying algorithm ()**


**vertex ()**


**vi**
Unix 

**video ()**


**virtual memory ()**


**virus ()**


**von Neumann model ()**
/

**waiting state ()**
 CPU 

**waterfall model ()**


**Web**
**

**Web page ()**


**well-known port number ()**


**white-box testing ()**
**

**wide area network (WAN) ()**


**WiMax**


**Windows**
 Microsoft 

**Windows 2000**
Windows NT 

**Windows NT**
 Microsoft  MS-DOS 

**Windows XP**
Windows NT 

**working directory ()**


**World Wide Web (WWW) ()**


**Worldwide Interoperability Access ()**
DSL 

**worm ()**


**write once, read many (WORM) ()**
CD-R 

**X.509**


**X.509**
X.509  ASN.1 

**XOR operator (XOR )**
 1  1

**zero-knowledge authentication ()**

`},Ne=[{id:"preface",title:{en:"Preface",zh:""},subtitle:{en:"Book preface and organization",zh:""}},{id:"chapter1",title:{en:"Chapter 1: Introduction",zh:""},subtitle:{en:"Turing and von Neumann models, computer components",zh:""}},{id:"chapter2",title:{en:"Chapter 2: Number Systems",zh:""},subtitle:{en:"Positional and non-positional systems, conversions",zh:""}},{id:"chapter3",title:{en:"Chapter 3: Data Storage",zh:""},subtitle:{en:"Storing numbers, text, audio, images, and video",zh:""}},{id:"chapter4",title:{en:"Chapter 4: Operations on Data",zh:""},subtitle:{en:"Logic, shift, and arithmetic operations",zh:""}},{id:"chapter5",title:{en:"Chapter 5: Computer Organization",zh:""},subtitle:{en:"CPU, main memory, and I/O subsystems",zh:"CPU/"}},{id:"chapter6",title:{en:"Chapter 6: Computer Networks and Internet",zh:""},subtitle:{en:"Layers, protocols, and network types",zh:""}},{id:"chapter7",title:{en:"Chapter 7: Operating Systems",zh:""},subtitle:{en:"Components, evolution, and major OSs",zh:""},highlight:!0},{id:"chapter8",title:{en:"Chapter 8: Algorithms",zh:""},subtitle:{en:"Constructs, representation, sorting, and searching",zh:""},highlight:!0},{id:"chapter9",title:{en:"Chapter 9: Algorithm Efficiency",zh:""},subtitle:{en:"5th Edition Textbook Addition",zh:"5"},disabled:!0},{id:"chapter10",title:{en:"Chapter 10: Programming Languages",zh:""},subtitle:{en:"Evolution, paradigms, and common concepts",zh:""},highlight:!0},{id:"chapter11",title:{en:"Chapter 11: Software Engineering",zh:""},subtitle:{en:"Lifecycle, analysis, design, and testing",zh:""}},{id:"chapter12",title:{en:"Chapter 12: Data Structure",zh:""},subtitle:{en:"Arrays, records, and linked lists",zh:""},highlight:!0},{id:"chapter13",title:{en:"Chapter 13: Abstract Data Types",zh:""},subtitle:{en:"Stacks, queues, lists, trees, and graphs",zh:""},highlight:!0},{id:"chapter14",title:{en:"Chapter 14: File Structure",zh:""},subtitle:{en:"Sequential, indexed, and hashed files",zh:""}},{id:"chapter15",title:{en:"Chapter 15: Databases",zh:""},subtitle:{en:"Database models and relational databases",zh:""},highlight:!0},{id:"chapter16",title:{en:"Chapter 16: Data Compression",zh:""},subtitle:{en:"Lossless and lossy compression techniques",zh:""}},{id:"chapter17",title:{en:"Chapter 17: Security",zh:""},subtitle:{en:"Confidentiality, integrity, and availability",zh:""}},{id:"chapter18",title:{en:"Chapter 18: Theory of Computation",zh:""},subtitle:{en:"Simple Language, Turing machines, halting problem",zh:""}},{id:"chapter19",title:{en:"Chapter 19: Computer Graphics",zh:""},subtitle:{en:"5th Edition Textbook Addition",zh:"5"},disabled:!0},{id:"chapter20",title:{en:"Chapter 20: Artificial Intelligence",zh:""},subtitle:{en:"Knowledge representation, expert systems, and search",zh:""}},{id:"chapter21",title:{en:"Chapter 21: Introduction to Social Media",zh:""},subtitle:{en:"Concepts behind Facebook and Twitter",zh:"Facebook  Twitter "}},{id:"chapter22",title:{en:"Chapter 22: Social and Ethical Issues",zh:""},subtitle:{en:"Principles, property, privacy, and crime",zh:""}},{id:"appendixA",title:{en:"Appendix A: Unicode",zh:" A"},subtitle:{en:"Structure of Unicode and ASCII chart",zh:" ASCII "}},{id:"appendixB",title:{en:"Appendix B: UML",zh:" BUML"},subtitle:{en:"Unified Modeling Language diagrams",zh:""}},{id:"appendixC",title:{en:"Appendix C: Pseudocode",zh:" C"},subtitle:{en:"Components and constructs",zh:""}},{id:"appendixD",title:{en:"Appendix D: Structure Chart",zh:" D"},subtitle:{en:"Symbols and rules for structure charts",zh:""}},{id:"appendixE",title:{en:"Appendix E: Boolean Algebra",zh:" E"},subtitle:{en:"Logic circuits and axioms",zh:""}},{id:"appendixF",title:{en:"Appendix F: Example Programs",zh:" F"},subtitle:{en:"Examples in C, C++, and Java",zh:"CC++  Java "}},{id:"appendixG",title:{en:"Appendix G: Mathematical Review",zh:" G"},subtitle:{en:"Exponents, logarithms, and modular arithmetic",zh:""}},{id:"appendixH",title:{en:"Appendix H: Error Detection",zh:" H"},subtitle:{en:"Detection and correction codes",zh:""}},{id:"appendixI",title:{en:"Appendix I: Sign-and-Magnitude",zh:" I"},subtitle:{en:"Addition and subtraction for integers",zh:""}},{id:"appendixJ",title:{en:"Appendix J: Reals",zh:" J"},subtitle:{en:"Addition and subtraction for reals",zh:""}},{id:"acronyms",title:{en:"Acronyms",zh:""},subtitle:{en:"List of common abbreviations",zh:""}},{id:"glossary",title:{en:"Glossary",zh:""},subtitle:{en:"Definitions of key terms",zh:""}}],PN={preface:{title:Ne[0].title,content:iN},chapter1:{title:Ne[1].title,content:rN},chapter2:{title:Ne[2].title,content:oN},chapter3:{title:Ne[3].title,content:sN},chapter4:{title:Ne[4].title,content:lN},chapter5:{title:Ne[5].title,content:cN},chapter6:{title:Ne[6].title,content:hN},chapter7:{title:Ne[7].title,content:dN},chapter8:{title:Ne[8].title,content:uN},chapter9:{title:Ne[9].title,content:{en:"",zh:""}},chapter10:{title:Ne[10].title,content:mN},chapter11:{title:Ne[11].title,content:pN},chapter12:{title:Ne[12].title,content:fN},chapter13:{title:Ne[13].title,content:gN},chapter14:{title:Ne[14].title,content:bN},chapter15:{title:Ne[15].title,content:yN},chapter16:{title:Ne[16].title,content:wN},chapter17:{title:Ne[17].title,content:vN},chapter18:{title:Ne[18].title,content:xN},chapter19:{title:Ne[19].title,content:{en:"",zh:""}},chapter20:{title:Ne[20].title,content:_N},chapter21:{title:Ne[21].title,content:TN},chapter22:{title:Ne[22].title,content:kN},appendixA:{title:Ne[23].title,content:AN},appendixB:{title:Ne[24].title,content:SN},appendixC:{title:Ne[25].title,content:CN},appendixD:{title:Ne[26].title,content:EN},appendixE:{title:Ne[27].title,content:IN},appendixF:{title:Ne[28].title,content:NN},appendixG:{title:Ne[29].title,content:MN},appendixH:{title:Ne[30].title,content:zN},appendixI:{title:Ne[31].title,content:$N},appendixJ:{title:Ne[32].title,content:RN},acronyms:{title:Ne[33].title,content:DN},glossary:{title:Ne[34].title,content:ON}},LN=[],BN=[{id:"c1.4",chapter:"1",number:"1.4",title_en:"Categorize Hardware/Software",title_zh:"/",description_en:`Categorize each of the following items as either hardware or software:
a) a microprocessor
b) RAM
c) Microsoft Visual Studio
d) a preprocessor
e) a scanner
f) an internet browser`,description_zh:`
a) 
b) RAM
c) Microsoft Visual Studio
d) 
e) 
f) `,difficulty:"easy",type:"short_answer"},{id:"c1.9",chapter:"1",number:"1.9",title_en:"Internet Negatives",title_zh:"",description_en:"Besides their numerous benefits, the Internet and the web have several downsides, such as privacy issues, identity theft, spam and malware. Research some of the negative aspects of the Internet. List five problems and describe what could possibly be done to help solve each.",description_zh:"",difficulty:"medium",type:"making_a_difference"},{id:"c1.10",chapter:"1",number:"1.10",title_en:"Watch as an Object",title_zh:"",description_en:"You are probably wearing on your wrist one of the most common types of objectsa watch. Discuss how each of the following terms and concepts applies to the notion of a watch: object, attributes, behaviors, class, inheritance (consider, for example, an alarm clock), messages, encapsulation and information hiding.",description_zh:"",difficulty:"medium",type:"short_answer"},{id:"c1.11",chapter:"1",number:"1.11",title_en:"Test-Drive: Carbon Footprint Calculator",title_zh:"",description_en:"Some scientists believe that carbon emissions contribute significantly to global warming. Websites like TerraPass and Carbon Footprint provide carbon-footprint calculators. Test-drive these calculators to determine your carbon footprint. To prepare for programming your own later, use the web to research the formulas for calculating carbon footprints.",description_zh:" TerraPass  Carbon Footprint ",difficulty:"easy",type:"making_a_difference"},{id:"c1.12",chapter:"1",number:"1.12",title_en:"Test-Drive: Body Mass Index Calculator",title_zh:"(BMI)",description_en:"Obesity causes significant increases in illnesses. To determine whether a person is overweight or obese, you can use the body mass index (BMI). The U.S. Department of Health provides a BMI calculator. Use it to calculate your own BMI. To prepare for programming your own later, research the formulas for calculating BMI.",description_zh:"BMI BMI  BMI BMI ",difficulty:"easy",type:"making_a_difference"},{id:"c1.14",chapter:"1",number:"1.14",title_en:"Gender Neutrality",title_zh:"",description_en:"You've been asked to create a program that can process a paragraph of text and replace gender-specific words with gender-neutral ones (e.g., replace wife with spouse). Explain the procedure you'd use to read through a paragraph and manually perform these replacements. How might your procedure generate a strange term like woperchild?",description_zh:"woperchild",difficulty:"medium",type:"making_a_difference"}],FN=[{id:"c2.16",chapter:"2",number:"2.16",title_en:"Arithmetic",title_zh:"",description_en:"Write a program that asks the user to enter two numbers, obtains them from the user and prints their sum, product, difference, quotient and remainder.",description_zh:"",difficulty:"easy",type:"programming",templateCode:`#include <stdio.h>

int main(void) {
    // Declare variables
    int num1, num2;

    // Prompt user for input
    printf("Enter two numbers: ");
    scanf("%d %d", &num1, &num2);

    // Perform calculations and print results
    printf("Sum is %d\\n", num1 + num2);
    printf("Product is %d\\n", num1 * num2);
    printf("Difference is %d\\n", num1 - num2);
    printf("Quotient is %d\\n", num1 / num2);
    printf("Remainder is %d\\n", num1 % num2);
    
    return 0;
}`,sampleOutput:`Enter two numbers: 45 10
Sum is 55
Product is 450
Difference is 35
Quotient is 4
Remainder is 5`},{id:"c2.17",chapter:"2",number:"2.17",title_en:"Final Velocity",title_zh:"",description_en:"Write a program that asks the user to enter the initial velocity (u), acceleration (a), and time (t) of an object, and prints the final velocity (v) and distance traversed (s), using the formulas: v = u + at and s = ut + (1/2)at",description_zh:"(u)(a)(t) v = u + at  s = ut + (1/2)at  v  s",difficulty:"easy",type:"programming",templateCode:`#include <stdio.h>

int main(void) {
    double u, a, t;
    double v, s;

    printf("Enter initial velocity (u): ");
    scanf("%lf", &u);

    printf("Enter acceleration (a): ");
    scanf("%lf", &a);

    printf("Enter time elapsed (t): ");
    scanf("%lf", &t);

    v = u + a * t;
    s = u * t + 0.5 * a * t * t;

    printf("\\nFinal velocity (v) is: %.2f\\n", v);
    printf("Distance traversed (s) is: %.2f\\n", s);
    
    return 0;
}`,sampleOutput:`Enter initial velocity (u): 10
Enter acceleration (a): 5
Enter time elapsed (t): 12

Final velocity (v) is: 70.00
Distance traversed (s) is: 480.00`},{id:"c2.19",chapter:"2",number:"2.19",title_en:"Arithmetic, Largest, and Smallest",title_zh:"",description_en:"Write a program that inputs three different integers from the keyboard, then prints the sum, the average, the product, the smallest and the largest of these numbers. Use only the single-selection form of the if statement.",description_zh:" if ",difficulty:"medium",type:"programming",templateCode:`#include <stdio.h>

int main(void) {
    int n1, n2, n3;
    int sum, product;
    float average;
    int smallest, largest;

    printf("Enter three different integers: ");
    scanf("%d %d %d", &n1, &n2, &n3);

    sum = n1 + n2 + n3;
    average = (float)sum / 3.0;
    product = n1 * n2 * n3;

    printf("Sum is %d\\n", sum);
    printf("Average is %.2f\\n", average);
    printf("Product is %d\\n", product);

    smallest = n1;
    if (n2 < smallest) {
        smallest = n2;
    }
    if (n3 < smallest) {
        smallest = n3;
    }
    printf("Smallest is %d\\n", smallest);

    largest = n1;
    if (n2 > largest) {
        largest = n2;
    }
    if (n3 > largest) {
        largest = n3;
    }
    printf("Largest is %d\\n", largest);

    return 0;
}`,sampleOutput:`Enter three different integers: 13 27 14
Sum is 54
Average is 18.00
Product is 4914
Smallest is 13
Largest is 27`},{id:"c2.20",chapter:"2",number:"2.20",title_en:"Seconds to H:M:S",title_zh:"",description_en:"Write a program that asks the user to enter the total time elapsed in seconds and converts it to hours:minutes:seconds. [Hint: Use the remainder operator]",description_zh:" :: []",difficulty:"easy",type:"programming",templateCode:`#include <stdio.h>

int main(void) {
    int total_seconds;
    int hours, minutes, seconds;

    printf("Enter total time elapsed in seconds: ");
    scanf("%d", &total_seconds);

    hours = total_seconds / 3600;
    minutes = (total_seconds % 3600) / 60;
    seconds = total_seconds % 60;

    printf("%d seconds is equal to %d:%d:%d\\n", total_seconds, hours, minutes, seconds);

    return 0;
}`,sampleOutput:`Enter total time elapsed in seconds: 3723
3723 seconds is equal to 1:2:3`},{id:"c2.21",chapter:"2",number:"2.21",title_en:"Shapes with Asterisks",title_zh:"",description_en:"Write a program that prints specific shapes using asterisks.",description_zh:"",difficulty:"easy",type:"programming",templateCode:`#include <stdio.h>

int main(void) {
    printf("*********\\n*       *\\n*       *\\n*       *\\n*       *\\n*       *\\n*       *\\n*       *\\n*********\\n\\n");
    printf("   ***   \\n *     * \\n*       *\\n*       *\\n*       *\\n*       *\\n*       *\\n *     * \\n   ***   \\n\\n");
    printf("  *  \\n *** \\n*****\\n  *  \\n  *  \\n  *  \\n  *  \\n\\n");
    printf("    *    \\n   * *   \\n  *   *  \\n *     * \\n*       *\\n *     * \\n  *   *  \\n   * *   \\n    *    \\n");
    return 0;
}`},{id:"c2.23",chapter:"2",number:"2.23",title_en:"Largest and Smallest Integers",title_zh:"",description_en:"Write a program that reads in three integers and then determines and prints the largest and the smallest integers in the group.",description_zh:"",difficulty:"easy",type:"programming",templateCode:`#include <stdio.h>

int main(void) {
    int n1, n2, n3;
    int smallest, largest;

    printf("Enter three integers: ");
    scanf("%d %d %d", &n1, &n2, &n3);

    smallest = n1;
    if (n2 < smallest) smallest = n2;
    if (n3 < smallest) smallest = n3;

    largest = n1;
    if (n2 > largest) largest = n2;
    if (n3 > largest) largest = n3;

    printf("Smallest is %d\\n", smallest);
    printf("Largest is %d\\n", largest);

    return 0;
}`},{id:"c2.24",chapter:"2",number:"2.24",title_en:"Odd or Even",title_zh:"",description_en:"Write a program that reads an integer and determines and prints whether it's odd or even.",description_zh:"",difficulty:"easy",type:"programming",templateCode:`#include <stdio.h>

int main(void) {
    int num;

    printf("Enter an integer: ");
    scanf("%d", &num);

    if (num % 2 == 0) {
        printf("%d is even.\\n", num);
    } else {
        printf("%d is odd.\\n", num);
    }
    
    return 0;
}`},{id:"c2.26",chapter:"2",number:"2.26",title_en:"Multiples",title_zh:"",description_en:"Write a program that reads in two integers and determines and prints whether the first is a multiple of the second.",description_zh:"",difficulty:"easy",type:"programming",templateCode:`#include <stdio.h>

int main(void) {
    int num1, num2;

    printf("Enter two integers: ");
    scanf("%d %d", &num1, &num2);

    if (num2 != 0 && num1 % num2 == 0) {
        printf("%d is a multiple of %d.\\n", num1, num2);
    } else {
        printf("%d is not a multiple of %d.\\n", num1, num2);
    }

    return 0;
}`},{id:"c2.29",chapter:"2",number:"2.29",title_en:"Integer Value of a Character",title_zh:"",description_en:"Write a C program that prints the integer equivalents of: A B C a b c 0 1 2 $ * + / and the blank character.",description_zh:" C A B C a b c 0 1 2 $ * + / ",difficulty:"easy",type:"programming",templateCode:`#include <stdio.h>

int main(void) {
    printf("A: %d\\n", 'A');
    printf("B: %d\\n", 'B');
    printf("C: %d\\n", 'C');
    printf("a: %d\\n", 'a');
    printf("b: %d\\n", 'b');
    printf("c: %d\\n", 'c');
    printf("0: %d\\n", '0');
    printf("1: %d\\n", '1');
    printf("2: %d\\n", '2');
    printf("$: %d\\n", '$');
    printf("*: %d\\n", '*');
    printf("+: %d\\n", '+');
    printf("/: %d\\n", '/');
    printf("space: %d\\n", ' ');

    return 0;
}`},{id:"c2.32",chapter:"2",number:"2.32",title_en:"Body Mass Index Calculator",title_zh:"(BMI)",description_en:"Create a BMI calculator application that reads the user's weight and height, then calculates and displays the user's body mass index, along with the standard BMI categories.",description_zh:" BMI  BMI ",difficulty:"medium",type:"making_a_difference",templateCode:`#include <stdio.h>

int main(void) {
    float weight_lb, height_in;
    float bmi;

    printf("Enter your weight in pounds: ");
    scanf("%f", &weight_lb);
    printf("Enter your height in inches: ");
    scanf("%f", &height_in);

    bmi = (weight_lb * 703) / (height_in * height_in);

    printf("\\nYour BMI is: %.2f\\n\\n", bmi);
    
    printf("BMI VALUES\\n");
    printf("Underweight: less than 18.5\\n");
    printf("Normal:      between 18.5 and 24.9\\n");
    printf("Overweight:  between 25 and 29.9\\n");
    printf("Obese:       30 or greater\\n");

    return 0;
}`},{id:"c2.33",chapter:"2",number:"2.33",title_en:"Car-Pool Savings Calculator",title_zh:"",description_en:"Create an application that calculates your daily driving cost based on total miles, gas cost, mileage, parking, and tolls.",description_zh:"",difficulty:"easy",type:"making_a_difference",templateCode:`#include <stdio.h>

int main(void) {
    float miles, cost_gallon, avg_mpg, parking, tolls;
    float daily_cost;

    printf("Enter total miles driven per day: ");
    scanf("%f", &miles);
    printf("Enter cost per gallon of gasoline: ");
    scanf("%f", &cost_gallon);
    printf("Enter average miles per gallon: ");
    scanf("%f", &avg_mpg);
    printf("Enter parking fees per day: ");
    scanf("%f", &parking);
    printf("Enter tolls per day: ");
    scanf("%f", &tolls);

    daily_cost = (miles / avg_mpg) * cost_gallon + parking + tolls;

    printf("\\nYour daily driving cost is: $%.2f\\n", daily_cost);

    return 0;
}`}],jN=[{id:"c3.10",chapter:"3",number:"3.10",title_en:"Error Correction",title_zh:"",description_en:'Identify and correct the errors in each of the following code snippets. [Note: There may be more than one error in each piece of code.]\na) `if (sales => 5000 ) puts("Sales are greater than or equal to $5000"); else puts("Sales are less than $5000");`\nb) `int x = 1, product = 0; while (x <= 10); { product *= x; ++x; }`\nc) `While (x <= 100 ) total =+ x; ++x;`',description_zh:'[]\na) `if (sales => 5000 ) puts("Sales are greater than or equal to $5000"); else puts("Sales are less than $5000");`\nb) `int x = 1, product = 0; while (x <= 10); { product *= x; ++x; }`\nc) `While (x <= 100 ) total =+ x; ++x;`',difficulty:"easy",type:"short_answer"},{id:"c3.16",chapter:"3",number:"3.16",title_en:"Sales Tax",title_zh:"",description_en:"A retailer has to file a monthly sales tax report which lists the sales for the month and the amount of sales tax collected, at both the county and state levels. Develop a program that will input the total collections for a month, calculate the sales tax on the collections, and display the county and state taxes. Assume that states have a 4% sales tax and counties have a 5% sales tax.",description_zh:" 4% 5%",difficulty:"easy",type:"programming"},{id:"c3.17",chapter:"3",number:"3.17",title_en:"Mortgage Calculator",title_zh:"",description_en:"Develop a C program to calculate the interest accrued on a bank customer's mortgage. For each customer, the following facts are available: account number, mortgage amount, mortgage term (in years), and interest rate. The program should input each fact, calculate the total interest payable ( = mortgage amount  interest rate  mortgage term), and calculate the required monthly payment. The program should display the monthly payment rounded to the nearest dollar.",description_zh:" C =     ",difficulty:"medium",type:"programming"},{id:"c3.18",chapter:"3",number:"3.18",title_en:"Sales-Commission Calculator",title_zh:"",description_en:"A large chemical company pays its salespeople on a commission basis. The salespeople receive $200 per week plus 9% of their gross sales for that week. Develop a program that will input each salesperson's gross sales for last week and will calculate and display that salesperson's earnings. Process one salesperson's figures at a time.",description_zh:" 200  9%",difficulty:"easy",type:"programming"},{id:"c3.19",chapter:"3",number:"3.19",title_en:"Interest Calculator",title_zh:"",description_en:"The simple interest on a loan is calculated by the formula: interest = principal * rate * days / 365; Develop a program that will input principal, rate and days for several loans, and will calculate and display the simple interest for each loan.",description_zh:" =  *  *  / 365",difficulty:"easy",type:"programming"},{id:"c3.20",chapter:"3",number:"3.20",title_en:"Salary Calculator",title_zh:"",description_en:`Develop a program that will determine the gross pay for each of several employees. The company pays straight time for the first 40 hours worked by each employee and pays "time-and-a-half" for all hours worked in excess of 40 hours. Your program should input the number of hours worked and the hourly rate for each employee, and determine and display the employee's gross pay.`,description_zh:" 40  40 1.5 ",difficulty:"medium",type:"programming"},{id:"c3.22",chapter:"3",number:"3.22",title_en:"Checking if a Number is Prime",title_zh:"",description_en:"A prime number is any natural number greater than 1 that is divisible only by 1 and by itself. Write a C program that reads an integer and determines whether it is a prime number or not.",description_zh:" 1  1  C ",difficulty:"medium",type:"programming"},{id:"c3.23",chapter:"3",number:"3.23",title_en:"Find the Largest Number",title_zh:"",description_en:"Write a program that inputs a series of 10 non-negative numbers and determines and prints the largest of the numbers. Your program should use three variables: counter, number, and largest.",description_zh:" 10 ",difficulty:"easy",type:"programming"},{id:"c3.24",chapter:"3",number:"3.24",title_en:"Tabular Output",title_zh:"",description_en:"Write a program that uses looping to print a table of N, N^2, N^3, and N^4 for N from 1 to 10. Use the tab escape sequence (\\t) to separate the columns.",description_zh:" N  1  10  NN^2N^3  N^4  (\\t) ",difficulty:"easy",type:"programming"},{id:"c3.32",chapter:"3",number:"3.32",title_en:"Square of Asterisks",title_zh:"",description_en:"Write a program that reads in the side of a square and then prints that square out of asterisks. Your program should work for squares of all side sizes between 1 and 20.",description_zh:" 1  20 ",difficulty:"easy",type:"programming"},{id:"c3.33",chapter:"3",number:"3.33",title_en:"Hollow Square of Asterisks",title_zh:"",description_en:"Modify the program you wrote in Exercise 3.32 so that it prints a hollow square. For example, if your program reads a size of 5, it should print a 5x5 hollow square.",description_zh:" 3.32  5 5x5 ",difficulty:"medium",type:"programming"},{id:"c3.45",chapter:"3",number:"3.45",title_en:"Factorial",title_zh:"",description_en:"The factorial of a nonnegative integer n is written n!. Write a program that reads a nonnegative integer and computes and prints its factorial.",description_zh:" n  n!",difficulty:"easy",type:"programming"},{id:"c3.46",chapter:"3",number:"3.46",title_en:"World Population Growth Calculator",title_zh:"",description_en:"Use the web to determine the current world population and the annual world population growth rate. Write an application that inputs these values, then displays the estimated world population after one, two, three, four and five years.",description_zh:"",difficulty:"easy",type:"making_a_difference"},{id:"c3.47",chapter:"3",number:"3.47",title_en:"Target-Heart-Rate Calculator",title_zh:"",description_en:"Create a program that reads the user's birthday and the current day (each consisting of the month, day and year). Your program should calculate and display the person's age (in years), the person's maximum heart rate (220 - age) and the person's target-heart-rate range (50-85% of max).",description_zh:"220 -  50-85%",difficulty:"medium",type:"making_a_difference"},{id:"c3.48",chapter:"3",number:"3.48",title_en:"Enforcing Privacy with Cryptography",title_zh:"",description_en:"Write a program that encrypts a four-digit integer. Replace each digit with the result of adding 7 to the digit and getting the remainder after dividing by 10. Then swap the first digit with the third, and swap the second digit with the fourth. Print the encrypted integer. Write a separate application that decrypts it.",description_zh:"+7 10 ",difficulty:"hard",type:"making_a_difference"}],UN=[{id:"c4.5",chapter:"4",number:"4.5",title_en:"Find the Errors",title_zh:"",description_en:'Find the error in each of the following. (Note: There may be more than one error.)\na) `for (a = 25, a <= 1, a--); { printf("%d\\n", a); }`\nb) The following code should print whether a given integer is odd or even: `switch (value) { case (value % 2 == 0): puts("Even"); case (value % 2 != 0): puts("Odd"); }`',description_zh:'\na) `for (a = 25, a <= 1, a--); { printf("%d\\n", a); }`\nb) `switch (value) { case (value % 2 == 0): puts("Even"); case (value % 2 != 0): puts("Odd"); }`',difficulty:"easy",type:"short_answer"},{id:"c4.9",chapter:"4",number:"4.9",title_en:"Sum and Average of Integers",title_zh:"",description_en:"Write a program to sum a sequence of integers and calculate their average. Assume that the first integer read specifies the number of values to be entered.",description_zh:"",difficulty:"easy",type:"programming"},{id:"c4.10",chapter:"4",number:"4.10",title_en:"Conversion Celsius to Fahrenheit",title_zh:"",description_en:"Write a program that converts temperatures from 30C to 50C to the Fahrenheit scale. The program should print a table displaying temperatures in the two scales side by side. [Hint: F = (9/5)C + 32]",description_zh:" 30C  50C [F = (9/5)C + 32]",difficulty:"easy",type:"programming"},{id:"c4.12",chapter:"4",number:"4.12",title_en:"Prime Numbers",title_zh:"",description_en:"Write a program to calculate and print a list of all prime numbers from 1 to 100.",description_zh:" 1  100 ",difficulty:"medium",type:"programming"},{id:"c4.14",chapter:"4",number:"4.14",title_en:"Factorials",title_zh:"",description_en:"Write a program that evaluates the factorials of the integers from 1 to 5. Print the results in tabular format. What difficulty might prevent you from calculating the factorial of 20?",description_zh:" 1  5  20 ",difficulty:"easy",type:"programming"},{id:"c4.15",chapter:"4",number:"4.15",title_en:"Modified Compound-Interest Program",title_zh:"",description_en:"Modify the compound-interest program to repeat its steps for interest rates of 5%, 6%, 7%, 8%, 9%, and 10%. Use a for loop to vary the interest rate.",description_zh:" 5%6%7%8%9%  10%  for ",difficulty:"medium",type:"programming"},{id:"c4.16",chapter:"4",number:"4.16",title_en:"Triangle-Printing Program",title_zh:"",description_en:'Write a program that prints four different triangle patterns separately, one below the other, using for loops. All asterisks (*) should be printed by a single printf statement of the form printf("%s", "*");',description_zh:' for  (*)  printf("%s", "*");  printf ',difficulty:"medium",type:"programming"},{id:"c4.17",chapter:"4",number:"4.17",title_en:"Calculating Credit Limits",title_zh:"",description_en:"A company has cut its customers' credit limits in half. Write a program that analyzes the credit status of three customers. For each customer you're given an account number, credit limit before the recession, and current balance. Your program should calculate and print the new credit limit and determine which customers have balances that exceed their new credit limits.",description_zh:"",difficulty:"easy",type:"programming"},{id:"c4.18",chapter:"4",number:"4.18",title_en:"Bar-Chart Printing Program",title_zh:"",description_en:"Write a program that reads five numbers (each between 1 and 30). For each number read, your program should print a line containing that number of adjacent asterisks.",description_zh:" 1  30 ",difficulty:"easy",type:"programming"},{id:"c4.19",chapter:"4",number:"4.19",title_en:"Calculating Sales",title_zh:"",description_en:"An online retailer sells five different products. Write a program that reads a series of pairs of numbers (product number and quantity sold) and uses a switch statement to determine the retail price for each product. Your program should calculate and display the total retail value of all products sold.",description_zh:" switch ",difficulty:"medium",type:"programming"},{id:"c4.27",chapter:"4",number:"4.27",title_en:"Pythagorean Triples",title_zh:"",description_en:"A right triangle can have sides that are all integers. The set of three integer values for the sides is called a Pythagorean triple. These three sides must satisfy the relationship that the sum of the squares of two of the sides is equal to the square of the hypotenuse. Find all Pythagorean triples for side1, side2, and the hypotenuse all no larger than 500. Use a triple-nested for loop.",description_zh:" side1side2  500  for ",difficulty:"hard",type:"programming"},{id:"c4.28",chapter:"4",number:"4.28",title_en:"Calculating Weekly Pay",title_zh:"",description_en:"A company pays its employees as managers (fixed salary), hourly workers (time-and-a-half for overtime), commission workers ($250 + 5.7% of sales), or pieceworkers. Write a program to compute the weekly pay for each employee. Use a switch to compute pay based on an employee's paycode.",description_zh:" 1.5 250  + 5.7%  switch ",difficulty:"hard",type:"programming"},{id:"c4.29",chapter:"4",number:"4.29",title_en:"De Morgan's Laws",title_zh:"",description_en:"Use De Morgan's Laws to write equivalent expressions for each of the following, and then write a program to show that both the original expression and the new expression in each case are equivalent.\na) `! (x < 5) && ! (y >= 7)`\nb) `! (a == b) || !(g != 5)`\nc) `!((x <= 8) && (y > 4))`\nd) `!((i > 4) || (j <= 6))`",description_zh:"\na) `! (x < 5) && ! (y >= 7)`\nb) `! (a == b) || !(g != 5)`\nc) `!((x <= 8) && (y > 4))`\nd) `!((i > 4) || (j <= 6))`",difficulty:"medium",type:"programming"},{id:"c4.31",chapter:"4",number:"4.31",title_en:"Diamond-Printing Program",title_zh:"",description_en:"Write a program that prints a diamond shape. You may use printf statements that print either a single asterisk (*) or a single blank. Maximize your use of iteration (with nested for statements).",description_zh:" (*)  printf  for ",difficulty:"medium",type:"programming"},{id:"c4.40",chapter:"4",number:"4.40",title_en:"World Population Growth",title_zh:"",description_en:"Get estimates for the current world population and its growth rate. Write a program that calculates world population growth each year for the next 75 years, using the simplifying assumption that the current growth rate will stay constant. Determine the year in which the population would be double what it is today.",description_zh:" 75 ",difficulty:"medium",type:"making_a_difference"},{id:"c4.41",chapter:"4",number:"4.41",title_en:"Tax Plan Alternatives; The FairTax",title_zh:"",description_en:"Research how the proposed FairTax works. Write a program that prompts the user to enter expenses in various categories (e.g., housing, food, clothing), then prints the estimated FairTax that person would pay.",description_zh:" (FairTax) ",difficulty:"medium",type:"making_a_difference"}],qN=[...BN,...FN,...jN,...UN],HN=[],WN={en:`
# Preface

Welcome to the C programming language and to C How to Program, Eighth Edition! This book presents leading-edge computing technologies for college students, instructors and software-development professionals.

At the heart of the book is the Deitel signature live-code approachwe present concepts in the context of complete working programs, rather than in code snippets. Each code example is followed by one or more sample executions. Read the online Before You Begin section at http://www.deitel.com/books/chtp8/chtp8_BYB.pdf to learn how to set up your computer to run the hundreds of code examples. All the source code is available at www.pearsonglobaleditions.com/deitel.

Use the source code we provide to run every program as you study it.

We believe that this book and its support materials will give you an informative, challenging and entertaining introduction to C. As you read the book, if you have questions, send an e-mail to deitel@deitel.comwe'll respond promptly. For book updates, visit www.deitel.com/books/chtp8/, join our social media communities:

*   Facebookhttp://facebook.com/DeitelFan
*   Twitter@deitel
*   LinkedInhttp://linkedin.com/company/deitel-&-associates
*   YouTubehttp://youtube.com/DeitelTV
*   Google+http://google.com/+DeitelFan

and register for the Deitel Buzz Online e-mail newsletter at: http://www.deitel.com/newsletter/subscribe.html

## New and Updated Features

Here are some key features of C How to Program, 8/e:

*   **Integrated More Capabilities of the C11 and C99 standards.** Support for the C11 and C99 standards varies by compiler. Microsoft Visual C++ supports a subset of the features that were added to C in C99 and C11primarily the features that are also required by the C++ standard. We incorporated several widely supported C11 and C99 features into the book's early chapters, as appropriate for introductory courses and for the compilers we used in this book. Appendix E, Multithreading and Other C11 and C99 Topics, presents more advanced features (such as multithreading for today's increasingly popular multi-core architectures) and various other features that are not widely supported by today's C compilers.
*   **All Code Tested on Linux, Windows and OS X.** We retested all the example and exercise code using GNU gcc on Linux, Visual C++ on Windows (in Visual Studio 2013 Community Edition) and LLVM in Xcode on OS X.
*   **Updated Chapter 1.** The new Chapter 1 engages students with updated intriguing facts and figures to get them excited about studying computers and computer programming. The chapter includes current technology trends and hardware discussions, the data hierarchy, social networking and a table of business and technology publications and websites that will help you stay up to date with the latest technology news and trends. We've included updated test-drives that show how to run a command-line C program on Linux, Microsoft Windows and OS X. We also updated the discussions of the Internet and web, and the introduction to object technology.
*   **Updated Coverage of C++ and Object-Oriented Programming.** We updated Chapters 1523 on object-oriented programming in C++ with material from our textbook C++ How to Program, 9/e, which is up-to-date with the C++11 standard.
*   **Updated Code Style.** We removed the spacing inside parentheses and square brackets, and toned down our use of comments a bit. We also added parentheses to certain compound conditions for clarity.
*   **Variable Declarations.** Because of improved compiler support, we were able to move variable declarations closer to where they're first used and define for-loop counter-control variables in each for's initialization section.
*   **Summary Bullets.** We removed the end-of-chapter terminology lists and updated the detailed section-by-section, bullet-list summaries with bolded key terms and, for most, page references to their defining occurrences.
*   **Use of Standard Terminology.** To help students prepare to work in industry worldwide, we audited the book against the C standard and upgraded our terminology to use C standard terms in preference to general programming terms.
*   **Online Debugger Appendices.** We've updated the online GNU gdb and Visual C++ debugging appendices, and added an Xcode debugging appendix.
*   **Additional Exercises.** We updated various exercises and added some new ones, including one for the Fisher-Yates unbiased shuffling algorithm in Chapter 10.

## Other Features

Other features of C How to Program, 8/e include:

*   **Secure C Programming Sections.** Many of the C chapters end with a Secure C Programming Section. We've also posted a Secure C Programming Resource Center at www.deitel.com/SecureC/.
*   **Focus on Performance Issues.** C (and C++) are favored by designers of performance-intensive systems such as operating systems, real-time systems, embedded systems and communications systems, so we focus intensively on performance issues.
*   **"Making a Difference" Contemporary Exercises.** We encourage you to use computers and the Internet to research and solve significant problems. These exercises are meant to increase awareness of important issues the world is facing.
*   **Sorting: A Deeper Look.** We begin our sorting presentation in Chapter 6 with a simple algorithmin Appendix D, we present a deeper look. We consider several algorithms and compare them with regard to their memory consumption and processor demands.
*   **Titled Programming Exercises.** Most of the programming exercises are titled to help instructors conveniently choose assignments appropriate for their students.
*   **Order of Evaluation.** We caution the reader about subtle order of evaluation issues.
*   **C++-Style // Comments.** We use the newer, more concise C++-style \`//\` comments in preference to C's older style \`/*...*/\` comments.

## A Note About Secure C Programming
Industrial-strength coding techniques in any programming language are beyond the scope of an introductory textbook. For that reason, our Secure C Programming sections present some key issues and techniques, and provide links and references so you can continue learning.

The CERT Coordination Center (www.cert.org) was created to analyze and respond promptly to attacks. CERTthe Computer Emergency Response Teampublishes and promotes secure coding standards to help C programmers and others implement industrial-strength systems that avoid the programming practices that leave systems vulnerable to attacks. The CERT standards evolve as new security issues arise.

We've upgraded our code (as appropriate for an introductory book) to conform to various CERT recommendations. The Secure C Programming sections at the ends of Chapters 213 discuss many important topics, including:
*   testing for arithmetic overflows
*   using unsigned integer types
*   the more secure functions in the C standard's Annex K
*   the importance of checking the status information returned by standard-library functions
*   range checking
*   secure random-number generation
*   array bounds checking
*   preventing buffer overflows
*   input validation
*   avoiding undefined behaviors
*   choosing functions that return status information vs. using similar functions that do not
*   ensuring that pointers are always NULL or contain valid addresses
*   using C functions vs. using preprocessor macros, and more.

## Software Used in C How to Program, 8/e
We tested the programs in C How to Program, 8/e using the following free compilers:
*   GNU C and C++ (http://gcc.gnu.org/install/binaries.html)
*   Microsoft's Visual C++ in Visual Studio 2013 Community edition (http://go.microsoft.com/?linkid=9863608)
*   LLVM in Apple's Xcode IDE
`,zh:`
# 

 C C 

 Deitel (live-code approach) (http://www.deitel.com/books/chtp8/chtp8_BYB.pdf) www.pearsonglobaleditions.com/deitel 



 C  deitel@deitel.com www.deitel.com/books/chtp8/

*   Facebookhttp://facebook.com/DeitelFan
*   Twitter@deitel
*   LinkedInhttp://linkedin.com/company/deitel-&-associates
*   YouTubehttp://youtube.com/DeitelTV
*   Google+http://google.com/+DeitelFan

 Deitel Buzz http://www.deitel.com/newsletter/subscribe.html

## 

C 

*   ** C11  C99 ** C11  C99 Microsoft Visual C++  C99  C11  C++  C11  C99  E C11  C99  C 
*   ** LinuxWindows  OS X **  Linux  GNU gcc Windows  Visual C++ Visual Studio 2013  OS X  Xcode  LLVM
*   ****  LinuxMicrosoft Windows  OS X  C 
*   ** C++ ** C++  C++  15-23  C++11 
*   **** 
*   ****  for  for 
*   **** 
*   ****  C  C 
*   ****  GNU gdb  Visual C++  Xcode 
*   ****  Fisher-Yates 

## 

C 

*   ** C **  C  C  www.deitel.com/SecureC/  C 
*   **** C ( C++) 
*   **** 
*   ****  D 
*   **** 
*   **** 
*   **C++  // **  C++  \`//\`  C  \`/*...*/\` 

##  C 
 C 

CERT  (www.cert.org) CERT C CERT 

 CERT  2-13  C 
*   
*   
*   C  K 
*   
*   
*   
*   
*   
*   
*   
*    vs. 
*    NULL 
*    C  vs. 

## C 
C 
*   GNU C  C++ (http://gcc.gnu.org/install/binaries.html)
*   Microsoft Visual C++ in Visual Studio 2013  (http://go.microsoft.com/?linkid=9863608)
*   Apple Xcode IDE  LLVM
`},GN={en:`
# 1. Introduction to Computers, the Internet and the Web

## 1.1 Introduction
Welcome to C and C++! C is a concise yet powerful computer programming language thats appropriate for technically oriented people with little or no programming experience and for experienced programmers to use in building substantial software systems. C How to Program, Eighth Edition, is an effective learning tool for each of these audiences.

The core of the book emphasizes software engineering through the proven methodologies of structured programming in C and object-oriented programming in C++. The book presents hundreds of complete working programs and shows the outputs produced when those programs are run on a computer. We call this the live-code approach. All of these example programs may be downloaded from our website www.deitel.com/books/chtp8/.

Most people are familiar with the exciting tasks that computers perform. Using this textbook, you'll learn how to command computers to perform those tasks. Its software (i.e., the instructions you write to command computers to perform actions and make decisions) that controls computers (often referred to as hardware).

## 1.2 Hardware and Software
Computers can perform calculations and make logical decisions phenomenally faster than human beings can. Many of today's personal computers can perform billions of calculations in one secondmore than a human can perform in a lifetime. Supercomputers are already performing thousands of trillions (quadrillions) of instructions per second! China's National University of Defense Technology's Tianhe-2 supercomputer can perform over 33 quadrillion calculations per second (33.86 petaflops)! To put that in perspective, the Tianhe-2 supercomputer can perform in one second about 3 million calculations for every person on the planet! And supercomputing upper limits" are growing quickly.

Computers process data under the control of sequences of instructions called **computer programs**. These software programs guide the computer through ordered actions specified by people called **computer programmers**.

A computer consists of various devices referred to as **hardware** (e.g., the keyboard, screen, mouse, hard disks, memory, DVD drives and processing units). Computing costs are dropping dramatically, owing to rapid developments in hardware and software technologies. Computers that might have filled large rooms and cost millions of dollars decades ago are now inscribed on silicon chips smaller than a fingernail, costing perhaps a few dollars each. Ironically, silicon is one of the most abundant materials on Earthit's an ingredient in common sand. Silicon-chip technology has made computing so economical that computers have become a commodity.

### 1.2.1 Moore's Law
Every year, you probably expect to pay at least a little more for most products and services. The opposite has been the case in the computer and communications fields, especially with regard to the hardware supporting these technologies. For many decades, hardware costs have fallen rapidly.

Every year or two, the capacities of computers have approximately doubled inexpensively. This remarkable trend often is called **Moores Law**, named for the person who identified it in the 1960s, Gordon Moore, co-founder of Intelthe leading manufacturer of the processors in today's computers and embedded systems. Moore's Law and related observations apply especially to the amount of memory that computers have for programs, the amount of secondary storage (such as disk storage) they have to hold programs and data over longer periods of time, and their processor speedsthe speeds at which they execute their programs (i.e., do their work).

Similar growth has occurred in the communications fieldcosts have plummeted as enormous demand for communications bandwidth (i.e., information-carrying capacity) has attracted intense competition. We know of no other fields in which technology improves so quickly and costs fall so rapidly. Such phenomenal improvement is truly fostering the Information Revolution.

### 1.2.2 Computer Organization
Regardless of differences in physical appearance, computers can be envisioned as divided into various logical units or sections.

| Logical unit | Description |
|---|---|
| **Input unit** | This "receiving" section obtains information (data and computer programs) from input devices and places it at the disposal of the other units for processing. Most user input is entered into computers through keyboards, touch screens and mouse devices. Other forms of input include receiving voice commands, scanning images and barcodes, reading from secondary storage devices (such as hard drives, DVD drives, Blu-ray DiscTM drives and USB flash drivesalso called thumb drives or memory sticks), receiving video from a webcam and having your computer receive information from the Internet (such as when you stream videos from YouTube or download e-books from Amazon). Newer forms of input include position data from a GPS device, and motion and orientation information from an accelerometer in a smartphone or game controller. |
| **Output unit** | This "shipping" section takes information the computer has processed and places it on various output devices to make it available for use outside the computer. Most information that's output from computers today is displayed on screens (including touch screens), printed on paper, played as audio or video, and giant screens in sports stadiums, transmitted over the Internet or used to control other devices, such as robots and intelligent appliances. Information is also commonly output to secondary storage devices. |
| **Memory unit** | This rapid-access, relatively low-capacity warehouse section retains information that has been entered through the input unit, making it immediately available for processing when needed. The memory unit also retains processed information until it can be placed on output devices. Information in the memory unit is volatileit's typically lost when the computer's power is turned off. The memory unit is often called either memory, **primary memory** or RAM (Random Access Memory). |
| **Arithmetic and logic unit (ALU)** | This "manufacturing" section performs calculations, such as addition, subtraction, multiplication and division. It also contains the decision mechanisms that allow the computer to compare two items from the memory unit to determine whether they're equal. |
| **Central processing unit (CPU)** | This "administrative section coordinates and supervises the operation of the other sections. The CPU tells the input unit when information should be read into the memory unit, tells the ALU when information from the memory unit should be used in calculations and tells the output unit when to send information from the memory unit to certain output devices. Many of today's computers have multiple CPUs and, hence, can perform many operations simultaneously. A **multi-core processor** implements multiple processors on a single integrated-circuit chip. |
| **Secondary storage unit** | This is the long-term, high-capacity warehousing section. Programs or data not actively being used by the other units normally are placed on secondary storage devices until they're again needed. Information on secondary storage devices is **persistent**it's preserved even when the computer's power is turned off. Examples of secondary storage devices include hard drives, DVD drives and USB flash drives. |

## 1.3 Data Hierarchy
Data items processed by computers form a **data hierarchy** that becomes larger and more complex in structure as we progress from the simplest data items (called bits) to richer ones, such as characters and fields.

- **Bits**: The smallest data item in a computer can assume the value 0 or the value 1. It's called a bit (short for "binary digit").
- **Characters**: Digits, letters and special symbols are known as characters. The computer's character set is the set of all the characters used to write programs and represent data items. C supports various character sets, including Unicode which contains characters for many of the world's languages.
- **Fields**: A field is a group of characters or bytes that conveys meaning. For example, a field consisting of uppercase and lowercase letters can be used to represent a person's name.
- **Records**: Several related fields can be used to compose a record. For example, an employee record might consist of fields for ID number, name, address, etc.
- **Files**: A file is a group of related records.
- **Database**: A database is a collection of data organized for easy access and manipulation. The most popular model is the relational database, in which data is stored in simple tables.
- **Big Data**: The amount of data being produced worldwide is enormous and growing quickly. Big data applications deal with massive amounts of data.

| Unit | Bytes | Which is approximately |
|---|---|---|
| 1 kilobyte (KB) | 1024 bytes | 10 (1024 bytes exactly) |
| 1 megabyte (MB) | 1024 kilobytes | 10 (1,000,000 bytes) |
| 1 gigabyte (GB) | 1024 megabytes | 10 (1,000,000,000 bytes) |
| 1 terabyte (TB) | 1024 gigabytes | 10 (1,000,000,000,000 bytes) |
| 1 petabyte (PB) | 1024 terabytes | 10 (1,000,000,000,000,000 bytes) |
| 1 exabyte (EB) | 1024 petabytes | 10 (1,000,000,000,000,000,000 bytes) |
| 1 zettabyte (ZB) | 1024 exabytes | 10 (1,000,000,000,000,000,000,000 bytes) |

## 1.4 Machine Languages, Assembly Languages and High-Level Languages
Programmers write instructions in various programming languages. These may be divided into three general types:
1.  **Machine languages**: Any computer can directly understand only its own machine language, defined by its hardware design. Machine languages generally consist of strings of numbers (ultimately reduced to 1s and 0s). Such languages are cumbersome for humans.
2.  **Assembly languages**: Programmers began using English-like abbreviations to represent elementary operations. These abbreviations formed the basis of assembly languages. Translator programs called **assemblers** were developed to convert early assembly-language programs to machine language.
3.  **High-level languages**: To speed the programming process, high-level languages were developed in which single statements could be written to accomplish substantial tasks. Translator programs called **compilers** convert high-level language programs into machine language. **Interpreters** execute high-level language programs directly, avoiding compilation but running slower.

## 1.5 The C Programming Language
C evolved from two previous languages, BCPL and B. The C language was evolved from B by Dennis Ritchie at Bell Laboratories and was originally implemented in 1972. C initially became widely known as the development language of the UNIX operating system. Many of today's leading operating systems are written in C and/or C++. C is mostly hardware independentwith careful design, it's possible to write C programs that are portable to most computers.

C is widely used to develop systems that demand performance, such as operating systems, embedded systems, real-time systems and communications systems.

A standard version of C was needed, so a committee was created to develop a standard. The standard was approved in 1989 and updated in 1999 (C99). We also discuss the latest C standard (C11), approved in 2011.

## 1.6 C Standard Library
C programs consist of pieces called functions. You can program all the functions that you need to form a C program, but most C programmers take advantage of the rich collection of existing functions called the **C Standard Library**. This encourages **software reuse**.

## 1.7 C++ and Other C-Based Languages
C++ was developed by Bjarne Stroustrup at Bell Laboratories. It has its roots in C, providing a number of features that spruce up the C language. More important, it provides capabilities for **object-oriented programming**.

| Programming language | Description |
|---|---|
| **Objective-C** | An object-oriented language based on C. It has become the key programming language for the OS X operating system and all iOS-powered devices. |
| **Java** | A C++-based object-oriented programming language developed by Sun Microsystems. A key goal of Java is to enable the writing of programs that will run on a broad variety of computer systems. It is also the language of Android app development. |
| **C#** | Microsoft's primary object-oriented language, based on C++ and Java. |
| **PHP** | An object-oriented, open-source scripting language used by millions of websites. |
| **Python** | An object-oriented scripting language developed by Guido van Rossum. |
| **JavaScript** | The most widely used scripting language, primarily used to add dynamic behavior to web pages. |
| **Swift** | Apple's new programming language for developing iOS and Mac apps, announced in 2014. |

## 1.8 Object Technology
Building software quickly, correctly and economically remains an elusive goal. **Objects**, or more precisely the classes objects come from, are essentially reusable software components that model items in the real world.
*   **Methods and Classes**: Performing a task in a program requires a method. The method houses the program statements that actually perform its tasks. In object-oriented programming languages, we create a program unit called a class to house the set of methods that perform the class's tasks.
*   **Instantiation**: You must build an object of a class before a program can perform the tasks that the class's methods define. The process of doing this is called instantiation. An object is an instance of its class.
*   **Reuse**: Reusing existing classes when building new classes and programs saves time and effort.
*   **Messages and Method Calls**: You send messages to an object. Each message is implemented as a method call that tells a method of the object to perform its task.
*   **Attributes and Instance Variables**: An object has attributes that it carries along as it's used in a program. These attributes are specified by the class's instance variables.
*   **Encapsulation and Information Hiding**: Classes encapsulate, i.e., encase, their attributes and methods. Objects may communicate with one another, but they're normally not allowed to know how other objects are implementedimplementation details are hidden.
*   **Inheritance**: A new class of objects can be created conveniently by inheritancethe new class (called the subclass) starts with the characteristics of an existing class (called the superclass), possibly customizing them and adding unique characteristics of its own.

## 1.9 Typical C Program-Development Environment
C systems generally consist of several parts: a program-development environment, the language and the C Standard Library. C programs typically go through six phases to be executed: edit, preprocess, compile, link, load and execute.

1.  **Phase 1: Creating a Program**: You type a C program with an editor and store the program on a secondary storage device. C program filenames should end with the \`.c\` extension.
2.  **Phase 2 & 3: Preprocessing and Compiling a C Program**: The compiler translates the C program into machine-language code (object code). A preprocessor program executes automatically before compilation, obeying special commands called preprocessor directives which indicate manipulations to be performed on the program. A syntax error occurs when the compiler cannot recognize a statement because it violates the rules of the language.
3.  **Phase 4: Linking**: C programs typically contain references to functions defined elsewhere. A linker links the object code with the code for the missing functions to produce an executable image.
4.  **Phase 5: Loading**: Before a program can be executed, it must first be placed in memory. This is done by the loader, which takes the executable image from disk and transfers it to memory.
5.  **Phase 6: Execution**: The computer, under the control of its CPU, executes the program one instruction at a time. Runtime errors (e.g., division by zero) can occur at this stage.

## 1.10 Test-Driving a C Application in Windows, Linux and Mac OS X
This section walks you through compiling and running your first C applicationa guess-the-number gamefrom the command line in Windows, Linux, and Mac OS X.

## 1.11 Operating Systems
**Operating systems** are software systems that make using computers more convenient. The software that contains the core components of the operating system is the **kernel**.
*   **1.11.1 WindowsA Proprietary Operating System**: Developed by Microsoft, it's the world's most widely used operating system.
*   **1.11.2 LinuxAn Open-Source Operating System**: Perhaps the greatest success of the open-source movement, popular in servers, personal computers, and embedded systems.
*   **1.11.3 Apple's Mac OS X; Apple's iOS**: Mac OS X is a descendant of NeXTSTEP. iOS is derived from Mac OS X and is used in the iPhone, iPad and iPod Touch devices.
*   **1.11.4 Google's Android**: The fastest growing tablet and smartphone operating system, based on the Linux kernel and Java.

## 1.12 The Internet and World Wide Web
In the late 1960s, ARPA rolled out plans for networking computer systems, which became known as the ARPANET, the precursor to today's Internet. The protocol for communicating over the ARPANET became known as the Transmission Control Protocol (TCP). Later, the Internet Protocol (IP) was developed. The combined set of protocols is now called TCP/IP.

The **World Wide Web** (simply called the web) is a collection of hardware and software associated with the Internet that allows computer users to locate and view multimedia-based documents. In 1989, Tim Berners-Lee of CERN began to develop a technology for sharing information via "hyperlinked text documents, called HyperText Markup Language (HTML), and communication protocols like HyperText Transfer Protocol (HTTP).

## 1.13 Some Key Software Terminology
This section introduces several buzzwords from the software development community.

| Technology | Description |
|---|---|
| Agile software development | A set of methodologies that try to get software implemented faster and using fewer resources. |
| Refactoring | Reworking programs to make them clearer and easier to maintain while preserving their correctness and functionality. |
| Design patterns | Proven architectures for constructing flexible and maintainable object-oriented software. |
| LAMP | An acronym for Linux, Apache, MySQL and PHP (or Perl or Python). |
| Software as a Service (SaaS) | The software runs on servers elsewhere on the Internet and is accessed through a browser. |
| Platform as a Service (PaaS) | Provides a computing platform for developing and running applications as a service over the web. |
| Cloud computing | Using software and data stored in the cloudi.e., accessed on remote computers via the Internet. |
| Software Development Kit (SDK) | Includes the tools and documentation developers use to program applications. |

Software products typically go through release stages:
- **Alpha**: Earliest release, often buggy and incomplete.
- **Beta**: More stable, released to a larger number of developers.
- **Release candidates**: Generally feature complete and bug free, ready for community testing.
- **Final release**: The product is released to the general public.
- **Continuous beta**: Hosted in the cloud and constantly evolving without version numbers.

## 1.14 Keeping Up-to-Date with Information Technologies
This section lists key technical and business publications that will help you stay up-to-date with the latest news and trends and technology. You can also find a growing list of Internet- and web-related Resource Centers at www.deitel.com/ResourceCenters.html.
`,zh:`
# 1. 

## 1.1 
 C  C++C C 

 C  C++ (live-code approach) www.deitel.com/books/chtp8/ 



## 1.2 
 33 33.86 petaflops 300 

********

****DVD 

### 1.2.1 


**** 1960 



### 1.2.2 


|  |  |
|---|---|
| **** | DVD USB  YouTube  Amazon  GPS  |
| **** |  |
| **** | **** RAM () |
| ** (ALU)** |  |
| ** (CPU)** | CPU  ALU  CPU**** |
| **** | ****DVD  USB  |

## 1.3 
****

- ** (Bits)** 0  1
- ** (Characters)**C  Unicode
- ** (Fields)**
- ** (Records)** ID
- ** (Files)**
- ** (Database)**
- ** (Big Data)**

|  |  |  |
|---|---|---|
| 1  (KB) | 1024 bytes | 10 ( 1024 bytes) |
| 1  (MB) | 1024 kilobytes | 10 (1,000,000 bytes) |
| 1  (GB) | 1024 megabytes | 10 (1,000,000,000 bytes) |
| 1  (TB) | 1024 gigabytes | 10 (1,000,000,000,000 bytes) |
| 1  (PB) | 1024 terabytes | 10 (1,000,000,000,000,000 bytes) |
| 1  (EB) | 1024 petabytes | 10 (1,000,000,000,000,000,000 bytes) |
| 1  (ZB) | 1024 exabytes | 10 (1,000,000,000,000,000,000,000 bytes) |

## 1.4 

1.  **** 1  0
2.  ********
3.  ************

## 1.5 C 
C  BCPL  B C  1972 C  UNIX  C / C++ C  C 

C 

 C 1989  1999  (C99) 2011  C  (C11)

## 1.6 C 
C  C  C **C ******

## 1.7 C++  C 
C++  Bjarne Stroustrup  CC ****

|  |  |
|---|---|
| **Objective-C** |  C  OS X  iOS  |
| **Java** |  Sun Microsystems  C++ Java  Android  |
| **C#** |  C++  Java |
| **PHP** |  |
| **Python** |  Guido van Rossum  |
| **JavaScript** |  |
| **Swift** |  2014  iOS  Mac  |

## 1.8 
****
*   ****
*   ****
*   ****
*   ****
*   ****
*   ****
*   ****

## 1.9  C 
C  C C 

1.  ** 1** C C  \`.c\` 
2.  ** 2 & 3 C ** C 
3.  ** 4**C 
4.  ** 5**
5.  ** 6** CPU 

## 1.10  C 
 WindowsLinux  Mac OS X  C 

## 1.11 
**** (OS) ** (kernel)**
*   **1.11.1 Windows**
*   **1.11.2 Linux**
*   **1.11.3  Mac OS X iOS**Mac OS X  NeXTSTEP iOS  Mac OS X iPhoneiPad  iPod Touch 
*   **1.11.4 Google  Android** Linux  Java

## 1.12 
 ARPANET 1960  TCP/IP****1989 CERN - (HTML) (HTTP) 

## 1.13 


|  |  |
|---|---|
|  |  |
|  |  |
|  |  |
| LAMP | LinuxApacheMySQL  PHP Perl  Python |
|  (SaaS) |  |
|  (PaaS) |  |
|  |  |
|  (SDK) |  |


- **Alpha**
- **Beta**
- ** (Release candidates)**
- ** (Final release)**
- ** Beta (Continuous beta)**

## 1.14 
 www.deitel.com/ResourceCenters.html 
`},VN={en:'\n# 2. Introduction to C Programming\n\nIn this chapter we introduce C programming and present several examples that illustrate many important features of C. Each example is analyzed one statement at a time. In Chapters 3 and 4 we present an introduction to structured programming in C. We then use the structured approach throughout the remainder of the C portion of the text. We provide the first of many Secure C Programming" sections.\n\n## 2.1 Introduction\nThe C language facilitates a structured and disciplined approach to computer-program design. In this chapter we introduce C programming and present several examples that illustrate many important features of C. Each example is analyzed one statement at a time. In Chapters 3 and 4 we present an introduction to structured programming in C. We then use the structured approach throughout the remainder of the C portion of the text. We provide the first of many Secure C Programming" sections.\n\n## 2.2 A Simple C Program: Printing a Line of Text\nC uses some notations that may appear strange to people who have not programmed computers. We begin by considering a simple C program. Our first example prints a line of text. The program and its screen output are shown in Fig. 2.1.\n\n```c\n// Fig. 2.1: fig02_01.c\n// A first program in C.\n#include <stdio.h>\n\n// function main begins program execution\nint main( void )\n{\n    printf( "Welcome to C!\\n" );\n} // end function main\n```\n\n### Comments\nEven though this program is simple, it illustrates several important features of the C language. Lines 1 and 2 begin with `//`, indicating that these two lines are comments. You insert comments to document programs and improve program readability. Comments do not cause the computer to perform any action when the program is runtheyre ignored by the C compiler and do not cause any machine-language object code to be generated. You can also use `/*...*/` multi-line comments. We prefer `//` comments because they\'re shorter and they eliminate common programming errors that occur with `/*...*/` comments, especially when the closing `*/` is omitted.\n\n### #include Preprocessor Directive\nLine 3, `#include <stdio.h>`, is a directive to the C preprocessor. Lines beginning with `#` are processed by the preprocessor before compilation. Line 3 tells the preprocessor to include the contents of the standard input/output header (<stdio.h>) in the program. This header contains information used by the compiler when compiling calls to standard input/output library functions such as `printf`.\n\n### Blank Lines and White Space\nLine 4 is simply a blank line. You use blank lines, space characters and tab characters (i.e., "tabs") to make programs easier to read. Together, these characters are known as white space. White-space characters are normally ignored by the compiler.\n\n### The main Function\nLine 6, `int main(void)`, is a part of every C program. The parentheses after `main` indicate that `main` is a program building block called a function. C programs contain one or more functions, one of which must be `main`. Every program in C begins executing at the function `main`. Functions can return information. The keyword `int` to the left of main indicates that main returns an integer (whole-number) value. Functions also can receive information. The `void` in parentheses here means that `main` does not receive any information.\n\n> **Good Programming Practice 2.1**\n> Every function should be preceded by a comment describing the functions purpose.\n\nA left brace, `{`, begins the body of every function (line 7). A corresponding right brace ends each function (line 9). This pair of braces and the portion of the program between the braces is called a block.\n\n### An Output Statement\nLine 8, `printf( "Welcome to C!\\n" );`, instructs the computer to perform an action, namely to print on the screen the string of characters marked by the quotation marks. A string is sometimes called a character string, a message or a literal. The entire line, including the `printf` function, its argument, and the semicolon (`;`), is called a statement. Every statement must end with a semicolon.\n\n### Escape Sequences\nNotice that the characters `\\n` were not printed on the screen. The backslash (`\\`) is called an escape character. It indicates that `printf` is supposed to do something out of the ordinary. When encountering a backslash, the compiler looks ahead at the next character to form an escape sequence. `\\n` means newline.\n\n| Escape sequence | Description |\n|---|---|\n| `\\n` | Newline. Position the cursor to the beginning of the next line. |\n| `\\t` | Horizontal tab. Move the cursor to the next tab stop. |\n| `\\a` | Alert. Produces a sound or visible alert. |\n| `\\\\` | Backslash. Insert a backslash character in a string. |\n| `\\"` | Double quote. Insert a double-quote character in a string. |\n\n### The Linker and Executables\nStandard library functions like `printf` and `scanf` are not part of the C programming language. When the compiler compiles a `printf` statement, it merely provides space in the object program for a "call" to the library function. The linker locates the library functions and inserts the proper calls to these library functions in the object program. The linked program is called an executable.\n\n## 2.3 Another Simple C Program: Adding Two Integers\nOur next program uses the Standard Library function `scanf` to obtain two integers typed by a user, computes the sum, and prints the result.\n\n```c\n// Fig. 2.5: fig02_05.c\n// Addition program.\n#include <stdio.h>\n\n// function main begins program execution\nint main( void )\n{\n    int integer1; // first number to be entered by user\n    int integer2; // second number to be entered by user\n    int sum; // variable in which sum will be stored\n\n    printf("Enter first integer\\n" ); // prompt\n    scanf("%d", &integer1); // read an integer\n\n    printf("Enter second integer\\n"); // prompt\n    scanf("%d", &integer2); // read an integer\n\n    sum = integer1 + integer2; // assign total to sum\n    printf( "Sum is %d\\n", sum); // print sum\n} // end function main\n```\n\n### Variables and Variable Definitions\nThe names `integer1`, `integer2`, and `sum` are variableslocations in memory where values can be stored. These definitions specify that the variables are of type `int`, meaning they\'ll hold integer values. All variables must be defined with a name and a data type before they can be used. A variable name in C can be any valid identifier (a series of letters, digits and underscores that does not begin with a digit). C is case sensitive.\n\n### The scanf Function and Formatted Inputs\nThe `scanf` function obtains a value from the user. It has two arguments, `"%d"` and `&integer1`. The first, the format control string, indicates the type of data that should be entered. The `%d` conversion specifier indicates an integer. The second argument begins with an ampersand (`&`)the address operator. It tells `scanf` the location in memory where the variable `integer1` is stored.\n\n### Assignment Statement\nThe assignment statement `sum = integer1 + integer2;` calculates the total and assigns the result to `sum` using the assignment operator `=`.\n\n## 2.4 Memory Concepts\nVariable names such as `integer1`, `integer2` and `sum` actually correspond to locations in the computer\'s memory. Every variable has a name, a type and a value. When a value is placed in a memory location, it replaces the previous value; this is called a destructive process. When a value is read from memory, the process is said to be nondestructive.\n\n## 2.5 Arithmetic in C\nMost C programs perform calculations using the C arithmetic operators.\n\n| C operation | Arithmetic operator | Algebraic expression | C expression |\n|---|---|---|---|\n| Addition | `+` | f + 7 | `f + 7` |\n| Subtraction | `-` | p - c | `p - c` |\n| Multiplication | `*` | bm | `b * m` |\n| Division | `/` | x/y or x  y | `x / y` |\n| Remainder | `%` | r mod s | `r % s` |\n\n### Rules of Operator Precedence\nC applies operators in arithmetic expressions in a precise sequence determined by the rules of operator precedence.\n1.  **Parentheses**: Evaluated first.\n2.  **Multiplication, division, and remainder**: Evaluated second, from left to right.\n3.  **Addition and subtraction**: Evaluated third, from left to right.\n4.  **Assignment**: Evaluated last.\n\n## 2.6 Decision Making: Equality and Relational Operators\nThe `if` statement allows a program to make a decision based on the truth or falsity of a condition. Conditions are formed using equality operators (`==`, `!=`) and relational operators (`>`, `<`, `>=`, `<=`).\n\n```c\n// Fig. 2.13: fig02_13.c\n// Using if statements, relational operators, and equality operators.\n#include <stdio.h>\n\nint main( void )\n{\n    int num1; // first number to be read from user\n    int num2; // second number to be read from user\n\n    printf("Enter two integers, and I will tell you\\n");\n    printf("the relationships they satisfy: ");\n    scanf("%d %d", &num1, &num2); // read two integers\n\n    if ( num1 == num2 ) {\n        printf("%d is equal to %d\\n", num1, num2 );\n    }\n    if ( num1 != num2 ) {\n        printf("%d is not equal to %d\\n", num1, num2 );\n    }\n    if ( num1 < num2 ) {\n        printf("%d is less than %d\\n", num1, num2);\n    }\n    if ( num1 > num2 ) {\n        printf("%d is greater than %d\\n", num1, num2);\n    }\n    if ( num1 <= num2 ) {\n        printf("%d is less than or equal to %d\\n", num1, num2);\n    }\n    if ( num1 >= num2 ) {\n        printf("%d is greater than or equal to %d\\n", num1, num2 );\n    }\n}\n```\n\n## 2.7 Secure C Programming\nThe words we\'ve used in C programsin particular `int`, `if` and `void`are keywords or reserved words of the language. They have special meaning to the compiler and cannot be used as identifiers.\n\n### Avoid Single-Argument printfs\nOne guideline is to avoid using `printf` with a single string argument. If you need to display a string that terminates with a newline, use the `puts` function. If you need to display a string without a terminating newline character, use `printf` with two argumentsa `"%s"` format control string and the string to display.\n\n',zh:'\n# C \n\n C  C  C  C  C \n\n## 2.1 \nC  C  C  C  C  C \n\n## 2.2  C \nC  C  2.1 \n\n```c\n//  2.1: fig02_01.c\n//  C \n#include <stdio.h>\n\n// main \nint main( void )\n{\n    printf( "Welcome to C!\\n" );\n} // main \n```\n\n### \n C  1  2  `//`  C  `/*...*/`  `//`  `/*...*/`  `*/` \n\n### #include \n 3 `#include <stdio.h>` C  `#`  3 /<stdio.h>/ `printf`\n\n### \n 4 tabs\n\n### main \n 6 `int main(void)` C `main`  `main` C  `main`C  `main` `main`  `int`  `main` `void`  `main` \n\n> ** 2.1**\n> \n\n `{`  7  9 \n\n### \n 8 `printf( "Welcome to C!\\n" );` `printf` ``\n\n### \n `\\n` `\\` `printf` `\\n` \n\n|  |  |\n|---|---|\n| `\\n` |  |\n| `\\t` |  |\n| `\\a` |  |\n| `\\\\` |  |\n| `\\"` |  |\n\n### \n `printf`  `scanf`  C  `printf` \n\n## 2.3  C \n `scanf` \n\n```c\n//  2.5: fig02_05.c\n// \n#include <stdio.h>\n\n// main \nint main( void )\n{\n    int integer1; // \n    int integer2; // \n    int sum; // \n\n    printf("Enter first integer\\n" ); // \n    scanf("%d", &integer1); // \n\n    printf("Enter second integer\\n"); // \n    scanf("%d", &integer2); // \n\n    sum = integer1 + integer2; //  sum\n    printf( "Sum is %d\\n", sum); // \n} // main \n```\n\n### \n `integer1``integer2`  `sum`  `int`C C \n\n### scanf \n`scanf` `"%d"`  `&integer1``%d`  `&` `scanf`  `integer1` \n\n### \n `sum = integer1 + integer2;`  `=`  `sum`\n\n## 2.4 \n `integer1``integer2`  `sum` \n\n## 2.5 C \n C  C \n\n| C  |  |  | C  |\n|---|---|---|---|\n|  | `+` | f + 7 | `f + 7` |\n|  | `-` | p - c | `p - c` |\n|  | `*` | bm | `b * m` |\n|  | `/` | x/y  x  y | `x / y` |\n|  | `%` | r mod s | `r % s` |\n\n### \nC \n1.  ****\n2.  ****\n3.  ****\n4.  ****\n\n## 2.6 \n`if` `==``!=``>``<``>=``<=`\n\n```c\n//  2.13: fig02_13.c\n//  if \n#include <stdio.h>\n\nint main( void )\n{\n    int num1; // \n    int num2; // \n\n    printf("Enter two integers, and I will tell you\\n");\n    printf("the relationships they satisfy: ");\n    scanf("%d %d", &num1, &num2); // \n\n    if ( num1 == num2 ) {\n        printf("%d is equal to %d\\n", num1, num2 );\n    }\n    if ( num1 != num2 ) {\n        printf("%d is not equal to %d\\n", num1, num2 );\n    }\n    if ( num1 < num2 ) {\n        printf("%d is less than %d\\n", num1, num2);\n    }\n    if ( num1 > num2 ) {\n        printf("%d is greater than %d\\n", num1, num2);\n    }\n    if ( num1 <= num2 ) {\n        printf("%d is less than or equal to %d\\n", num1, num2);\n    }\n    if ( num1 >= num2 ) {\n        printf("%d is greater than or equal to %d\\n", num1, num2 );\n    }\n}\n```\n\n## 2.7  C \n C  `int``if`  `void`\n\n###  printf\n `printf` `puts`  `printf` `"%s"` \n\n'},XN={en:`
# 3. Structured Program Development in C

## Objectives
In this chapter, you'll:
- Use basic problem-solving techniques.
- Develop algorithms through the process of top-down, stepwise refinement.
- Use the if selection statement and the if...else selection statement to select actions.
- Use the while iteration statement to execute statements in a program repeatedly.
- Use counter-controlled iteration and sentinel-controlled iteration.
- Learn structured programming.
- Use increment, decrement and assignment operators.

## 3.1 Introduction
Before writing a program to solve a particular problem, we must have a thorough understanding of the problem and a carefully planned solution approach. Chapters 3 and 4 discuss techniques that facilitate the development of structured computer programs. In Section 4.12, we present a summary of the structured programming techniques developed here and in Chapter 4.

## 3.2 Algorithms
The solution to any computing problem involves executing a series of actions in a specific order. A procedure for solving a problem in terms of
1. the actions to be executed, and
2. the order in which these actions are to be executed
is called an algorithm. The following example demonstrates that correctly specifying the order in which the actions are to be executed is important.
Consider the rise-and-shine algorithm followed by one junior executive for getting out of bed and going to work: (1) Get out of bed, (2) take off pajamas, (3) take a shower, (4) get dressed, (5) eat breakfast, (6) carpool to work. This routine gets the executive to work well prepared to make critical decisions. Suppose that the same steps are performed in a slightly different order: (1) Get out of bed, (2) take off pajamas, (3) get dressed, (4) take a shower, (5) eat breakfast, (6) carpool to work. In this case, our junior executive shows up for work soaking wet. Specifying the order in which statements are to be executed in a computer program is called program control. In this and the next chapter, we investigate Cs program control capabilities.

## 3.3 Pseudocode
Pseudocode is an artificial and informal language that helps you develop algorithms. The pseudocode we present here is particularly useful for developing algorithms that will be converted to structured C programs. Pseudocode is similar to everyday English; its convenient and user friendly although its not an actual computer programming language.
Pseudocode programs are not executed on computers. Rather, they merely help you think out a program before attempting to write it in a programming language like C.
Pseudocode consists purely of characters, so you may conveniently type pseudocode programs into a computer using a text editor program. A carefully prepared pseudocode program can be easily converted to a corresponding C program. This is done in many cases simply by replacing pseudocode statements with their C equivalents.
Pseudocode consists only of action and decision statementsthose that are executed when the program has been converted from pseudocode to C and is run in C. Definitions are not executable statementstheyre simply messages to the compiler. For example, the definition
\`int i;\`
tells the compiler the type of variable i and instructs the compiler to reserve space in memory for the variable. But this definition does not cause any actionsuch as input, output, a calculation or a comparisonto occur when the program is executed. Some programmers choose to list each variable and briefly mention the purpose of each at the beginning of a pseudocode program.

## 3.4 Control Structures
Normally, statements in a program are executed one after the other in the order in which theyre written. This is called sequential execution. Various C statements well soon discuss enable you to specify that the next statement to be executed may be other than the next one in sequence. This is called transfer of control.
During the 1960s, it became clear that the indiscriminate use of transfers of control was the root of a great deal of difficulty experienced by software-development groups. The finger of blame was pointed at the goto statement that allows you to specify a transfer of control to one of many possible destinations in a program. The notion of so-called structured programming became almost synonymous with goto elimination.
The research of Bohm and Jacopini had demonstrated that programs could be written without any goto statements. The challenge of the era was for programmers to shift their styles to goto-less programming. It was not until well into the 1970s that the programming profession started taking structured programming seriously. The results were impressive, as software-development groups reported reduced development times, more frequent on-time delivery of systems and more frequent within-budget completion of software projects. Programs produced with structured techniques were clearer, easier to debug and modify and more likely to be bug free in the first place.
Bohm and Jacopinis work demonstrated that all programs could be written in terms of only three control structures, namely the sequence structure, the selection structure and the iteration structure. The sequence structure is simpleunless directed otherwise, the computer executes C statements one after the other in the order in which theyre written. The flowchart segment of Fig. 3.1 illustrates Cs sequence structure.

### Flowcharts
A flowchart is a graphical representation of an algorithm or of a portion of an algorithm. Flowcharts are drawn using certain special-purpose symbols such as rectangles, diamonds, rounded rectangles, and small circles; these symbols are connected by arrows called flowlines.
Like pseudocode, flowcharts are useful for developing and representing algorithms, although pseudocode is preferred by most programmers. Flowcharts clearly show how control structures operate; thats what we use them for in this text.
Consider the flowchart for the sequence structure in Fig. 3.1. We use the rectangle symbol, also called the action symbol, to indicate any type of action including a calculation or an input/output operation. The flowlines in the figure indicate the order in which the actions are performedfirst, grade is added to total, then 1 is added to counter. C allows us to have as many actions as we want in a sequence structure. As well soon see, anywhere a single action may be placed, we may place several actions in sequence.

When drawing a flowchart that represents a complete algorithm, the first symbol we use is a rounded rectangle symbol containing the word Begin. The last symbol is a rounded rectangle containing the word End. When drawing only a portion of an algorithm as in Fig. 3.1, we omit the rounded rectangle symbols in favor of using small circle symbols, also called connector symbols.
Perhaps the most important flowcharting symbol is the diamond symbol, also called the decision symbol, which indicates that a decision is to be made. Well discuss the diamond symbol in the next section.

### Selection Statements in C
C provides three types of selection structures in the form of statements. The if selection statement (Section 3.5) either selects (performs) an action if a condition is true or skips the action if the condition is false. The if...else selection statement (Section 3.6) performs an action if a condition is true and performs a different action if the condition is false. The switch selection statement (discussed in Chapter 4) performs one of many different actions, depending on the value of an expression. The if statement is called a single-selection statement because it selects or ignores a single action. The if...else statement is called a double-selection statement because it selects between two different actions. The switch statement is called a multiple-selection statement because it selects among many different actions.

### Iteration Statements in C
C provides three types of iteration structures in the form of statements, namely while (Section 3.7), do...while, and for (both discussed in Chapter 4).
Thats all there is. C has only seven control statements: sequence, three types of selection and three types of iteration. Each C program is formed by combining as many of each type of control statement as is appropriate for the algorithm the program implements. As with the sequence structure of Fig. 3.1, well see that the flowchart representation of each control statement has two small circle symbols, one at the entry point to the control statement and one at the exit point. These single-entry/single-exit control statements make it easy to build clear programs. We can attach the control-statement flowchart segments to one another by connecting the exit point of one control statement to the entry point of the next. This is much like the way in which a child stacks building blocks, so we call this control-statement stacking. Well learn that theres only one other way control statements may be connecteda method called control-statement nesting. Thus, any C program well ever need to build can be constructed from only seven different types of control statements combined in only two ways. This is the essence of simplicity.

## 3.5 The if Selection Statement
Selection statements are used to choose among alternative courses of action. For example, suppose the passing grade on an exam is 60. The pseudocode statement
*If student's grade is greater than or equal to 60*
*  Print "Passed"*
determines whether the condition students grade is greater than or equal to 60 is true or false. If the condition is true, then Passed is printed, and the next pseudocode statement in order is performed (remember that pseudocode isnt a real programming language). If the condition is false, the printing is ignored, and the next pseudocode statement in order is performed.
The preceding pseudocode If statement may be written in C as
\`\`\`c
if ( grade >= 60 ) {
    puts("Passed");
} // end if
\`\`\`
Notice that the C code corresponds closely to the pseudocode (of course youll also need to declare the int variable grade). This is one of the properties of pseudocode that makes it such a useful program-development tool. The second line of this selection statement is indented. Such indentation is optional, but its highly recommended, as it helps emphasize the inherent structure of structured programs. The C compiler ignores white-space characters such as blanks, tabs and newlines used for indentation and vertical spacing.
The flowchart of Fig. 3.2 illustrates the single-selection if statement. This flowchart contains what is perhaps the most important flowcharting symbolthe diamond symbol, also called the decision symbol, which indicates that a decision is to be made. The decision symbol contains an expression, such as a condition, that can be either true or false. The decision symbol has two flowlines emerging from it. One indicates the direction to take when the expression in the symbol is true and the other the direction to take when the expression is false. Decisions can be based on conditions containing relational or equality operators. In fact, a decision can be based on any expressionif the expression evaluates to zero, its treated as false, and if it evaluates to nonzero, its treated as true.

The if statement, too, is a single-entry/single-exit statement. Well soon learn that the flowcharts for the remaining control structures can also contain (besides small circle symbols and flowlines) only rectangle symbols to indicate the actions to be performed, and diamond symbols to indicate decisions to be made. This is the action/decision model of programming weve been emphasizing.
We can envision seven bins, each containing only control-statement flowcharts of one of the seven types. These flowchart segments are emptynothing is written in the rectangles and nothing in the diamonds. Your task, then, is assembling a program from as many of each type of control statement as the algorithm demands, combining them in only two possible ways (stacking or nesting), and then filling in the actions and decisions in a manner appropriate for the algorithm. Well discuss the variety of ways in which actions and decisions may be written.

## 3.6 The if...else Selection Statement
The if selection statement performs an indicated action only when the condition is true; otherwise the action is skipped. The if...else selection statement allows you to specify that different actions are to be performed when the condition is true and when its false. For example, the pseudocode statement
*If student's grade is greater than or equal to 60*
*  Print "Passed"*
*else*
*  Print "Failed"*
prints Passed if the students grade is greater than or equal to 60 and Failed if the students grade is less than 60. In either case, after printing occurs, the next pseudocode statement in sequence is performed. The body of the else is also indented.

> **Good Programming Practice 3.1**
> Indent both body statements of an if...else statement (in both pseudocode and C).

The preceding pseudocode If...else statement may be written in C as
\`\`\`c
if ( grade >= 60 ) {
    puts("Passed");
} // end if
else {
    puts("Failed" );
} // end else
\`\`\`
The flowchart of Fig. 3.3 illustrates the flow of control in the if...else statement. Once again, besides small circles and arrows, the only symbols in the flowchart are rectangles (for actions) and a diamond (for a decision).

### Conditional Operator (?:)
C provides the conditional operator (?:), which is closely related to the if...else statement. The conditional operator is Cs only ternary operatorit takes three operands. These together with the conditional operator form a conditional expression. The first operand is a condition. The second operand is the value for the entire conditional expression if the condition is true and the third operand is the value for the entire conditional expression if the condition is false. For example, the puts statement
\`\`\`c
puts( grade >= 60 ? "Passed" : "Failed" );
\`\`\`
contains as its argument a conditional expression that evaluates to the string "Passed" if the condition grade >= 60 is true and to the string "Failed" if the condition is false. The puts statement performs in essentially the same way as the preceding if...else statement.

### Nested if...else Statements
Nested if...else statements test for multiple cases by placing if...else statements inside if...else statements. For example, the following pseudocode statement will print A for exam grades greater than or equal to 90, B for grades greater than or equal to 80 (but less than 90), C for grades greater than or equal to 70 (but less than 80), D for grades greater than or equal to 60 (but less than 70), and F for all other grades.

*If student's grade is greater than or equal to 90*
*  Print "A"*
*else*
*  If student's grade is greater than or equal to 80*
*    Print "B"*
*  else*
*    If student's grade is greater than or equal to 70*
*      Print "C"*
*    else*
*      If student's grade is greater than or equal to 60*
*        Print "D"*
*      else*
*        Print "F"*

This pseudocode may be written in C as
\`\`\`c
if ( grade >= 90 ) {
    puts("A");
} // end if
else {
    if ( grade >= 80 ) {
        puts("B");
    } // end if
    else {
        if ( grade >= 70 ) {
            puts("C");
        } // end if
        else {
            if ( grade >= 60 ) {
                puts("D");
            } // end if
            else {
                puts("F");
            } // end else
        } // end else
    } // end else
} // end else
\`\`\`
You may prefer to write the preceding if statement as
\`\`\`c
if ( grade >= 90 ) {
    puts("A");
} // end if
else if ( grade >= 80 ) {
    puts("B");
} // end else if
else if ( grade >= 70 ) {
    puts("C");
} // end else if
else if ( grade >= 60 ) {
    puts("D");
} // end else if
else {
    puts("F");
} // end else
\`\`\`
As far as the C compiler is concerned, both forms are equivalent. The latter form is popular because it avoids the deep indentation of the code to the right. Such indentation often leaves little room on a line, forcing lines to be split and decreasing program readability.

### Compound Statements
The if selection statement expects only one statement in its bodyif you have only one statement in the ifs body, you do not need to enclose it in braces. To include several statements in the body of an if, you must enclose the set of statements in braces ({ and }). A set of statements contained within a pair of braces is called a compound statement or a block.

> **Software Engineering Observation 3.1**
> A compound statement can be placed anywhere in a program that a single statement can be placed.

## 3.7 The while Iteration Statement
An iteration statement (also called an repetition statement or loop) allows you to specify that an action is to be repeated while some condition remains true. The pseudocode statement
*While there are more items on my shopping list*
*  Purchase next item and cross it off my list*
describes the iteration that occurs during a shopping trip. The condition, there are more items on my shopping list may be true or false. If its true, then the action, Purchase next item and cross it off my list is performed. This action will be performed repeatedly while the condition remains true. The statement(s) contained in the while iteration statement constitute the body of the while. The while statement body may be a single statement or a compound statement. Eventually, the condition will become false (when the last item on the shopping list has been purchased and crossed off the list). At this point, the iteration terminates, and the first pseudocode statement after the iteration structure is executed.

## 3.8 Formulating Algorithms Case Study 1: Counter-Controlled Iteration
To illustrate how algorithms are developed, we solve several variations of a class-averaging problem. Consider the following problem statement:
*A class of ten students took a quiz. The grades (integers in the range 0 to 100) for this quiz are available to you. Determine the class average on the quiz.*
Lets use pseudocode to list the actions to execute and specify the order in which these actions should execute. We use counter-controlled iteration to input the grades one at a time. This technique uses a variable called a counter to specify the number of times a set of statements should execute. In this example, iteration terminates when the counter exceeds 10. Counter-controlled iteration is often called definite iteration because the number of iterations is known before the loop begins executing.
The following C program solves the class-average problem using counter-controlled iteration.
\`\`\`c
// Fig. 3.6: fig03_06.c
// Class average program with counter-controlled iteration.
#include <stdio.h>

int main( void ) {
    unsigned int counter; // number of grade to be entered next
    int grade; // grade value
    int total; // sum of grades entered by user
    int average; // average of grades

    // initialization phase
    total = 0; // initialize total
    counter = 1; // initialize loop counter

    // processing phase
    while ( counter <= 10 ) { // loop 10 times
        printf( "%s", "Enter grade: " ); // prompt for input
        scanf( "%d", &grade ); // read grade from user
        total = total + grade; // add grade to total
        counter = counter + 1; // increment counter
    } // end while

    // termination phase
    average = total / 10; // integer division
    printf( "Class average is %d\\n", average ); // display result
} // end function main
\`\`\`

## 3.9 Formulating Algorithms with Top-Down, Stepwise Refinement Case Study 2: Sentinel-Controlled Iteration
Lets generalize the class-average problem. Consider the following problem:
*Develop a class-averaging program that will process an arbitrary number of grades each time the program is run.*
One way to solve this problem is to use a special value called a sentinel value (also called a signal value, a dummy value, or a flag value) to indicate end of data entry. The user types grades until all legitimate grades have been entered. The user then types the sentinel value to indicate the last grade has been entered. Sentinel-controlled iteration is often called indefinite iteration because the number of iterations isnt known before the loop begins executing.

### Top-Down, Stepwise Refinement
We approach the class-average program with a technique called top-down, stepwise refinement, a technique thats essential to the development of well-structured programs. We begin with a pseudocode representation of the top:
*Determine the class average for the quiz*
We divide the top into a series of smaller tasks and list these in the order in which they need to be performed. This results in the following first refinement.
*Initialize variables*
*Input, sum, and count the quiz grades*
*Calculate and print the class average*
To proceed to the next level of refinement, i.e., the second refinement, we commit to specific variables. The complete second refinement is shown below.
1. *Initialize total to zero*
2. *Initialize counter to zero*
3. *Input the first grade (possibly the sentinel)*
4. *While the user has not as yet entered the sentinel*
5. *  Add this grade into the running total*
6. *  Add one to the grade counter*
7. *  Input the next grade (possibly the sentinel)*
8. *If the counter is not equal to zero*
9. *  Set the average to the total divided by the counter*
10. *  Print the average*
11. *else*
12. *  Print No grades were entered*

The C program and a sample execution are shown below. Although only integer grades are entered, the averaging calculation is likely to produce a number with a decimal point. The type \`int\` cannot represent such a number. The program introduces the data type \`float\` to handle numbers with decimal points (called floating-point numbers) and introduces a special operator called a cast operator to handle the averaging calculation.
\`\`\`c
// Fig. 3.8: fig03_08.c
// Class-average program with sentinel-controlled iteration.
#include <stdio.h>

int main( void ) {
    unsigned int counter; // number of grades entered
    int grade; // grade value
    int total; // sum of grades
    float average; // number with decimal point for average

    // initialization phase
    total = 0; // initialize total
    counter = 0; // initialize loop counter

    // processing phase
    printf( "%s", "Enter grade, -1 to end: " ); // prompt for input
    scanf( "%d", &grade ); // read grade from user
    
    while ( grade != -1 ) {
        total = total + grade; // add grade to total
        counter = counter + 1; // increment counter
        printf( "%s", "Enter grade, -1 to end: " ); // prompt for input
        scanf( "%d", &grade ); // read next grade
    } // end while

    // termination phase
    if ( counter != 0 ) {
        // calculate average of all grades entered
        average = (float) total / counter; // avoid truncation
        printf( "Class average is %.2f\\n", average );
    } // end if
    else { // if no grades were entered, output message
        puts( "No grades were entered" );
    } // end else
} // end function main
\`\`\`

## 3.10 Formulating Algorithms with Top-Down, Stepwise Refinement Case Study 3: Nested Control Statements
Weve seen that control statements may be stacked on top of one another (in sequence). In this case study well see the only other structured way control statements may be connected in C, namely through nesting of one control statement within another.

## 3.11 Assignment Operators
C provides several assignment operators for abbreviating assignment expressions. For example, the statement \`c = c + 3;\` can be abbreviated with the addition assignment operator \`+=\` as \`c += 3;\`. The \`+=\` operator adds the value of the expression on the right of the operator to the value of the variable on the left of the operator and stores the result in the variable on the left of the operator.

## 3.12 Increment and Decrement Operators
C also provides the unary increment operator, \`++\`, and the unary decrement operator, \`--\`. If a variable c is to be incremented by 1, the increment operator \`++\` can be used rather than the expressions \`c = c + 1\` or \`c += 1\`. If increment or decrement operators are placed before a variable (i.e., prefixed), theyre referred to as the preincrement or predecrement operators. If increment or decrement operators are placed after a variable (i.e., postfixed), theyre referred to as the postincrement or postdecrement operators. Preincrementing (predecrementing) a variable causes the variable to be incremented (decremented) by 1, then its new value is used in the expression in which it appears. Postincrementing (postdecrementing) the variable causes the current value of the variable to be used in the expression in which it appears, then the variable value is incremented (decremented) by 1.

## 3.13 Secure C Programming
### Arithmetic Overflow
Adding integers could result in a value thats too large to store in an \`int\` variable. This is known as arithmetic overflow and can cause undefined behavior. Its considered a good practice to ensure that before you perform arithmetic calculations, they will not overflow.

### Unsigned Integers
In general, counters that should store only non-negative values should be declared with \`unsigned\` before the integer type. Variables of unsigned types can represent values from 0 to approximately twice the positive range of the corresponding signed integer types.
`,zh:`
# 3. C 

## 

- 
- 
-  if  if...else 
-  while 
- 
- 
- 

## 3.1 
 4.12 

## 3.2 

1. 
2. 

(1) (2) (3) (4) (5) (6) (1) (2) (3) (4) (5) (6)  C 

## 3.3 
 C 
 C 
 C  C 
 C  C 
\`int i;\`
 i 

## 3.4 
 C 
 1960  goto  goto
Bohm  Jacopini  goto  goto  1970 
Bohm  Jacopini  C  3.1  C 

### 


 3.1 / grade  total 1  counterC 

 3.1


### C 
C if 3.5 if...else 3.6 switch if if...else switch 

### C 
C  while3.7 do...while  for
C  C  3.1 / C 

## 3.5 if 
 60 
* 60*
*   "Passed"*
 60Passed
 If  C 
\`\`\`c
if ( grade >= 60 ) {
    puts("Passed");
} //  if
\`\`\`
C  int  gradeC 
 3.2  if 

if //


## 3.6 if...else 
if if...else 
* 60*
*   "Passed"*
**
*   "Failed"*
 60 Passed 60 Failedelse 

> ** 3.1**
>  if...else  C 

 If...else  C 
\`\`\`c
if ( grade >= 60 ) {
    puts("Passed");
} //  if
else {
    puts("Failed" );
} //  else
\`\`\`
 3.3  if...else 

###  (?:)
C ?: if...else  C puts 
\`\`\`c
puts( grade >= 60 ? "Passed" : "Failed" );
\`\`\`
 grade >= 60  "Passed" "Failed" puts  if...else 

###  if...else 
 if...else  if...else  if...else  90  A 80 90 B 70 80 C 60 70 D F

* 90*
*   "A"*
**
*   80*
*     "B"*
*  *
*     70*
*       "C"*
*    *
*       60*
*         "D"*
*      *
*         "F"*

 C 
\`\`\`c
if ( grade >= 90 ) {
    puts("A");
} //  if
else {
    if ( grade >= 80 ) {
        puts("B");
    } //  if
    else {
        if ( grade >= 70 ) {
            puts("C");
        } //  if
        else {
            if ( grade >= 60 ) {
                puts("D");
            } //  if
            else {
                puts("F");
            } //  else
        } //  else
    } //  else
} //  else
\`\`\`
 if 
\`\`\`c
if ( grade >= 90 ) {
    puts("A");
} //  if
else if ( grade >= 80 ) {
    puts("B");
} //  else if
else if ( grade >= 70 ) {
    puts("C");
} //  else if
else if ( grade >= 60 ) {
    puts("D");
} //  else if
else {
    puts("F");
} //  else
\`\`\`
 C 

### 
if  if  if {  }

> ** 3.1**
> 

## 3.7 while 

**
*  *
 while  while while 

## 3.8  1

*0  100 *
 10 
 C 
\`\`\`c
//  3.6: fig03_06.c
// 
#include <stdio.h>

int main( void ) {
    unsigned int counter; // 
    int grade; // 
    int total; // 
    int average; // 

    // 
    total = 0; // 
    counter = 1; // 

    // 
    while ( counter <= 10 ) { //  10 
        printf( "%s", ": " ); // 
        scanf( "%d", &grade ); // 
        total = total + grade; // 
        counter = counter + 1; // 
    } //  while

    // 
    average = total / 10; // 
    printf( " %d\\n", average ); // 
} //  main 
\`\`\`

## 3.9  2

**


### 

**

**
**
**

1. **
2. **
3. **
4. **
5. *  *
6. *  *
7. *  *
8. **
9. *  *
10. *  *
11. **
12. *  *

C \`int\`  \`float\` 
\`\`\`c
//  3.8: fig03_08.c
// 
#include <stdio.h>

int main( void ) {
    unsigned int counter; // 
    int grade; // 
    int total; // 
    float average; // 

    // 
    total = 0; // 
    counter = 0; // 

    // 
    printf( "%s", "-1 : " ); // 
    scanf( "%d", &grade ); // 
    
    while ( grade != -1 ) {
        total = total + grade; // 
        counter = counter + 1; // 
        printf( "%s", "-1 : " ); // 
        scanf( "%d", &grade ); // 
    } //  while

    // 
    if ( counter != 0 ) {
        // 
        average = (float) total / counter; // 
        printf( " %.2f\\n", average );
    } //  if
    else { // 
        puts( "" );
    } //  else
} //  main 
\`\`\`

## 3.10  3
 C 

## 3.11 
C  \`c = c + 3;\`  \`+=\`  \`c += 3;\`\`+=\` 

## 3.12 
C  \`++\`  \`--\` c  1 \`++\` \`c = c + 1\`  \`c += 1\`11

## 3.13  C 
### 
 \`int\` 

### 
 \`unsigned\`  0 
`},YN={en:`
# 4. C Program Control

## Objectives
In this chapter, you'll learn:
- The essentials of counter-controlled iteration.
- To use the for and do...while iteration statements to execute statements repeatedly.
- To understand multiple selection using the switch selection statement.
- To use the break and continue statements to alter the flow of control.
- To use the logical operators to form complex conditional expressions in control statements.
- To avoid the consequences of confusing the equality and assignment operators.

## 4.1 Introduction
You should now be comfortable with writing simple, complete C programs. In this chapter, iteration is considered in greater detail, and additional iteration control statements, namely the for and the do...while, are presented. The switch multiple-selection statement is introduced. We discuss the break statement for exiting immediately from certain control statements, and the continue statement for skipping the remainder of the body of an iteration statement, then proceeding with the next iteration of the loop. The chapter discusses logical operators used for combining conditions, and summarizes the principles of structured programming as presented in Chapter 3 and this chapter.

## 4.2 Iteration Essentials
Most programs involve iteration, or looping. A loop is a group of instructions the computer executes repeatedly while some loop-continuation condition remains true. We've discussed two means of iteration:
1. Counter-controlled iteration
2. Sentinel-controlled iteration
Counter-controlled iteration is sometimes called definite iteration because we know in advance exactly how many times the loop will be executed. Sentinel-controlled iteration is sometimes called indefinite iteration because its not known in advance how many times the loop will be executed.
In counter-controlled iteration, a control variable is used to count the number of iterations. The control variable is incremented (usually by 1) each time the group of instructions is performed. When the value of the control variable indicates that the correct number of iterations has been performed, the loop terminates and execution continues with the statement after the iteration statement.

## 4.3 Counter-Controlled Iteration
Counter-controlled iteration requires:
1. The name of a control variable (or loop counter).
2. The initial value of the control variable.
3. The increment (or decrement) by which the control variable is modified each time through the loop.
4. The condition that tests for the final value of the control variable (i.e., whether looping should continue).
Consider the simple program shown in Fig. 4.1, which prints the numbers from 1 to 10. The definition
\`unsigned int counter = 1; // initialization\`
names the control variable (counter), defines it to be an integer, reserves memory space for it, and sets its initial value to 1.

## 4.4 for Iteration Statement
The for iteration statement handles all the details of counter-controlled iteration. The general format of the for statement is
\`for (initialization; condition; increment) { statement }\`
where the initialization expression initializes the loop-control variable, the condition expression is the loop-continuation condition and the increment expression increments the control variable.
Figure 4.3 takes a closer look at the for statement of Fig. 4.2. Notice that the for statement does it allit specifies each of the items needed for counter-controlled iteration with a control variable. The three expressions in the for statement are optional. If the condition expression is omitted, C assumes that the loop-continuation condition is true, thus creating an infinite loop. The two semicolons in the for statement are required.

## 4.5 for Statement: Notes and Observations
1. The initialization, loop-continuation condition and increment can contain arithmetic expressions.
2. The increment may be negative (in which case its really a decrement and the loop actually counts downward).
3. If the loop-continuation condition is initially false, the loop body does not execute.
4. The control variable is frequently printed or used in calculations in the body of a loop, but it need not be.
5. The for statement is flowcharted much like the while statement. The initialization occurs only once and incrementing occurs after the body statement each time its performed.

## 4.6 Examples Using the for Statement
The for statement can be used to sum the even integers from 2 to 100, or to calculate compound interest. C does not include an exponentiation operator, but we can use the Standard Library function \`pow(x, y)\` to calculate x raised to the y-th power.

## 4.7 switch Multiple-Selection Statement
Occasionally, an algorithm will contain a series of decisions in which a variable or expression is tested separately for each of the constant integral values it may assume, and different actions are taken. This is called multiple selection. C provides the switch multiple-selection statement to handle such decision making.
The switch statement consists of a series of case labels, an optional default case and statements to execute for each case. The break statement is used to exit the switch statement immediately. If break is not used, fall-through will occur, where the statements for all the remaining cases will be executed.

## 4.8 do...while Iteration Statement
The do...while iteration statement is similar to the while statement. In the while statement, the loop-continuation condition is tested at the beginning of the loop before the body of the loop is performed. The do...while statement tests the loop-continuation condition after the loop body is performed. Therefore, the loop body will always execute at least once.

## 4.9 break and continue Statements
The break and continue statements are used to alter the flow of control.
- **break Statement**: When executed in a while, for, do...while or switch statement, causes an immediate exit from that statement.
- **continue Statement**: When executed in a while, for or do...while statement, skips the remaining statements in that control statements body and performs the next iteration of the loop.

## 4.10 Logical Operators
Logical operators may be used to form more complex conditions by combining simple conditions. The logical operators are \`&&\` (logical AND), \`||\` (logical OR) and \`!\` (logical NOT).
- An expression containing \`&&\` or \`||\` operators is evaluated only until truth or falsehood is known. This is called short-circuit evaluation.

## 4.11 Confusing Equality (==) and Assignment (=) Operators
A common error is accidentally swapping the operators \`==\` (equality) and \`=\` (assignment). This does not ordinarily cause compilation errors but can lead to runtime logic errors. Any expression that produces a value can be used in the decision portion of any control statement. If the value is 0, its treated as false; if nonzero, it's true. Assignments in C produce a value.

## 4.12 Structured Programming Summary
Structured programming produces programs that are easier to understand, test, debug, modify, and even prove correct. It involves using only single-entry/single-exit control statements combined in two ways: stacking and nesting. All programs can be written in terms of only three forms of control: sequence, selection (if), and iteration (while).

## 4.13 Secure C Programming
### Checking Function scanfs Return Value
Many functions return values indicating whether they executed successfully. For example, function \`scanf\` returns an \`int\` indicating the number of items that were read. If this value does not match the number you intended to read, then \`scanf\` was unable to complete the input operation.

### Range Checking
Even if a scanf operates successfully, the values read might still be invalid. You should validate inputs by using range checking to ensure that they are within expected bounds.
`,zh:`
# 4. C 

## 

- 
-  for  do...while 
-  switch 
-  break  continue 
- 
- 

## 4.1 
 C  for  do...while switch  break  continue 

## 4.2 

1. 
2. 

 1

## 4.3 

1. 
2. 
3. 
4. 
 4.1  1  10 
\`unsigned int counter = 1; // \`
counter 1

## 4.4 for 
for for 
\`for (; ; ) {  }\`

 4.3  4.2  for for for C for 

## 4.5 for 
1. 
2. 
3. 
4. 
5. for  while 

## 4.6  for 
for  2  100 C  \`pow(x, y)\`  x  y 

## 4.7 switch 
C  switch 
switch  case  default case  case break  switch  break(fall-through) case 

## 4.8 do...while 
do...while  while  while do...while 

## 4.9 break  continue 
break  continue 
- **break ** whilefordo...while  switch 
- **continue ** whilefor  do...while 

## 4.10 
 \`&&\` ( AND)\`||\` ( OR)  \`!\` ( NOT)
-  \`&&\`  \`||\` 

## 4.11  (==)  (=) 
 \`==\` ()  \`=\` ()  0 C 

## 4.12 
/ (if)  (while)

## 4.13  C 
###  scanf 
 \`scanf\`  \`int\` \`scanf\` 

### 
 scanf 
`},nt=[{id:"preface",title:{en:"Preface",zh:""},subtitle:{en:"About the book",zh:""}},{id:"chapter1",title:{en:"Chapter 1: Intro to Computers, Internet & Web",zh:""},subtitle:{en:"Basic concepts, hardware, software, and history",zh:""}},{id:"chapter2",title:{en:"Chapter 2: Introduction to C Programming",zh:"C "},subtitle:{en:"First programs, variables, arithmetic, and decision making",zh:""}},{id:"chapter3",title:{en:"Chapter 3: Structured Program Development in C",zh:"C "},subtitle:{en:"Algorithms, pseudocode, control structures",zh:""}},{id:"chapter4",title:{en:"Chapter 4: C Program Control",zh:"C "},subtitle:{en:"Essentials of repetition, for, do...while, switch",zh:"fordo...whileswitch"}},{id:"chapter5",title:{en:"Chapter 5: C Functions",zh:"C "},subtitle:{en:"Function definitions, prototypes, recursion",zh:""}},{id:"chapter6",title:{en:"Chapter 6: C Arrays",zh:"C "},subtitle:{en:"Defining, initializing, and using arrays",zh:""}},{id:"chapter7",title:{en:"Chapter 7: C Pointers",zh:"C "},subtitle:{en:"Pointer variables, operators, and pointer arithmetic",zh:""}},{id:"chapter8",title:{en:"Chapter 8: C Characters and Strings",zh:"C "},subtitle:{en:"Character handling and string manipulation functions",zh:""}},{id:"chapter9",title:{en:"Chapter 9: C Formatted Input/Output",zh:"C /"},subtitle:{en:"printf, scanf, field widths, and precision",zh:"printfscanf"}},{id:"chapter10",title:{en:"Chapter 10: C Structures, Unions, Bit Manipulation",zh:"C "},subtitle:{en:"Structures, unions, bitwise operators, and bit fields",zh:""}},{id:"chapter11",title:{en:"Chapter 11: C File Processing",zh:"C "},subtitle:{en:"Sequential and random-access files",zh:""}},{id:"chapter12",title:{en:"Chapter 12: C Data Structures",zh:"C "},subtitle:{en:"Linked lists, stacks, queues, and trees",zh:""}},{id:"chapter13",title:{en:"Chapter 13: C Preprocessor",zh:"C "},subtitle:{en:"#define, #include, conditional compilation",zh:"#define#include"}},{id:"chapter14",title:{en:"Chapter 14: Other C Topics",zh:" C "},subtitle:{en:"Redirecting I/O, command-line arguments, exit",zh:"I/O exit"}},{id:"chapter15",title:{en:"Chapter 15: C++ as a Better C",zh:"C++  C"},subtitle:{en:"Intro to Object Technology, iostream, references",zh:"iostream"}},{id:"chapter16",title:{en:"Chapter 16: Intro to Classes, Objects and Strings",zh:""},subtitle:{en:"Defining classes, member functions, constructors",zh:""}},{id:"chapter17",title:{en:"Chapter 17: Classes: A Deeper Look",zh:""},subtitle:{en:"const objects, composition, friend functions, this pointer",zh:"const this "}},{id:"chapter18",title:{en:"Chapter 18: Operator Overloading; Class string",zh:"string "},subtitle:{en:"Fundamentals, binary/unary operator overloading",zh:"/"}},{id:"chapter19",title:{en:"Chapter 19: Object-Oriented Programming: Inheritance",zh:""},subtitle:{en:"Base classes, derived classes, protected members",zh:""}},{id:"chapter20",title:{en:"Chapter 20: Object-Oriented Programming: Polymorphism",zh:""},subtitle:{en:"Virtual functions, abstract classes, dynamic binding",zh:""}},{id:"chapter21",title:{en:"Chapter 21: Stream Input/Output: A Deeper Look",zh:"/"},subtitle:{en:"Stream states, manipulators, formatting",zh:""}},{id:"chapter22",title:{en:"Chapter 22: Exception Handling: A Deeper Look",zh:""},subtitle:{en:"try, catch, throw, stack unwinding",zh:"trycatchthrow"}},{id:"chapter23",title:{en:"Chapter 23: Introduction to Custom Templates",zh:""},subtitle:{en:"Class templates, function templates",zh:""}}],zt={en:`# Content Coming Soon

This chapter content is currently being prepared and will be available in a future update.`,zh:`# 

`},KN={preface:{title:nt[0].title,content:WN},chapter1:{title:nt[1].title,content:GN},chapter2:{title:nt[2].title,content:VN},chapter3:{title:nt[3].title,content:XN},chapter4:{title:nt[4].title,content:YN},chapter5:{title:nt[5].title,content:zt},chapter6:{title:nt[6].title,content:zt},chapter7:{title:nt[7].title,content:zt},chapter8:{title:nt[8].title,content:zt},chapter9:{title:nt[9].title,content:zt},chapter10:{title:nt[10].title,content:zt},chapter11:{title:nt[11].title,content:zt},chapter12:{title:nt[12].title,content:zt},chapter13:{title:nt[13].title,content:zt},chapter14:{title:nt[14].title,content:zt},chapter15:{title:nt[15].title,content:zt},chapter16:{title:nt[16].title,content:zt},chapter17:{title:nt[17].title,content:zt},chapter18:{title:nt[18].title,content:zt},chapter19:{title:nt[19].title,content:zt},chapter20:{title:nt[20].title,content:zt},chapter21:{title:nt[21].title,content:zt},chapter22:{title:nt[22].title,content:zt},chapter23:{title:nt[23].title,content:zt}},_5=[{id:"intro-to-cs",name:{en:"Intro to Computers",zh:""},description:{en:"A comprehensive introduction to computer science concepts including hardware, software, data representation, and algorithms.",zh:""},type:"quiz",enabled:!0},{id:"c-programming",name:{en:"C Programming",zh:"C "},description:{en:"Master the fundamentals of C programming, from basic syntax to advanced topics like pointers and data structures.",zh:" C "},type:"programming",enabled:!0}],T5={"intro-to-cs":{loader:async()=>({problems:nN,exercises:[],glossaryData:aN,textbookData:PN,chapterList:Ne})},"c-programming":{loader:async()=>({problems:LN,exercises:qN,glossaryData:HN,textbookData:KN,chapterList:nt})}},Hs=e=>e.trim().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\u4e00-\u9fa5\-_]+/g,""),QN=new Set(["AND","OR","NOT","XOR","NAND","NOR","C","R","I","P","NP","BIT","BYTE","RAM","ROM","CPU","ALU","CU","OS","IO","I/O","GIF","PNG","JPEG","MPEG","MP3","DVD","CD","IP","TCP","UDP","MAC","URL","URI","HTML","HTTP","XML","AI","DSL","ISP","LAN","WAN","MAN","PAN","SQL","NoSQL","AC","DC","RSA","DES","AES","GUI","CLI","API","SDK","IDE"]),JN=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),ZN=e=>{const t=e.filter(s=>s.importance>1),n=e.reduce((s,l)=>(s[l.term.toLowerCase()]=l,s),{});let a;if(e.length===0)a=/(?!)/;else{const s=e.slice().sort((d,m)=>m.term.length-d.term.length),l="[\\w\\u4e00-\\u9fa5+\\-#]",c=s.map(d=>{const m=d.term,p=m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return QN.has(m)||m.length<3?p:m.split("").map(y=>/[a-zA-Z]/.test(y)?`[${y.toLowerCase()}${y.toUpperCase()}]`:y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("")}),h=`(?<!${l})(${c.join("|")})(?!${l})`;a=new RegExp(h,"g")}const i=t.reduce((s,l)=>(l.chinese&&l.chinese.replace(/\s*\(.*?\)/,"").trim().split(/,|/).map(d=>d.trim()).forEach(d=>{d&&d.length>1&&!JN.has(d)&&(s[d]=l.term)}),s),{}),r=Object.keys(i).sort((s,l)=>l.length-s.length);let o;if(r.length===0)o=/(?!)/;else{const s=r.map(l=>l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));o=new RegExp(`(?:${s.join("|")})`,"g")}return{glossaryMap:n,glossaryRegex:a,zhToEnMap:i,glossaryRegexForZh:o}},eM=(e,t)=>{if(!t||!e)return e;const{zhToEnMap:n,glossaryRegexForZh:a}=t,i=new Set;return e.replace(a,(r,o,s)=>{if(i.has(r))return r;const l=n[r];if(l){const c=s.slice(o+r.length),h=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(`^\\s*[\\(]\\s*${h}\\s*[\\)]`,"i").test(c)?r:(i.add(r),`${r} (${l})`)}return r})},Sa={getItem:e=>{try{if(typeof window<"u"&&window.localStorage)return window.localStorage.getItem(e)}catch{}return null},setItem:(e,t)=>{try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem(e,t)}catch{}}},k5=N.createContext(void 0),tM=()=>{const e=Sa.getItem(hn.THEME);return e==="light"||e==="dark"?e:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},nM=()=>{const e=Sa.getItem("language");return e==="en"||e==="zh"?e:"zh"},$s=(e,t,n)=>{const a=Sa.getItem(`${t}_${e}`);if(!a)return n;try{return JSON.parse(a)}catch{return n}},Fc=(e,t,n)=>{Sa.setItem(`${t}_${e}`,JSON.stringify(n))},aM=({children:e})=>{const[t,n]=N.useState(tM),[a,i]=N.useState(nM),[r,o]=N.useState([]),[s,l]=N.useState(!0),[c,h]=N.useState(!1),[d,m]=N.useState({fontSize:18,lineHeight:1.7,pageWidth:"max-w-5xl",readTheme:"default",initialMode:!1,displayMode:a==="zh"?"zh":"en",preferredMode:"practice"}),[p,b]=N.useState(null),[y,T]=N.useState(null),[g,w]=N.useState(!1),[x,_]=N.useState(null),[C,A]=N.useState(null),[M,I]=N.useState({isInteractive:!1}),R=N.useMemo(()=>p&&_5.find(ie=>ie.id===p)||null,[p]);N.useEffect(()=>{R?(o($s(R.id,hn.FLAGGED_ITEMS,[])),l($s(R.id,hn.AUTO_SHOW_EXPLANATION,!0)),h($s(R.id,hn.AUTO_ADVANCE,!1)),m($s(R.id,hn.READING_SETTINGS,{fontSize:18,lineHeight:1.7,pageWidth:"max-w-5xl",readTheme:"default",initialMode:!1,displayMode:a==="zh"?"zh":"en",preferredMode:"practice"})),A($s(R.id,"lastActiveChapterId",null)),I(ie=>({...ie,isInteractive:!0}))):o([])},[R,a]);const z=ie=>{n(ie),Sa.setItem(hn.THEME,ie)},F=ie=>{i(ie),Sa.setItem("language",ie)},H=N.useCallback(ie=>{R&&(A(ie),Fc(R.id,"lastActiveChapterId",ie))},[R]),X=(ie,Ae)=>N.useCallback(Be=>{R&&ie(gt=>{const Dn=typeof Be=="function"?Be(gt):Be;return Fc(R.id,Ae,Dn),Dn})},[R,ie,Ae]),G=X(l,hn.AUTO_SHOW_EXPLANATION),j=X(h,hn.AUTO_ADVANCE),$=N.useCallback(ie=>{R&&o(Ae=>{const Be=Ae.includes(ie)?Ae.filter(gt=>gt!==ie):[...Ae,ie];return Fc(R.id,hn.FLAGGED_ITEMS,Be),Be})},[R]),L=N.useCallback(ie=>{var Ae;if(ie){const Be=(Ae=T5[ie])==null?void 0:Ae.loader;Be&&(w(!0),Be().then(gt=>{T(gt),b(ie),_(ZN(gt.glossaryData))}).catch(gt=>console.error("Failed to load subject data",gt)).finally(()=>w(!1)))}else b(null),T(null),_(null),I({isInteractive:!1})},[]),B=N.useCallback(ie=>{R&&m(Ae=>{const Be={...Ae,...ie};return Fc(R.id,hn.READING_SETTINGS,Be),Be})},[R]);N.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");let ie=document.getElementById("highlight-style");ie||(ie=document.createElement("link"),ie.id="highlight-style",ie.rel="stylesheet",document.head.appendChild(ie)),ie.href=t==="dark"?"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css":"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css"},[t]);const V=N.useCallback(ie=>B({fontSize:ie}),[B]),E=N.useCallback(ie=>B({lineHeight:ie}),[B]),re=N.useCallback(ie=>B({pageWidth:ie}),[B]),le=N.useCallback(ie=>B({readTheme:ie}),[B]),O=N.useCallback(ie=>B({initialMode:ie}),[B]),pe=N.useCallback(ie=>B({displayMode:ie}),[B]),ye=N.useCallback(ie=>B({preferredMode:ie}),[B]),_e=N.useCallback(ie=>{I(Ae=>({...Ae,isInteractive:ie}))},[]),Qe=N.useMemo(()=>({theme:t,setTheme:z,language:a,setLanguage:F,flaggedItems:r,toggleFlaggedItem:$,autoShowExplanation:s,setAutoShowExplanation:G,autoAdvance:c,setAutoAdvance:j,subject:R,setSubject:L,subjectData:y,isSubjectLoading:g,glossaryMaps:x,readingSettings:d,setFontSize:V,setLineHeight:E,setPageWidth:re,setReadTheme:le,setInitialMode:O,setDisplayMode:pe,setPreferredMode:ye,canvasState:M,setCanvasInteractive:_e,lastActiveChapterId:C,setLastActiveChapterId:H}),[t,z,a,F,r,$,s,G,c,j,R,L,y,g,x,d,V,E,re,le,O,pe,ye,M,_e,C,H]);return u.jsx(k5.Provider,{value:Qe,children:e})},Ve=()=>{const e=N.useContext(k5);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e},ps=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})}),fd=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}),Dr=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),iM=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5"})}),xf=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"})}),$g=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 5.25h.007v.008H4.125v-.008Zm0 5.25h.007v.008H4.125v-.008H4.125v-.008Z"})}),_f=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.75h16.5m-16.5 0A2.25 2.25 0 0 1 6 7.5h12a2.25 2.25 0 0 1 2.25 2.25m-16.5 0v6.75c0 .621.504 1.125 1.125 1.125h14.25c.621 0 1.125-.504 1.125-1.125V9.75"})}),Tf=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),rM=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})}),Jn=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})}),Cr=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),eu=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"})}),tu=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...e,children:u.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"})}),oM=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.75V16.5L12 14.25 7.5 16.5V3.75m9 0H18A2.25 2.25 0 0 1 20.25 6v12A2.25 2.25 0 0 1 18 20.25H6A2.25 2.25 0 0 1 3.75 18V6A2.25 2.25 0 0 1 6 3.75h1.5m9 0h-9"})}),sM=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),A5=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),S5=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.745 3.745 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})}),lM=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"})}),cM=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9V4.5M15 9h4.5M15 9l5.25-5.25M15 15v4.5M15 15h4.5M15 15l5.25 5.25"})}),nu=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),hM=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),qr=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"})}),dM=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),kf=e=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213.852c.079.317.36.563.68.656.32.092.658.026 1.03-.178l.62-.358a1.125 1.125 0 0 1 1.45.12l1.83 1.83c.39.39.44 1.022.12 1.45l-.358.62c-.204.372-.27.81-.178 1.03l.852.213c.542.09.94.56.94 1.11v2.593c0 .55-.398 1.02-.94 1.11l-.852.213c-.092.32.026-.658-.178-1.03l-.358-.62a1.125 1.125 0 0 1 .12-1.45l1.83-1.83a1.125 1.125 0 0 1 1.45-.12l.62.358c.372.204.81.27 1.03.178.317-.079.563-.36.656-.68l.213-.852z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"})]}),Af=e=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 100-18 9 9 0 000 18z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h16.5m-16.5 0a8.96 8.96 0 001.036 4.225M20.25 12a8.96 8.96 0 01-1.036 4.225m-14.178-8.45a8.962 8.962 0 0114.178 0"})]}),uM=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})}),mM=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})}),pM=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"})}),C5=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 11.667 0l3.181-3.183m-3.181 4.991-3.181-3.183a8.25 8.25 0 0 0-11.667 0l3.181 3.183"})}),Zo=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...e,children:u.jsx("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.279 20.01c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"})}),fM=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"})}),gM=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"})}),bM=e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})});function ca({options:e,value:t,onChange:n,className:a="h-12 text-sm bg-[var(--ui-bg)]"}){const i=N.useRef(null),[r,o]=N.useState(0),s=N.useRef(!1),[l,c]=N.useState(t),h=Jo(0),d=Jo(1),m=4,p=Math.max(0,r-m*2),b=p/e.length,y=Math.max(0,p-b),T=e.findIndex(I=>I.value===t),g=T===-1?0:T;N.useLayoutEffect(()=>{c(t)},[t]),N.useLayoutEffect(()=>{if(!s.current&&r>0){const I=g*b;Zr(h,I,{type:"spring",stiffness:600,damping:35})}},[g,b,r]),N.useLayoutEffect(()=>{if(!i.current)return;(()=>{i.current&&o(i.current.getBoundingClientRect().width)})();const R=new ResizeObserver(z=>{for(let F of z)if(F.borderBoxSize){const H=Array.isArray(F.borderBoxSize)?F.borderBoxSize[0]:F.borderBoxSize;o(H.inlineSize)}else o(F.contentRect.width)});return R.observe(i.current),()=>R.disconnect()},[]);const w=I=>{I.stopPropagation(),Zr(d,1.05,{duration:.15})},x=()=>{s.current||Zr(d,1,{duration:.15})},_=()=>{s.current=!0,Zr(d,1.05,{duration:.15})},C=(I,R)=>{const F=h.get()+R.delta.x,H=Math.max(0,Math.min(F,y));if(h.set(H),b>0){const X=Math.round(H/b);if(X>=0&&X<e.length){const G=e[X].value;G!==l&&c(G)}}},A=()=>{s.current=!1,Zr(d,1,{duration:.15});const I=h.get();let R=0;if(b>0&&(R=Math.round(I/b)),R=Math.max(0,Math.min(R,e.length-1)),e[R]){const z=e[R].value;if(z!==t)n(z);else{const F=R*b;Zr(h,F,{type:"spring",stiffness:600,damping:35})}}},M=I=>{if(!i.current||s.current)return;const R=i.current.getBoundingClientRect(),z=I.clientX-R.left-m;if(b>0){const F=Math.floor(z/b);F>=0&&F<e.length&&n(e[F].value)}};return u.jsxs("div",{ref:i,onClick:M,className:`relative flex w-full select-none items-center rounded-full p-1 cursor-pointer ${a}`,style:{touchAction:"none"},children:[r>0&&u.jsx(ee.div,{className:"absolute top-1 bottom-1 left-1 rounded-full bg-[var(--accent-solid)] shadow-sm z-10 cursor-grab active:cursor-grabbing",style:{x:h,width:b,scale:d},onPointerDown:w,onPointerUp:x,onPanStart:_,onPan:C,onPanEnd:A}),u.jsx("div",{className:"relative z-20 flex w-full h-full pointer-events-none",children:e.map(I=>u.jsx("div",{className:`flex-1 flex items-center justify-center font-semibold transition-colors duration-200 ${l===I.value?"text-[var(--accent-solid-text)]":"text-[var(--text-secondary)]"}`,children:I.label},I.value))})]})}const yM=()=>{const[e,t]=N.useState(new Date),{theme:n,setTheme:a,language:i,setLanguage:r}=Ve();return N.useEffect(()=>{const o=setInterval(()=>t(new Date),1e3);return()=>clearInterval(o)},[]),u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"absolute top-6 left-6 z-20 font-mono text-xs text-[var(--text-secondary)] opacity-70 tracking-widest pointer-events-none",children:[u.jsx("div",{className:"font-bold text-[var(--text-primary)] text-lg mb-1",children:"QUESTION_BANK"}),u.jsx("div",{className:"hidden sm:block",children:"SYS.VER.2.0.5"})]}),u.jsxs("div",{className:"absolute top-6 right-6 z-20 flex flex-col sm:flex-row items-end sm:items-center gap-3 pointer-events-auto",children:[u.jsx("div",{className:"w-24 sm:w-28 md:w-32 lg:w-36 xl:w-40 transition-all duration-300",children:u.jsx(ca,{options:[{label:"EN",value:"en"},{label:"",value:"zh"}],value:i,onChange:o=>r(o),className:"h-8 sm:h-9 md:h-10 lg:h-11 text-xs sm:text-sm font-mono font-bold shadow-sm border border-[var(--ui-border)] backdrop-blur-md bg-[var(--ui-bg)]/50"})}),u.jsx("div",{className:"w-24 sm:w-28 md:w-32 lg:w-36 xl:w-40 transition-all duration-300",children:u.jsx(ca,{options:[{label:"",value:"light"},{label:"",value:"dark"}],value:n,onChange:o=>a(o),className:"h-8 sm:h-9 md:h-10 lg:h-11 text-xs sm:text-sm font-bold shadow-sm border border-[var(--ui-border)] backdrop-blur-md bg-[var(--ui-bg)]/50"})})]}),u.jsxs("div",{className:"absolute bottom-6 right-6 z-20 font-mono text-xs text-[var(--text-secondary)] opacity-70 text-right pointer-events-none",children:[u.jsx("div",{className:"mb-1 hidden sm:block",children:"Local Time"}),u.jsx("div",{className:"text-[var(--text-primary)]",children:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),u.jsx("div",{className:"text-[10px] text-[var(--text-subtle)] opacity-40 mt-1",children:e.toLocaleDateString()})]})]})},wM=({subject:e,onClick:t,index:n,onHoverStart:a,onHoverEnd:i})=>{const{language:r}=Ve(),o=e.id==="intro-to-cs"?ps:qr,[s,l]=N.useState(!1);return u.jsx(ee.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:n*.1,ease:[.22,1,.36,1]},onMouseEnter:()=>{l(!0),a()},onMouseLeave:()=>{l(!1),i()},onClick:t,className:"relative group cursor-pointer w-full max-w-sm md:max-w-none md:w-[400px] h-auto md:h-[500px] perspective-1000 flex-shrink-0",children:u.jsxs("div",{className:`
          relative w-full h-full flex flex-col justify-between p-6 md:p-8 
          border transition-all duration-300 overflow-hidden rounded-2xl md:rounded-none
          ${s?"border-[var(--text-primary)] bg-[var(--text-primary)]/10":"border-[var(--ui-border)] bg-[var(--ui-bg)]"}
        `,style:{backdropFilter:"blur(12px)",boxShadow:s?"0 0 30px rgba(0,0,0,0.05), inset 0 0 20px rgba(255,255,255,0.05)":"0 0 0 rgba(0,0,0,0)"},children:[u.jsxs("div",{className:`absolute inset-0 transition-opacity duration-200 pointer-events-none ${s?"opacity-100":"opacity-0"}`,children:[u.jsx("div",{className:"absolute inset-0 border border-red-500/50 translate-x-[2px] translate-y-[2px]"}),u.jsx("div",{className:"absolute inset-0 border border-blue-500/50 -translate-x-[2px] -translate-y-[2px]"})]}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("span",{className:"font-mono text-[10px] text-[var(--text-secondary)] opacity-60 uppercase tracking-[0.2em] border border-[var(--ui-border)] px-2 py-1 rounded-full",children:[String(n+1).padStart(2,"0")," / REF"]}),u.jsx(o,{className:`w-6 h-6 transition-colors duration-200 ${s?"text-[var(--text-primary)]":"text-[var(--text-subtle)]"}`})]}),u.jsx("h2",{className:`
            font-serif text-3xl md:text-5xl font-light leading-tight mb-2 transition-all duration-200
            ${s?"text-[var(--text-primary)] scale-105 origin-left":"text-[var(--text-primary)] opacity-80"}
          `,children:e.name[r]}),u.jsx("p",{className:"font-mono text-xs text-[var(--text-secondary)] opacity-50 uppercase tracking-wider",children:e.name[r==="en"?"zh":"en"]})]}),u.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-10 dark:opacity-20",children:[u.jsx("div",{className:`w-32 h-32 border border-[var(--text-primary)] rounded-full transition-transform duration-700 ${s?"scale-150 rotate-45":"scale-100 rotate-0"}`}),u.jsx("div",{className:`absolute w-48 h-px bg-[var(--text-primary)] transition-transform duration-500 ${s?"rotate-90":"rotate-45"}`}),u.jsx("div",{className:`absolute w-48 h-px bg-[var(--text-primary)] transition-transform duration-500 ${s?"rotate-0":"-rotate-45"}`})]}),u.jsxs("div",{className:"relative z-10 space-y-6 mt-8 md:mt-0",children:[u.jsx("p",{className:`font-mono text-sm leading-relaxed transition-colors duration-200 line-clamp-3 ${s?"text-[var(--text-primary)] opacity-90":"text-[var(--text-secondary)] opacity-50"}`,children:e.description[r]}),u.jsxs("div",{className:"flex items-center justify-between border-t border-[var(--ui-border)] pt-4",children:[u.jsx("span",{className:`font-mono text-xs uppercase tracking-widest transition-colors ${s?"text-[var(--text-primary)]":"text-[var(--text-subtle)]"}`,children:"Initialize"}),u.jsx("div",{className:`
                w-8 h-8 flex items-center justify-center rounded-full border transition-all duration-200
                ${s?"border-[var(--text-primary)] bg-[var(--text-primary)] text-[var(--bg-color)] rotate-0":"border-[var(--ui-border)] text-[var(--text-subtle)] -rotate-45"}
              `,children:u.jsx(Jn,{className:"w-4 h-4"})})]})]})]})})},vM=({control:e})=>{const t=Jo(.5),n=Jo(.5),a=Pl(t,{damping:40,stiffness:300}),i=Pl(n,{damping:40,stiffness:300}),r=pd(a,[0,1],[-5,5]),o=pd(i,[0,1],[-5,5]);N.useEffect(()=>{const l=c=>{const{clientX:h,clientY:d}=c,{innerWidth:m,innerHeight:p}=window;t.set(h/m),n.set(d/p)};return window.addEventListener("mousemove",l),()=>window.removeEventListener("mousemove",l)},[]);const s={idle:{opacity:1,filter:"blur(1px) brightness(1)",scale:1,transition:{duration:.5,ease:"easeInOut"}},glitch:{opacity:[1,.8,1,.9,1],filter:["blur(0px)","blur(1px)","blur(0px)","blur(0.5px)","blur(0px)"],scale:1,transition:{duration:.2,times:[0,.2,.4,.6,1],ease:"linear"}},dimmed:{opacity:.1,filter:"blur(0px) brightness(0.8)",scale:1,transition:{duration:.2}}};return u.jsx(ee.div,{style:{x:r,y:o},variants:s,initial:"idle",animate:e,className:"absolute inset-0 flex items-start justify-end md:items-start md:justify-center lg:items-center lg:justify-center pt-16 pr-6 md:pt-24 md:pr-0 lg:pt-0 overflow-hidden select-none pointer-events-none z-0",children:u.jsx("h1",{className:"text-6xl sm:text-8xl md:text-[18vw] lg:text-[22vw] font-black text-[var(--text-primary)] opacity-10 dark:opacity-100 leading-none tracking-tight",children:"SELECT"})})},xM=()=>{const{setSubject:e}=Ve(),t=FI(),n=N.useRef(!1),a=N.useRef(null),i=()=>{a.current&&(clearTimeout(a.current),a.current=null),n.current?t.start("dimmed"):t.start("glitch").then(()=>{t.start("dimmed"),n.current=!0})},r=()=>{t.start({opacity:1,filter:"blur(1px) brightness(1)",scale:1,transition:{delay:.3,duration:.3,ease:"easeInOut"}}),a.current=setTimeout(()=>{n.current=!1},(.3+.3)*1e3)},o=s=>{e(s)};return u.jsxs("div",{className:"relative w-full h-full overflow-hidden text-[var(--text-primary)] font-sans",children:[u.jsx(vM,{control:t}),u.jsx(yM,{}),u.jsx("div",{className:"absolute inset-0 z-10 overflow-y-auto md:overflow-hidden custom-scrollbar",children:u.jsx("div",{className:"min-h-full w-full flex flex-col md:flex-row items-center justify-center gap-8 p-6 pt-24 pb-24 md:p-8",children:_5.map((s,l)=>u.jsx(wM,{index:l,subject:s,onClick:()=>s.enabled&&o(s.id),onHoverStart:i,onHoverEnd:r},s.id))})})]})},_M=4e3,TM=.25,kM=.08,AM=2,SM=2.3,CM=.0015,EM=.002,IM=.18,NM=.4,MM=()=>{const e=N.useRef(null),t=N.useRef([]),n=N.useRef([]),a=N.useRef(null),{canvasState:i,theme:r}=Ve(),{isInteractive:o}=i,s=N.useRef({x:0,y:0}),l=N.useRef({x:0,y:0}),c=N.useRef({x:0,y:0});return N.useEffect(()=>{const h=d=>{s.current.x=d.clientX,s.current.y=d.clientY,l.current.x=(window.innerWidth/2-d.clientX)*.015,l.current.y=(window.innerHeight/2-d.clientY)*.015};return o&&window.addEventListener("mousemove",h),()=>{window.removeEventListener("mousemove",h)}},[o]),N.useEffect(()=>{const h=e.current;if(!h)return;const d=()=>{const m=window.innerWidth,p=window.innerHeight,y=m<768?60:40;h.width=m,h.height=p;const T=Math.ceil(m/y)+2,g=Math.ceil(p/y)+2;n.current=[];const w=-y,x=-y;for(let _=0;_<T;_++)for(let C=0;C<g;C++){const A=w+_*y,M=x+C*y;n.current.push({x:A,y:M,baseX:A,baseY:M})}h.gridSpacing=y};return window.addEventListener("resize",d),d(),()=>window.removeEventListener("resize",d)},[]),N.useEffect(()=>{const h=e.current,d=h==null?void 0:h.getContext("2d",{alpha:!1});if(!h||!d)return;const m=r==="dark",p=m?"#050505":"#f4f1ea",b=m?"rgba(255, 255, 255, 0.03)":"rgba(0, 0, 0, 0.03)",y=m?"255, 255, 255":"28, 25, 23",T=g=>{if(document.hidden){a.current=requestAnimationFrame(T);return}const w=h.gridSpacing||40;c.current.x+=(l.current.x-c.current.x)*.05,c.current.y+=(l.current.y-c.current.y)*.05,d.fillStyle=p,d.fillRect(0,0,h.width,h.height);const x=g*.01%w,_=g*.01%w;t.current.length>0&&(t.current=t.current.filter(j=>g-j.startTime<_M)),d.beginPath(),d.strokeStyle=b,d.lineWidth=1;const C=c.current.x%w,A=c.current.y%w;for(let j=-w+x+C;j<h.width;j+=w)d.moveTo(j,0),d.lineTo(j,h.height);for(let j=-w+_+A;j<h.height;j+=w)d.moveTo(0,j),d.lineTo(h.width,j);d.stroke();const M=n.current,I=t.current,R=M.length,z=I.length,F=c.current.x+x,H=c.current.y+_,X=h.width,G=h.height;for(let j=0;j<R;j++){const $=M[j],L=$.baseX+F,B=$.baseY+H;if(L<-20||L>X+20||B<-20||B>G+20)continue;let V=0;if(z>0)for(let re=0;re<z;re++){const le=I[re],O=g-le.startTime;if(O<=0)continue;const pe=L-le.x,ye=B-le.y,_e=Math.sqrt(pe*pe+ye*ye),Qe=O*TM,ie=_e-Qe,Ae=120+O*.08;if(Math.abs(ie)<Ae){const Be=kM/(1+_e*.002),gt=Math.exp(-Math.pow(ie/(Ae*.4),2)),Dn=_e*Be-O*.015,On=Math.exp(AM*Math.sin(Dn))-SM,Pn=Math.sin(_e*.25+O*.1)*.15,xt=1/(1+_e*EM)*Math.exp(-O*CM)*le.initialAmp;V+=(On+Pn)*gt*xt}}let E=IM+V*NM;E<0?E=0:E>1&&(E=1),E>.01&&(d.beginPath(),d.arc(L,B,1.2,0,6.28318),d.fillStyle=`rgba(${y}, ${E})`,d.fill())}a.current=requestAnimationFrame(T)};return a.current=requestAnimationFrame(T),()=>{a.current&&cancelAnimationFrame(a.current)}},[r]),u.jsx("canvas",{id:"background-canvas",ref:e,className:"fixed inset-0 w-full h-full z-0 pointer-events-none",style:{willChange:"transform"}})},E5=N.createContext(void 0),zM=({children:e})=>{const[t,n]=N.useState(null),[a,i]=N.useState(new Map),[r,o]=N.useState(0),[s,l]=N.useState(!1),{subject:c}=Ve(),h=N.useCallback(w=>{const x=w.id||`${w.title.replace(/\s+/g,"-")}-${Date.now()}`,_={...w,id:x};(t==null?void 0:t.id)!==x&&(n(_),i(new Map),o(w.startIndex||0),l(!1))},[t]),d=N.useCallback((w,x)=>{t&&(n(_=>_?{..._,problems:w,title:x||_.title}:null),r>=w.length&&o(Math.max(0,w.length-1)))},[t,r]),m=N.useCallback(()=>{n(null)},[]),p=N.useCallback((w,x)=>{s||i(_=>new Map(_).set(w,x))},[s]),b=N.useCallback(w=>{t&&w>=0&&w<t.problems.length&&o(w)},[t]),y=N.useCallback(()=>{if(s||!t||!c)return;const w=Array.from(a).reduce((C,[A,M])=>{const I=t.problems.find(R=>R.id===A);return I&&I.answer===M?C+1:C},0),x=t.problems.map(C=>({problemId:C.id,userAnswer:a.get(C.id)||"",isCorrect:a.get(C.id)===C.answer})),_={id:Date.now().toString(),date:new Date().toISOString(),quizTitle:t.title,subjectId:c.id,score:w,totalQuestions:t.problems.length,answeredQuestions:x};try{const C=Sa.getItem(hn.QUIZ_HISTORY),A=C?JSON.parse(C):[];A.unshift(_),Sa.setItem(hn.QUIZ_HISTORY,JSON.stringify(A.slice(0,20)))}catch(C){console.error("Failed to save quiz history",C)}l(!0)},[s,t,a,c]),T=N.useCallback(()=>{t&&(o(t.startIndex||0),i(new Map),l(!1))},[t]),g={quizState:t,answers:a,currentIndex:r,isFinished:s,startQuiz:h,updateQuiz:d,answerQuestion:p,goToProblem:b,finishQuiz:y,restartQuiz:T,endQuiz:m};return u.jsx(E5.Provider,{value:g,children:e})},fs=()=>{const e=N.useContext(E5);if(e===void 0)throw new Error("useQuiz must be used within a QuizProvider");return e},$M={app_name:"Interactive Learning Bank",cancel:"Cancel",go_back:"Back",home:"Home",table_of_contents:"Table of Contents",practice_modes:"Practice Modes",question_bank:"Question Bank",start_quiz_session:"Start Quiz",programming_exercises:"Programming Exercises",starred_items:"Starred",tools:"Tools",quiz_history:"Quiz History",by_chapter:"Chapters",glossary:"Glossary",chapter:"Chapter",chapter_short:"Ch",chapter_unit:"",search_placeholder:"Search content...",flagged_toast:"Added to Starred",search:"Search",sidebar_toc_header:"Table of Contents",review_incorrect_questions:"Review Incorrect",sidebar_tab_settings:"Settings",sidebar_tab_chapters:"Chapters",sidebar_tab_practice:"Practice",recent_quizzes:"Recent Quizzes",no_recent_quizzes:"Complete a quiz to see your history here.",change_subject:"Subject",my_tools:"My Tools",mode_reading:"Reading",mode_practice:"Practice",start_chapter_quiz:"Start Quiz",view_chapter_problems:"View Problems",quick_actions:"Quick Actions",welcome_back:"Welcome back!",subject_selection_title:"Select a Subject",subject_selection_subtitle:"Choose a course to begin your learning journey.",subtitle_randomized_practice:"Customizable quiz mode",subtitle_coding_practice:"Hands-on coding practice",subtitle_question_bank:"Browse all questions by chapter",resume_label:"Resume",resume_reading:"Resume Reading",start_reading:"Start Reading",items_count:"ITEMS",questions_count:"Questions",finals_tag:"Finals",custom_label:"Custom",ui_language:"Interface Language",settings_display:"Display",settings_paper:"Paper Tone",practice_bank_title:"Practice",practice_bank_subtitle:"Question Bank",practice_questions_for_chapter:"Practice Questions for Chapter",select_subject:"Select a Subject",bookmarks_title:"Starred Items",bookmarks_description:"Review your starred items or start a quiz with them.",bookmarks_no_problems:"You haven't starred any items yet.",bookmarks_start_quiz:"Start Quiz with Starred Problems",question:"Question",of:"of",show_explanation:"Show Explanation",hide_explanation:"Hide Explanation",explanation:"Explanation",next_question:"Next",previous_question:"Previous",results:"Results",quiz_completed:"Quiz Completed!",your_score:"Your Score",correct:"Correct",incorrect:"Incorrect",restart_quiz:"Restart Quiz",return_home:"Return to Contents",select_question:"Jump to...",show_explanation_on_answer:"Auto-show explanation",auto_advance_on_answer:"Auto-advance",go_to_first:"Go to First",go_to_last:"Go to Last",quiz_nav_all:"All",quiz_nav_incorrect:"Incorrect",quiz_nav_unanswered:"Unanswered",quiz_settings:"Quiz Settings",quiz_description:"Select chapters and configure the quiz mode.",select_all:"Select All",deselect_all:"Deselect All",start_quiz:"Start Quiz",quiz_num_questions:"Number of Questions",quiz_all_questions:"Max",quiz_include_chapters:"Chapters to Include",quiz_mode:"Quiz Mode",quiz_mode_shuffled:"Shuffled",quiz_mode_sequential:"Sequential",search_modal_title:"Search",search_modal_placeholder:"Type to search...",search_no_results:"No results found.",search_results_title:"Search Results",exercise_results_title:"Programming Exercises",glossary_title:"Glossary",glossary_search:"Search terms (e.g., CPU, Algorithm)...",glossary_not_found:"No terms found for",glossary_sort_by:"Sort by",glossary_filter_by_chapter:"Filter by chapter",glossary_alphabetical:"Alphabetical",glossary_importance:"Importance",glossary_all_chapters:"All Chapters",history_title:"Quiz History",history_no_quizzes:"You have not completed any quizzes yet.",history_quiz_title:"Quiz Title",history_score:"Score",history_date:"Date",history_view_details:"View Details",history_details_title:"Quiz Details",history_your_answer:"Your Answer",history_correct_answer:"Correct Answer",problem_header:"Problem",exercise_header:"Exercise",key_problem:"Key Problem",options:"Options",next_chapter:"Next Chapter",previous_chapter:"Previous Chapter",reading_settings_title:"Reading Settings",reading_settings_font_size:"Font Size",reading_settings_line_height:"Line Height",reading_settings_page_width:"Page Width",reading_settings_theme:"Theme",reading_settings_formatting:"Initial Mode",reading_settings_language:"Display Language",reading_settings_lang_en:"EN",reading_settings_lang_zh:"ZH",reading_settings_lang_bilingual:"Bilingual",code_editor:"Code Editor",run_code:"Run Code",submit_code:"Submit",reset_code:"Reset",output:"Output",sample_output:"Sample Output",running_code:"Running...",code_submitted:"Submitted!",code_reset:"Code has been reset.",filter_all:"All",filter_programming:"Programming",filter_short_answer:"Short Answer",filter_making_a_difference:"Making a Difference"},RM={app_name:"",cancel:"",go_back:"",home:"",table_of_contents:"",practice_modes:"",question_bank:"",start_quiz_session:"",programming_exercises:"",starred_items:"",tools:"",quiz_history:"",by_chapter:"",glossary:"",chapter:"",chapter_short:"",chapter_unit:"",search_placeholder:"...",flagged_toast:"",search:"",sidebar_toc_header:"",review_incorrect_questions:"",sidebar_tab_settings:"",sidebar_tab_chapters:"",sidebar_tab_practice:"",recent_quizzes:"",no_recent_quizzes:"",change_subject:"",my_tools:"",mode_reading:"",mode_practice:"",start_chapter_quiz:"",view_chapter_problems:"",quick_actions:"",welcome_back:"",subject_selection_title:"",subject_selection_subtitle:"",subtitle_randomized_practice:"",subtitle_coding_practice:"",subtitle_question_bank:"",resume_label:"",resume_reading:"",start_reading:"",items_count:"",questions_count:"",finals_tag:"",custom_label:"",ui_language:"",settings_display:"",settings_paper:"",practice_bank_title:"",practice_bank_subtitle:"",practice_questions_for_chapter:"",select_subject:"",bookmarks_title:"",bookmarks_description:"",bookmarks_no_problems:"",bookmarks_start_quiz:"",question:"",of:"/",show_explanation:"",hide_explanation:"",explanation:"",next_question:"",previous_question:"",results:"",quiz_completed:"",your_score:"",correct:"",incorrect:"",restart_quiz:"",return_home:"",select_question:"...",show_explanation_on_answer:"",auto_advance_on_answer:"",go_to_first:"",go_to_last:"",quiz_nav_all:"",quiz_nav_incorrect:"",quiz_nav_unanswered:"",quiz_settings:"",quiz_description:"",select_all:"",deselect_all:"",start_quiz:"",quiz_num_questions:"",quiz_all_questions:"",quiz_include_chapters:"",quiz_mode:"",quiz_mode_shuffled:"",quiz_mode_sequential:"",search_modal_title:"",search_modal_placeholder:"...",search_no_results:"",search_results_title:"",exercise_results_title:"",glossary_title:"",glossary_search:" (: CPU, )...",glossary_not_found:"",glossary_sort_by:"",glossary_filter_by_chapter:"",glossary_alphabetical:"",glossary_importance:"",glossary_all_chapters:"",history_title:"",history_no_quizzes:"",history_quiz_title:"",history_score:"",history_date:"",history_view_details:"",history_details_title:"",history_your_answer:"",history_correct_answer:"",problem_header:"",exercise_header:"",key_problem:"",options:"",next_chapter:"",previous_chapter:"",reading_settings_title:"",reading_settings_font_size:"",reading_settings_line_height:"",reading_settings_page_width:"",reading_settings_theme:"",reading_settings_formatting:"",reading_settings_language:"",reading_settings_lang_en:"EN",reading_settings_lang_zh:"",reading_settings_lang_bilingual:"",code_editor:"",run_code:"",submit_code:"",reset_code:"",output:"",sample_output:"",running_code:"...",code_submitted:"",code_reset:"",filter_all:"",filter_programming:"",filter_short_answer:"",filter_making_a_difference:""},DM={en:$M,zh:RM},ft=()=>{const{language:e}=Ve();return{t:n=>DM[e][n]||n}},OM={type:"spring",stiffness:400,damping:40,mass:.8},PM={open:{x:0,opacity:1,scale:1},closed:{x:"-110%",opacity:0,scale:.95}},kw={visible:{opacity:1,transition:{staggerChildren:.05,delayChildren:.1}},hidden:{opacity:0}},LM={visible:{opacity:1,x:0,transition:{type:"spring",stiffness:500,damping:30}},hidden:{opacity:0,x:-20}},ra=N.memo(({icon:e,label:t,subLabel:n,active:a,onClick:i,badgeCount:r,isChapter:o,disabled:s,highlight:l,actionIcon:c})=>u.jsxs(ee.button,{variants:LM,onClick:s?void 0:i,disabled:s,whileHover:s?{}:{x:4},whileTap:s?{}:{scale:.98},className:`group relative w-full flex items-center justify-between gap-3 px-3 py-2.5 rounded-xl transition-all duration-300 text-left overflow-hidden border ${a?"bg-[var(--text-primary)] text-[var(--bg-color)] border-[var(--text-primary)] shadow-md":s?"bg-transparent text-[var(--text-subtle)] border-transparent opacity-50 cursor-not-allowed":"bg-transparent text-[var(--text-secondary)] border-transparent hover:bg-[var(--ui-bg)] hover:border-[var(--ui-border)]"}`,children:[u.jsxs("div",{className:"relative z-10 flex items-center gap-3 min-w-0 flex-1",children:[e&&u.jsx("div",{className:`flex-shrink-0 transition-colors duration-200 ${a?"text-[var(--bg-color)]":"text-[var(--text-subtle)] group-hover:text-[var(--text-primary)]"}`,children:e}),o&&n&&u.jsx("div",{className:`font-mono text-[10px] font-bold transition-colors ${a?"text-[var(--bg-color)] opacity-60":"text-[var(--text-subtle)] opacity-40 group-hover:opacity-100"}`,children:n}),u.jsx("div",{className:"flex-col min-w-0 flex-1 flex",children:u.jsx("span",{className:`text-sm truncate font-serif leading-tight transition-all duration-200 ${a?"font-bold":"font-medium"}`,children:t})})]}),u.jsxs("div",{className:"flex items-center gap-2 relative z-10",children:[l&&u.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${a?"bg-[var(--bg-color)]":"bg-[var(--warning-solid-bg)]"}`}),r!==void 0&&r>0&&u.jsx("span",{className:`text-[9px] font-bold font-mono rounded-full px-1.5 py-0.5 transition-colors ${a?"bg-[var(--bg-color)] text-[var(--text-primary)]":"bg-[var(--ui-bg)] text-[var(--text-secondary)] border border-[var(--ui-border)]"}`,children:r}),c&&u.jsx("div",{className:`opacity-0 group-hover:opacity-100 transition-opacity ${a?"text-[var(--bg-color)]":"text-[var(--text-subtle)]"}`,children:c})]})]}));ra.displayName="NavItem";const Ws=N.memo(({children:e})=>u.jsxs("div",{className:"px-3 py-2 mt-4 mb-1 flex items-center gap-3",children:[u.jsx("h3",{className:"text-[9px] font-bold uppercase tracking-[0.2em] text-[var(--text-subtle)] select-none opacity-80 font-mono",children:e}),u.jsx("div",{className:"h-px flex-1 bg-[var(--ui-border)] opacity-50"})]}));Ws.displayName="SectionHeader";const BM=e=>{const{view:t,onNavigate:n,onResetNavigate:a,isOpen:i,setIsOpen:r,onOpenSearch:o,onOpenSettings:s}=e,{t:l}=ft(),{flaggedItems:c,subjectData:h,subject:d,language:m,lastActiveChapterId:p}=Ve(),{quizState:b,currentIndex:y}=fs(),[T,g]=N.useState(typeof window<"u"?window.innerWidth<1024:!0),[w,x]=N.useState("reading");N.useEffect(()=>{switch(t.type){case"textbook":case"glossary":x("reading");break;case"quiz":case"problem":case"exercise":case"question_bank_quiz":case"history":case"bookmarks":case"programming":x("practice");break}},[t.type]);const _=(h==null?void 0:h.chapterList)||[],C=N.useMemo(()=>{if(!h)return{};const F={};return h.problems.forEach(H=>{F[H.chapter]=(F[H.chapter]||0)+1}),F},[h]);N.useEffect(()=>{if(typeof window>"u")return;const F=()=>g(window.innerWidth<1024);return window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]);const A=(F,H)=>{(H.offset.x<-40||H.velocity.x<-400)&&r(!1)},M=(d==null?void 0:d.type)==="quiz",I=(d==null?void 0:d.type)==="programming",R=N.useMemo(()=>{if(t.type==="textbook"||t.type==="quiz")return t.chapterId;if(t.type==="problem"&&h){const F=h.problems.find(H=>H.id===t.id);if(F)return`chapter${F.chapter}`;if(F)return F.chapter}return null},[t,h]),z=F=>{const H=F.replace(/\D/g,"");if(!h)return;const X=h.problems.filter($=>$.chapter===H);if(X.length===0)return;const G=h.chapterList.find($=>$.id===F),j=G?G.title[m]:`${l("chapter")} ${H}`;n({type:"quiz",id:`chapter-${H}-quiz-${Date.now()}`,problems:X,title:j,startIndex:0,chapterId:F})};return u.jsxs(ee.aside,{drag:T?"x":!1,dragConstraints:{left:0,right:0},dragElastic:.1,onDragEnd:A,initial:"closed",variants:PM,animate:i?"open":"closed",transition:OM,className:`fixed top-4 bottom-4 left-4 z-[var(--z-sidebar)] flex flex-col rounded-2xl lg:absolute lg:top-4 lg:bottom-4 lg:left-4 lg:h-[calc(100%-2rem)] glass-pane border border-[var(--ui-border)] shadow-2xl
           w-72 lg:w-64 xl:w-72 2xl:w-80 transition-[width] duration-300
        `,style:{willChange:"transform"},children:[u.jsxs("div",{className:"flex-shrink-0 px-4 pt-5 pb-3 space-y-4 z-20 relative",children:[u.jsxs("button",{onClick:o,className:"w-full group relative flex items-center justify-between px-4 py-2.5 bg-[var(--ui-bg)] hover:bg-[var(--ui-bg-hover)] border border-[var(--ui-border)] rounded-xl transition-all duration-200 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(nu,{className:"w-4 h-4 text-[var(--text-secondary)] group-hover:text-[var(--text-primary)] transition-colors"}),u.jsx("span",{className:"text-sm font-serif font-medium text-[var(--text-secondary)] group-hover:text-[var(--text-primary)] transition-colors",children:l("search_placeholder")})]}),u.jsx("div",{className:"hidden sm:flex items-center",children:u.jsx("span",{className:"text-[10px] font-mono font-bold text-[var(--text-subtle)] border border-[var(--ui-border)] px-1.5 rounded opacity-60",children:"K"})})]}),u.jsx(ca,{options:[{label:l("sidebar_tab_chapters"),value:"reading"},{label:l("sidebar_tab_practice"),value:"practice"}],value:w,onChange:F=>x(F)})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto px-3 pb-8 custom-scrollbar",style:{maskImage:"linear-gradient(to bottom, transparent 0%, black 15px, black 95%, transparent 100%)",WebkitMaskImage:"linear-gradient(to bottom, transparent 0%, black 15px, black 95%, transparent 100%)"},children:[u.jsx("div",{className:"h-2"}),u.jsx(Re,{mode:"wait",children:w==="reading"?u.jsxs(ee.div,{variants:kw,initial:"hidden",animate:"visible",exit:{opacity:0,transition:{duration:.1}},className:"space-y-1",children:[u.jsxs("div",{className:"mb-2 space-y-1",children:[u.jsx(Ws,{children:l("quick_actions")}),u.jsx(ra,{icon:u.jsx(xf,{className:"w-4 h-4"}),label:l("home"),active:t.type==="home",onClick:()=>n({type:"home"})}),u.jsx(ra,{icon:u.jsx(_f,{className:"w-4 h-4"}),label:l("glossary"),active:t.type==="glossary",onClick:()=>n({type:"glossary"})})]}),u.jsx(Ws,{children:l("table_of_contents")}),_.map((F,H)=>u.jsx(ra,{label:F.title[m],subLabel:H.toString().padStart(2,"0"),active:R===F.id,onClick:()=>n({type:"textbook",chapterId:F.id}),isChapter:!0,disabled:F.disabled,highlight:F.highlight,actionIcon:u.jsx(ps,{className:"w-3.5 h-3.5"})},F.id))]},"reading-nav"):u.jsxs(ee.div,{variants:kw,initial:"hidden",animate:"visible",exit:{opacity:0,transition:{duration:.1}},className:"space-y-1",children:[u.jsxs("div",{className:"mb-2 space-y-1",children:[u.jsx(Ws,{children:l("tools")}),u.jsx(ra,{icon:u.jsx(xf,{className:"w-4 h-4"}),label:l("home"),active:t.type==="home",onClick:()=>n({type:"home"})}),M&&u.jsxs(u.Fragment,{children:[u.jsx(ra,{icon:u.jsx(dM,{className:"w-4 h-4"}),label:l("start_quiz_session"),active:t.type==="question_bank_quiz",onClick:()=>n({type:"question_bank_quiz"}),subLabel:l("custom_label")}),u.jsx(ra,{icon:u.jsx(eu,{className:"w-4 h-4"}),label:l("starred_items"),active:t.type==="bookmarks",onClick:()=>n({type:"bookmarks"}),badgeCount:c.length}),u.jsx(ra,{icon:u.jsx(uM,{className:"w-4 h-4"}),label:l("quiz_history"),active:t.type==="history",onClick:()=>n({type:"history"})})]}),I&&u.jsx(ra,{icon:u.jsx(qr,{className:"w-4 h-4"}),label:l("programming_exercises"),active:t.type==="programming"||t.type==="exercise",onClick:()=>n({type:"programming"})})]}),M&&u.jsxs(u.Fragment,{children:[u.jsx(Ws,{children:l("practice_questions_for_chapter")}),_.map((F,H)=>{const X=F.id.replace(/\D/g,""),G=(C[X]||0)>0;return u.jsx(ra,{label:F.title[m],subLabel:H.toString().padStart(2,"0"),active:R===F.id,onClick:()=>z(F.id),isChapter:!0,disabled:F.disabled||!G,highlight:F.highlight,actionIcon:u.jsx(Zo,{className:"w-3.5 h-3.5"})},F.id)})]})]},"practice-nav")}),u.jsx("div",{className:"lg:hidden mt-4 pt-4 border-t border-[var(--ui-border)]",children:u.jsx(ra,{icon:u.jsx(kf,{className:"w-4 h-4"}),label:l("sidebar_tab_settings"),active:!1,onClick:s})}),u.jsx("div",{className:"h-8"})]})]})},Hr=({show:e,onClick:t})=>u.jsx(Re,{children:e&&u.jsx(ee.button,{onClick:t,className:"absolute bottom-24 right-6 w-14 h-14 bg-[var(--ui-bg)] rounded-full text-[var(--text-primary)] flex items-center justify-center shadow-xl border border-[var(--ui-border)] z-[var(--z-fab)] hover:bg-[var(--ui-bg-hover)] transition-colors backdrop-blur-md",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1,transition:{type:"spring",stiffness:500,damping:30}},exit:{scale:0,opacity:0,transition:{duration:.15}},whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":"Back to top",children:u.jsx(rM,{className:"w-8 h-8"})})}),tr=({containerRef:e})=>{const{scrollYProgress:t}=er({container:e}),n=Pl(t,{stiffness:100,damping:30,restDelta:.001});return u.jsx("div",{className:"fixed top-0 left-0 right-0 h-[3px] z-[20] pointer-events-none",children:u.jsx(ee.div,{className:"h-full bg-[var(--accent-solid)] origin-left shadow-sm",style:{scaleX:n}})})},FM=({setView:e})=>{const[t,n]=N.useState(""),[a,i]=N.useState("alphabetical"),[r,o]=N.useState("all"),{t:s}=ft(),{subjectData:l}=Ve(),c=N.useRef(null),{scrollYProgress:h}=er({container:c}),[d,m]=N.useState(!1);N.useEffect(()=>h.onChange(g=>{m(g>.1)}),[h]);const p=()=>{var g;(g=c.current)==null||g.scrollTo({top:0,behavior:"smooth"})},b=N.useMemo(()=>{if(!l)return["all"];const g=new Set(l.problems.map(w=>w.chapter));return["all",...Array.from(g).sort((w,x)=>parseInt(w)-parseInt(x))]},[l]),y=N.useMemo(()=>{if(!l)return[];let g=[...l.glossaryData];if(r!=="all"&&(g=g.filter(w=>w.chapter===r)),t){const w=t.toLowerCase();g=g.filter(x=>x.term.toLowerCase().includes(w)||x.chinese.toLowerCase().includes(w)||x.definition.toLowerCase().includes(w))}return a==="alphabetical"?g.sort((w,x)=>w.term.localeCompare(x.term)):a==="importance"&&g.sort((w,x)=>x.importance-w.importance),g},[t,a,r,l]),T=N.useMemo(()=>y.reduce((g,w)=>(g[w.category]||(g[w.category]=[]),g[w.category].push(w),g),{}),[y]);return l?u.jsxs(u.Fragment,{children:[u.jsxs("div",{ref:c,className:"h-full overflow-y-auto px-4 sm:px-6 lg:p-8 relative pt-24 lg:pt-8",children:[u.jsx(tr,{containerRef:c}),u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-4 my-8",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl glass-pane flex items-center justify-center",children:u.jsx(ps,{className:"w-7 h-7 text-[var(--accent-text)]"})}),u.jsx("h1",{className:"text-3xl font-bold text-[var(--text-primary)]",children:s("glossary_title")})]}),u.jsxs("div",{className:"mb-8 sticky top-0 md:top-6 z-[var(--z-content-overlay)] flex flex-col md:flex-row gap-4 bg-[var(--bg-color)]/80 backdrop-blur-md -mx-4 sm:-mx-6 px-4 sm:px-6 py-4",children:[u.jsx("input",{type:"text",placeholder:s("glossary_search"),value:t,onChange:g=>n(g.target.value),className:"w-full glass-pane rounded-2xl px-4 py-3 text-[var(--text-primary)] focus:ring-2 focus:ring-[var(--accent-solid)] outline-none transition-all"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsx("select",{value:r,onChange:g=>o(g.target.value),className:"w-full glass-pane rounded-2xl px-4 py-3 text-[var(--text-secondary)] focus:ring-2 focus:ring-[var(--accent-solid)] outline-none transition-all appearance-none text-center",children:b.map(g=>u.jsx("option",{value:g,children:g==="all"?s("glossary_all_chapters"):`${s("chapter")} ${g}${s("chapter_unit")}`},g))}),u.jsxs("select",{value:a,onChange:g=>i(g.target.value),className:"w-full glass-pane rounded-2xl px-4 py-3 text-[var(--text-secondary)] focus:ring-2 focus:ring-[var(--accent-solid)] outline-none transition-all appearance-none text-center",children:[u.jsx("option",{value:"alphabetical",children:s("glossary_alphabetical")}),u.jsx("option",{value:"importance",children:s("glossary_importance")})]})]})]}),u.jsx("div",{className:"space-y-12 pb-16",children:Object.entries(T).length>0?Object.entries(T).map(([g,w])=>u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-[var(--accent-text)] border-b border-[var(--ui-border)] pb-2 mb-4",children:g}),u.jsx("div",{className:"space-y-4",children:w.map(x=>u.jsxs("div",{className:"glass-pane p-5 rounded-2xl",children:[u.jsxs("h3",{className:"text-lg font-semibold text-[var(--text-primary)]",children:[x.term," ",u.jsxs("span",{className:"text-[var(--text-subtle)] font-normal",children:["(",x.chinese,")"]})]}),u.jsx("p",{className:"text-[var(--text-secondary)] mt-2 leading-relaxed",children:x.definition}),u.jsx("p",{className:"text-[var(--text-subtle)] mt-1 leading-relaxed",children:x.definition_zh})]},x.term))})]},g)):u.jsx("div",{className:"text-center py-10 glass-pane rounded-2xl",children:u.jsxs("p",{className:"text-[var(--text-secondary)]",children:[s("glossary_not_found"),' "',t,'".']})})})]})]}),u.jsx(Hr,{show:d,onClick:p})]}):null},Ll=({content:e,children:t})=>{const[n,a]=N.useState(!1),[i,r]=N.useState({bottom:"100%",left:"50%",transform:"translateX(-50%)"}),o=N.useRef(null),s=N.useRef(null),l=N.useRef(null),c=()=>{o.current=window.setTimeout(()=>{a(!0)},300)},h=()=>{o.current&&clearTimeout(o.current),a(!1)},d=m=>{m.stopPropagation(),a(p=>!p)};return N.useLayoutEffect(()=>{if(n&&s.current&&l.current){const m=s.current.getBoundingClientRect(),p=l.current.getBoundingClientRect(),b=window.innerWidth;let y={left:"50%",transform:"translateX(-50%)"};p.top-m.height<0?(y.top="100%",y.bottom="auto",y.marginTop="0.5rem",y.marginBottom="0"):(y.bottom="100%",y.top="auto",y.marginBottom="0.5rem",y.marginTop="0");const T=p.left+p.width/2-m.width/2,g=p.left+p.width/2+m.width/2;T<10?(y.left="0",y.transform="translateX(0)"):g>b-10&&(y.left="auto",y.right="0",y.transform="translateX(0)"),r(y)}},[n]),u.jsxs("div",{ref:l,className:"relative inline-block",onMouseEnter:c,onMouseLeave:h,onTouchEnd:d,children:[t,n&&u.jsx("div",{ref:s,style:{...i,marginBottom:i.bottom?"0.5rem":0,marginTop:i.top?"0.5rem":0},className:"absolute w-max max-w-xs bg-slate-900/90 dark:bg-zinc-800/90 text-white text-sm rounded-lg px-3 py-2 z-[var(--z-tooltip)] shadow-lg pointer-events-none backdrop-blur-sm animate-fade-in",children:e}),u.jsx("style",{children:`
        @keyframes fade-in {
            from { opacity: 0; transform: scale(0.95) translateY(4px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }
        .animate-fade-in {
            animation: fade-in 0.15s ease-out forwards;
        }
      `})]})},qa=({text:e,highlight:t})=>{if(!t||t.trim()==="")return u.jsx(u.Fragment,{children:e});const n=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi"),a=e.split(n);return u.jsx(u.Fragment,{children:a.map((i,r)=>n.test(i)&&i.toLowerCase()===t.toLowerCase()?u.jsx("mark",{className:"bg-[var(--accent-bg)] rounded px-1 py-0.5 text-[var(--text-primary)]",children:i},r):i)})},I5=({problem:e,userAnswer:t,onAnswerSelected:n,isRevealed:a,disabled:i=!1,showChinese:r=!1})=>u.jsx("div",{className:"grid grid-cols-1 gap-2.5 sm:gap-4",children:e.options.map((o,s)=>{const l=t===o.key,c=e.answer===o.key,h=r?o.text_zh:o.text_en,d=r?o.text_en:o.text_zh;let m="relative group w-full flex items-start gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl transition-all duration-300 border backdrop-blur-md ",p="flex-shrink-0 w-7 h-7 sm:w-8 sm:h-8 rounded-lg flex items-center justify-center font-mono text-sm font-bold transition-all duration-300 border mt-0.5 ",b="font-sans text-sm sm:text-base transition-colors duration-300 text-left flex-1 leading-normal break-words ";return a?c?(m+="bg-[var(--success-bg)] border-[var(--success-text)] shadow-[0_0_15px_rgba(34,197,94,0.1)] ring-1 ring-[var(--success-text)]",p+="bg-[var(--success-solid-bg)] text-white border-[var(--success-solid-bg)] shadow-sm",b+="text-[var(--text-primary)] font-medium"):l&&!c?(m+="bg-[var(--error-bg)] border-[var(--error-text)] opacity-90",p+="bg-[var(--error-solid-bg)] text-white border-[var(--error-solid-bg)] shadow-sm",b+="text-[var(--text-primary)]"):(m+="bg-transparent border-transparent opacity-50 grayscale",p+="bg-[var(--ui-bg)] text-[var(--text-subtle)] border-[var(--ui-border)]",b+="text-[var(--text-secondary)]"):l?(m+="bg-[var(--text-primary)] border-[var(--text-primary)] shadow-lg transform scale-[1.01] z-10",p+="bg-[var(--bg-color)] text-[var(--text-primary)] border-[var(--bg-color)]",b+="text-[var(--bg-color)]"):(m+="bg-[var(--bg-translucent)] border-[var(--ui-border)] hover:border-[var(--text-primary)] hover:bg-[var(--ui-bg)] cursor-pointer hover:shadow-md md:hover:translate-x-1",p+="bg-[var(--ui-bg)] text-[var(--text-secondary)] border-[var(--ui-border)] group-hover:bg-[var(--text-primary)] group-hover:text-[var(--bg-color)] group-hover:border-[var(--text-primary)] group-hover:scale-105",b+="text-[var(--text-secondary)] group-hover:text-[var(--text-primary)]"),i&&(m+=" cursor-default"),u.jsxs(ee.button,{onClick:()=>!i&&n(o.key),disabled:i,className:m,initial:!1,whileTap:!i&&!a?{scale:.98}:{},children:[u.jsx("div",{className:p,children:a&&c?u.jsx(fd,{className:"w-4 h-4"}):a&&l&&!c?u.jsx(Dr,{className:"w-4 h-4"}):String.fromCharCode(65+s)}),u.jsx(Ll,{content:d,children:u.jsx("div",{className:b,children:u.jsx(qa,{text:h})})}),!a&&l&&u.jsx(ee.div,{layoutId:"selection-indicator",className:"absolute right-3 top-1/2 -translate-y-1/2 w-1.5 h-1.5 rounded-full bg-[var(--bg-color)]"})]},o.key)})});function Aw(e){const t=[],n=String(e||"");let a=n.indexOf(","),i=0,r=!1;for(;!r;){a===-1&&(a=n.length,r=!0);const o=n.slice(i,a).trim();(o||!r)&&t.push(o),i=a+1,a=n.indexOf(",",i)}return t}function jM(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const UM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,HM={};function Sw(e,t){return(HM.jsx?qM:UM).test(e)}const WM=/[ \t\n\f\r]/g;function GM(e){return typeof e=="object"?e.type==="text"?Cw(e.value):!1:Cw(e)}function Cw(e){return e.replace(WM,"")===""}class uc{constructor(t,n,a){this.normal=n,this.property=t,a&&(this.space=a)}}uc.prototype.normal={};uc.prototype.property={};uc.prototype.space=void 0;function N5(e,t){const n={},a={};for(const i of e)Object.assign(n,i.property),Object.assign(a,i.normal);return new uc(n,a,t)}function Bl(e){return e.toLowerCase()}class bn{constructor(t,n){this.attribute=n,this.property=t}}bn.prototype.attribute="";bn.prototype.booleanish=!1;bn.prototype.boolean=!1;bn.prototype.commaOrSpaceSeparated=!1;bn.prototype.commaSeparated=!1;bn.prototype.defined=!1;bn.prototype.mustUseProperty=!1;bn.prototype.number=!1;bn.prototype.overloadedBoolean=!1;bn.prototype.property="";bn.prototype.spaceSeparated=!1;bn.prototype.space=void 0;let VM=0;const Te=Wr(),kt=Wr(),Sf=Wr(),te=Wr(),Je=Wr(),Lo=Wr(),vn=Wr();function Wr(){return 2**++VM}const Cf=Object.freeze(Object.defineProperty({__proto__:null,boolean:Te,booleanish:kt,commaOrSpaceSeparated:vn,commaSeparated:Lo,number:te,overloadedBoolean:Sf,spaceSeparated:Je},Symbol.toStringTag,{value:"Module"})),bm=Object.keys(Cf);class Rg extends bn{constructor(t,n,a,i){let r=-1;if(super(t,n),Ew(this,"space",i),typeof a=="number")for(;++r<bm.length;){const o=bm[r];Ew(this,bm[r],(a&Cf[o])===Cf[o])}}}Rg.prototype.defined=!0;function Ew(e,t,n){n&&(e[t]=n)}function gs(e){const t={},n={};for(const[a,i]of Object.entries(e.properties)){const r=new Rg(a,e.transform(e.attributes||{},a),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(a)&&(r.mustUseProperty=!0),t[a]=r,n[Bl(a)]=a,n[Bl(r.attribute)]=a}return new uc(t,n,e.space)}const M5=gs({properties:{ariaActiveDescendant:null,ariaAtomic:kt,ariaAutoComplete:null,ariaBusy:kt,ariaChecked:kt,ariaColCount:te,ariaColIndex:te,ariaColSpan:te,ariaControls:Je,ariaCurrent:null,ariaDescribedBy:Je,ariaDetails:null,ariaDisabled:kt,ariaDropEffect:Je,ariaErrorMessage:null,ariaExpanded:kt,ariaFlowTo:Je,ariaGrabbed:kt,ariaHasPopup:null,ariaHidden:kt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Je,ariaLevel:te,ariaLive:null,ariaModal:kt,ariaMultiLine:kt,ariaMultiSelectable:kt,ariaOrientation:null,ariaOwns:Je,ariaPlaceholder:null,ariaPosInSet:te,ariaPressed:kt,ariaReadOnly:kt,ariaRelevant:null,ariaRequired:kt,ariaRoleDescription:Je,ariaRowCount:te,ariaRowIndex:te,ariaRowSpan:te,ariaSelected:kt,ariaSetSize:te,ariaSort:null,ariaValueMax:te,ariaValueMin:te,ariaValueNow:te,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function z5(e,t){return t in e?e[t]:t}function $5(e,t){return z5(e,t.toLowerCase())}const XM=gs({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Lo,acceptCharset:Je,accessKey:Je,action:null,allow:null,allowFullScreen:Te,allowPaymentRequest:Te,allowUserMedia:Te,alt:null,as:null,async:Te,autoCapitalize:null,autoComplete:Je,autoFocus:Te,autoPlay:Te,blocking:Je,capture:null,charSet:null,checked:Te,cite:null,className:Je,cols:te,colSpan:null,content:null,contentEditable:kt,controls:Te,controlsList:Je,coords:te|Lo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Te,defer:Te,dir:null,dirName:null,disabled:Te,download:Sf,draggable:kt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Te,formTarget:null,headers:Je,height:te,hidden:Sf,high:te,href:null,hrefLang:null,htmlFor:Je,httpEquiv:Je,id:null,imageSizes:null,imageSrcSet:null,inert:Te,inputMode:null,integrity:null,is:null,isMap:Te,itemId:null,itemProp:Je,itemRef:Je,itemScope:Te,itemType:Je,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Te,low:te,manifest:null,max:null,maxLength:te,media:null,method:null,min:null,minLength:te,multiple:Te,muted:Te,name:null,nonce:null,noModule:Te,noValidate:Te,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Te,optimum:te,pattern:null,ping:Je,placeholder:null,playsInline:Te,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Te,referrerPolicy:null,rel:Je,required:Te,reversed:Te,rows:te,rowSpan:te,sandbox:Je,scope:null,scoped:Te,seamless:Te,selected:Te,shadowRootClonable:Te,shadowRootDelegatesFocus:Te,shadowRootMode:null,shape:null,size:te,sizes:null,slot:null,span:te,spellCheck:kt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:te,step:null,style:null,tabIndex:te,target:null,title:null,translate:null,type:null,typeMustMatch:Te,useMap:null,value:kt,width:te,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Je,axis:null,background:null,bgColor:null,border:te,borderColor:null,bottomMargin:te,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Te,declare:Te,event:null,face:null,frame:null,frameBorder:null,hSpace:te,leftMargin:te,link:null,longDesc:null,lowSrc:null,marginHeight:te,marginWidth:te,noResize:Te,noHref:Te,noShade:Te,noWrap:Te,object:null,profile:null,prompt:null,rev:null,rightMargin:te,rules:null,scheme:null,scrolling:kt,standby:null,summary:null,text:null,topMargin:te,valueType:null,version:null,vAlign:null,vLink:null,vSpace:te,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Te,disableRemotePlayback:Te,prefix:null,property:null,results:te,security:null,unselectable:null},space:"html",transform:$5}),YM=gs({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:vn,accentHeight:te,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:te,amplitude:te,arabicForm:null,ascent:te,attributeName:null,attributeType:null,azimuth:te,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:te,by:null,calcMode:null,capHeight:te,className:Je,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:te,diffuseConstant:te,direction:null,display:null,dur:null,divisor:te,dominantBaseline:null,download:Te,dx:null,dy:null,edgeMode:null,editable:null,elevation:te,enableBackground:null,end:null,event:null,exponent:te,externalResourcesRequired:null,fill:null,fillOpacity:te,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Lo,g2:Lo,glyphName:Lo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:te,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:te,horizOriginX:te,horizOriginY:te,id:null,ideographic:te,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:te,k:te,k1:te,k2:te,k3:te,k4:te,kernelMatrix:vn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:te,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:te,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:te,overlineThickness:te,paintOrder:null,panose1:null,path:null,pathLength:te,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Je,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:te,pointsAtY:te,pointsAtZ:te,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:vn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:vn,rev:vn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:vn,requiredFeatures:vn,requiredFonts:vn,requiredFormats:vn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:te,specularExponent:te,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:te,strikethroughThickness:te,string:null,stroke:null,strokeDashArray:vn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:te,strokeOpacity:te,strokeWidth:null,style:null,surfaceScale:te,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:vn,tabIndex:te,tableValues:null,target:null,targetX:te,targetY:te,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:vn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:te,underlineThickness:te,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:te,values:null,vAlphabetic:te,vMathematical:te,vectorEffect:null,vHanging:te,vIdeographic:te,version:null,vertAdvY:te,vertOriginX:te,vertOriginY:te,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:te,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:z5}),R5=gs({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),D5=gs({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:$5}),O5=gs({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),KM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},QM=/[A-Z]/g,Iw=/-[a-z]/g,JM=/^data[-\w.:]+$/i;function P5(e,t){const n=Bl(t);let a=t,i=bn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&JM.test(t)){if(t.charAt(4)==="-"){const r=t.slice(5).replace(Iw,ez);a="data"+r.charAt(0).toUpperCase()+r.slice(1)}else{const r=t.slice(4);if(!Iw.test(r)){let o=r.replace(QM,ZM);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=Rg}return new i(a,t)}function ZM(e){return"-"+e.toLowerCase()}function ez(e){return e.charAt(1).toUpperCase()}const L5=N5([M5,XM,R5,D5,O5],"html"),au=N5([M5,YM,R5,D5,O5],"svg");function Nw(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function tz(e){return e.join(" ").trim()}var Dg={},Mw=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,nz=/\n/g,az=/^\s*/,iz=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,rz=/^:\s*/,oz=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,sz=/^[;\s]*/,lz=/^\s+|\s+$/g,cz=`
`,zw="/",$w="*",gr="",hz="comment",dz="declaration";function uz(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,a=1;function i(b){var y=b.match(nz);y&&(n+=y.length);var T=b.lastIndexOf(cz);a=~T?b.length-T:a+b.length}function r(){var b={line:n,column:a};return function(y){return y.position=new o(b),c(),y}}function o(b){this.start=b,this.end={line:n,column:a},this.source=t.source}o.prototype.content=e;function s(b){var y=new Error(t.source+":"+n+":"+a+": "+b);if(y.reason=b,y.filename=t.source,y.line=n,y.column=a,y.source=e,!t.silent)throw y}function l(b){var y=b.exec(e);if(y){var T=y[0];return i(T),e=e.slice(T.length),y}}function c(){l(az)}function h(b){var y;for(b=b||[];y=d();)y!==!1&&b.push(y);return b}function d(){var b=r();if(!(zw!=e.charAt(0)||$w!=e.charAt(1))){for(var y=2;gr!=e.charAt(y)&&($w!=e.charAt(y)||zw!=e.charAt(y+1));)++y;if(y+=2,gr===e.charAt(y-1))return s("End of comment missing");var T=e.slice(2,y-2);return a+=2,i(T),e=e.slice(y),a+=2,b({type:hz,comment:T})}}function m(){var b=r(),y=l(iz);if(y){if(d(),!l(rz))return s("property missing ':'");var T=l(oz),g=b({type:dz,property:Rw(y[0].replace(Mw,gr)),value:T?Rw(T[0].replace(Mw,gr)):gr});return l(sz),g}}function p(){var b=[];h(b);for(var y;y=m();)y!==!1&&(b.push(y),h(b));return b}return c(),p()}function Rw(e){return e?e.replace(lz,gr):gr}var mz=uz,pz=$h&&$h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dg,"__esModule",{value:!0});Dg.default=gz;const fz=pz(mz);function gz(e,t){let n=null;if(!e||typeof e!="string")return n;const a=(0,fz.default)(e),i=typeof t=="function";return a.forEach(r=>{if(r.type!=="declaration")return;const{property:o,value:s}=r;i?t(o,s,r):s&&(n=n||{},n[o]=s)}),n}var iu={};Object.defineProperty(iu,"__esModule",{value:!0});iu.camelCase=void 0;var bz=/^--[a-zA-Z0-9_-]+$/,yz=/-([a-z])/g,wz=/^[^-]+$/,vz=/^-(webkit|moz|ms|o|khtml)-/,xz=/^-(ms)-/,_z=function(e){return!e||wz.test(e)||bz.test(e)},Tz=function(e,t){return t.toUpperCase()},Dw=function(e,t){return"".concat(t,"-")},kz=function(e,t){return t===void 0&&(t={}),_z(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(xz,Dw):e=e.replace(vz,Dw),e.replace(yz,Tz))};iu.camelCase=kz;var Az=$h&&$h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Sz=Az(Dg),Cz=iu;function Ef(e,t){var n={};return!e||typeof e!="string"||(0,Sz.default)(e,function(a,i){a&&i&&(n[(0,Cz.camelCase)(a,t)]=i)}),n}Ef.default=Ef;var Ez=Ef;const Iz=Vl(Ez),B5=F5("end"),Og=F5("start");function F5(e){return t;function t(n){const a=n&&n.position&&n.position[e]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function Nz(e){const t=Og(e),n=B5(e);if(t&&n)return{start:t,end:n}}function ul(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Ow(e.position):"start"in e||"end"in e?Ow(e):"line"in e||"column"in e?If(e):""}function If(e){return Pw(e&&e.line)+":"+Pw(e&&e.column)}function Ow(e){return If(e&&e.start)+"-"+If(e&&e.end)}function Pw(e){return e&&typeof e=="number"?e:1}class Gt extends Error{constructor(t,n,a){super(),typeof n=="string"&&(a=n,n=void 0);let i="",r={},o=!1;if(n&&("line"in n&&"column"in n?r={place:n}:"start"in n&&"end"in n?r={place:n}:"type"in n?r={ancestors:[n],place:n.position}:r={...n}),typeof t=="string"?i=t:!r.cause&&t&&(o=!0,i=t.message,r.cause=t),!r.ruleId&&!r.source&&typeof a=="string"){const l=a.indexOf(":");l===-1?r.ruleId=a:(r.source=a.slice(0,l),r.ruleId=a.slice(l+1))}if(!r.place&&r.ancestors&&r.ancestors){const l=r.ancestors[r.ancestors.length-1];l&&(r.place=l.position)}const s=r.place&&"start"in r.place?r.place.start:r.place;this.ancestors=r.ancestors||void 0,this.cause=r.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=ul(r.place)||"1:1",this.place=r.place||void 0,this.reason=this.message,this.ruleId=r.ruleId||void 0,this.source=r.source||void 0,this.stack=o&&r.cause&&typeof r.cause.stack=="string"?r.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Gt.prototype.file="";Gt.prototype.name="";Gt.prototype.reason="";Gt.prototype.message="";Gt.prototype.stack="";Gt.prototype.column=void 0;Gt.prototype.line=void 0;Gt.prototype.ancestors=void 0;Gt.prototype.cause=void 0;Gt.prototype.fatal=void 0;Gt.prototype.place=void 0;Gt.prototype.ruleId=void 0;Gt.prototype.source=void 0;const Pg={}.hasOwnProperty,Mz=new Map,zz=/[A-Z]/g,$z=new Set(["table","tbody","thead","tfoot","tr"]),Rz=new Set(["td","th"]),j5="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Dz(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let a;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=qz(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=Uz(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:a,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?au:L5,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},r=U5(i,e,void 0);return r&&typeof r!="string"?r:i.create(e,i.Fragment,{children:r||void 0},void 0)}function U5(e,t,n){if(t.type==="element")return Oz(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Pz(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Bz(e,t,n);if(t.type==="mdxjsEsm")return Lz(e,t);if(t.type==="root")return Fz(e,t,n);if(t.type==="text")return jz(e,t)}function Oz(e,t,n){const a=e.schema;let i=a;t.tagName.toLowerCase()==="svg"&&a.space==="html"&&(i=au,e.schema=i),e.ancestors.push(t);const r=H5(e,t.tagName,!1),o=Hz(e,t);let s=Bg(e,t);return $z.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!GM(l):!0})),q5(e,o,r,t),Lg(o,s),e.ancestors.pop(),e.schema=a,e.create(t,r,o,n)}function Pz(e,t){if(t.data&&t.data.estree&&e.evaluater){const a=t.data.estree.body[0];return a.type,e.evaluater.evaluateExpression(a.expression)}Fl(e,t.position)}function Lz(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Fl(e,t.position)}function Bz(e,t,n){const a=e.schema;let i=a;t.name==="svg"&&a.space==="html"&&(i=au,e.schema=i),e.ancestors.push(t);const r=t.name===null?e.Fragment:H5(e,t.name,!0),o=Wz(e,t),s=Bg(e,t);return q5(e,o,r,t),Lg(o,s),e.ancestors.pop(),e.schema=a,e.create(t,r,o,n)}function Fz(e,t,n){const a={};return Lg(a,Bg(e,t)),e.create(t,e.Fragment,a,n)}function jz(e,t){return t.value}function q5(e,t,n,a){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=a)}function Lg(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Uz(e,t,n){return a;function a(i,r,o,s){const c=Array.isArray(o.children)?n:t;return s?c(r,o,s):c(r,o)}}function qz(e,t){return n;function n(a,i,r,o){const s=Array.isArray(r.children),l=Og(a);return t(i,r,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Hz(e,t){const n={};let a,i;for(i in t.properties)if(i!=="children"&&Pg.call(t.properties,i)){const r=Gz(e,i,t.properties[i]);if(r){const[o,s]=r;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&Rz.has(t.tagName)?a=s:n[o]=s}}if(a){const r=n.style||(n.style={});r[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return n}function Wz(e,t){const n={};for(const a of t.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&e.evaluater){const r=a.data.estree.body[0];r.type;const o=r.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else Fl(e,t.position);else{const i=a.name;let r;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&e.evaluater){const s=a.value.data.estree.body[0];s.type,r=e.evaluater.evaluateExpression(s.expression)}else Fl(e,t.position);else r=a.value===null?!0:a.value;n[i]=r}return n}function Bg(e,t){const n=[];let a=-1;const i=e.passKeys?new Map:Mz;for(;++a<t.children.length;){const r=t.children[a];let o;if(e.passKeys){const l=r.type==="element"?r.tagName:r.type==="mdxJsxFlowElement"||r.type==="mdxJsxTextElement"?r.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const s=U5(e,r,o);s!==void 0&&n.push(s)}return n}function Gz(e,t,n){const a=P5(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=a.commaSeparated?jM(n):tz(n)),a.property==="style"){let i=typeof n=="object"?n:Vz(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Xz(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&a.space?KM[a.property]||a.property:a.attribute,n]}}function Vz(e,t){try{return Iz(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const a=n,i=new Gt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=j5+"#cannot-parse-style-attribute",i}}function H5(e,t,n){let a;if(!n)a={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let r=-1,o;for(;++r<i.length;){const s=Sw(i[r])?{type:"Identifier",name:i[r]}:{type:"Literal",value:i[r]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(r&&s.type==="Literal"),optional:!1}:s}a=o}else a=Sw(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(a.type==="Literal"){const i=a.value;return Pg.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(a);Fl(e)}function Fl(e,t){const n=new Gt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=j5+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Xz(e){const t={};let n;for(n in e)Pg.call(e,n)&&(t[Yz(n)]=e[n]);return t}function Yz(e){let t=e.replace(zz,Kz);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Kz(e){return"-"+e.toLowerCase()}const ym={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Qz={};function Fg(e,t){const n=Qz,a=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return W5(e,a,i)}function W5(e,t,n){if(Jz(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Lw(e.children,t,n)}return Array.isArray(e)?Lw(e,t,n):""}function Lw(e,t,n){const a=[];let i=-1;for(;++i<e.length;)a[i]=W5(e[i],t,n);return a.join("")}function Jz(e){return!!(e&&typeof e=="object")}const Bw=document.createElement("i");function jg(e){const t="&"+e+";";Bw.innerHTML=t;const n=Bw.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Nn(e,t,n,a){const i=e.length;let r=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,a.length<1e4)o=Array.from(a),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);r<a.length;)o=a.slice(r,r+1e4),o.unshift(t,0),e.splice(...o),r+=1e4,t+=1e4}function Hn(e,t){return e.length>0?(Nn(e,e.length,0,t),e):t}const Fw={}.hasOwnProperty;function G5(e){const t={};let n=-1;for(;++n<e.length;)Zz(t,e[n]);return t}function Zz(e,t){let n;for(n in t){const i=(Fw.call(e,n)?e[n]:void 0)||(e[n]={}),r=t[n];let o;if(r)for(o in r){Fw.call(i,o)||(i[o]=[]);const s=r[o];e$(i[o],Array.isArray(s)?s:s?[s]:[])}}}function e$(e,t){let n=-1;const a=[];for(;++n<t.length;)(t[n].add==="after"?e:a).push(t[n]);Nn(e,0,0,a)}function V5(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ua(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Qt=nr(/[A-Za-z]/),Wt=nr(/[\dA-Za-z]/),t$=nr(/[#-'*+\--9=?A-Z^-~]/);function gd(e){return e!==null&&(e<32||e===127)}const Nf=nr(/\d/),n$=nr(/[\dA-Fa-f]/),a$=nr(/[!-/:-@[-`{-~]/);function he(e){return e!==null&&e<-2}function Ye(e){return e!==null&&(e<0||e===32)}function Ie(e){return e===-2||e===-1||e===32}const ru=nr(new RegExp("\\p{P}|\\p{S}","u")),Or=nr(/\s/);function nr(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function bs(e){const t=[];let n=-1,a=0,i=0;for(;++n<e.length;){const r=e.charCodeAt(n);let o="";if(r===37&&Wt(e.charCodeAt(n+1))&&Wt(e.charCodeAt(n+2)))i=2;else if(r<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(r))||(o=String.fromCharCode(r));else if(r>55295&&r<57344){const s=e.charCodeAt(n+1);r<56320&&s>56319&&s<57344?(o=String.fromCharCode(r,s),i=1):o=""}else o=String.fromCharCode(r);o&&(t.push(e.slice(a,n),encodeURIComponent(o)),a=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(a)}function Se(e,t,n,a){const i=a?a-1:Number.POSITIVE_INFINITY;let r=0;return o;function o(l){return Ie(l)?(e.enter(n),s(l)):t(l)}function s(l){return Ie(l)&&r++<i?(e.consume(l),s):(e.exit(n),t(l))}}const i$={tokenize:r$};function r$(e){const t=e.attempt(this.parser.constructs.contentInitial,a,i);let n;return t;function a(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Se(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),r(s)}function r(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return he(s)?(e.consume(s),e.exit("chunkText"),r):(e.consume(s),o)}}const o$={tokenize:s$},jw={tokenize:l$};function s$(e){const t=this,n=[];let a=0,i,r,o;return s;function s(x){if(a<n.length){const _=n[a];return t.containerState=_[1],e.attempt(_[0].continuation,l,c)(x)}return c(x)}function l(x){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const _=t.events.length;let C=_,A;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){A=t.events[C][1].end;break}g(a);let M=_;for(;M<t.events.length;)t.events[M][1].end={...A},M++;return Nn(t.events,C+1,0,t.events.slice(_)),t.events.length=M,c(x)}return s(x)}function c(x){if(a===n.length){if(!i)return m(x);if(i.currentConstruct&&i.currentConstruct.concrete)return b(x);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(jw,h,d)(x)}function h(x){return i&&w(),g(a),m(x)}function d(x){return t.parser.lazy[t.now().line]=a!==n.length,o=t.now().offset,b(x)}function m(x){return t.containerState={},e.attempt(jw,p,b)(x)}function p(x){return a++,n.push([t.currentConstruct,t.containerState]),m(x)}function b(x){if(x===null){i&&w(),g(0),e.consume(x);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:r}),y(x)}function y(x){if(x===null){T(e.exit("chunkFlow"),!0),g(0),e.consume(x);return}return he(x)?(e.consume(x),T(e.exit("chunkFlow")),a=0,t.interrupt=void 0,s):(e.consume(x),y)}function T(x,_){const C=t.sliceStream(x);if(_&&C.push(null),x.previous=r,r&&(r.next=x),r=x,i.defineSkip(x.start),i.write(C),t.parser.lazy[x.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<o&&(!i.events[A][1].end||i.events[A][1].end.offset>o))return;const M=t.events.length;let I=M,R,z;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(R){z=t.events[I][1].end;break}R=!0}for(g(a),A=M;A<t.events.length;)t.events[A][1].end={...z},A++;Nn(t.events,I+1,0,t.events.slice(M)),t.events.length=A}}function g(x){let _=n.length;for(;_-- >x;){const C=n[_];t.containerState=C[1],C[0].exit.call(t,e)}n.length=x}function w(){i.write([null]),r=void 0,i=void 0,t.containerState._closeFlow=void 0}}function l$(e,t,n){return Se(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function es(e){if(e===null||Ye(e)||Or(e))return 1;if(ru(e))return 2}function ou(e,t,n){const a=[];let i=-1;for(;++i<e.length;){const r=e[i].resolveAll;r&&!a.includes(r)&&(t=r(t,n),a.push(r))}return t}const Mf={name:"attention",resolveAll:c$,tokenize:h$};function c$(e,t){let n=-1,a,i,r,o,s,l,c,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(a=n;a--;)if(e[a][0]==="exit"&&e[a][1].type==="attentionSequence"&&e[a][1]._open&&t.sliceSerialize(e[a][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[a][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[a][1].end.offset-e[a][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[a][1].end.offset-e[a][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[a][1].end},m={...e[n][1].start};Uw(d,-l),Uw(m,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[a][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:m},r={type:l>1?"strongText":"emphasisText",start:{...e[a][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[a][1].end={...o.start},e[n][1].start={...s.end},c=[],e[a][1].end.offset-e[a][1].start.offset&&(c=Hn(c,[["enter",e[a][1],t],["exit",e[a][1],t]])),c=Hn(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",r,t]]),c=Hn(c,ou(t.parser.constructs.insideSpan.null,e.slice(a+1,n),t)),c=Hn(c,[["exit",r,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,c=Hn(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,Nn(e,a-1,n-a+3,c),n=a+c.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function h$(e,t){const n=this.parser.constructs.attentionMarkers.null,a=this.previous,i=es(a);let r;return o;function o(l){return r=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===r)return e.consume(l),s;const c=e.exit("attentionSequence"),h=es(l),d=!h||h===2&&i||n.includes(l),m=!i||i===2&&h||n.includes(a);return c._open=!!(r===42?d:d&&(i||!m)),c._close=!!(r===42?m:m&&(h||!d)),t(l)}}function Uw(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const d$={name:"autolink",tokenize:u$};function u$(e,t,n){let a=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),r}function r(p){return Qt(p)?(e.consume(p),o):p===64?n(p):c(p)}function o(p){return p===43||p===45||p===46||Wt(p)?(a=1,s(p)):c(p)}function s(p){return p===58?(e.consume(p),a=0,l):(p===43||p===45||p===46||Wt(p))&&a++<32?(e.consume(p),s):(a=0,c(p))}function l(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||gd(p)?n(p):(e.consume(p),l)}function c(p){return p===64?(e.consume(p),h):t$(p)?(e.consume(p),c):n(p)}function h(p){return Wt(p)?d(p):n(p)}function d(p){return p===46?(e.consume(p),a=0,h):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):m(p)}function m(p){if((p===45||Wt(p))&&a++<63){const b=p===45?m:d;return e.consume(p),b}return n(p)}}const mc={partial:!0,tokenize:m$};function m$(e,t,n){return a;function a(r){return Ie(r)?Se(e,i,"linePrefix")(r):i(r)}function i(r){return r===null||he(r)?t(r):n(r)}}const X5={continuation:{tokenize:f$},exit:g$,name:"blockQuote",tokenize:p$};function p$(e,t,n){const a=this;return i;function i(o){if(o===62){const s=a.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),r}return n(o)}function r(o){return Ie(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function f$(e,t,n){const a=this;return i;function i(o){return Ie(o)?Se(e,r,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):r(o)}function r(o){return e.attempt(X5,t,n)(o)}}function g$(e){e.exit("blockQuote")}const Y5={name:"characterEscape",tokenize:b$};function b$(e,t,n){return a;function a(r){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(r),e.exit("escapeMarker"),i}function i(r){return a$(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}const K5={name:"characterReference",tokenize:y$};function y$(e,t,n){const a=this;let i=0,r,o;return s;function s(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),r=31,o=Wt,h(d))}function c(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),r=6,o=n$,h):(e.enter("characterReferenceValue"),r=7,o=Nf,h(d))}function h(d){if(d===59&&i){const m=e.exit("characterReferenceValue");return o===Wt&&!jg(a.sliceSerialize(m))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<r?(e.consume(d),h):n(d)}}const qw={partial:!0,tokenize:v$},Hw={concrete:!0,name:"codeFenced",tokenize:w$};function w$(e,t,n){const a=this,i={partial:!0,tokenize:C};let r=0,o=0,s;return l;function l(A){return c(A)}function c(A){const M=a.events[a.events.length-1];return r=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,s=A,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(A)}function h(A){return A===s?(o++,e.consume(A),h):o<3?n(A):(e.exit("codeFencedFenceSequence"),Ie(A)?Se(e,d,"whitespace")(A):d(A))}function d(A){return A===null||he(A)?(e.exit("codeFencedFence"),a.interrupt?t(A):e.check(qw,y,_)(A)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(A))}function m(A){return A===null||he(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(A)):Ie(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Se(e,p,"whitespace")(A)):A===96&&A===s?n(A):(e.consume(A),m)}function p(A){return A===null||he(A)?d(A):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(A))}function b(A){return A===null||he(A)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(A)):A===96&&A===s?n(A):(e.consume(A),b)}function y(A){return e.attempt(i,_,T)(A)}function T(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),g}function g(A){return r>0&&Ie(A)?Se(e,w,"linePrefix",r+1)(A):w(A)}function w(A){return A===null||he(A)?e.check(qw,y,_)(A):(e.enter("codeFlowValue"),x(A))}function x(A){return A===null||he(A)?(e.exit("codeFlowValue"),w(A)):(e.consume(A),x)}function _(A){return e.exit("codeFenced"),t(A)}function C(A,M,I){let R=0;return z;function z(j){return A.enter("lineEnding"),A.consume(j),A.exit("lineEnding"),F}function F(j){return A.enter("codeFencedFence"),Ie(j)?Se(A,H,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):H(j)}function H(j){return j===s?(A.enter("codeFencedFenceSequence"),X(j)):I(j)}function X(j){return j===s?(R++,A.consume(j),X):R>=o?(A.exit("codeFencedFenceSequence"),Ie(j)?Se(A,G,"whitespace")(j):G(j)):I(j)}function G(j){return j===null||he(j)?(A.exit("codeFencedFence"),M(j)):I(j)}}}function v$(e,t,n){const a=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),r)}function r(o){return a.parser.lazy[a.now().line]?n(o):t(o)}}const wm={name:"codeIndented",tokenize:_$},x$={partial:!0,tokenize:T$};function _$(e,t,n){const a=this;return i;function i(c){return e.enter("codeIndented"),Se(e,r,"linePrefix",5)(c)}function r(c){const h=a.events[a.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):he(c)?e.attempt(x$,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||he(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function T$(e,t,n){const a=this;return i;function i(o){return a.parser.lazy[a.now().line]?n(o):he(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Se(e,r,"linePrefix",5)(o)}function r(o){const s=a.events[a.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):he(o)?i(o):n(o)}}const k$={name:"codeText",previous:S$,resolve:A$,tokenize:C$};function A$(e){let t=e.length-4,n=3,a,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(a=n;++a<t;)if(e[a][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(a=n-1,t++;++a<=t;)i===void 0?a!==t&&e[a][1].type!=="lineEnding"&&(i=a):(a===t||e[a][1].type==="lineEnding")&&(e[i][1].type="codeTextData",a!==i+2&&(e[i][1].end=e[a-1][1].end,e.splice(i+2,a-i-2),t-=a-i-2,a=i+2),i=void 0);return e}function S$(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function C$(e,t,n){let a=0,i,r;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),s(d)}function s(d){return d===96?(e.consume(d),a++,s):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(r=e.enter("codeTextSequence"),i=0,h(d)):he(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||he(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),c)}function h(d){return d===96?(e.consume(d),i++,h):i===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(r.type="codeTextData",c(d))}}class E${constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const a=n??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(t,a):t>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(t,n,a){const i=n||0;this.setCursor(Math.trunc(t));const r=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return a&&Rs(this.left,a),r.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Rs(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Rs(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Rs(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Rs(this.left,n.reverse())}}}function Rs(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Q5(e){const t={};let n=-1,a,i,r,o,s,l,c;const h=new E$(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(a=h.get(n),n&&a[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(l=a[1]._tokenizer.events,r=0,r<l.length&&l[r][1].type==="lineEndingBlank"&&(r+=2),r<l.length&&l[r][1].type==="content"))for(;++r<l.length&&l[r][1].type!=="content";)l[r][1].type==="chunkText"&&(l[r][1]._isInFirstContentOfListItem=!0,r++);if(a[0]==="enter")a[1].contentType&&(Object.assign(t,I$(h,n)),n=t[n],c=!0);else if(a[1]._container){for(r=n,i=void 0;r--;)if(o=h.get(r),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=r);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(a[1].end={...h.get(i)[1].start},s=h.slice(i,n),s.unshift(a),h.splice(i,n-i+1,s))}}return Nn(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!c}function I$(e,t){const n=e.get(t)[1],a=e.get(t)[2];let i=t-1;const r=[];let o=n._tokenizer;o||(o=a.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let h,d,m=-1,p=n,b=0,y=0;const T=[y];for(;p;){for(;e.get(++i)[1]!==p;);r.push(i),p._tokenizer||(h=a.sliceStream(p),p.next||h.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++m<s.length;)s[m][0]==="exit"&&s[m-1][0]==="enter"&&s[m][1].type===s[m-1][1].type&&s[m][1].start.line!==s[m][1].end.line&&(y=m+1,T.push(y),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):T.pop(),m=T.length;m--;){const g=s.slice(T[m],T[m+1]),w=r.pop();l.push([w,w+g.length-1]),e.splice(w,2,g)}for(l.reverse(),m=-1;++m<l.length;)c[b+l[m][0]]=b+l[m][1],b+=l[m][1]-l[m][0]-1;return c}const N$={resolve:z$,tokenize:$$},M$={partial:!0,tokenize:R$};function z$(e){return Q5(e),e}function $$(e,t){let n;return a;function a(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?r(s):he(s)?e.check(M$,o,r)(s):(e.consume(s),i)}function r(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function R$(e,t,n){const a=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Se(e,r,"linePrefix")}function r(o){if(o===null||he(o))return n(o);const s=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(a.parser.constructs.flow,n,t)(o)}}function J5(e,t,n,a,i,r,o,s,l){const c=l||Number.POSITIVE_INFINITY;let h=0;return d;function d(g){return g===60?(e.enter(a),e.enter(i),e.enter(r),e.consume(g),e.exit(r),m):g===null||g===32||g===41||gd(g)?n(g):(e.enter(a),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),y(g))}function m(g){return g===62?(e.enter(r),e.consume(g),e.exit(r),e.exit(i),e.exit(a),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===62?(e.exit("chunkString"),e.exit(s),m(g)):g===null||g===60||he(g)?n(g):(e.consume(g),g===92?b:p)}function b(g){return g===60||g===62||g===92?(e.consume(g),p):p(g)}function y(g){return!h&&(g===null||g===41||Ye(g))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(a),t(g)):h<c&&g===40?(e.consume(g),h++,y):g===41?(e.consume(g),h--,y):g===null||g===32||g===40||gd(g)?n(g):(e.consume(g),g===92?T:y)}function T(g){return g===40||g===41||g===92?(e.consume(g),y):y(g)}}function Z5(e,t,n,a,i,r){const o=this;let s=0,l;return c;function c(p){return e.enter(a),e.enter(i),e.consume(p),e.exit(i),e.enter(r),h}function h(p){return s>999||p===null||p===91||p===93&&!l||p===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(r),e.enter(i),e.consume(p),e.exit(i),e.exit(a),t):he(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||he(p)||s++>999?(e.exit("chunkString"),h(p)):(e.consume(p),l||(l=!Ie(p)),p===92?m:d)}function m(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}}function eT(e,t,n,a,i,r){let o;return s;function s(m){return m===34||m===39||m===40?(e.enter(a),e.enter(i),e.consume(m),e.exit(i),o=m===40?41:m,l):n(m)}function l(m){return m===o?(e.enter(i),e.consume(m),e.exit(i),e.exit(a),t):(e.enter(r),c(m))}function c(m){return m===o?(e.exit(r),l(o)):m===null?n(m):he(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),Se(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===o||m===null||he(m)?(e.exit("chunkString"),c(m)):(e.consume(m),m===92?d:h)}function d(m){return m===o||m===92?(e.consume(m),h):h(m)}}function ml(e,t){let n;return a;function a(i){return he(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,a):Ie(i)?Se(e,a,n?"linePrefix":"lineSuffix")(i):t(i)}}const D$={name:"definition",tokenize:P$},O$={partial:!0,tokenize:L$};function P$(e,t,n){const a=this;let i;return r;function r(p){return e.enter("definition"),o(p)}function o(p){return Z5.call(a,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=ua(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),l):n(p)}function l(p){return Ye(p)?ml(e,c)(p):c(p)}function c(p){return J5(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function h(p){return e.attempt(O$,d,d)(p)}function d(p){return Ie(p)?Se(e,m,"whitespace")(p):m(p)}function m(p){return p===null||he(p)?(e.exit("definition"),a.parser.defined.push(i),t(p)):n(p)}}function L$(e,t,n){return a;function a(s){return Ye(s)?ml(e,i)(s):n(s)}function i(s){return eT(e,r,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function r(s){return Ie(s)?Se(e,o,"whitespace")(s):o(s)}function o(s){return s===null||he(s)?t(s):n(s)}}const B$={name:"hardBreakEscape",tokenize:F$};function F$(e,t,n){return a;function a(r){return e.enter("hardBreakEscape"),e.consume(r),i}function i(r){return he(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}const j$={name:"headingAtx",resolve:U$,tokenize:q$};function U$(e,t){let n=e.length-2,a=3,i,r;return e[a][1].type==="whitespace"&&(a+=2),n-2>a&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(a===n-1||n-4>a&&e[n-2][1].type==="whitespace")&&(n-=a+1===n?2:4),n>a&&(i={type:"atxHeadingText",start:e[a][1].start,end:e[n][1].end},r={type:"chunkText",start:e[a][1].start,end:e[n][1].end,contentType:"text"},Nn(e,a,n-a+1,[["enter",i,t],["enter",r,t],["exit",r,t],["exit",i,t]])),e}function q$(e,t,n){let a=0;return i;function i(h){return e.enter("atxHeading"),r(h)}function r(h){return e.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&a++<6?(e.consume(h),o):h===null||Ye(h)?(e.exit("atxHeadingSequence"),s(h)):n(h)}function s(h){return h===35?(e.enter("atxHeadingSequence"),l(h)):h===null||he(h)?(e.exit("atxHeading"),t(h)):Ie(h)?Se(e,s,"whitespace")(h):(e.enter("atxHeadingText"),c(h))}function l(h){return h===35?(e.consume(h),l):(e.exit("atxHeadingSequence"),s(h))}function c(h){return h===null||h===35||Ye(h)?(e.exit("atxHeadingText"),s(h)):(e.consume(h),c)}}const H$=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ww=["pre","script","style","textarea"],W$={concrete:!0,name:"htmlFlow",resolveTo:X$,tokenize:Y$},G$={partial:!0,tokenize:Q$},V$={partial:!0,tokenize:K$};function X$(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Y$(e,t,n){const a=this;let i,r,o,s,l;return c;function c(O){return h(O)}function h(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),d}function d(O){return O===33?(e.consume(O),m):O===47?(e.consume(O),r=!0,y):O===63?(e.consume(O),i=3,a.interrupt?t:E):Qt(O)?(e.consume(O),o=String.fromCharCode(O),T):n(O)}function m(O){return O===45?(e.consume(O),i=2,p):O===91?(e.consume(O),i=5,s=0,b):Qt(O)?(e.consume(O),i=4,a.interrupt?t:E):n(O)}function p(O){return O===45?(e.consume(O),a.interrupt?t:E):n(O)}function b(O){const pe="CDATA[";return O===pe.charCodeAt(s++)?(e.consume(O),s===pe.length?a.interrupt?t:H:b):n(O)}function y(O){return Qt(O)?(e.consume(O),o=String.fromCharCode(O),T):n(O)}function T(O){if(O===null||O===47||O===62||Ye(O)){const pe=O===47,ye=o.toLowerCase();return!pe&&!r&&Ww.includes(ye)?(i=1,a.interrupt?t(O):H(O)):H$.includes(o.toLowerCase())?(i=6,pe?(e.consume(O),g):a.interrupt?t(O):H(O)):(i=7,a.interrupt&&!a.parser.lazy[a.now().line]?n(O):r?w(O):x(O))}return O===45||Wt(O)?(e.consume(O),o+=String.fromCharCode(O),T):n(O)}function g(O){return O===62?(e.consume(O),a.interrupt?t:H):n(O)}function w(O){return Ie(O)?(e.consume(O),w):z(O)}function x(O){return O===47?(e.consume(O),z):O===58||O===95||Qt(O)?(e.consume(O),_):Ie(O)?(e.consume(O),x):z(O)}function _(O){return O===45||O===46||O===58||O===95||Wt(O)?(e.consume(O),_):C(O)}function C(O){return O===61?(e.consume(O),A):Ie(O)?(e.consume(O),C):x(O)}function A(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),l=O,M):Ie(O)?(e.consume(O),A):I(O)}function M(O){return O===l?(e.consume(O),l=null,R):O===null||he(O)?n(O):(e.consume(O),M)}function I(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Ye(O)?C(O):(e.consume(O),I)}function R(O){return O===47||O===62||Ie(O)?x(O):n(O)}function z(O){return O===62?(e.consume(O),F):n(O)}function F(O){return O===null||he(O)?H(O):Ie(O)?(e.consume(O),F):n(O)}function H(O){return O===45&&i===2?(e.consume(O),$):O===60&&i===1?(e.consume(O),L):O===62&&i===4?(e.consume(O),re):O===63&&i===3?(e.consume(O),E):O===93&&i===5?(e.consume(O),V):he(O)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(G$,le,X)(O)):O===null||he(O)?(e.exit("htmlFlowData"),X(O)):(e.consume(O),H)}function X(O){return e.check(V$,G,le)(O)}function G(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),j}function j(O){return O===null||he(O)?X(O):(e.enter("htmlFlowData"),H(O))}function $(O){return O===45?(e.consume(O),E):H(O)}function L(O){return O===47?(e.consume(O),o="",B):H(O)}function B(O){if(O===62){const pe=o.toLowerCase();return Ww.includes(pe)?(e.consume(O),re):H(O)}return Qt(O)&&o.length<8?(e.consume(O),o+=String.fromCharCode(O),B):H(O)}function V(O){return O===93?(e.consume(O),E):H(O)}function E(O){return O===62?(e.consume(O),re):O===45&&i===2?(e.consume(O),E):H(O)}function re(O){return O===null||he(O)?(e.exit("htmlFlowData"),le(O)):(e.consume(O),re)}function le(O){return e.exit("htmlFlow"),t(O)}}function K$(e,t,n){const a=this;return i;function i(o){return he(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),r):n(o)}function r(o){return a.parser.lazy[a.now().line]?n(o):t(o)}}function Q$(e,t,n){return a;function a(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(mc,t,n)}}const J$={name:"htmlText",tokenize:Z$};function Z$(e,t,n){const a=this;let i,r,o;return s;function s(E){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(E),l}function l(E){return E===33?(e.consume(E),c):E===47?(e.consume(E),C):E===63?(e.consume(E),x):Qt(E)?(e.consume(E),I):n(E)}function c(E){return E===45?(e.consume(E),h):E===91?(e.consume(E),r=0,b):Qt(E)?(e.consume(E),w):n(E)}function h(E){return E===45?(e.consume(E),p):n(E)}function d(E){return E===null?n(E):E===45?(e.consume(E),m):he(E)?(o=d,L(E)):(e.consume(E),d)}function m(E){return E===45?(e.consume(E),p):d(E)}function p(E){return E===62?$(E):E===45?m(E):d(E)}function b(E){const re="CDATA[";return E===re.charCodeAt(r++)?(e.consume(E),r===re.length?y:b):n(E)}function y(E){return E===null?n(E):E===93?(e.consume(E),T):he(E)?(o=y,L(E)):(e.consume(E),y)}function T(E){return E===93?(e.consume(E),g):y(E)}function g(E){return E===62?$(E):E===93?(e.consume(E),g):y(E)}function w(E){return E===null||E===62?$(E):he(E)?(o=w,L(E)):(e.consume(E),w)}function x(E){return E===null?n(E):E===63?(e.consume(E),_):he(E)?(o=x,L(E)):(e.consume(E),x)}function _(E){return E===62?$(E):x(E)}function C(E){return Qt(E)?(e.consume(E),A):n(E)}function A(E){return E===45||Wt(E)?(e.consume(E),A):M(E)}function M(E){return he(E)?(o=M,L(E)):Ie(E)?(e.consume(E),M):$(E)}function I(E){return E===45||Wt(E)?(e.consume(E),I):E===47||E===62||Ye(E)?R(E):n(E)}function R(E){return E===47?(e.consume(E),$):E===58||E===95||Qt(E)?(e.consume(E),z):he(E)?(o=R,L(E)):Ie(E)?(e.consume(E),R):$(E)}function z(E){return E===45||E===46||E===58||E===95||Wt(E)?(e.consume(E),z):F(E)}function F(E){return E===61?(e.consume(E),H):he(E)?(o=F,L(E)):Ie(E)?(e.consume(E),F):R(E)}function H(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),i=E,X):he(E)?(o=H,L(E)):Ie(E)?(e.consume(E),H):(e.consume(E),G)}function X(E){return E===i?(e.consume(E),i=void 0,j):E===null?n(E):he(E)?(o=X,L(E)):(e.consume(E),X)}function G(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||Ye(E)?R(E):(e.consume(E),G)}function j(E){return E===47||E===62||Ye(E)?R(E):n(E)}function $(E){return E===62?(e.consume(E),e.exit("htmlTextData"),e.exit("htmlText"),t):n(E)}function L(E){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),B}function B(E){return Ie(E)?Se(e,V,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):V(E)}function V(E){return e.enter("htmlTextData"),o(E)}}const Ug={name:"labelEnd",resolveAll:aR,resolveTo:iR,tokenize:rR},eR={tokenize:oR},tR={tokenize:sR},nR={tokenize:lR};function aR(e){let t=-1;const n=[];for(;++t<e.length;){const a=e[t][1];if(n.push(e[t]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const i=a.type==="labelImage"?4:2;a.type="data",t+=i}}return e.length!==n.length&&Nn(e,0,e.length,n),e}function iR(e,t){let n=e.length,a=0,i,r,o,s;for(;n--;)if(i=e[n][1],r){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(r=n,i.type!=="labelLink")){a=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[r][1].type==="labelLink"?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[r][1].start},end:{...e[o][1].end}},h={type:"labelText",start:{...e[r+a+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=Hn(s,e.slice(r+1,r+a+3)),s=Hn(s,[["enter",h,t]]),s=Hn(s,ou(t.parser.constructs.insideSpan.null,e.slice(r+a+4,o-3),t)),s=Hn(s,[["exit",h,t],e[o-2],e[o-1],["exit",c,t]]),s=Hn(s,e.slice(o+1)),s=Hn(s,[["exit",l,t]]),Nn(e,r,e.length,s),e}function rR(e,t,n){const a=this;let i=a.events.length,r,o;for(;i--;)if((a.events[i][1].type==="labelImage"||a.events[i][1].type==="labelLink")&&!a.events[i][1]._balanced){r=a.events[i][1];break}return s;function s(m){return r?r._inactive?d(m):(o=a.parser.defined.includes(ua(a.sliceSerialize({start:r.end,end:a.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),l):n(m)}function l(m){return m===40?e.attempt(eR,h,o?h:d)(m):m===91?e.attempt(tR,h,o?c:d)(m):o?h(m):d(m)}function c(m){return e.attempt(nR,h,d)(m)}function h(m){return t(m)}function d(m){return r._balanced=!0,n(m)}}function oR(e,t,n){return a;function a(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Ye(d)?ml(e,r)(d):r(d)}function r(d){return d===41?h(d):J5(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Ye(d)?ml(e,l)(d):h(d)}function s(d){return n(d)}function l(d){return d===34||d===39||d===40?eT(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):h(d)}function c(d){return Ye(d)?ml(e,h)(d):h(d)}function h(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function sR(e,t,n){const a=this;return i;function i(s){return Z5.call(a,e,r,o,"reference","referenceMarker","referenceString")(s)}function r(s){return a.parser.defined.includes(ua(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function lR(e,t,n){return a;function a(r){return e.enter("reference"),e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),i}function i(r){return r===93?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}const cR={name:"labelStartImage",resolveAll:Ug.resolveAll,tokenize:hR};function hR(e,t,n){const a=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),r}function r(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(s):t(s)}}const dR={name:"labelStartLink",resolveAll:Ug.resolveAll,tokenize:uR};function uR(e,t,n){const a=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),r}function r(o){return o===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(o):t(o)}}const vm={name:"lineEnding",tokenize:mR};function mR(e,t){return n;function n(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Se(e,t,"linePrefix")}}const Ih={name:"thematicBreak",tokenize:pR};function pR(e,t,n){let a=0,i;return r;function r(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):a>=3&&(c===null||he(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),a++,l):(e.exit("thematicBreakSequence"),Ie(c)?Se(e,s,"whitespace")(c):s(c))}}const on={continuation:{tokenize:yR},exit:vR,name:"list",tokenize:bR},fR={partial:!0,tokenize:xR},gR={partial:!0,tokenize:wR};function bR(e,t,n){const a=this,i=a.events[a.events.length-1];let r=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(p){const b=a.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!a.containerState.marker||p===a.containerState.marker:Nf(p)){if(a.containerState.type||(a.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(Ih,n,c)(p):c(p);if(!a.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(p)}return n(p)}function l(p){return Nf(p)&&++o<10?(e.consume(p),l):(!a.interrupt||o<2)&&(a.containerState.marker?p===a.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),c(p)):n(p)}function c(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||p,e.check(mc,a.interrupt?n:h,e.attempt(fR,m,d))}function h(p){return a.containerState.initialBlankLine=!0,r++,m(p)}function d(p){return Ie(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),m):n(p)}function m(p){return a.containerState.size=r+a.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function yR(e,t,n){const a=this;return a.containerState._closeFlow=void 0,e.check(mc,i,r);function i(s){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,Se(e,t,"listItemIndent",a.containerState.size+1)(s)}function r(s){return a.containerState.furtherBlankLines||!Ie(s)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,o(s)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,e.attempt(gR,t,o)(s))}function o(s){return a.containerState._closeFlow=!0,a.interrupt=void 0,Se(e,e.attempt(on,t,n),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function wR(e,t,n){const a=this;return Se(e,i,"listItemIndent",a.containerState.size+1);function i(r){const o=a.events[a.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===a.containerState.size?t(r):n(r)}}function vR(e){e.exit(this.containerState.type)}function xR(e,t,n){const a=this;return Se(e,i,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(r){const o=a.events[a.events.length-1];return!Ie(r)&&o&&o[1].type==="listItemPrefixWhitespace"?t(r):n(r)}}const Gw={name:"setextUnderline",resolveTo:_R,tokenize:TR};function _R(e,t){let n=e.length,a,i,r;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){a=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!r&&e[n][1].type==="definition"&&(r=n);const o={type:"setextHeading",start:{...e[a][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",r?(e.splice(i,0,["enter",o,t]),e.splice(r+1,0,["exit",e[a][1],t]),e[a][1].end={...e[r][1].end}):e[a][1]=o,e.push(["exit",o,t]),e}function TR(e,t,n){const a=this;let i;return r;function r(c){let h=a.events.length,d;for(;h--;)if(a.events[h][1].type!=="lineEnding"&&a.events[h][1].type!=="linePrefix"&&a.events[h][1].type!=="content"){d=a.events[h][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||d)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),Ie(c)?Se(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||he(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const kR={tokenize:AR};function AR(e){const t=this,n=e.attempt(mc,a,e.attempt(this.parser.constructs.flowInitial,i,Se(e,e.attempt(this.parser.constructs.flow,i,e.attempt(N$,i)),"linePrefix")));return n;function a(r){if(r===null){e.consume(r);return}return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(r){if(r===null){e.consume(r);return}return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const SR={resolveAll:nT()},CR=tT("string"),ER=tT("text");function tT(e){return{resolveAll:nT(e==="text"?IR:void 0),tokenize:t};function t(n){const a=this,i=this.parser.constructs[e],r=n.attempt(i,o,s);return o;function o(h){return c(h)?r(h):s(h)}function s(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return c(h)?(n.exit("data"),r(h)):(n.consume(h),l)}function c(h){if(h===null)return!0;const d=i[h];let m=-1;if(d)for(;++m<d.length;){const p=d[m];if(!p.previous||p.previous.call(a,a.previous))return!0}return!1}}}function nT(e){return t;function t(n,a){let i=-1,r;for(;++i<=n.length;)r===void 0?n[i]&&n[i][1].type==="data"&&(r=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(n,a):n}}function IR(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const a=e[n-1][1],i=t.sliceStream(a);let r=i.length,o=-1,s=0,l;for(;r--;){const c=i[r];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){r++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:r?o:a.start._bufferIndex+o,_index:a.start._index+r,line:a.end.line,column:a.end.column-s,offset:a.end.offset-s},end:{...a.end}};a.end={...c.start},a.start.offset===a.end.offset?Object.assign(a,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const NR={42:on,43:on,45:on,48:on,49:on,50:on,51:on,52:on,53:on,54:on,55:on,56:on,57:on,62:X5},MR={91:D$},zR={[-2]:wm,[-1]:wm,32:wm},$R={35:j$,42:Ih,45:[Gw,Ih],60:W$,61:Gw,95:Ih,96:Hw,126:Hw},RR={38:K5,92:Y5},DR={[-5]:vm,[-4]:vm,[-3]:vm,33:cR,38:K5,42:Mf,60:[d$,J$],91:dR,92:[B$,Y5],93:Ug,95:Mf,96:k$},OR={null:[Mf,SR]},PR={null:[42,95]},LR={null:[]},BR=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:PR,contentInitial:MR,disable:LR,document:NR,flow:$R,flowInitial:zR,insideSpan:OR,string:RR,text:DR},Symbol.toStringTag,{value:"Module"}));function FR(e,t,n){let a={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},r=[];let o=[],s=[];const l={attempt:M(C),check:M(A),consume:w,enter:x,exit:_,interrupt:M(A,{interrupt:!0})},c={code:null,containerState:{},defineSkip:y,events:[],now:b,parser:e,previous:null,sliceSerialize:m,sliceStream:p,write:d};let h=t.tokenize.call(c,l);return t.resolveAll&&r.push(t),c;function d(F){return o=Hn(o,F),T(),o[o.length-1]!==null?[]:(I(t,0),c.events=ou(r,c.events,c),c.events)}function m(F,H){return UR(p(F),H)}function p(F){return jR(o,F)}function b(){const{_bufferIndex:F,_index:H,line:X,column:G,offset:j}=a;return{_bufferIndex:F,_index:H,line:X,column:G,offset:j}}function y(F){i[F.line]=F.column,z()}function T(){let F;for(;a._index<o.length;){const H=o[a._index];if(typeof H=="string")for(F=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===F&&a._bufferIndex<H.length;)g(H.charCodeAt(a._bufferIndex));else g(H)}}function g(F){h=h(F)}function w(F){he(F)?(a.line++,a.column=1,a.offset+=F===-3?2:1,z()):F!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===o[a._index].length&&(a._bufferIndex=-1,a._index++)),c.previous=F}function x(F,H){const X=H||{};return X.type=F,X.start=b(),c.events.push(["enter",X,c]),s.push(X),X}function _(F){const H=s.pop();return H.end=b(),c.events.push(["exit",H,c]),H}function C(F,H){I(F,H.from)}function A(F,H){H.restore()}function M(F,H){return X;function X(G,j,$){let L,B,V,E;return Array.isArray(G)?le(G):"tokenize"in G?le([G]):re(G);function re(_e){return Qe;function Qe(ie){const Ae=ie!==null&&_e[ie],Be=ie!==null&&_e.null,gt=[...Array.isArray(Ae)?Ae:Ae?[Ae]:[],...Array.isArray(Be)?Be:Be?[Be]:[]];return le(gt)(ie)}}function le(_e){return L=_e,B=0,_e.length===0?$:O(_e[B])}function O(_e){return Qe;function Qe(ie){return E=R(),V=_e,_e.partial||(c.currentConstruct=_e),_e.name&&c.parser.constructs.disable.null.includes(_e.name)?ye():_e.tokenize.call(H?Object.assign(Object.create(c),H):c,l,pe,ye)(ie)}}function pe(_e){return F(V,E),j}function ye(_e){return E.restore(),++B<L.length?O(L[B]):$}}}function I(F,H){F.resolveAll&&!r.includes(F)&&r.push(F),F.resolve&&Nn(c.events,H,c.events.length-H,F.resolve(c.events.slice(H),c)),F.resolveTo&&(c.events=F.resolveTo(c.events,c))}function R(){const F=b(),H=c.previous,X=c.currentConstruct,G=c.events.length,j=Array.from(s);return{from:G,restore:$};function $(){a=F,c.previous=H,c.currentConstruct=X,c.events.length=G,s=j,z()}}function z(){a.line in i&&a.column<2&&(a.column=i[a.line],a.offset+=i[a.line]-1)}}function jR(e,t){const n=t.start._index,a=t.start._bufferIndex,i=t.end._index,r=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(a,r)];else{if(o=e.slice(n,i),a>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(a):o.shift()}r>0&&o.push(e[i].slice(0,r))}return o}function UR(e,t){let n=-1;const a=[];let i;for(;++n<e.length;){const r=e[n];let o;if(typeof r=="string")o=r;else switch(r){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(r)}i=r===-2,a.push(o)}return a.join("")}function qR(e){const a={constructs:G5([BR,...(e||{}).extensions||[]]),content:i(i$),defined:[],document:i(o$),flow:i(kR),lazy:{},string:i(CR),text:i(ER)};return a;function i(r){return o;function o(s){return FR(a,r,s)}}}function HR(e){for(;!Q5(e););return e}const Vw=/[\0\t\n\r]/g;function WR(){let e=1,t="",n=!0,a;return i;function i(r,o,s){const l=[];let c,h,d,m,p;for(r=t+(typeof r=="string"?r.toString():new TextDecoder(o||void 0).decode(r)),d=0,t="",n&&(r.charCodeAt(0)===65279&&d++,n=void 0);d<r.length;){if(Vw.lastIndex=d,c=Vw.exec(r),m=c&&c.index!==void 0?c.index:r.length,p=r.charCodeAt(m),!c){t=r.slice(d);break}if(p===10&&d===m&&a)l.push(-3),a=void 0;else switch(a&&(l.push(-5),a=void 0),d<m&&(l.push(r.slice(d,m)),e+=m-d),p){case 0:{l.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,l.push(-2);e++<h;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:a=!0,e=1}d=m+1}return s&&(a&&l.push(-5),t&&l.push(t),l.push(null)),l}}const GR=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function VR(e){return e.replace(GR,XR)}function XR(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),r=i===120||i===88;return V5(n.slice(r?2:1),r?16:10)}return jg(n)||e}const aT={}.hasOwnProperty;function YR(e,t,n){return typeof t!="string"&&(n=t,t=void 0),KR(n)(HR(qR(n).document().write(WR()(e,t,!0))))}function KR(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:r(Ln),autolinkProtocol:R,autolinkEmail:R,atxHeading:r(xt),blockQuote:r(Be),characterEscape:R,characterReference:R,codeFenced:r(gt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:r(gt,o),codeText:r(Dn,o),codeTextData:R,data:R,codeFlowValue:R,definition:r(On),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:r(Pn),hardBreakEscape:r($e),hardBreakTrailing:r($e),htmlFlow:r(Vt,o),htmlFlowData:R,htmlText:r(Vt,o),htmlTextData:R,image:r(de),label:o,link:r(Ln),listItem:r(qe),listItemValue:m,listOrdered:r(_t,d),listUnordered:r(_t),paragraph:r(Yr),reference:O,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:r(xt),strong:r($a),thematicBreak:r(xs)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:Ae,autolinkProtocol:ie,blockQuote:l(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:ye,characterReferenceMarkerNumeric:ye,characterReferenceValue:_e,characterReference:Qe,codeFenced:l(T),codeFencedFence:y,codeFencedFenceInfo:p,codeFencedFenceMeta:b,codeFlowValue:z,codeIndented:l(g),codeText:l(j),codeTextData:z,data:z,definition:l(),definitionDestinationString:_,definitionLabelString:w,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(H),hardBreakTrailing:l(H),htmlFlow:l(X),htmlFlowData:z,htmlText:l(G),htmlTextData:z,image:l(L),label:V,labelText:B,lineEnding:F,link:l($),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:pe,resourceDestinationString:E,resourceTitleString:re,resource:le,setextHeading:l(I),setextHeadingLineSequence:M,setextHeadingText:A,strong:l(),thematicBreak:l()}};iT(t,(e||{}).mdastExtensions||[]);const n={};return a;function a(q){let Y={type:"root",children:[]};const ne={stack:[Y],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:h,data:n},ce=[];let we=-1;for(;++we<q.length;)if(q[we][1].type==="listOrdered"||q[we][1].type==="listUnordered")if(q[we][0]==="enter")ce.push(we);else{const bt=ce.pop();we=i(q,bt,we)}for(we=-1;++we<q.length;){const bt=t[q[we][0]];aT.call(bt,q[we][1].type)&&bt[q[we][1].type].call(Object.assign({sliceSerialize:q[we][2].sliceSerialize},ne),q[we][1])}if(ne.tokenStack.length>0){const bt=ne.tokenStack[ne.tokenStack.length-1];(bt[1]||Xw).call(ne,void 0,bt[0])}for(Y.position={start:mi(q.length>0?q[0][1].start:{line:1,column:1,offset:0}),end:mi(q.length>0?q[q.length-2][1].end:{line:1,column:1,offset:0})},we=-1;++we<t.transforms.length;)Y=t.transforms[we](Y)||Y;return Y}function i(q,Y,ne){let ce=Y-1,we=-1,bt=!1,Ra,na,_s,Ts;for(;++ce<=ne;){const wn=q[ce];switch(wn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{wn[0]==="enter"?we++:we--,Ts=void 0;break}case"lineEndingBlank":{wn[0]==="enter"&&(Ra&&!Ts&&!we&&!_s&&(_s=ce),Ts=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ts=void 0}if(!we&&wn[0]==="enter"&&wn[1].type==="listItemPrefix"||we===-1&&wn[0]==="exit"&&(wn[1].type==="listUnordered"||wn[1].type==="listOrdered")){if(Ra){let Kr=ce;for(na=void 0;Kr--;){const Da=q[Kr];if(Da[1].type==="lineEnding"||Da[1].type==="lineEndingBlank"){if(Da[0]==="exit")continue;na&&(q[na][1].type="lineEndingBlank",bt=!0),Da[1].type="lineEnding",na=Kr}else if(!(Da[1].type==="linePrefix"||Da[1].type==="blockQuotePrefix"||Da[1].type==="blockQuotePrefixWhitespace"||Da[1].type==="blockQuoteMarker"||Da[1].type==="listItemIndent"))break}_s&&(!na||_s<na)&&(Ra._spread=!0),Ra.end=Object.assign({},na?q[na][1].start:wn[1].end),q.splice(na||ce,0,["exit",Ra,wn[2]]),ce++,ne++}if(wn[1].type==="listItemPrefix"){const Kr={type:"listItem",_spread:!1,start:Object.assign({},wn[1].start),end:void 0};Ra=Kr,q.splice(ce,0,["enter",Kr,wn[2]]),ce++,ne++,_s=void 0,Ts=!0}}}return q[Y][1]._spread=bt,ne}function r(q,Y){return ne;function ne(ce){s.call(this,q(ce),ce),Y&&Y.call(this,ce)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(q,Y,ne){this.stack[this.stack.length-1].children.push(q),this.stack.push(q),this.tokenStack.push([Y,ne||void 0]),q.position={start:mi(Y.start),end:void 0}}function l(q){return Y;function Y(ne){q&&q.call(this,ne),c.call(this,ne)}}function c(q,Y){const ne=this.stack.pop(),ce=this.tokenStack.pop();if(ce)ce[0].type!==q.type&&(Y?Y.call(this,q,ce[0]):(ce[1]||Xw).call(this,q,ce[0]));else throw new Error("Cannot close `"+q.type+"` ("+ul({start:q.start,end:q.end})+"): its not open");ne.position.end=mi(q.end)}function h(){return Fg(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function m(q){if(this.data.expectingFirstListItemValue){const Y=this.stack[this.stack.length-2];Y.start=Number.parseInt(this.sliceSerialize(q),10),this.data.expectingFirstListItemValue=void 0}}function p(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.lang=q}function b(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.meta=q}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.value=q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.value=q.replace(/(\r?\n|\r)$/g,"")}function w(q){const Y=this.resume(),ne=this.stack[this.stack.length-1];ne.label=Y,ne.identifier=ua(this.sliceSerialize(q)).toLowerCase()}function x(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.title=q}function _(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.url=q}function C(q){const Y=this.stack[this.stack.length-1];if(!Y.depth){const ne=this.sliceSerialize(q).length;Y.depth=ne}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function M(q){const Y=this.stack[this.stack.length-1];Y.depth=this.sliceSerialize(q).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function R(q){const ne=this.stack[this.stack.length-1].children;let ce=ne[ne.length-1];(!ce||ce.type!=="text")&&(ce=vs(),ce.position={start:mi(q.start),end:void 0},ne.push(ce)),this.stack.push(ce)}function z(q){const Y=this.stack.pop();Y.value+=this.sliceSerialize(q),Y.position.end=mi(q.end)}function F(q){const Y=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ne=Y.children[Y.children.length-1];ne.position.end=mi(q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Y.type)&&(R.call(this,q),z.call(this,q))}function H(){this.data.atHardBreak=!0}function X(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.value=q}function G(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.value=q}function j(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.value=q}function $(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const Y=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=Y,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function L(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const Y=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=Y,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function B(q){const Y=this.sliceSerialize(q),ne=this.stack[this.stack.length-2];ne.label=VR(Y),ne.identifier=ua(Y).toLowerCase()}function V(){const q=this.stack[this.stack.length-1],Y=this.resume(),ne=this.stack[this.stack.length-1];if(this.data.inReference=!0,ne.type==="link"){const ce=q.children;ne.children=ce}else ne.alt=Y}function E(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.url=q}function re(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.title=q}function le(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function pe(q){const Y=this.resume(),ne=this.stack[this.stack.length-1];ne.label=Y,ne.identifier=ua(this.sliceSerialize(q)).toLowerCase(),this.data.referenceType="full"}function ye(q){this.data.characterReferenceType=q.type}function _e(q){const Y=this.sliceSerialize(q),ne=this.data.characterReferenceType;let ce;ne?(ce=V5(Y,ne==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ce=jg(Y);const we=this.stack[this.stack.length-1];we.value+=ce}function Qe(q){const Y=this.stack.pop();Y.position.end=mi(q.end)}function ie(q){z.call(this,q);const Y=this.stack[this.stack.length-1];Y.url=this.sliceSerialize(q)}function Ae(q){z.call(this,q);const Y=this.stack[this.stack.length-1];Y.url="mailto:"+this.sliceSerialize(q)}function Be(){return{type:"blockquote",children:[]}}function gt(){return{type:"code",lang:null,meta:null,value:""}}function Dn(){return{type:"inlineCode",value:""}}function On(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Pn(){return{type:"emphasis",children:[]}}function xt(){return{type:"heading",depth:0,children:[]}}function $e(){return{type:"break"}}function Vt(){return{type:"html",value:""}}function de(){return{type:"image",title:null,url:"",alt:null}}function Ln(){return{type:"link",title:null,url:"",children:[]}}function _t(q){return{type:"list",ordered:q.type==="listOrdered",start:null,spread:q._spread,children:[]}}function qe(q){return{type:"listItem",spread:q._spread,checked:null,children:[]}}function Yr(){return{type:"paragraph",children:[]}}function $a(){return{type:"strong",children:[]}}function vs(){return{type:"text",value:""}}function xs(){return{type:"thematicBreak"}}}function mi(e){return{line:e.line,column:e.column,offset:e.offset}}function iT(e,t){let n=-1;for(;++n<t.length;){const a=t[n];Array.isArray(a)?iT(e,a):QR(e,a)}}function QR(e,t){let n;for(n in t)if(aT.call(t,n))switch(n){case"canContainEols":{const a=t[n];a&&e[n].push(...a);break}case"transforms":{const a=t[n];a&&e[n].push(...a);break}case"enter":case"exit":{const a=t[n];a&&Object.assign(e[n],a);break}}}function Xw(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ul({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ul({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ul({start:t.start,end:t.end})+") is still open")}function JR(e){const t=this;t.parser=n;function n(a){return YR(a,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ZR(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function eD(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function tD(e,t){const n=t.value?t.value+`
`:"",a={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(a.className=["language-"+i[0]]);let r={type:"element",tagName:"code",properties:a,children:[{type:"text",value:n}]};return t.meta&&(r.data={meta:t.meta}),e.patch(t,r),r=e.applyData(t,r),r={type:"element",tagName:"pre",properties:{},children:[r]},e.patch(t,r),r}function nD(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function aD(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function iD(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",a=String(t.identifier).toUpperCase(),i=bs(a.toLowerCase()),r=e.footnoteOrder.indexOf(a);let o,s=e.footnoteCounts.get(a);s===void 0?(s=0,e.footnoteOrder.push(a),o=e.footnoteOrder.length):o=r+1,s+=1,e.footnoteCounts.set(a,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function rD(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function oD(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function rT(e,t){const n=t.referenceType;let a="]";if(n==="collapsed"?a+="[]":n==="full"&&(a+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+a}];const i=e.all(t),r=i[0];r&&r.type==="text"?r.value="["+r.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=a:i.push({type:"text",value:a}),i}function sD(e,t){const n=String(t.identifier).toUpperCase(),a=e.definitionById.get(n);if(!a)return rT(e,t);const i={src:bs(a.url||""),alt:t.alt};a.title!==null&&a.title!==void 0&&(i.title=a.title);const r={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,r),e.applyData(t,r)}function lD(e,t){const n={src:bs(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const a={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,a),e.applyData(t,a)}function cD(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const a={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,a),e.applyData(t,a)}function hD(e,t){const n=String(t.identifier).toUpperCase(),a=e.definitionById.get(n);if(!a)return rT(e,t);const i={href:bs(a.url||"")};a.title!==null&&a.title!==void 0&&(i.title=a.title);const r={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function dD(e,t){const n={href:bs(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const a={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function uD(e,t,n){const a=e.all(t),i=n?mD(n):oT(t),r={},o=[];if(typeof t.checked=="boolean"){const h=a[0];let d;h&&h.type==="element"&&h.tagName==="p"?d=h:(d={type:"element",tagName:"p",properties:{},children:[]},a.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),r.className=["task-list-item"]}let s=-1;for(;++s<a.length;){const h=a[s];(i||s!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const l=a[a.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:r,children:o};return e.patch(t,c),e.applyData(t,c)}function mD(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let a=-1;for(;!t&&++a<n.length;)t=oT(n[a])}return t}function oT(e){const t=e.spread;return t??e.children.length>1}function pD(e,t){const n={},a=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<a.length;){const o=a[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const r={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(a,!0)};return e.patch(t,r),e.applyData(t,r)}function fD(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gD(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function bD(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yD(e,t){const n=e.all(t),a=n.shift(),i=[];if(a){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([a],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Og(t.children[1]),l=B5(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const r={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,r),e.applyData(t,r)}function wD(e,t,n){const a=n?n.children:void 0,r=(a?a.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<s;){const d=t.children[l],m={},p=o?o[l]:void 0;p&&(m.align=p);let b={type:"element",tagName:r,properties:m,children:[]};d&&(b.children=e.all(d),e.patch(d,b),b=e.applyData(d,b)),c.push(b)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,h),e.applyData(t,h)}function vD(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Yw=9,Kw=32;function xD(e){const t=String(e),n=/\r?\n|\r/g;let a=n.exec(t),i=0;const r=[];for(;a;)r.push(Qw(t.slice(i,a.index),i>0,!0),a[0]),i=a.index+a[0].length,a=n.exec(t);return r.push(Qw(t.slice(i),i>0,!1)),r.join("")}function Qw(e,t,n){let a=0,i=e.length;if(t){let r=e.codePointAt(a);for(;r===Yw||r===Kw;)a++,r=e.codePointAt(a)}if(n){let r=e.codePointAt(i-1);for(;r===Yw||r===Kw;)i--,r=e.codePointAt(i-1)}return i>a?e.slice(a,i):""}function _D(e,t){const n={type:"text",value:xD(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function TD(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const kD={blockquote:ZR,break:eD,code:tD,delete:nD,emphasis:aD,footnoteReference:iD,heading:rD,html:oD,imageReference:sD,image:lD,inlineCode:cD,linkReference:hD,link:dD,listItem:uD,list:pD,paragraph:fD,root:gD,strong:bD,table:yD,tableCell:vD,tableRow:wD,text:_D,thematicBreak:TD,toml:jc,yaml:jc,definition:jc,footnoteDefinition:jc};function jc(){}const sT=-1,su=0,pl=1,bd=2,qg=3,Hg=4,Wg=5,Gg=6,lT=7,cT=8,Jw=typeof self=="object"?self:globalThis,AD=(e,t)=>{const n=(i,r)=>(e.set(r,i),i),a=i=>{if(e.has(i))return e.get(i);const[r,o]=t[i];switch(r){case su:case sT:return n(o,i);case pl:{const s=n([],i);for(const l of o)s.push(a(l));return s}case bd:{const s=n({},i);for(const[l,c]of o)s[a(l)]=a(c);return s}case qg:return n(new Date(o),i);case Hg:{const{source:s,flags:l}=o;return n(new RegExp(s,l),i)}case Wg:{const s=n(new Map,i);for(const[l,c]of o)s.set(a(l),a(c));return s}case Gg:{const s=n(new Set,i);for(const l of o)s.add(a(l));return s}case lT:{const{name:s,message:l}=o;return n(new Jw[s](l),i)}case cT:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new Jw[r](o),i)};return a},Zw=e=>AD(new Map,e)(0),eo="",{toString:SD}={},{keys:CD}=Object,Ds=e=>{const t=typeof e;if(t!=="object"||!e)return[su,t];const n=SD.call(e).slice(8,-1);switch(n){case"Array":return[pl,eo];case"Object":return[bd,eo];case"Date":return[qg,eo];case"RegExp":return[Hg,eo];case"Map":return[Wg,eo];case"Set":return[Gg,eo];case"DataView":return[pl,n]}return n.includes("Array")?[pl,n]:n.includes("Error")?[lT,n]:[bd,n]},Uc=([e,t])=>e===su&&(t==="function"||t==="symbol"),ED=(e,t,n,a)=>{const i=(o,s)=>{const l=a.push(o)-1;return n.set(s,l),l},r=o=>{if(n.has(o))return n.get(o);let[s,l]=Ds(o);switch(s){case su:{let h=o;switch(l){case"bigint":s=cT,h=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return i([sT],o)}return i([s,h],o)}case pl:{if(l){let m=o;return l==="DataView"?m=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(m=new Uint8Array(o)),i([l,[...m]],o)}const h=[],d=i([s,h],o);for(const m of o)h.push(r(m));return d}case bd:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return r(o.toJSON());const h=[],d=i([s,h],o);for(const m of CD(o))(e||!Uc(Ds(o[m])))&&h.push([r(m),r(o[m])]);return d}case qg:return i([s,o.toISOString()],o);case Hg:{const{source:h,flags:d}=o;return i([s,{source:h,flags:d}],o)}case Wg:{const h=[],d=i([s,h],o);for(const[m,p]of o)(e||!(Uc(Ds(m))||Uc(Ds(p))))&&h.push([r(m),r(p)]);return d}case Gg:{const h=[],d=i([s,h],o);for(const m of o)(e||!Uc(Ds(m)))&&h.push(r(m));return d}}const{message:c}=o;return i([s,{name:l,message:c}],o)};return r},ev=(e,{json:t,lossy:n}={})=>{const a=[];return ED(!(t||n),!!t,new Map,a)(e),a},yd=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Zw(ev(e,t)):structuredClone(e):(e,t)=>Zw(ev(e,t));function ID(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function ND(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function MD(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||ID,a=e.options.footnoteBackLabel||ND,i=e.options.footnoteLabel||"Footnotes",r=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const h=e.all(c),d=String(c.identifier).toUpperCase(),m=bs(d.toLowerCase());let p=0;const b=[],y=e.footnoteCounts.get(d);for(;y!==void 0&&++p<=y;){b.length>0&&b.push({type:"text",value:" "});let w=typeof n=="string"?n:n(l,p);typeof w=="string"&&(w={type:"text",value:w}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(l,p),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const T=h[h.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const w=T.children[T.children.length-1];w&&w.type==="text"?w.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(...b)}else h.push(...b);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(h,!0)};e.patch(c,g),s.push(g)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:r,properties:{...yd(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const pc=function(e){if(e==null)return DD;if(typeof e=="function")return lu(e);if(typeof e=="object")return Array.isArray(e)?zD(e):$D(e);if(typeof e=="string")return RD(e);throw new Error("Expected function, string, or object as test")};function zD(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=pc(e[n]);return lu(a);function a(...i){let r=-1;for(;++r<t.length;)if(t[r].apply(this,i))return!0;return!1}}function $D(e){const t=e;return lu(n);function n(a){const i=a;let r;for(r in e)if(i[r]!==t[r])return!1;return!0}}function RD(e){return lu(t);function t(n){return n&&n.type===e}}function lu(e){return t;function t(n,a,i){return!!(OD(n)&&e.call(this,n,typeof a=="number"?a:void 0,i||void 0))}}function DD(){return!0}function OD(e){return e!==null&&typeof e=="object"&&"type"in e}const hT=[],PD=!0,zf=!1,dT="skip";function Vg(e,t,n,a){let i;typeof t=="function"&&typeof n!="function"?(a=n,n=t):i=t;const r=pc(i),o=a?-1:1;s(e,void 0,[])();function s(l,c,h){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return m;function m(){let p=hT,b,y,T;if((!t||r(l,c,h[h.length-1]||void 0))&&(p=LD(n(l,h)),p[0]===zf))return p;if("children"in l&&l.children){const g=l;if(g.children&&p[0]!==dT)for(y=(a?g.children.length:-1)+o,T=h.concat(g);y>-1&&y<g.children.length;){const w=g.children[y];if(b=s(w,y,T)(),b[0]===zf)return b;y=typeof b[1]=="number"?b[1]:y+o}}return p}}}function LD(e){return Array.isArray(e)?e:typeof e=="number"?[PD,e]:e==null?hT:[e]}function cu(e,t,n,a){let i,r,o;typeof t=="function"&&typeof n!="function"?(r=void 0,o=t,i=n):(r=t,o=n,i=a),Vg(e,r,s,i);function s(l,c){const h=c[c.length-1],d=h?h.children.indexOf(l):void 0;return o(l,d,h)}}const $f={}.hasOwnProperty,BD={};function FD(e,t){const n=t||BD,a=new Map,i=new Map,r=new Map,o={...kD,...n.handlers},s={all:c,applyData:UD,definitionById:a,footnoteById:i,footnoteCounts:r,footnoteOrder:[],handlers:o,one:l,options:n,patch:jD,wrap:HD};return cu(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const d=h.type==="definition"?a:i,m=String(h.identifier).toUpperCase();d.has(m)||d.set(m,h)}}),s;function l(h,d){const m=h.type,p=s.handlers[m];if($f.call(s.handlers,m)&&p)return p(s,h,d);if(s.options.passThrough&&s.options.passThrough.includes(m)){if("children"in h){const{children:y,...T}=h,g=yd(T);return g.children=s.all(h),g}return yd(h)}return(s.options.unknownHandler||qD)(s,h,d)}function c(h){const d=[];if("children"in h){const m=h.children;let p=-1;for(;++p<m.length;){const b=s.one(m[p],h);if(b){if(p&&m[p-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=tv(b.value)),!Array.isArray(b)&&b.type==="element")){const y=b.children[0];y&&y.type==="text"&&(y.value=tv(y.value))}Array.isArray(b)?d.push(...b):d.push(b)}}}return d}}function jD(e,t){e.position&&(t.position=Nz(e))}function UD(e,t){let n=t;if(e&&e.data){const a=e.data.hName,i=e.data.hChildren,r=e.data.hProperties;if(typeof a=="string")if(n.type==="element")n.tagName=a;else{const o="children"in n?n.children:[n];n={type:"element",tagName:a,properties:{},children:o}}n.type==="element"&&r&&Object.assign(n.properties,yd(r)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function qD(e,t){const n=t.data||{},a="value"in t&&!($f.call(n,"hProperties")||$f.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function HD(e,t){const n=[];let a=-1;for(t&&n.push({type:"text",value:`
`});++a<e.length;)a&&n.push({type:"text",value:`
`}),n.push(e[a]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function tv(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function nv(e,t){const n=FD(e,t),a=n.one(e,void 0),i=MD(n),r=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return i&&r.children.push({type:"text",value:`
`},i),r}function WD(e,t){return e&&"run"in e?async function(n,a){const i=nv(n,{file:a,...t});await e.run(i,a)}:function(n,a){return nv(n,{file:a,...e||t})}}function av(e){if(e)throw e}var Nh=Object.prototype.hasOwnProperty,uT=Object.prototype.toString,iv=Object.defineProperty,rv=Object.getOwnPropertyDescriptor,ov=function(t){return typeof Array.isArray=="function"?Array.isArray(t):uT.call(t)==="[object Array]"},sv=function(t){if(!t||uT.call(t)!=="[object Object]")return!1;var n=Nh.call(t,"constructor"),a=t.constructor&&t.constructor.prototype&&Nh.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!a)return!1;var i;for(i in t);return typeof i>"u"||Nh.call(t,i)},lv=function(t,n){iv&&n.name==="__proto__"?iv(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},cv=function(t,n){if(n==="__proto__")if(Nh.call(t,n)){if(rv)return rv(t,n).value}else return;return t[n]},GD=function e(){var t,n,a,i,r,o,s=arguments[0],l=1,c=arguments.length,h=!1;for(typeof s=="boolean"&&(h=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)a=cv(s,n),i=cv(t,n),s!==i&&(h&&i&&(sv(i)||(r=ov(i)))?(r?(r=!1,o=a&&ov(a)?a:[]):o=a&&sv(a)?a:{},lv(s,{name:n,newValue:e(h,o,i)})):typeof i<"u"&&lv(s,{name:n,newValue:i}));return s};const xm=Vl(GD);function Rf(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function VD(){const e=[],t={run:n,use:a};return t;function n(...i){let r=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...c){const h=e[++r];let d=-1;if(l){o(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,h?XD(h,s)(...c):o(null,...c)}}function a(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function XD(e,t){let n;return a;function a(...o){const s=e.length>o.length;let l;s&&o.push(i);try{l=e.apply(this,o)}catch(c){const h=c;if(s&&n)throw h;return i(h)}s||(l&&l.then&&typeof l.then=="function"?l.then(r,i):l instanceof Error?i(l):r(l))}function i(o,...s){n||(n=!0,t(o,...s))}function r(o){i(null,o)}}const ga={basename:YD,dirname:KD,extname:QD,join:JD,sep:"/"};function YD(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');fc(e);let n=0,a=-1,i=e.length,r;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(r){n=i+1;break}}else a<0&&(r=!0,a=i+1);return a<0?"":e.slice(n,a)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(r){n=i+1;break}}else o<0&&(r=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(a=i):(s=-1,a=o));return n===a?a=o:a<0&&(a=e.length),e.slice(n,a)}function KD(e){if(fc(e),e.length===0)return".";let t=-1,n=e.length,a;for(;--n;)if(e.codePointAt(n)===47){if(a){t=n;break}}else a||(a=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function QD(e){fc(e);let t=e.length,n=-1,a=0,i=-1,r=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){a=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:r!==1&&(r=1):i>-1&&(r=-1)}return i<0||n<0||r===0||r===1&&i===n-1&&i===a+1?"":e.slice(i,n)}function JD(...e){let t=-1,n;for(;++t<e.length;)fc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":ZD(n)}function ZD(e){fc(e);const t=e.codePointAt(0)===47;let n=eO(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function eO(e,t){let n="",a=0,i=-1,r=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||r===1))if(i!==o-1&&r===2){if(n.length<2||a!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",a=0):(n=n.slice(0,l),a=n.length-1-n.lastIndexOf("/")),i=o,r=0;continue}}else if(n.length>0){n="",a=0,i=o,r=0;continue}}t&&(n=n.length>0?n+"/..":"..",a=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),a=o-i-1;i=o,r=0}else s===46&&r>-1?r++:r=-1}return n}function fc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const tO={cwd:nO};function nO(){return"/"}function Df(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function aO(e){if(typeof e=="string")e=new URL(e);else if(!Df(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return iO(e)}function iO(e){if(e.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const a=t.codePointAt(n+2);if(a===70||a===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const _m=["history","path","basename","stem","extname","dirname"];class mT{constructor(t){let n;t?Df(t)?n={path:t}:typeof t=="string"||rO(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":tO.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<_m.length;){const r=_m[a];r in n&&n[r]!==void 0&&n[r]!==null&&(this[r]=r==="history"?[...n[r]]:n[r])}let i;for(i in n)_m.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ga.basename(this.path):void 0}set basename(t){km(t,"basename"),Tm(t,"basename"),this.path=ga.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ga.dirname(this.path):void 0}set dirname(t){hv(this.basename,"dirname"),this.path=ga.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ga.extname(this.path):void 0}set extname(t){if(Tm(t,"extname"),hv(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ga.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Df(t)&&(t=aO(t)),km(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ga.basename(this.path,this.extname):void 0}set stem(t){km(t,"stem"),Tm(t,"stem"),this.path=ga.join(this.dirname||"",t+(this.extname||""))}fail(t,n,a){const i=this.message(t,n,a);throw i.fatal=!0,i}info(t,n,a){const i=this.message(t,n,a);return i.fatal=void 0,i}message(t,n,a){const i=new Gt(t,n,a);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Tm(e,t){if(e&&e.includes(ga.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ga.sep+"`")}function km(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function hv(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function rO(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const oO=function(e){const a=this.constructor.prototype,i=a[e],r=function(){return i.apply(r,arguments)};return Object.setPrototypeOf(r,a),r},sO={}.hasOwnProperty;class Xg extends oO{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=VD()}copy(){const t=new Xg;let n=-1;for(;++n<this.attachers.length;){const a=this.attachers[n];t.use(...a)}return t.data(xm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Cm("data",this.frozen),this.namespace[t]=n,this):sO.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Cm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const i=n.call(t,...a);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=qc(t),a=this.parser||this.Parser;return Am("parse",a),a(String(n),n)}process(t,n){const a=this;return this.freeze(),Am("process",this.parser||this.Parser),Sm("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(r,o){const s=qc(t),l=a.parse(s);a.run(l,s,function(h,d,m){if(h||!d||!m)return c(h);const p=d,b=a.stringify(p,m);hO(b)?m.value=b:m.result=b,c(h,m)});function c(h,d){h||!d?o(h):r?r(d):n(void 0,d)}}}processSync(t){let n=!1,a;return this.freeze(),Am("processSync",this.parser||this.Parser),Sm("processSync",this.compiler||this.Compiler),this.process(t,i),uv("processSync","process",n),a;function i(r,o){n=!0,av(r),a=o}}run(t,n,a){dv(t),this.freeze();const i=this.transformers;return!a&&typeof n=="function"&&(a=n,n=void 0),a?r(void 0,a):new Promise(r);function r(o,s){const l=qc(n);i.run(t,l,c);function c(h,d,m){const p=d||t;h?s(h):o?o(p):a(void 0,p,m)}}}runSync(t,n){let a=!1,i;return this.run(t,n,r),uv("runSync","run",a),i;function r(o,s){av(o),i=s,a=!0}}stringify(t,n){this.freeze();const a=qc(n),i=this.compiler||this.Compiler;return Sm("stringify",i),dv(t),i(t,a)}use(t,...n){const a=this.attachers,i=this.namespace;if(Cm("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function r(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[h,...d]=c;l(h,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=xm(!0,i.settings,c.settings))}function s(c){let h=-1;if(c!=null)if(Array.isArray(c))for(;++h<c.length;){const d=c[h];r(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,h){let d=-1,m=-1;for(;++d<a.length;)if(a[d][0]===c){m=d;break}if(m===-1)a.push([c,...h]);else if(h.length>0){let[p,...b]=h;const y=a[m][1];Rf(y)&&Rf(p)&&(p=xm(!0,y,p)),a[m]=[c,p,...b]}}}}const lO=new Xg().freeze();function Am(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Sm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Cm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function dv(e){if(!Rf(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function uv(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function qc(e){return cO(e)?e:new mT(e)}function cO(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function hO(e){return typeof e=="string"||dO(e)}function dO(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const uO="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",mv=[],pv={allowDangerousHtml:!0},mO=/^(https?|ircs?|mailto|xmpp)$/i,pO=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function xi(e){const t=fO(e),n=gO(e);return bO(t.runSync(t.parse(n),n),e)}function fO(e){const t=e.rehypePlugins||mv,n=e.remarkPlugins||mv,a=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...pv}:pv;return lO().use(JR).use(n).use(WD,a).use(t)}function gO(e){const t=e.children||"",n=new mT;return typeof t=="string"&&(n.value=t),n}function bO(e,t){const n=t.allowedElements,a=t.allowElement,i=t.components,r=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||yO;for(const h of pO)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+uO+h.id,void 0);return cu(e,c),Dz(e,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(h,d,m){if(h.type==="raw"&&m&&typeof d=="number")return o?m.children.splice(d,1):m.children[d]={type:"text",value:h.value},d;if(h.type==="element"){let p;for(p in ym)if(Object.hasOwn(ym,p)&&Object.hasOwn(h.properties,p)){const b=h.properties[p],y=ym[p];(y===null||y.includes(h.tagName))&&(h.properties[p]=l(String(b||""),p,h))}}if(h.type==="element"){let p=n?!n.includes(h.tagName):r?r.includes(h.tagName):!1;if(!p&&a&&typeof d=="number"&&(p=!a(h,d,m)),p&&m&&typeof d=="number")return s&&h.children?m.children.splice(d,1,...h.children):m.children.splice(d,1),d}}}function yO(e){const t=e.indexOf(":"),n=e.indexOf("?"),a=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||a!==-1&&t>a||mO.test(e.slice(0,t))?e:""}function fv(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let a=0,i=n.indexOf(t);for(;i!==-1;)a++,i=n.indexOf(t,i+t.length);return a}function wO(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function vO(e,t,n){const i=pc((n||{}).ignore||[]),r=xO(t);let o=-1;for(;++o<r.length;)Vg(e,"text",s);function s(c,h){let d=-1,m;for(;++d<h.length;){const p=h[d],b=m?m.children:void 0;if(i(p,b?b.indexOf(p):void 0,m))return;m=p}if(m)return l(c,h)}function l(c,h){const d=h[h.length-1],m=r[o][0],p=r[o][1];let b=0;const T=d.children.indexOf(c);let g=!1,w=[];m.lastIndex=0;let x=m.exec(c.value);for(;x;){const _=x.index,C={index:x.index,input:x.input,stack:[...h,c]};let A=p(...x,C);if(typeof A=="string"&&(A=A.length>0?{type:"text",value:A}:void 0),A===!1?m.lastIndex=_+1:(b!==_&&w.push({type:"text",value:c.value.slice(b,_)}),Array.isArray(A)?w.push(...A):A&&w.push(A),b=_+x[0].length,g=!0),!m.global)break;x=m.exec(c.value)}return g?(b<c.value.length&&w.push({type:"text",value:c.value.slice(b)}),d.children.splice(T,1,...w)):w=[c],T+w.length}}function xO(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let a=-1;for(;++a<n.length;){const i=n[a];t.push([_O(i[0]),TO(i[1])])}return t}function _O(e){return typeof e=="string"?new RegExp(wO(e),"g"):e}function TO(e){return typeof e=="function"?e:function(){return e}}const Em="phrasing",Im=["autolink","link","image","label"];function kO(){return{transforms:[MO],enter:{literalAutolink:SO,literalAutolinkEmail:Nm,literalAutolinkHttp:Nm,literalAutolinkWww:Nm},exit:{literalAutolink:NO,literalAutolinkEmail:IO,literalAutolinkHttp:CO,literalAutolinkWww:EO}}}function AO(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Em,notInConstruct:Im},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Em,notInConstruct:Im},{character:":",before:"[ps]",after:"\\/",inConstruct:Em,notInConstruct:Im}]}}function SO(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Nm(e){this.config.enter.autolinkProtocol.call(this,e)}function CO(e){this.config.exit.autolinkProtocol.call(this,e)}function EO(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function IO(e){this.config.exit.autolinkEmail.call(this,e)}function NO(e){this.exit(e)}function MO(e){vO(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,zO],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),$O]],{ignore:["link","linkReference"]})}function zO(e,t,n,a,i){let r="";if(!pT(i)||(/^w/i.test(t)&&(n=t+n,t="",r="http://"),!RO(n)))return!1;const o=DO(n+a);if(!o[0])return!1;const s={type:"link",title:null,url:r+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function $O(e,t,n,a){return!pT(a,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function RO(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function DO(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],a=n.indexOf(")");const i=fv(e,"(");let r=fv(e,")");for(;a!==-1&&i>r;)e+=n.slice(0,a+1),n=n.slice(a+1),a=n.indexOf(")"),r++;return[e,n]}function pT(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Or(n)||ru(n))&&(!t||n!==47)}fT.peek=HO;function OO(){this.buffer()}function PO(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function LO(){this.buffer()}function BO(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function FO(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ua(this.sliceSerialize(e)).toLowerCase(),n.label=t}function jO(e){this.exit(e)}function UO(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ua(this.sliceSerialize(e)).toLowerCase(),n.label=t}function qO(e){this.exit(e)}function HO(){return"["}function fT(e,t,n,a){const i=n.createTracker(a);let r=i.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return r+=i.move(n.safe(n.associationId(e),{after:"]",before:r})),s(),o(),r+=i.move("]"),r}function WO(){return{enter:{gfmFootnoteCallString:OO,gfmFootnoteCall:PO,gfmFootnoteDefinitionLabelString:LO,gfmFootnoteDefinition:BO},exit:{gfmFootnoteCallString:FO,gfmFootnoteCall:jO,gfmFootnoteDefinitionLabelString:UO,gfmFootnoteDefinition:qO}}}function GO(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:fT},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(a,i,r,o){const s=r.createTracker(o);let l=s.move("[^");const c=r.enter("footnoteDefinition"),h=r.enter("label");return l+=s.move(r.safe(r.associationId(a),{before:l,after:"]"})),h(),l+=s.move("]:"),a.children&&a.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+r.indentLines(r.containerFlow(a,s.current()),t?gT:VO))),c(),l}}function VO(e,t,n){return t===0?e:gT(e,t,n)}function gT(e,t,n){return(n?"":"    ")+e}const XO=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];bT.peek=ZO;function YO(){return{canContainEols:["delete"],enter:{strikethrough:QO},exit:{strikethrough:JO}}}function KO(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:XO}],handlers:{delete:bT}}}function QO(e){this.enter({type:"delete",children:[]},e)}function JO(e){this.exit(e)}function bT(e,t,n,a){const i=n.createTracker(a),r=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),r(),o}function ZO(){return"~"}function eP(e){return e.length}function tP(e,t){const n=t||{},a=(n.align||[]).concat(),i=n.stringLength||eP,r=[],o=[],s=[],l=[];let c=0,h=-1;for(;++h<e.length;){const y=[],T=[];let g=-1;for(e[h].length>c&&(c=e[h].length);++g<e[h].length;){const w=nP(e[h][g]);if(n.alignDelimiters!==!1){const x=i(w);T[g]=x,(l[g]===void 0||x>l[g])&&(l[g]=x)}y.push(w)}o[h]=y,s[h]=T}let d=-1;if(typeof a=="object"&&"length"in a)for(;++d<c;)r[d]=gv(a[d]);else{const y=gv(a);for(;++d<c;)r[d]=y}d=-1;const m=[],p=[];for(;++d<c;){const y=r[d];let T="",g="";y===99?(T=":",g=":"):y===108?T=":":y===114&&(g=":");let w=n.alignDelimiters===!1?1:Math.max(1,l[d]-T.length-g.length);const x=T+"-".repeat(w)+g;n.alignDelimiters!==!1&&(w=T.length+w+g.length,w>l[d]&&(l[d]=w),p[d]=w),m[d]=x}o.splice(1,0,m),s.splice(1,0,p),h=-1;const b=[];for(;++h<o.length;){const y=o[h],T=s[h];d=-1;const g=[];for(;++d<c;){const w=y[d]||"";let x="",_="";if(n.alignDelimiters!==!1){const C=l[d]-(T[d]||0),A=r[d];A===114?x=" ".repeat(C):A===99?C%2?(x=" ".repeat(C/2+.5),_=" ".repeat(C/2-.5)):(x=" ".repeat(C/2),_=x):_=" ".repeat(C)}n.delimiterStart!==!1&&!d&&g.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||d)&&g.push(" "),n.alignDelimiters!==!1&&g.push(x),g.push(w),n.alignDelimiters!==!1&&g.push(_),n.padding!==!1&&g.push(" "),(n.delimiterEnd!==!1||d!==c-1)&&g.push("|")}b.push(n.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return b.join(`
`)}function nP(e){return e==null?"":String(e)}function gv(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function aP(e,t,n,a){const i=n.enter("blockquote"),r=n.createTracker(a);r.move("> "),r.shift(2);const o=n.indentLines(n.containerFlow(e,r.current()),iP);return i(),o}function iP(e,t,n){return">"+(n?"":" ")+e}function rP(e,t){return bv(e,t.inConstruct,!0)&&!bv(e,t.notInConstruct,!1)}function bv(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let a=-1;for(;++a<t.length;)if(e.includes(t[a]))return!0;return!1}function yv(e,t,n,a){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&rP(n.stack,n.unsafe[i]))return/[ \t]/.test(a.before)?"":" ";return`\\
`}function yT(e,t){const n=String(e);let a=n.indexOf(t),i=a,r=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;a!==-1;)a===i?++r>o&&(o=r):r=1,i=a+t.length,a=n.indexOf(t,i);return o}function oP(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function sP(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function lP(e,t,n,a){const i=sP(n),r=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(oP(e,n)){const d=n.enter("codeIndented"),m=n.indentLines(r,cP);return d(),m}const s=n.createTracker(a),l=i.repeat(Math.max(yT(r,i)+1,3)),c=n.enter("codeFenced");let h=s.move(l);if(e.lang){const d=n.enter(`codeFencedLang${o}`);h+=s.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...s.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);h+=s.move(" "),h+=s.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...s.current()})),d()}return h+=s.move(`
`),r&&(h+=s.move(r+`
`)),h+=s.move(l),c(),h}function cP(e,t,n){return(n?"":"    ")+e}function Yg(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function hP(e,t,n,a){const i=Yg(n),r=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(a);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${r}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),o(),c}function dP(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function jl(e){return"&#x"+e.toString(16).toUpperCase()+";"}function wd(e,t,n){const a=es(e),i=es(t);return a===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:a===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}wT.peek=uP;function wT(e,t,n,a){const i=dP(n),r=n.enter("emphasis"),o=n.createTracker(a),s=o.move(i);let l=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),h=wd(a.before.charCodeAt(a.before.length-1),c,i);h.inside&&(l=jl(c)+l.slice(1));const d=l.charCodeAt(l.length-1),m=wd(a.after.charCodeAt(0),d,i);m.inside&&(l=l.slice(0,-1)+jl(d));const p=o.move(i);return r(),n.attentionEncodeSurroundingInfo={after:m.outside,before:h.outside},s+l+p}function uP(e,t,n){return n.options.emphasis||"*"}function mP(e,t){let n=!1;return cu(e,function(a){if("value"in a&&/\r?\n|\r/.test(a.value)||a.type==="break")return n=!0,zf}),!!((!e.depth||e.depth<3)&&Fg(e)&&(t.options.setext||n))}function pP(e,t,n,a){const i=Math.max(Math.min(6,e.depth||1),1),r=n.createTracker(a);if(mP(e,n)){const h=n.enter("headingSetext"),d=n.enter("phrasing"),m=n.containerPhrasing(e,{...r.current(),before:`
`,after:`
`});return d(),h(),m+`
`+(i===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");r.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...r.current()});return/^[\t ]/.test(c)&&(c=jl(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),s(),c}vT.peek=fP;function vT(e){return e.value||""}function fP(){return"<"}xT.peek=gP;function xT(e,t,n,a){const i=Yg(n),r=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(a);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${r}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),o(),c}function gP(){return"!"}_T.peek=bP;function _T(e,t,n,a){const i=e.referenceType,r=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(a);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=h,r(),i==="full"||!c||c!==d?l+=s.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function bP(){return"!"}TT.peek=yP;function TT(e,t,n){let a=e.value||"",i="`",r=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(a);)i+="`";for(/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^`|`$/.test(a))&&(a=" "+a+" ");++r<n.unsafe.length;){const o=n.unsafe[r],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(a);){let c=l.index;a.charCodeAt(c)===10&&a.charCodeAt(c-1)===13&&c--,a=a.slice(0,c)+" "+a.slice(l.index+1)}}return i+a+i}function yP(){return"`"}function kT(e,t){const n=Fg(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}AT.peek=wP;function AT(e,t,n,a){const i=Yg(n),r=i==='"'?"Quote":"Apostrophe",o=n.createTracker(a);let s,l;if(kT(e,n)){const h=n.stack;n.stack=[],s=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),s(),n.stack=h,d}s=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${r}`),c+=o.move(" "+i),c+=o.move(n.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),s(),c}function wP(e,t,n){return kT(e,n)?"<":"["}ST.peek=vP;function ST(e,t,n,a){const i=e.referenceType,r=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(a);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=h,r(),i==="full"||!c||c!==d?l+=s.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function vP(){return"["}function Kg(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function xP(e){const t=Kg(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function _P(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function CT(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function TP(e,t,n,a){const i=n.enter("list"),r=n.bulletCurrent;let o=e.ordered?_P(n):Kg(n);const s=e.ordered?o==="."?")":".":xP(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),CT(n)===o&&h){let d=-1;for(;++d<e.children.length;){const m=e.children[d];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const c=n.containerFlow(e,a);return n.bulletLastUsed=o,n.bulletCurrent=r,i(),c}function kP(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function AP(e,t,n,a){const i=kP(n);let r=n.bulletCurrent||Kg(n);t&&t.type==="list"&&t.ordered&&(r=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+r);let o=r.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(a);s.move(r+" ".repeat(o-r.length)),s.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),h);return l(),c;function h(d,m,p){return m?(p?"":" ".repeat(o))+d:(p?r:r+" ".repeat(o-r.length))+d}}function SP(e,t,n,a){const i=n.enter("paragraph"),r=n.enter("phrasing"),o=n.containerPhrasing(e,a);return r(),i(),o}const CP=pc(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function EP(e,t,n,a){return(e.children.some(function(o){return CP(o)})?n.containerPhrasing:n.containerFlow).call(n,e,a)}function IP(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}ET.peek=NP;function ET(e,t,n,a){const i=IP(n),r=n.enter("strong"),o=n.createTracker(a),s=o.move(i+i);let l=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),h=wd(a.before.charCodeAt(a.before.length-1),c,i);h.inside&&(l=jl(c)+l.slice(1));const d=l.charCodeAt(l.length-1),m=wd(a.after.charCodeAt(0),d,i);m.inside&&(l=l.slice(0,-1)+jl(d));const p=o.move(i+i);return r(),n.attentionEncodeSurroundingInfo={after:m.outside,before:h.outside},s+l+p}function NP(e,t,n){return n.options.strong||"*"}function MP(e,t,n,a){return n.safe(e.value,a)}function zP(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function $P(e,t,n){const a=(CT(n)+(n.options.ruleSpaces?" ":"")).repeat(zP(n));return n.options.ruleSpaces?a.slice(0,-1):a}const IT={blockquote:aP,break:yv,code:lP,definition:hP,emphasis:wT,hardBreak:yv,heading:pP,html:vT,image:xT,imageReference:_T,inlineCode:TT,link:AT,linkReference:ST,list:TP,listItem:AP,paragraph:SP,root:EP,strong:ET,text:MP,thematicBreak:$P};function RP(){return{enter:{table:DP,tableData:wv,tableHeader:wv,tableRow:PP},exit:{codeText:LP,table:OP,tableData:Mm,tableHeader:Mm,tableRow:Mm}}}function DP(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function OP(e){this.exit(e),this.data.inTable=void 0}function PP(e){this.enter({type:"tableRow",children:[]},e)}function Mm(e){this.exit(e)}function wv(e){this.enter({type:"tableCell",children:[]},e)}function LP(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,BP));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function BP(e,t){return t==="|"?t:e}function FP(e){const t=e||{},n=t.tableCellPadding,a=t.tablePipeAlign,i=t.stringLength,r=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:o,tableCell:l,tableRow:s}};function o(p,b,y,T){return c(h(p,y,T),p.align)}function s(p,b,y,T){const g=d(p,y,T),w=c([g]);return w.slice(0,w.indexOf(`
`))}function l(p,b,y,T){const g=y.enter("tableCell"),w=y.enter("phrasing"),x=y.containerPhrasing(p,{...T,before:r,after:r});return w(),g(),x}function c(p,b){return tP(p,{align:b,alignDelimiters:a,padding:n,stringLength:i})}function h(p,b,y){const T=p.children;let g=-1;const w=[],x=b.enter("table");for(;++g<T.length;)w[g]=d(T[g],b,y);return x(),w}function d(p,b,y){const T=p.children;let g=-1;const w=[],x=b.enter("tableRow");for(;++g<T.length;)w[g]=l(T[g],p,b,y);return x(),w}function m(p,b,y){let T=IT.inlineCode(p,b,y);return y.stack.includes("tableCell")&&(T=T.replace(/\|/g,"\\$&")),T}}function jP(){return{exit:{taskListCheckValueChecked:vv,taskListCheckValueUnchecked:vv,paragraph:qP}}}function UP(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:HP}}}function vv(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function qP(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const a=n.children[0];if(a&&a.type==="text"){const i=t.children;let r=-1,o;for(;++r<i.length;){const s=i[r];if(s.type==="paragraph"){o=s;break}}o===n&&(a.value=a.value.slice(1),a.value.length===0?n.children.shift():n.position&&a.position&&typeof a.position.start.offset=="number"&&(a.position.start.column++,a.position.start.offset++,n.position.start=Object.assign({},a.position.start)))}}this.exit(e)}function HP(e,t,n,a){const i=e.children[0],r=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(a);r&&s.move(o);let l=IT.listItem(e,t,n,{...a,...s.current()});return r&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(h){return h+o}}function WP(){return[kO(),WO(),YO(),RP(),jP()]}function GP(e){return{extensions:[AO(),GO(e),KO(),FP(e),UP()]}}const VP={tokenize:ZP,partial:!0},NT={tokenize:eL,partial:!0},MT={tokenize:tL,partial:!0},zT={tokenize:nL,partial:!0},XP={tokenize:aL,partial:!0},$T={name:"wwwAutolink",tokenize:QP,previous:DT},RT={name:"protocolAutolink",tokenize:JP,previous:OT},hi={name:"emailAutolink",tokenize:KP,previous:PT},Ia={};function YP(){return{text:Ia}}let or=48;for(;or<123;)Ia[or]=hi,or++,or===58?or=65:or===91&&(or=97);Ia[43]=hi;Ia[45]=hi;Ia[46]=hi;Ia[95]=hi;Ia[72]=[hi,RT];Ia[104]=[hi,RT];Ia[87]=[hi,$T];Ia[119]=[hi,$T];function KP(e,t,n){const a=this;let i,r;return o;function o(d){return!Of(d)||!PT.call(a,a.previous)||Qg(a.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(d))}function s(d){return Of(d)?(e.consume(d),s):d===64?(e.consume(d),l):n(d)}function l(d){return d===46?e.check(XP,h,c)(d):d===45||d===95||Wt(d)?(r=!0,e.consume(d),l):h(d)}function c(d){return e.consume(d),i=!0,l}function h(d){return r&&i&&Qt(a.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function QP(e,t,n){const a=this;return i;function i(o){return o!==87&&o!==119||!DT.call(a,a.previous)||Qg(a.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(VP,e.attempt(NT,e.attempt(MT,r),n),n)(o))}function r(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function JP(e,t,n){const a=this;let i="",r=!1;return o;function o(d){return(d===72||d===104)&&OT.call(a,a.previous)&&!Qg(a.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),s):n(d)}function s(d){if(Qt(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),s;if(d===58){const m=i.toLowerCase();if(m==="http"||m==="https")return e.consume(d),l}return n(d)}function l(d){return d===47?(e.consume(d),r?c:(r=!0,l)):n(d)}function c(d){return d===null||gd(d)||Ye(d)||Or(d)||ru(d)?n(d):e.attempt(NT,e.attempt(MT,h),n)(d)}function h(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function ZP(e,t,n){let a=0;return i;function i(o){return(o===87||o===119)&&a<3?(a++,e.consume(o),i):o===46&&a===3?(e.consume(o),r):n(o)}function r(o){return o===null?n(o):t(o)}}function eL(e,t,n){let a,i,r;return o;function o(c){return c===46||c===95?e.check(zT,l,s)(c):c===null||Ye(c)||Or(c)||c!==45&&ru(c)?l(c):(r=!0,e.consume(c),o)}function s(c){return c===95?a=!0:(i=a,a=void 0),e.consume(c),o}function l(c){return i||a||!r?n(c):t(c)}}function tL(e,t){let n=0,a=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&a<n?r(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(zT,t,r)(o):o===null||Ye(o)||Or(o)?t(o):(e.consume(o),i)}function r(o){return o===41&&a++,e.consume(o),i}}function nL(e,t,n){return a;function a(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),a):s===38?(e.consume(s),r):s===93?(e.consume(s),i):s===60||s===null||Ye(s)||Or(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||Ye(s)||Or(s)?t(s):a(s)}function r(s){return Qt(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),a):Qt(s)?(e.consume(s),o):n(s)}}function aL(e,t,n){return a;function a(r){return e.consume(r),i}function i(r){return Wt(r)?n(r):t(r)}}function DT(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ye(e)}function OT(e){return!Qt(e)}function PT(e){return!(e===47||Of(e))}function Of(e){return e===43||e===45||e===46||e===95||Wt(e)}function Qg(e){let t=e.length,n=!1;for(;t--;){const a=e[t][1];if((a.type==="labelLink"||a.type==="labelImage")&&!a._balanced){n=!0;break}if(a._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const iL={tokenize:uL,partial:!0};function rL(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:cL,continuation:{tokenize:hL},exit:dL}},text:{91:{name:"gfmFootnoteCall",tokenize:lL},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:oL,resolveTo:sL}}}}function oL(e,t,n){const a=this;let i=a.events.length;const r=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let o;for(;i--;){const l=a.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const c=ua(a.sliceSerialize({start:o.end,end:a.now()}));return c.codePointAt(0)!==94||!r.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function sL(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const a={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const r={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},r.start),end:Object.assign({},r.end)},s=[e[n+1],e[n+2],["enter",a,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",r,t],["enter",o,t],["exit",o,t],["exit",r,t],e[e.length-2],e[e.length-1],["exit",a,t]];return e.splice(n,e.length-n+1,...s),e}function lL(e,t,n){const a=this,i=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let r=0,o;return s;function s(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(d){if(r>999||d===93&&!o||d===null||d===91||Ye(d))return n(d);if(d===93){e.exit("chunkString");const m=e.exit("gfmFootnoteCallString");return i.includes(ua(a.sliceSerialize(m)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return Ye(d)||(o=!0),r++,e.consume(d),d===92?h:c}function h(d){return d===91||d===92||d===93?(e.consume(d),r++,c):c(d)}}function cL(e,t,n){const a=this,i=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let r,o=0,s;return l;function l(b){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(b){return b===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(b)}function h(b){if(o>999||b===93&&!s||b===null||b===91||Ye(b))return n(b);if(b===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return r=ua(a.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),m}return Ye(b)||(s=!0),o++,e.consume(b),b===92?d:h}function d(b){return b===91||b===92||b===93?(e.consume(b),o++,h):h(b)}function m(b){return b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),i.includes(r)||i.push(r),Se(e,p,"gfmFootnoteDefinitionWhitespace")):n(b)}function p(b){return t(b)}}function hL(e,t,n){return e.check(mc,t,e.attempt(iL,t,n))}function dL(e){e.exit("gfmFootnoteDefinition")}function uL(e,t,n){const a=this;return Se(e,i,"gfmFootnoteDefinitionIndent",5);function i(r){const o=a.events[a.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(r):n(r)}}function mL(e){let n=(e||{}).singleTilde;const a={name:"strikethrough",tokenize:r,resolveAll:i};return n==null&&(n=!0),{text:{126:a},insideSpan:{null:[a]},attentionMarkers:{null:[126]}};function i(o,s){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},m=[["enter",h,s],["enter",o[c][1],s],["exit",o[c][1],s],["enter",d,s]],p=s.parser.constructs.insideSpan.null;p&&Nn(m,m.length,0,ou(p,o.slice(c+1,l),s)),Nn(m,m.length,0,[["exit",d,s],["enter",o[l][1],s],["exit",o[l][1],s],["exit",h,s]]),Nn(o,c-1,l-c+3,m),l=c+m.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function r(o,s,l){const c=this.previous,h=this.events;let d=0;return m;function m(b){return c===126&&h[h.length-1][1].type!=="characterEscape"?l(b):(o.enter("strikethroughSequenceTemporary"),p(b))}function p(b){const y=es(c);if(b===126)return d>1?l(b):(o.consume(b),d++,p);if(d<2&&!n)return l(b);const T=o.exit("strikethroughSequenceTemporary"),g=es(b);return T._open=!g||g===2&&!!y,T._close=!y||y===2&&!!g,s(b)}}}class pL{constructor(){this.map=[]}add(t,n,a){fL(this,t,n,a)}consume(t){if(this.map.sort(function(r,o){return r[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const a=[];for(;n>0;)n-=1,a.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];a.push(t.slice()),t.length=0;let i=a.pop();for(;i;){for(const r of i)t.push(r);i=a.pop()}this.map.length=0}}function fL(e,t,n,a){let i=0;if(!(n===0&&a.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...a);return}i+=1}e.map.push([t,n,a])}}function gL(e,t){let n=!1;const a=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&a.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const r=a.length-1;a[r]=a[r]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return a}function bL(){return{flow:{null:{name:"table",tokenize:yL,resolveAll:wL}}}}function yL(e,t,n){const a=this;let i=0,r=0,o;return s;function s(z){let F=a.events.length-1;for(;F>-1;){const G=a.events[F][1].type;if(G==="lineEnding"||G==="linePrefix")F--;else break}const H=F>-1?a.events[F][1].type:null,X=H==="tableHead"||H==="tableRow"?A:l;return X===A&&a.parser.lazy[a.now().line]?n(z):X(z)}function l(z){return e.enter("tableHead"),e.enter("tableRow"),c(z)}function c(z){return z===124||(o=!0,r+=1),h(z)}function h(z){return z===null?n(z):he(z)?r>1?(r=0,a.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),p):n(z):Ie(z)?Se(e,h,"whitespace")(z):(r+=1,o&&(o=!1,i+=1),z===124?(e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),o=!0,h):(e.enter("data"),d(z)))}function d(z){return z===null||z===124||Ye(z)?(e.exit("data"),h(z)):(e.consume(z),z===92?m:d)}function m(z){return z===92||z===124?(e.consume(z),d):d(z)}function p(z){return a.interrupt=!1,a.parser.lazy[a.now().line]?n(z):(e.enter("tableDelimiterRow"),o=!1,Ie(z)?Se(e,b,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):b(z))}function b(z){return z===45||z===58?T(z):z===124?(o=!0,e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),y):C(z)}function y(z){return Ie(z)?Se(e,T,"whitespace")(z):T(z)}function T(z){return z===58?(r+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(z),e.exit("tableDelimiterMarker"),g):z===45?(r+=1,g(z)):z===null||he(z)?_(z):C(z)}function g(z){return z===45?(e.enter("tableDelimiterFiller"),w(z)):C(z)}function w(z){return z===45?(e.consume(z),w):z===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(z),e.exit("tableDelimiterMarker"),x):(e.exit("tableDelimiterFiller"),x(z))}function x(z){return Ie(z)?Se(e,_,"whitespace")(z):_(z)}function _(z){return z===124?b(z):z===null||he(z)?!o||i!==r?C(z):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(z)):C(z)}function C(z){return n(z)}function A(z){return e.enter("tableRow"),M(z)}function M(z){return z===124?(e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),M):z===null||he(z)?(e.exit("tableRow"),t(z)):Ie(z)?Se(e,M,"whitespace")(z):(e.enter("data"),I(z))}function I(z){return z===null||z===124||Ye(z)?(e.exit("data"),M(z)):(e.consume(z),z===92?R:I)}function R(z){return z===92||z===124?(e.consume(z),I):I(z)}}function wL(e,t){let n=-1,a=!0,i=0,r=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,c,h,d;const m=new pL;for(;++n<e.length;){const p=e[n],b=p[1];p[0]==="enter"?b.type==="tableHead"?(s=!1,l!==0&&(xv(m,t,l,c,h),h=void 0,l=0),c={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},m.add(n,0,[["enter",c,t]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(a=!0,d=void 0,r=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,h={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},m.add(n,0,[["enter",h,t]])),i=b.type==="tableDelimiterRow"?2:h?3:1):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(a=!1,o[2]===0&&(r[1]!==0&&(o[0]=o[1],d=Hc(m,t,r,i,void 0,d),r=[0,0,0,0]),o[2]=n)):b.type==="tableCellDivider"&&(a?a=!1:(r[1]!==0&&(o[0]=o[1],d=Hc(m,t,r,i,void 0,d)),r=o,o=[r[1],n,0,0])):b.type==="tableHead"?(s=!0,l=n):b.type==="tableRow"||b.type==="tableDelimiterRow"?(l=n,r[1]!==0?(o[0]=o[1],d=Hc(m,t,r,i,n,d)):o[1]!==0&&(d=Hc(m,t,o,i,n,d)),i=0):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&xv(m,t,l,c,h),m.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=gL(t.events,n))}return e}function Hc(e,t,n,a,i,r){const o=a===1?"tableHeader":a===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(r.end=Object.assign({},so(t.events,n[0])),e.add(n[0],0,[["exit",r,t]]));const l=so(t.events,n[1]);if(r={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",r,t]]),n[2]!==0){const c=so(t.events,n[2]),h=so(t.events,n[3]),d={type:s,start:Object.assign({},c),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",d,t]]),a!==2){const m=t.events[n[2]],p=t.events[n[3]];if(m[1].end=Object.assign({},p[1].end),m[1].type="chunkText",m[1].contentType="text",n[3]>n[2]+1){const b=n[2]+1,y=n[3]-n[2]-1;e.add(b,y,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(r.end=Object.assign({},so(t.events,i)),e.add(i,0,[["exit",r,t]]),r=void 0),r}function xv(e,t,n,a,i){const r=[],o=so(t.events,n);i&&(i.end=Object.assign({},o),r.push(["exit",i,t])),a.end=Object.assign({},o),r.push(["exit",a,t]),e.add(n+1,0,r)}function so(e,t){const n=e[t],a=n[0]==="enter"?"start":"end";return n[1][a]}const vL={name:"tasklistCheck",tokenize:_L};function xL(){return{text:{91:vL}}}function _L(e,t,n){const a=this;return i;function i(l){return a.previous!==null||!a._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),r)}function r(l){return Ye(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return he(l)?t(l):Ie(l)?e.check({tokenize:TL},t,n)(l):n(l)}}function TL(e,t,n){return Se(e,a,"whitespace");function a(i){return i===null?n(i):t(i)}}function kL(e){return G5([YP(),rL(),mL(e),bL(),xL()])}const AL={};function _i(e){const t=this,n=e||AL,a=t.data(),i=a.micromarkExtensions||(a.micromarkExtensions=[]),r=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),o=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);i.push(kL(n)),r.push(WP()),o.push(GP(n))}function SL(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:r},exit:{mathFlow:i,mathFlowFence:a,mathFlowFenceMeta:n,mathFlowValue:s,mathText:o,mathTextData:s}};function e(l){const c={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[c]}},l)}function t(){this.buffer()}function n(){const l=this.resume(),c=this.stack[this.stack.length-1];c.type,c.meta=l}function a(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(l){const c=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),h=this.stack[this.stack.length-1];h.type,this.exit(l),h.value=c;const d=h.data.hChildren[0];d.type,d.tagName,d.children.push({type:"text",value:c}),this.data.mathFlowInside=void 0}function r(l){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},l),this.buffer()}function o(l){const c=this.resume(),h=this.stack[this.stack.length-1];h.type,this.exit(l),h.value=c,h.data.hChildren.push({type:"text",value:c})}function s(l){this.config.enter.data.call(this,l),this.config.exit.data.call(this,l)}}function CL(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),a.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:a}};function n(r,o,s,l){const c=r.value||"",h=s.createTracker(l),d="$".repeat(Math.max(yT(c,"$")+1,2)),m=s.enter("mathFlow");let p=h.move(d);if(r.meta){const b=s.enter("mathFlowMeta");p+=h.move(s.safe(r.meta,{after:`
`,before:p,encode:["$"],...h.current()})),b()}return p+=h.move(`
`),c&&(p+=h.move(c+`
`)),p+=h.move(d),m(),p}function a(r,o,s){let l=r.value||"",c=1;for(t||c++;new RegExp("(^|[^$])"+"\\$".repeat(c)+"([^$]|$)").test(l);)c++;const h="$".repeat(c);/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^\$|\$$/.test(l))&&(l=" "+l+" ");let d=-1;for(;++d<s.unsafe.length;){const m=s.unsafe[d];if(!m.atBreak)continue;const p=s.compilePattern(m);let b;for(;b=p.exec(l);){let y=b.index;l.codePointAt(y)===10&&l.codePointAt(y-1)===13&&y--,l=l.slice(0,y)+" "+l.slice(b.index+1)}}return h+l+h}function i(){return"$"}}const EL={tokenize:IL,concrete:!0,name:"mathFlow"},_v={tokenize:NL,partial:!0};function IL(e,t,n){const a=this,i=a.events[a.events.length-1],r=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let o=0;return s;function s(w){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),l(w)}function l(w){return w===36?(e.consume(w),o++,l):o<2?n(w):(e.exit("mathFlowFenceSequence"),Se(e,c,"whitespace")(w))}function c(w){return w===null||he(w)?d(w):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===null||he(w)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),d(w)):w===36?n(w):(e.consume(w),h)}function d(w){return e.exit("mathFlowFence"),a.interrupt?t(w):e.attempt(_v,m,T)(w)}function m(w){return e.attempt({tokenize:g,partial:!0},T,p)(w)}function p(w){return(r?Se(e,b,"linePrefix",r+1):b)(w)}function b(w){return w===null?T(w):he(w)?e.attempt(_v,m,T)(w):(e.enter("mathFlowValue"),y(w))}function y(w){return w===null||he(w)?(e.exit("mathFlowValue"),b(w)):(e.consume(w),y)}function T(w){return e.exit("mathFlow"),t(w)}function g(w,x,_){let C=0;return Se(w,A,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function A(R){return w.enter("mathFlowFence"),w.enter("mathFlowFenceSequence"),M(R)}function M(R){return R===36?(C++,w.consume(R),M):C<o?_(R):(w.exit("mathFlowFenceSequence"),Se(w,I,"whitespace")(R))}function I(R){return R===null||he(R)?(w.exit("mathFlowFence"),x(R)):_(R)}}}function NL(e,t,n){const a=this;return i;function i(o){return o===null?t(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),r)}function r(o){return a.parser.lazy[a.now().line]?n(o):t(o)}}function ML(e){let n=(e||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:a,resolve:zL,previous:$L,name:"mathText"};function a(i,r,o){let s=0,l,c;return h;function h(y){return i.enter("mathText"),i.enter("mathTextSequence"),d(y)}function d(y){return y===36?(i.consume(y),s++,d):s<2&&!n?o(y):(i.exit("mathTextSequence"),m(y))}function m(y){return y===null?o(y):y===36?(c=i.enter("mathTextSequence"),l=0,b(y)):y===32?(i.enter("space"),i.consume(y),i.exit("space"),m):he(y)?(i.enter("lineEnding"),i.consume(y),i.exit("lineEnding"),m):(i.enter("mathTextData"),p(y))}function p(y){return y===null||y===32||y===36||he(y)?(i.exit("mathTextData"),m(y)):(i.consume(y),p)}function b(y){return y===36?(i.consume(y),l++,b):l===s?(i.exit("mathTextSequence"),i.exit("mathText"),r(y)):(c.type="mathTextData",p(y))}}}function zL(e){let t=e.length-4,n=3,a,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(a=n;++a<t;)if(e[a][1].type==="mathTextData"){e[t][1].type="mathTextPadding",e[n][1].type="mathTextPadding",n+=2,t-=2;break}}for(a=n-1,t++;++a<=t;)i===void 0?a!==t&&e[a][1].type!=="lineEnding"&&(i=a):(a===t||e[a][1].type==="lineEnding")&&(e[i][1].type="mathTextData",a!==i+2&&(e[i][1].end=e[a-1][1].end,e.splice(i+2,a-i-2),t-=a-i-2,a=i+2),i=void 0);return e}function $L(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}function RL(e){return{flow:{36:EL},text:{36:ML(e)}}}class dn{constructor(t,n,a){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=a}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new dn(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}class Mn{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new Mn(n,dn.range(this,t))}}class Z{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var a="KaTeX parse error: "+t,i,r,o=n&&n.loc;if(o&&o.start<=o.end){var s=o.lexer.input;i=o.start,r=o.end,i===s.length?a+=" at end of input: ":a+=" at position "+(i+1)+": ";var l=s.slice(i,r).replace(/[^]/g,"$&"),c;i>15?c=""+s.slice(i-15,i):c=s.slice(0,i);var h;r+15<s.length?h=s.slice(r,r+15)+"":h=s.slice(r),a+=c+l+h}var d=new Error(a);return d.name="ParseError",d.__proto__=Z.prototype,d.position=i,i!=null&&r!=null&&(d.length=r-i),d.rawMessage=t,d}}Z.prototype.__proto__=Error.prototype;var DL=function(t,n){return t===void 0?n:t},OL=/([A-Z])/g,PL=function(t){return t.replace(OL,"-$1").toLowerCase()},LL={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},BL=/[&><"']/g;function FL(e){return String(e).replace(BL,t=>LL[t])}var LT=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},jL=function(t){var n=LT(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},UL=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},qL=function(t){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Oe={deflt:DL,escape:FL,hyphenate:PL,getBaseElem:LT,isCharacterBox:jL,protocolFromUrl:qL},Mh={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function HL(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}let Jg=class{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in Mh)if(Mh.hasOwnProperty(n)){var a=Mh[n];this[n]=t[n]!==void 0?a.processor?a.processor(t[n]):t[n]:HL(a)}}reportNonstrict(t,n,a){var i=this.strict;if(typeof i=="function"&&(i=i(t,n,a)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Z("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),a);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,a){var i=this.strict;if(typeof i=="function")try{i=i(t,n,a)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var n=Oe.protocolFromUrl(t.url);if(n==null)return!1;t.protocol=n}var a=typeof this.trust=="function"?this.trust(t):this.trust;return!!a}};class pi{constructor(t,n,a){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=a}sup(){return ba[WL[this.id]]}sub(){return ba[GL[this.id]]}fracNum(){return ba[VL[this.id]]}fracDen(){return ba[XL[this.id]]}cramp(){return ba[YL[this.id]]}text(){return ba[KL[this.id]]}isTight(){return this.size>=2}}var Zg=0,vd=1,Bo=2,Ja=3,Ul=4,Yn=5,ts=6,en=7,ba=[new pi(Zg,0,!1),new pi(vd,0,!0),new pi(Bo,1,!1),new pi(Ja,1,!0),new pi(Ul,2,!1),new pi(Yn,2,!0),new pi(ts,3,!1),new pi(en,3,!0)],WL=[Ul,Yn,Ul,Yn,ts,en,ts,en],GL=[Yn,Yn,Yn,Yn,en,en,en,en],VL=[Bo,Ja,Ul,Yn,ts,en,ts,en],XL=[Ja,Ja,Yn,Yn,en,en,en,en],YL=[vd,vd,Ja,Ja,Yn,Yn,en,en],KL=[Zg,vd,Bo,Ja,Bo,Ja,Bo,Ja],me={DISPLAY:ba[Zg],TEXT:ba[Bo],SCRIPT:ba[Ul],SCRIPTSCRIPT:ba[ts]},Pf=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function QL(e){for(var t=0;t<Pf.length;t++)for(var n=Pf[t],a=0;a<n.blocks.length;a++){var i=n.blocks[a];if(e>=i[0]&&e<=i[1])return n.name}return null}var zh=[];Pf.forEach(e=>e.blocks.forEach(t=>zh.push(...t)));function BT(e){for(var t=0;t<zh.length;t+=2)if(e>=zh[t]&&e<=zh[t+1])return!0;return!1}var to=80,JL=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},ZL=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},eB=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},tB=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},nB=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},aB=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},iB=function(t,n,a){var i=a-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},rB=function(t,n,a){n=1e3*n;var i="";switch(t){case"sqrtMain":i=JL(n,to);break;case"sqrtSize1":i=ZL(n,to);break;case"sqrtSize2":i=eB(n,to);break;case"sqrtSize3":i=tB(n,to);break;case"sqrtSize4":i=nB(n,to);break;case"sqrtTall":i=iB(n,to,a)}return i},oB=function(t,n){switch(t){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},Tv={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},sB=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class gc{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return this.classes.includes(t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}}var xa={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Wc={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},kv={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function lB(e,t){xa[e]=t}function e1(e,t,n){if(!xa[t])throw new Error("Font metrics not found for font: "+t+".");var a=e.charCodeAt(0),i=xa[t][a];if(!i&&e[0]in kv&&(a=kv[e[0]].charCodeAt(0),i=xa[t][a]),!i&&n==="text"&&BT(a)&&(i=xa[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var zm={};function cB(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!zm[t]){var n=zm[t]={cssEmPerMu:Wc.quad[t]/18};for(var a in Wc)Wc.hasOwnProperty(a)&&(n[a]=Wc[a][t])}return zm[t]}var hB=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Av=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Sv=function(t,n){return n.size<2?t:hB[t-1][n.size-1]};class Ha{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Ha.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=Av[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var a in t)t.hasOwnProperty(a)&&(n[a]=t[a]);return new Ha(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:Sv(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:Av[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=Sv(Ha.BASESIZE,t);return this.size===n&&this.textSize===Ha.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ha.BASESIZE?["sizing","reset-size"+this.size,"size"+Ha.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=cB(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ha.BASESIZE=6;var Lf={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},dB={ex:!0,em:!0,mu:!0},FT=function(t){return typeof t!="string"&&(t=t.unit),t in Lf||t in dB||t==="ex"},ht=function(t,n){var a;if(t.unit in Lf)a=Lf[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")a=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,t.unit==="ex")a=i.fontMetrics().xHeight;else if(t.unit==="em")a=i.fontMetrics().quad;else throw new Z("Invalid unit: '"+t.unit+"'");i!==n&&(a*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*a,n.maxSize)},ae=function(t){return+t.toFixed(4)+"em"},Xi=function(t){return t.filter(n=>n).join(" ")},jT=function(t,n,a){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=a||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},UT=function(t){var n=document.createElement(t);n.className=Xi(this.classes);for(var a in this.style)this.style.hasOwnProperty(a)&&(n.style[a]=this.style[a]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var r=0;r<this.children.length;r++)n.appendChild(this.children[r].toNode());return n},uB=/[\s"'>/=\x00-\x1f]/,qT=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+Oe.escape(Xi(this.classes))+'"');var a="";for(var i in this.style)this.style.hasOwnProperty(i)&&(a+=Oe.hyphenate(i)+":"+this.style[i]+";");a&&(n+=' style="'+Oe.escape(a)+'"');for(var r in this.attributes)if(this.attributes.hasOwnProperty(r)){if(uB.test(r))throw new Z("Invalid attribute name '"+r+"'");n+=" "+r+'="'+Oe.escape(this.attributes[r])+'"'}n+=">";for(var o=0;o<this.children.length;o++)n+=this.children[o].toMarkup();return n+="</"+t+">",n};class bc{constructor(t,n,a,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,jT.call(this,t,a,i),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return this.classes.includes(t)}toNode(){return UT.call(this,"span")}toMarkup(){return qT.call(this,"span")}}class t1{constructor(t,n,a,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,jT.call(this,n,i),this.children=a||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return this.classes.includes(t)}toNode(){return UT.call(this,"a")}toMarkup(){return qT.call(this,"a")}}class mB{constructor(t,n,a){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=a}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t='<img src="'+Oe.escape(this.src)+'"'+(' alt="'+Oe.escape(this.alt)+'"'),n="";for(var a in this.style)this.style.hasOwnProperty(a)&&(n+=Oe.hyphenate(a)+":"+this.style[a]+";");return n&&(t+=' style="'+Oe.escape(n)+'"'),t+="'/>",t}}var pB={:"",:"",:"",:""};class ea{constructor(t,n,a,i,r,o,s,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=a||0,this.italic=i||0,this.skew=r||0,this.width=o||0,this.classes=s||[],this.style=l||{},this.maxFontSize=0;var c=QL(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[]/.test(this.text)&&(this.text=pB[this.text])}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=ae(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Xi(this.classes));for(var a in this.style)this.style.hasOwnProperty(a)&&(n=n||document.createElement("span"),n.style[a]=this.style[a]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=Oe.escape(Xi(this.classes)),n+='"');var a="";this.italic>0&&(a+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(a+=Oe.hyphenate(i)+":"+this.style[i]+";");a&&(t=!0,n+=' style="'+Oe.escape(a)+'"');var r=Oe.escape(this.text);return t?(n+=">",n+=r,n+="</span>",n):r}}class oi{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&n.setAttribute(a,this.attributes[a]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+Oe.escape(this.attributes[n])+'"');t+=">";for(var a=0;a<this.children.length;a++)t+=this.children[a].toMarkup();return t+="</svg>",t}}class Yi{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",Tv[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Oe.escape(this.alternate)+'"/>':'<path d="'+Oe.escape(Tv[this.pathName])+'"/>'}}class Bf{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&n.setAttribute(a,this.attributes[a]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+Oe.escape(this.attributes[n])+'"');return t+="/>",t}}function Cv(e){if(e instanceof ea)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function fB(e){if(e instanceof bc)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var gB={bin:1,close:1,inner:1,open:1,punct:1,rel:1},bB={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},et={math:{},text:{}};function f(e,t,n,a,i,r){et[e][i]={font:t,group:n,replace:a},r&&a&&(et[e][a]=et[e][i])}var v="math",Q="text",k="main",D="ams",lt="accent-token",se="bin",nn="close",ys="inner",ue="mathord",Mt="op-token",Rn="open",hu="punct",P="rel",di="spacing",U="textord";f(v,k,P,"","\\equiv",!0);f(v,k,P,"","\\prec",!0);f(v,k,P,"","\\succ",!0);f(v,k,P,"","\\sim",!0);f(v,k,P,"","\\perp");f(v,k,P,"","\\preceq",!0);f(v,k,P,"","\\succeq",!0);f(v,k,P,"","\\simeq",!0);f(v,k,P,"","\\mid",!0);f(v,k,P,"","\\ll",!0);f(v,k,P,"","\\gg",!0);f(v,k,P,"","\\asymp",!0);f(v,k,P,"","\\parallel");f(v,k,P,"","\\bowtie",!0);f(v,k,P,"","\\smile",!0);f(v,k,P,"","\\sqsubseteq",!0);f(v,k,P,"","\\sqsupseteq",!0);f(v,k,P,"","\\doteq",!0);f(v,k,P,"","\\frown",!0);f(v,k,P,"","\\ni",!0);f(v,k,P,"","\\propto",!0);f(v,k,P,"","\\vdash",!0);f(v,k,P,"","\\dashv",!0);f(v,k,P,"","\\owns");f(v,k,hu,".","\\ldotp");f(v,k,hu,"","\\cdotp");f(v,k,U,"#","\\#");f(Q,k,U,"#","\\#");f(v,k,U,"&","\\&");f(Q,k,U,"&","\\&");f(v,k,U,"","\\aleph",!0);f(v,k,U,"","\\forall",!0);f(v,k,U,"","\\hbar",!0);f(v,k,U,"","\\exists",!0);f(v,k,U,"","\\nabla",!0);f(v,k,U,"","\\flat",!0);f(v,k,U,"","\\ell",!0);f(v,k,U,"","\\natural",!0);f(v,k,U,"","\\clubsuit",!0);f(v,k,U,"","\\wp",!0);f(v,k,U,"","\\sharp",!0);f(v,k,U,"","\\diamondsuit",!0);f(v,k,U,"","\\Re",!0);f(v,k,U,"","\\heartsuit",!0);f(v,k,U,"","\\Im",!0);f(v,k,U,"","\\spadesuit",!0);f(v,k,U,"","\\S",!0);f(Q,k,U,"","\\S");f(v,k,U,"","\\P",!0);f(Q,k,U,"","\\P");f(v,k,U,"","\\dag");f(Q,k,U,"","\\dag");f(Q,k,U,"","\\textdagger");f(v,k,U,"","\\ddag");f(Q,k,U,"","\\ddag");f(Q,k,U,"","\\textdaggerdbl");f(v,k,nn,"","\\rmoustache",!0);f(v,k,Rn,"","\\lmoustache",!0);f(v,k,nn,"","\\rgroup",!0);f(v,k,Rn,"","\\lgroup",!0);f(v,k,se,"","\\mp",!0);f(v,k,se,"","\\ominus",!0);f(v,k,se,"","\\uplus",!0);f(v,k,se,"","\\sqcap",!0);f(v,k,se,"","\\ast");f(v,k,se,"","\\sqcup",!0);f(v,k,se,"","\\bigcirc",!0);f(v,k,se,"","\\bullet",!0);f(v,k,se,"","\\ddagger");f(v,k,se,"","\\wr",!0);f(v,k,se,"","\\amalg");f(v,k,se,"&","\\And");f(v,k,P,"","\\longleftarrow",!0);f(v,k,P,"","\\Leftarrow",!0);f(v,k,P,"","\\Longleftarrow",!0);f(v,k,P,"","\\longrightarrow",!0);f(v,k,P,"","\\Rightarrow",!0);f(v,k,P,"","\\Longrightarrow",!0);f(v,k,P,"","\\leftrightarrow",!0);f(v,k,P,"","\\longleftrightarrow",!0);f(v,k,P,"","\\Leftrightarrow",!0);f(v,k,P,"","\\Longleftrightarrow",!0);f(v,k,P,"","\\mapsto",!0);f(v,k,P,"","\\longmapsto",!0);f(v,k,P,"","\\nearrow",!0);f(v,k,P,"","\\hookleftarrow",!0);f(v,k,P,"","\\hookrightarrow",!0);f(v,k,P,"","\\searrow",!0);f(v,k,P,"","\\leftharpoonup",!0);f(v,k,P,"","\\rightharpoonup",!0);f(v,k,P,"","\\swarrow",!0);f(v,k,P,"","\\leftharpoondown",!0);f(v,k,P,"","\\rightharpoondown",!0);f(v,k,P,"","\\nwarrow",!0);f(v,k,P,"","\\rightleftharpoons",!0);f(v,D,P,"","\\nless",!0);f(v,D,P,"","\\@nleqslant");f(v,D,P,"","\\@nleqq");f(v,D,P,"","\\lneq",!0);f(v,D,P,"","\\lneqq",!0);f(v,D,P,"","\\@lvertneqq");f(v,D,P,"","\\lnsim",!0);f(v,D,P,"","\\lnapprox",!0);f(v,D,P,"","\\nprec",!0);f(v,D,P,"","\\npreceq",!0);f(v,D,P,"","\\precnsim",!0);f(v,D,P,"","\\precnapprox",!0);f(v,D,P,"","\\nsim",!0);f(v,D,P,"","\\@nshortmid");f(v,D,P,"","\\nmid",!0);f(v,D,P,"","\\nvdash",!0);f(v,D,P,"","\\nvDash",!0);f(v,D,P,"","\\ntriangleleft");f(v,D,P,"","\\ntrianglelefteq",!0);f(v,D,P,"","\\subsetneq",!0);f(v,D,P,"","\\@varsubsetneq");f(v,D,P,"","\\subsetneqq",!0);f(v,D,P,"","\\@varsubsetneqq");f(v,D,P,"","\\ngtr",!0);f(v,D,P,"","\\@ngeqslant");f(v,D,P,"","\\@ngeqq");f(v,D,P,"","\\gneq",!0);f(v,D,P,"","\\gneqq",!0);f(v,D,P,"","\\@gvertneqq");f(v,D,P,"","\\gnsim",!0);f(v,D,P,"","\\gnapprox",!0);f(v,D,P,"","\\nsucc",!0);f(v,D,P,"","\\nsucceq",!0);f(v,D,P,"","\\succnsim",!0);f(v,D,P,"","\\succnapprox",!0);f(v,D,P,"","\\ncong",!0);f(v,D,P,"","\\@nshortparallel");f(v,D,P,"","\\nparallel",!0);f(v,D,P,"","\\nVDash",!0);f(v,D,P,"","\\ntriangleright");f(v,D,P,"","\\ntrianglerighteq",!0);f(v,D,P,"","\\@nsupseteqq");f(v,D,P,"","\\supsetneq",!0);f(v,D,P,"","\\@varsupsetneq");f(v,D,P,"","\\supsetneqq",!0);f(v,D,P,"","\\@varsupsetneqq");f(v,D,P,"","\\nVdash",!0);f(v,D,P,"","\\precneqq",!0);f(v,D,P,"","\\succneqq",!0);f(v,D,P,"","\\@nsubseteqq");f(v,D,se,"","\\unlhd");f(v,D,se,"","\\unrhd");f(v,D,P,"","\\nleftarrow",!0);f(v,D,P,"","\\nrightarrow",!0);f(v,D,P,"","\\nLeftarrow",!0);f(v,D,P,"","\\nRightarrow",!0);f(v,D,P,"","\\nleftrightarrow",!0);f(v,D,P,"","\\nLeftrightarrow",!0);f(v,D,P,"","\\vartriangle");f(v,D,U,"","\\hslash");f(v,D,U,"","\\triangledown");f(v,D,U,"","\\lozenge");f(v,D,U,"","\\circledS");f(v,D,U,"","\\circledR");f(Q,D,U,"","\\circledR");f(v,D,U,"","\\measuredangle",!0);f(v,D,U,"","\\nexists");f(v,D,U,"","\\mho");f(v,D,U,"","\\Finv",!0);f(v,D,U,"","\\Game",!0);f(v,D,U,"","\\backprime");f(v,D,U,"","\\blacktriangle");f(v,D,U,"","\\blacktriangledown");f(v,D,U,"","\\blacksquare");f(v,D,U,"","\\blacklozenge");f(v,D,U,"","\\bigstar");f(v,D,U,"","\\sphericalangle",!0);f(v,D,U,"","\\complement",!0);f(v,D,U,"","\\eth",!0);f(Q,k,U,"","");f(v,D,U,"","\\diagup");f(v,D,U,"","\\diagdown");f(v,D,U,"","\\square");f(v,D,U,"","\\Box");f(v,D,U,"","\\Diamond");f(v,D,U,"","\\yen",!0);f(Q,D,U,"","\\yen",!0);f(v,D,U,"","\\checkmark",!0);f(Q,D,U,"","\\checkmark");f(v,D,U,"","\\beth",!0);f(v,D,U,"","\\daleth",!0);f(v,D,U,"","\\gimel",!0);f(v,D,U,"","\\digamma",!0);f(v,D,U,"","\\varkappa");f(v,D,Rn,"","\\@ulcorner",!0);f(v,D,nn,"","\\@urcorner",!0);f(v,D,Rn,"","\\@llcorner",!0);f(v,D,nn,"","\\@lrcorner",!0);f(v,D,P,"","\\leqq",!0);f(v,D,P,"","\\leqslant",!0);f(v,D,P,"","\\eqslantless",!0);f(v,D,P,"","\\lesssim",!0);f(v,D,P,"","\\lessapprox",!0);f(v,D,P,"","\\approxeq",!0);f(v,D,se,"","\\lessdot");f(v,D,P,"","\\lll",!0);f(v,D,P,"","\\lessgtr",!0);f(v,D,P,"","\\lesseqgtr",!0);f(v,D,P,"","\\lesseqqgtr",!0);f(v,D,P,"","\\doteqdot");f(v,D,P,"","\\risingdotseq",!0);f(v,D,P,"","\\fallingdotseq",!0);f(v,D,P,"","\\backsim",!0);f(v,D,P,"","\\backsimeq",!0);f(v,D,P,"","\\subseteqq",!0);f(v,D,P,"","\\Subset",!0);f(v,D,P,"","\\sqsubset",!0);f(v,D,P,"","\\preccurlyeq",!0);f(v,D,P,"","\\curlyeqprec",!0);f(v,D,P,"","\\precsim",!0);f(v,D,P,"","\\precapprox",!0);f(v,D,P,"","\\vartriangleleft");f(v,D,P,"","\\trianglelefteq");f(v,D,P,"","\\vDash",!0);f(v,D,P,"","\\Vvdash",!0);f(v,D,P,"","\\smallsmile");f(v,D,P,"","\\smallfrown");f(v,D,P,"","\\bumpeq",!0);f(v,D,P,"","\\Bumpeq",!0);f(v,D,P,"","\\geqq",!0);f(v,D,P,"","\\geqslant",!0);f(v,D,P,"","\\eqslantgtr",!0);f(v,D,P,"","\\gtrsim",!0);f(v,D,P,"","\\gtrapprox",!0);f(v,D,se,"","\\gtrdot");f(v,D,P,"","\\ggg",!0);f(v,D,P,"","\\gtrless",!0);f(v,D,P,"","\\gtreqless",!0);f(v,D,P,"","\\gtreqqless",!0);f(v,D,P,"","\\eqcirc",!0);f(v,D,P,"","\\circeq",!0);f(v,D,P,"","\\triangleq",!0);f(v,D,P,"","\\thicksim");f(v,D,P,"","\\thickapprox");f(v,D,P,"","\\supseteqq",!0);f(v,D,P,"","\\Supset",!0);f(v,D,P,"","\\sqsupset",!0);f(v,D,P,"","\\succcurlyeq",!0);f(v,D,P,"","\\curlyeqsucc",!0);f(v,D,P,"","\\succsim",!0);f(v,D,P,"","\\succapprox",!0);f(v,D,P,"","\\vartriangleright");f(v,D,P,"","\\trianglerighteq");f(v,D,P,"","\\Vdash",!0);f(v,D,P,"","\\shortmid");f(v,D,P,"","\\shortparallel");f(v,D,P,"","\\between",!0);f(v,D,P,"","\\pitchfork",!0);f(v,D,P,"","\\varpropto");f(v,D,P,"","\\blacktriangleleft");f(v,D,P,"","\\therefore",!0);f(v,D,P,"","\\backepsilon");f(v,D,P,"","\\blacktriangleright");f(v,D,P,"","\\because",!0);f(v,D,P,"","\\llless");f(v,D,P,"","\\gggtr");f(v,D,se,"","\\lhd");f(v,D,se,"","\\rhd");f(v,D,P,"","\\eqsim",!0);f(v,k,P,"","\\Join");f(v,D,P,"","\\Doteq",!0);f(v,D,se,"","\\dotplus",!0);f(v,D,se,"","\\smallsetminus");f(v,D,se,"","\\Cap",!0);f(v,D,se,"","\\Cup",!0);f(v,D,se,"","\\doublebarwedge",!0);f(v,D,se,"","\\boxminus",!0);f(v,D,se,"","\\boxplus",!0);f(v,D,se,"","\\divideontimes",!0);f(v,D,se,"","\\ltimes",!0);f(v,D,se,"","\\rtimes",!0);f(v,D,se,"","\\leftthreetimes",!0);f(v,D,se,"","\\rightthreetimes",!0);f(v,D,se,"","\\curlywedge",!0);f(v,D,se,"","\\curlyvee",!0);f(v,D,se,"","\\circleddash",!0);f(v,D,se,"","\\circledast",!0);f(v,D,se,"","\\centerdot");f(v,D,se,"","\\intercal",!0);f(v,D,se,"","\\doublecap");f(v,D,se,"","\\doublecup");f(v,D,se,"","\\boxtimes",!0);f(v,D,P,"","\\dashrightarrow",!0);f(v,D,P,"","\\dashleftarrow",!0);f(v,D,P,"","\\leftleftarrows",!0);f(v,D,P,"","\\leftrightarrows",!0);f(v,D,P,"","\\Lleftarrow",!0);f(v,D,P,"","\\twoheadleftarrow",!0);f(v,D,P,"","\\leftarrowtail",!0);f(v,D,P,"","\\looparrowleft",!0);f(v,D,P,"","\\leftrightharpoons",!0);f(v,D,P,"","\\curvearrowleft",!0);f(v,D,P,"","\\circlearrowleft",!0);f(v,D,P,"","\\Lsh",!0);f(v,D,P,"","\\upuparrows",!0);f(v,D,P,"","\\upharpoonleft",!0);f(v,D,P,"","\\downharpoonleft",!0);f(v,k,P,"","\\origof",!0);f(v,k,P,"","\\imageof",!0);f(v,D,P,"","\\multimap",!0);f(v,D,P,"","\\leftrightsquigarrow",!0);f(v,D,P,"","\\rightrightarrows",!0);f(v,D,P,"","\\rightleftarrows",!0);f(v,D,P,"","\\twoheadrightarrow",!0);f(v,D,P,"","\\rightarrowtail",!0);f(v,D,P,"","\\looparrowright",!0);f(v,D,P,"","\\curvearrowright",!0);f(v,D,P,"","\\circlearrowright",!0);f(v,D,P,"","\\Rsh",!0);f(v,D,P,"","\\downdownarrows",!0);f(v,D,P,"","\\upharpoonright",!0);f(v,D,P,"","\\downharpoonright",!0);f(v,D,P,"","\\rightsquigarrow",!0);f(v,D,P,"","\\leadsto");f(v,D,P,"","\\Rrightarrow",!0);f(v,D,P,"","\\restriction");f(v,k,U,"","`");f(v,k,U,"$","\\$");f(Q,k,U,"$","\\$");f(Q,k,U,"$","\\textdollar");f(v,k,U,"%","\\%");f(Q,k,U,"%","\\%");f(v,k,U,"_","\\_");f(Q,k,U,"_","\\_");f(Q,k,U,"_","\\textunderscore");f(v,k,U,"","\\angle",!0);f(v,k,U,"","\\infty",!0);f(v,k,U,"","\\prime");f(v,k,U,"","\\triangle");f(v,k,U,"","\\Gamma",!0);f(v,k,U,"","\\Delta",!0);f(v,k,U,"","\\Theta",!0);f(v,k,U,"","\\Lambda",!0);f(v,k,U,"","\\Xi",!0);f(v,k,U,"","\\Pi",!0);f(v,k,U,"","\\Sigma",!0);f(v,k,U,"","\\Upsilon",!0);f(v,k,U,"","\\Phi",!0);f(v,k,U,"","\\Psi",!0);f(v,k,U,"","\\Omega",!0);f(v,k,U,"A","");f(v,k,U,"B","");f(v,k,U,"E","");f(v,k,U,"Z","");f(v,k,U,"H","");f(v,k,U,"I","");f(v,k,U,"K","");f(v,k,U,"M","");f(v,k,U,"N","");f(v,k,U,"O","");f(v,k,U,"P","");f(v,k,U,"T","");f(v,k,U,"X","");f(v,k,U,"","\\neg",!0);f(v,k,U,"","\\lnot");f(v,k,U,"","\\top");f(v,k,U,"","\\bot");f(v,k,U,"","\\emptyset");f(v,D,U,"","\\varnothing");f(v,k,ue,"","\\alpha",!0);f(v,k,ue,"","\\beta",!0);f(v,k,ue,"","\\gamma",!0);f(v,k,ue,"","\\delta",!0);f(v,k,ue,"","\\epsilon",!0);f(v,k,ue,"","\\zeta",!0);f(v,k,ue,"","\\eta",!0);f(v,k,ue,"","\\theta",!0);f(v,k,ue,"","\\iota",!0);f(v,k,ue,"","\\kappa",!0);f(v,k,ue,"","\\lambda",!0);f(v,k,ue,"","\\mu",!0);f(v,k,ue,"","\\nu",!0);f(v,k,ue,"","\\xi",!0);f(v,k,ue,"","\\omicron",!0);f(v,k,ue,"","\\pi",!0);f(v,k,ue,"","\\rho",!0);f(v,k,ue,"","\\sigma",!0);f(v,k,ue,"","\\tau",!0);f(v,k,ue,"","\\upsilon",!0);f(v,k,ue,"","\\phi",!0);f(v,k,ue,"","\\chi",!0);f(v,k,ue,"","\\psi",!0);f(v,k,ue,"","\\omega",!0);f(v,k,ue,"","\\varepsilon",!0);f(v,k,ue,"","\\vartheta",!0);f(v,k,ue,"","\\varpi",!0);f(v,k,ue,"","\\varrho",!0);f(v,k,ue,"","\\varsigma",!0);f(v,k,ue,"","\\varphi",!0);f(v,k,se,"","*",!0);f(v,k,se,"+","+");f(v,k,se,"","-",!0);f(v,k,se,"","\\cdot",!0);f(v,k,se,"","\\circ",!0);f(v,k,se,"","\\div",!0);f(v,k,se,"","\\pm",!0);f(v,k,se,"","\\times",!0);f(v,k,se,"","\\cap",!0);f(v,k,se,"","\\cup",!0);f(v,k,se,"","\\setminus",!0);f(v,k,se,"","\\land");f(v,k,se,"","\\lor");f(v,k,se,"","\\wedge",!0);f(v,k,se,"","\\vee",!0);f(v,k,U,"","\\surd");f(v,k,Rn,"","\\langle",!0);f(v,k,Rn,"","\\lvert");f(v,k,Rn,"","\\lVert");f(v,k,nn,"?","?");f(v,k,nn,"!","!");f(v,k,nn,"","\\rangle",!0);f(v,k,nn,"","\\rvert");f(v,k,nn,"","\\rVert");f(v,k,P,"=","=");f(v,k,P,":",":");f(v,k,P,"","\\approx",!0);f(v,k,P,"","\\cong",!0);f(v,k,P,"","\\ge");f(v,k,P,"","\\geq",!0);f(v,k,P,"","\\gets");f(v,k,P,">","\\gt",!0);f(v,k,P,"","\\in",!0);f(v,k,P,"","\\@not");f(v,k,P,"","\\subset",!0);f(v,k,P,"","\\supset",!0);f(v,k,P,"","\\subseteq",!0);f(v,k,P,"","\\supseteq",!0);f(v,D,P,"","\\nsubseteq",!0);f(v,D,P,"","\\nsupseteq",!0);f(v,k,P,"","\\models");f(v,k,P,"","\\leftarrow",!0);f(v,k,P,"","\\le");f(v,k,P,"","\\leq",!0);f(v,k,P,"<","\\lt",!0);f(v,k,P,"","\\rightarrow",!0);f(v,k,P,"","\\to");f(v,D,P,"","\\ngeq",!0);f(v,D,P,"","\\nleq",!0);f(v,k,di,"","\\ ");f(v,k,di,"","\\space");f(v,k,di,"","\\nobreakspace");f(Q,k,di,"","\\ ");f(Q,k,di,""," ");f(Q,k,di,"","\\space");f(Q,k,di,"","\\nobreakspace");f(v,k,di,null,"\\nobreak");f(v,k,di,null,"\\allowbreak");f(v,k,hu,",",",");f(v,k,hu,";",";");f(v,D,se,"","\\barwedge",!0);f(v,D,se,"","\\veebar",!0);f(v,k,se,"","\\odot",!0);f(v,k,se,"","\\oplus",!0);f(v,k,se,"","\\otimes",!0);f(v,k,U,"","\\partial",!0);f(v,k,se,"","\\oslash",!0);f(v,D,se,"","\\circledcirc",!0);f(v,D,se,"","\\boxdot",!0);f(v,k,se,"","\\bigtriangleup");f(v,k,se,"","\\bigtriangledown");f(v,k,se,"","\\dagger");f(v,k,se,"","\\diamond");f(v,k,se,"","\\star");f(v,k,se,"","\\triangleleft");f(v,k,se,"","\\triangleright");f(v,k,Rn,"{","\\{");f(Q,k,U,"{","\\{");f(Q,k,U,"{","\\textbraceleft");f(v,k,nn,"}","\\}");f(Q,k,U,"}","\\}");f(Q,k,U,"}","\\textbraceright");f(v,k,Rn,"{","\\lbrace");f(v,k,nn,"}","\\rbrace");f(v,k,Rn,"[","\\lbrack",!0);f(Q,k,U,"[","\\lbrack",!0);f(v,k,nn,"]","\\rbrack",!0);f(Q,k,U,"]","\\rbrack",!0);f(v,k,Rn,"(","\\lparen",!0);f(v,k,nn,")","\\rparen",!0);f(Q,k,U,"<","\\textless",!0);f(Q,k,U,">","\\textgreater",!0);f(v,k,Rn,"","\\lfloor",!0);f(v,k,nn,"","\\rfloor",!0);f(v,k,Rn,"","\\lceil",!0);f(v,k,nn,"","\\rceil",!0);f(v,k,U,"\\","\\backslash");f(v,k,U,"","|");f(v,k,U,"","\\vert");f(Q,k,U,"|","\\textbar",!0);f(v,k,U,"","\\|");f(v,k,U,"","\\Vert");f(Q,k,U,"","\\textbardbl");f(Q,k,U,"~","\\textasciitilde");f(Q,k,U,"\\","\\textbackslash");f(Q,k,U,"^","\\textasciicircum");f(v,k,P,"","\\uparrow",!0);f(v,k,P,"","\\Uparrow",!0);f(v,k,P,"","\\downarrow",!0);f(v,k,P,"","\\Downarrow",!0);f(v,k,P,"","\\updownarrow",!0);f(v,k,P,"","\\Updownarrow",!0);f(v,k,Mt,"","\\coprod");f(v,k,Mt,"","\\bigvee");f(v,k,Mt,"","\\bigwedge");f(v,k,Mt,"","\\biguplus");f(v,k,Mt,"","\\bigcap");f(v,k,Mt,"","\\bigcup");f(v,k,Mt,"","\\int");f(v,k,Mt,"","\\intop");f(v,k,Mt,"","\\iint");f(v,k,Mt,"","\\iiint");f(v,k,Mt,"","\\prod");f(v,k,Mt,"","\\sum");f(v,k,Mt,"","\\bigotimes");f(v,k,Mt,"","\\bigoplus");f(v,k,Mt,"","\\bigodot");f(v,k,Mt,"","\\oint");f(v,k,Mt,"","\\oiint");f(v,k,Mt,"","\\oiiint");f(v,k,Mt,"","\\bigsqcup");f(v,k,Mt,"","\\smallint");f(Q,k,ys,"","\\textellipsis");f(v,k,ys,"","\\mathellipsis");f(Q,k,ys,"","\\ldots",!0);f(v,k,ys,"","\\ldots",!0);f(v,k,ys,"","\\@cdots",!0);f(v,k,ys,"","\\ddots",!0);f(v,k,U,"","\\varvdots");f(Q,k,U,"","\\varvdots");f(v,k,lt,"","\\acute");f(v,k,lt,"","\\grave");f(v,k,lt,"","\\ddot");f(v,k,lt,"~","\\tilde");f(v,k,lt,"","\\bar");f(v,k,lt,"","\\breve");f(v,k,lt,"","\\check");f(v,k,lt,"^","\\hat");f(v,k,lt,"","\\vec");f(v,k,lt,"","\\dot");f(v,k,lt,"","\\mathring");f(v,k,ue,"","\\@imath");f(v,k,ue,"","\\@jmath");f(v,k,U,"","");f(v,k,U,"","");f(Q,k,U,"","\\i",!0);f(Q,k,U,"","\\j",!0);f(Q,k,U,"","\\ss",!0);f(Q,k,U,"","\\ae",!0);f(Q,k,U,"","\\oe",!0);f(Q,k,U,"","\\o",!0);f(Q,k,U,"","\\AE",!0);f(Q,k,U,"","\\OE",!0);f(Q,k,U,"","\\O",!0);f(Q,k,lt,"","\\'");f(Q,k,lt,"","\\`");f(Q,k,lt,"","\\^");f(Q,k,lt,"","\\~");f(Q,k,lt,"","\\=");f(Q,k,lt,"","\\u");f(Q,k,lt,"","\\.");f(Q,k,lt,"","\\c");f(Q,k,lt,"","\\r");f(Q,k,lt,"","\\v");f(Q,k,lt,"",'\\"');f(Q,k,lt,"","\\H");f(Q,k,lt,"","\\textcircled");var HT={"--":!0,"---":!0,"``":!0,"''":!0};f(Q,k,U,"","--",!0);f(Q,k,U,"","\\textendash");f(Q,k,U,"","---",!0);f(Q,k,U,"","\\textemdash");f(Q,k,U,"","`",!0);f(Q,k,U,"","\\textquoteleft");f(Q,k,U,"","'",!0);f(Q,k,U,"","\\textquoteright");f(Q,k,U,"","``",!0);f(Q,k,U,"","\\textquotedblleft");f(Q,k,U,"","''",!0);f(Q,k,U,"","\\textquotedblright");f(v,k,U,"","\\degree",!0);f(Q,k,U,"","\\degree");f(Q,k,U,"","\\textdegree",!0);f(v,k,U,"","\\pounds");f(v,k,U,"","\\mathsterling",!0);f(Q,k,U,"","\\pounds");f(Q,k,U,"","\\textsterling",!0);f(v,D,U,"","\\maltese");f(Q,D,U,"","\\maltese");var Ev='0123456789/@."';for(var $m=0;$m<Ev.length;$m++){var Iv=Ev.charAt($m);f(v,k,U,Iv,Iv)}var Nv='0123456789!@*()-=+";:?/.,';for(var Rm=0;Rm<Nv.length;Rm++){var Mv=Nv.charAt(Rm);f(Q,k,U,Mv,Mv)}var xd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Dm=0;Dm<xd.length;Dm++){var Gc=xd.charAt(Dm);f(v,k,ue,Gc,Gc),f(Q,k,U,Gc,Gc)}f(v,D,U,"C","");f(Q,D,U,"C","");f(v,D,U,"H","");f(Q,D,U,"H","");f(v,D,U,"N","");f(Q,D,U,"N","");f(v,D,U,"P","");f(Q,D,U,"P","");f(v,D,U,"Q","");f(Q,D,U,"Q","");f(v,D,U,"R","");f(Q,D,U,"R","");f(v,D,U,"Z","");f(Q,D,U,"Z","");f(v,k,ue,"h","");f(Q,k,ue,"h","");var fe="";for(var Xt=0;Xt<xd.length;Xt++){var dt=xd.charAt(Xt);fe=String.fromCharCode(55349,56320+Xt),f(v,k,ue,dt,fe),f(Q,k,U,dt,fe),fe=String.fromCharCode(55349,56372+Xt),f(v,k,ue,dt,fe),f(Q,k,U,dt,fe),fe=String.fromCharCode(55349,56424+Xt),f(v,k,ue,dt,fe),f(Q,k,U,dt,fe),fe=String.fromCharCode(55349,56580+Xt),f(v,k,ue,dt,fe),f(Q,k,U,dt,fe),fe=String.fromCharCode(55349,56684+Xt),f(v,k,ue,dt,fe),f(Q,k,U,dt,fe),fe=String.fromCharCode(55349,56736+Xt),f(v,k,ue,dt,fe),f(Q,k,U,dt,fe),fe=String.fromCharCode(55349,56788+Xt),f(v,k,ue,dt,fe),f(Q,k,U,dt,fe),fe=String.fromCharCode(55349,56840+Xt),f(v,k,ue,dt,fe),f(Q,k,U,dt,fe),fe=String.fromCharCode(55349,56944+Xt),f(v,k,ue,dt,fe),f(Q,k,U,dt,fe),Xt<26&&(fe=String.fromCharCode(55349,56632+Xt),f(v,k,ue,dt,fe),f(Q,k,U,dt,fe),fe=String.fromCharCode(55349,56476+Xt),f(v,k,ue,dt,fe),f(Q,k,U,dt,fe))}fe="";f(v,k,ue,"k",fe);f(Q,k,U,"k",fe);for(var sr=0;sr<10;sr++){var fi=sr.toString();fe=String.fromCharCode(55349,57294+sr),f(v,k,ue,fi,fe),f(Q,k,U,fi,fe),fe=String.fromCharCode(55349,57314+sr),f(v,k,ue,fi,fe),f(Q,k,U,fi,fe),fe=String.fromCharCode(55349,57324+sr),f(v,k,ue,fi,fe),f(Q,k,U,fi,fe),fe=String.fromCharCode(55349,57334+sr),f(v,k,ue,fi,fe),f(Q,k,U,fi,fe)}var Ff="";for(var Om=0;Om<Ff.length;Om++){var Vc=Ff.charAt(Om);f(v,k,ue,Vc,Vc),f(Q,k,U,Vc,Vc)}var Xc=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],zv=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],yB=function(t,n){var a=t.charCodeAt(0),i=t.charCodeAt(1),r=(a-55296)*1024+(i-56320)+65536,o=n==="math"?0:1;if(119808<=r&&r<120484){var s=Math.floor((r-119808)/26);return[Xc[s][2],Xc[s][o]]}else if(120782<=r&&r<=120831){var l=Math.floor((r-120782)/10);return[zv[l][2],zv[l][o]]}else{if(r===120485||r===120486)return[Xc[0][2],Xc[0][o]];if(120486<r&&r<120782)return["",""];throw new Z("Unsupported character: "+t)}},du=function(t,n,a){return et[a][t]&&et[a][t].replace&&(t=et[a][t].replace),{value:t,metrics:e1(t,n,a)}},la=function(t,n,a,i,r){var o=du(t,n,a),s=o.metrics;t=o.value;var l;if(s){var c=s.italic;(a==="text"||i&&i.font==="mathit")&&(c=0),l=new ea(t,s.height,s.depth,c,s.skew,s.width,r)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+a+"'")),l=new ea(t,0,0,0,0,0,r);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var h=i.getColor();h&&(l.style.color=h)}return l},wB=function(t,n,a,i){return i===void 0&&(i=[]),a.font==="boldsymbol"&&du(t,"Main-Bold",n).metrics?la(t,"Main-Bold",n,a,i.concat(["mathbf"])):t==="\\"||et[n][t].font==="main"?la(t,"Main-Regular",n,a,i):la(t,"AMS-Regular",n,a,i.concat(["amsrm"]))},vB=function(t,n,a,i,r){return r!=="textord"&&du(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},xB=function(t,n,a){var i=t.mode,r=t.text,o=["mord"],s=i==="math"||i==="text"&&n.font,l=s?n.font:n.fontFamily,c="",h="";if(r.charCodeAt(0)===55349&&([c,h]=yB(r,i)),c.length>0)return la(r,c,i,n,o.concat(h));if(l){var d,m;if(l==="boldsymbol"){var p=vB(r,i,n,o,a);d=p.fontName,m=[p.fontClass]}else s?(d=VT[l].fontName,m=[l]):(d=Yc(l,n.fontWeight,n.fontShape),m=[l,n.fontWeight,n.fontShape]);if(du(r,d,i).metrics)return la(r,d,i,n,o.concat(m));if(HT.hasOwnProperty(r)&&d.slice(0,10)==="Typewriter"){for(var b=[],y=0;y<r.length;y++)b.push(la(r[y],d,i,n,o.concat(m)));return GT(b)}}if(a==="mathord")return la(r,"Math-Italic",i,n,o.concat(["mathnormal"]));if(a==="textord"){var T=et[i][r]&&et[i][r].font;if(T==="ams"){var g=Yc("amsrm",n.fontWeight,n.fontShape);return la(r,g,i,n,o.concat("amsrm",n.fontWeight,n.fontShape))}else if(T==="main"||!T){var w=Yc("textrm",n.fontWeight,n.fontShape);return la(r,w,i,n,o.concat(n.fontWeight,n.fontShape))}else{var x=Yc(T,n.fontWeight,n.fontShape);return la(r,x,i,n,o.concat(x,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+a+" in makeOrd")},_B=(e,t)=>{if(Xi(e.classes)!==Xi(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var a in e.style)if(e.style.hasOwnProperty(a)&&e.style[a]!==t.style[a])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},TB=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],a=e[t+1];n instanceof ea&&a instanceof ea&&_B(n,a)&&(n.text+=a.text,n.height=Math.max(n.height,a.height),n.depth=Math.max(n.depth,a.depth),n.italic=a.italic,e.splice(t+1,1),t--)}return e},n1=function(t){for(var n=0,a=0,i=0,r=0;r<t.children.length;r++){var o=t.children[r];o.height>n&&(n=o.height),o.depth>a&&(a=o.depth),o.maxFontSize>i&&(i=o.maxFontSize)}t.height=n,t.depth=a,t.maxFontSize=i},ln=function(t,n,a,i){var r=new bc(t,n,a,i);return n1(r),r},WT=(e,t,n,a)=>new bc(e,t,n,a),kB=function(t,n,a){var i=ln([t],[],n);return i.height=Math.max(a||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=ae(i.height),i.maxFontSize=1,i},AB=function(t,n,a,i){var r=new t1(t,n,a,i);return n1(r),r},GT=function(t){var n=new gc(t);return n1(n),n},SB=function(t,n){return t instanceof gc?ln([],[t],n):t},CB=function(t){if(t.positionType==="individualShift"){for(var n=t.children,a=[n[0]],i=-n[0].shift-n[0].elem.depth,r=i,o=1;o<n.length;o++){var s=-n[o].shift-r-n[o].elem.depth,l=s-(n[o-1].elem.height+n[o-1].elem.depth);r=r+s,a.push({type:"kern",size:l}),a.push(n[o])}return{children:a,depth:i}}var c;if(t.positionType==="top"){for(var h=t.positionData,d=0;d<t.children.length;d++){var m=t.children[d];h-=m.type==="kern"?m.size:m.elem.height+m.elem.depth}c=h}else if(t.positionType==="bottom")c=-t.positionData;else{var p=t.children[0];if(p.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")c=-p.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")c=-p.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:c}},EB=function(t,n){for(var{children:a,depth:i}=CB(t),r=0,o=0;o<a.length;o++){var s=a[o];if(s.type==="elem"){var l=s.elem;r=Math.max(r,l.maxFontSize,l.height)}}r+=2;var c=ln(["pstrut"],[]);c.style.height=ae(r);for(var h=[],d=i,m=i,p=i,b=0;b<a.length;b++){var y=a[b];if(y.type==="kern")p+=y.size;else{var T=y.elem,g=y.wrapperClasses||[],w=y.wrapperStyle||{},x=ln(g,[c,T],void 0,w);x.style.top=ae(-r-p-T.depth),y.marginLeft&&(x.style.marginLeft=y.marginLeft),y.marginRight&&(x.style.marginRight=y.marginRight),h.push(x),p+=T.height+T.depth}d=Math.min(d,p),m=Math.max(m,p)}var _=ln(["vlist"],h);_.style.height=ae(m);var C;if(d<0){var A=ln([],[]),M=ln(["vlist"],[A]);M.style.height=ae(-d);var I=ln(["vlist-s"],[new ea("")]);C=[ln(["vlist-r"],[_,I]),ln(["vlist-r"],[M])]}else C=[ln(["vlist-r"],[_])];var R=ln(["vlist-t"],C);return C.length===2&&R.classes.push("vlist-t2"),R.height=m,R.depth=-d,R},IB=(e,t)=>{var n=ln(["mspace"],[],t),a=ht(e,t);return n.style.marginRight=ae(a),n},Yc=function(t,n,a){var i="";switch(t){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=t}var r;return n==="textbf"&&a==="textit"?r="BoldItalic":n==="textbf"?r="Bold":n==="textit"?r="Italic":r="Regular",i+"-"+r},VT={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},XT={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},NB=function(t,n){var[a,i,r]=XT[t],o=new Yi(a),s=new oi([o],{width:ae(i),height:ae(r),style:"width:"+ae(i),viewBox:"0 0 "+1e3*i+" "+1e3*r,preserveAspectRatio:"xMinYMin"}),l=WT(["overlay"],[s],n);return l.height=r,l.style.height=ae(r),l.style.width=ae(i),l},W={fontMap:VT,makeSymbol:la,mathsym:wB,makeSpan:ln,makeSvgSpan:WT,makeLineSpan:kB,makeAnchor:AB,makeFragment:GT,wrapFragment:SB,makeVList:EB,makeOrd:xB,makeGlue:IB,staticSvg:NB,svgData:XT,tryCombineChars:TB},ct={number:3,unit:"mu"},lr={number:4,unit:"mu"},Fa={number:5,unit:"mu"},MB={mord:{mop:ct,mbin:lr,mrel:Fa,minner:ct},mop:{mord:ct,mop:ct,mrel:Fa,minner:ct},mbin:{mord:lr,mop:lr,mopen:lr,minner:lr},mrel:{mord:Fa,mop:Fa,mopen:Fa,minner:Fa},mopen:{},mclose:{mop:ct,mbin:lr,mrel:Fa,minner:ct},mpunct:{mord:ct,mop:ct,mrel:Fa,mopen:ct,mclose:ct,mpunct:ct,minner:ct},minner:{mord:ct,mop:ct,mbin:lr,mrel:Fa,mopen:ct,mpunct:ct,minner:ct}},zB={mord:{mop:ct},mop:{mord:ct,mop:ct},mbin:{},mrel:{},mopen:{},mclose:{mop:ct},mpunct:{},minner:{mop:ct}},YT={},_d={},Td={};function oe(e){for(var{type:t,names:n,props:a,handler:i,htmlBuilder:r,mathmlBuilder:o}=e,s={type:t,numArgs:a.numArgs,argTypes:a.argTypes,allowedInArgument:!!a.allowedInArgument,allowedInText:!!a.allowedInText,allowedInMath:a.allowedInMath===void 0?!0:a.allowedInMath,numOptionalArgs:a.numOptionalArgs||0,infix:!!a.infix,primitive:!!a.primitive,handler:i},l=0;l<n.length;++l)YT[n[l]]=s;t&&(r&&(_d[t]=r),o&&(Td[t]=o))}function Gr(e){var{type:t,htmlBuilder:n,mathmlBuilder:a}=e;oe({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:a})}var kd=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},wt=function(t){return t.type==="ordgroup"?t.body:[t]},si=W.makeSpan,$B=["leftmost","mbin","mopen","mrel","mop","mpunct"],RB=["rightmost","mrel","mclose","mpunct"],DB={display:me.DISPLAY,text:me.TEXT,script:me.SCRIPT,scriptscript:me.SCRIPTSCRIPT},OB={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Dt=function(t,n,a,i){i===void 0&&(i=[null,null]);for(var r=[],o=0;o<t.length;o++){var s=De(t[o],n);if(s instanceof gc){var l=s.children;r.push(...l)}else r.push(s)}if(W.tryCombineChars(r),!a)return r;var c=n;if(t.length===1){var h=t[0];h.type==="sizing"?c=n.havingSize(h.size):h.type==="styling"&&(c=n.havingStyle(DB[h.style]))}var d=si([i[0]||"leftmost"],[],n),m=si([i[1]||"rightmost"],[],n),p=a==="root";return $v(r,(b,y)=>{var T=y.classes[0],g=b.classes[0];T==="mbin"&&RB.includes(g)?y.classes[0]="mord":g==="mbin"&&$B.includes(T)&&(b.classes[0]="mord")},{node:d},m,p),$v(r,(b,y)=>{var T=jf(y),g=jf(b),w=T&&g?b.hasClass("mtight")?zB[T][g]:MB[T][g]:null;if(w)return W.makeGlue(w,c)},{node:d},m,p),r},$v=function e(t,n,a,i,r){i&&t.push(i);for(var o=0;o<t.length;o++){var s=t[o],l=KT(s);if(l){e(l.children,n,a,null,r);continue}var c=!s.hasClass("mspace");if(c){var h=n(s,a.node);h&&(a.insertAfter?a.insertAfter(h):(t.unshift(h),o++))}c?a.node=s:r&&s.hasClass("newline")&&(a.node=si(["leftmost"])),a.insertAfter=(d=>m=>{t.splice(d+1,0,m),o++})(o)}i&&t.pop()},KT=function(t){return t instanceof gc||t instanceof t1||t instanceof bc&&t.hasClass("enclosing")?t:null},PB=function e(t,n){var a=KT(t);if(a){var i=a.children;if(i.length){if(n==="right")return e(i[i.length-1],"right");if(n==="left")return e(i[0],"left")}}return t},jf=function(t,n){return t?(n&&(t=PB(t,n)),OB[t.classes[0]]||null):null},ql=function(t,n){var a=["nulldelimiter"].concat(t.baseSizingClasses());return si(n.concat(a))},De=function(t,n,a){if(!t)return si();if(_d[t.type]){var i=_d[t.type](t,n);if(a&&n.size!==a.size){i=si(n.sizingClasses(a),[i],n);var r=n.sizeMultiplier/a.sizeMultiplier;i.height*=r,i.depth*=r}return i}else throw new Z("Got group of unknown type: '"+t.type+"'")};function Kc(e,t){var n=si(["base"],e,t),a=si(["strut"]);return a.style.height=ae(n.height+n.depth),n.depth&&(a.style.verticalAlign=ae(-n.depth)),n.children.unshift(a),n}function Uf(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var a=Dt(e,t,"root"),i;a.length===2&&a[1].hasClass("tag")&&(i=a.pop());for(var r=[],o=[],s=0;s<a.length;s++)if(o.push(a[s]),a[s].hasClass("mbin")||a[s].hasClass("mrel")||a[s].hasClass("allowbreak")){for(var l=!1;s<a.length-1&&a[s+1].hasClass("mspace")&&!a[s+1].hasClass("newline");)s++,o.push(a[s]),a[s].hasClass("nobreak")&&(l=!0);l||(r.push(Kc(o,t)),o=[])}else a[s].hasClass("newline")&&(o.pop(),o.length>0&&(r.push(Kc(o,t)),o=[]),r.push(a[s]));o.length>0&&r.push(Kc(o,t));var c;n?(c=Kc(Dt(n,t,!0)),c.classes=["tag"],r.push(c)):i&&r.push(i);var h=si(["katex-html"],r);if(h.setAttribute("aria-hidden","true"),c){var d=c.children[0];d.style.height=ae(h.height+h.depth),h.depth&&(d.style.verticalAlign=ae(-h.depth))}return h}function QT(e){return new gc(e)}class kn{constructor(t,n,a){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=a||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=Xi(this.classes));for(var a=0;a<this.children.length;a++)if(this.children[a]instanceof _a&&this.children[a+1]instanceof _a){for(var i=this.children[a].toText()+this.children[++a].toText();this.children[a+1]instanceof _a;)i+=this.children[++a].toText();t.appendChild(new _a(i).toNode())}else t.appendChild(this.children[a].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=Oe.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+Oe.escape(Xi(this.classes))+'"'),t+=">";for(var a=0;a<this.children.length;a++)t+=this.children[a].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class _a{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return Oe.escape(this.toText())}toText(){return this.text}}class LB{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="":t>=.1666&&t<=.1667?this.character="":t>=.2222&&t<=.2223?this.character="":t>=.2777&&t<=.2778?this.character="":t>=-.05556&&t<=-.05555?this.character="":t>=-.1667&&t<=-.1666?this.character="":t>=-.2223&&t<=-.2222?this.character="":t>=-.2778&&t<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",ae(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ae(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var J={MathNode:kn,TextNode:_a,SpaceNode:LB,newDocumentFragment:QT},ta=function(t,n,a){return et[n][t]&&et[n][t].replace&&t.charCodeAt(0)!==55349&&!(HT.hasOwnProperty(t)&&a&&(a.fontFamily&&a.fontFamily.slice(4,6)==="tt"||a.font&&a.font.slice(4,6)==="tt"))&&(t=et[n][t].replace),new J.TextNode(t)},a1=function(t){return t.length===1?t[0]:new J.MathNode("mrow",t)},i1=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var a=n.font;if(!a||a==="mathnormal")return null;var i=t.mode;if(a==="mathit")return"italic";if(a==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(a==="mathbf")return"bold";if(a==="mathbb")return"double-struck";if(a==="mathsfit")return"sans-serif-italic";if(a==="mathfrak")return"fraktur";if(a==="mathscr"||a==="mathcal")return"script";if(a==="mathsf")return"sans-serif";if(a==="mathtt")return"monospace";var r=t.text;if(["\\imath","\\jmath"].includes(r))return null;et[i][r]&&et[i][r].replace&&(r=et[i][r].replace);var o=W.fontMap[a].fontName;return e1(r,o,i)?W.fontMap[a].variant:null};function Pm(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof _a&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var n=e.children[0];return n instanceof _a&&n.text===","}else return!1}var yn=function(t,n,a){if(t.length===1){var i=Ke(t[0],n);return a&&i instanceof kn&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var r=[],o,s=0;s<t.length;s++){var l=Ke(t[s],n);if(l instanceof kn&&o instanceof kn){if(l.type==="mtext"&&o.type==="mtext"&&l.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...l.children);continue}else if(l.type==="mn"&&o.type==="mn"){o.children.push(...l.children);continue}else if(Pm(l)&&o.type==="mn"){o.children.push(...l.children);continue}else if(l.type==="mn"&&Pm(o))l.children=[...o.children,...l.children],r.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(o.type==="mn"||Pm(o))){var c=l.children[0];c instanceof kn&&c.type==="mn"&&(c.children=[...o.children,...c.children],r.pop())}else if(o.type==="mi"&&o.children.length===1){var h=o.children[0];if(h instanceof _a&&h.text===""&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof _a&&d.text.length>0&&(d.text=d.text.slice(0,1)+""+d.text.slice(1),r.pop())}}}r.push(l),o=l}return r},Ki=function(t,n,a){return a1(yn(t,n,a))},Ke=function(t,n){if(!t)return new J.MathNode("mrow");if(Td[t.type]){var a=Td[t.type](t,n);return a}else throw new Z("Got group of unknown type: '"+t.type+"'")};function Rv(e,t,n,a,i){var r=yn(e,n),o;r.length===1&&r[0]instanceof kn&&["mrow","mtable"].includes(r[0].type)?o=r[0]:o=new J.MathNode("mrow",r);var s=new J.MathNode("annotation",[new J.TextNode(t)]);s.setAttribute("encoding","application/x-tex");var l=new J.MathNode("semantics",[o,s]),c=new J.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),a&&c.setAttribute("display","block");var h=i?"katex":"katex-mathml";return W.makeSpan([h],[c])}var JT=function(t){return new Ha({style:t.displayMode?me.DISPLAY:me.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},ZT=function(t,n){if(n.displayMode){var a=["katex-display"];n.leqno&&a.push("leqno"),n.fleqn&&a.push("fleqn"),t=W.makeSpan(a,[t])}return t},BB=function(t,n,a){var i=JT(a),r;if(a.output==="mathml")return Rv(t,n,i,a.displayMode,!0);if(a.output==="html"){var o=Uf(t,i);r=W.makeSpan(["katex"],[o])}else{var s=Rv(t,n,i,a.displayMode,!1),l=Uf(t,i);r=W.makeSpan(["katex"],[s,l])}return ZT(r,a)},FB=function(t,n,a){var i=JT(a),r=Uf(t,i),o=W.makeSpan(["katex"],[r]);return ZT(o,a)},jB={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},UB=function(t){var n=new J.MathNode("mo",[new J.TextNode(jB[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},qB={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},HB=function(t){return t.type==="ordgroup"?t.body.length:1},WB=function(t,n){function a(){var s=4e5,l=t.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(l)){var c=t,h=HB(c.base),d,m,p;if(h>5)l==="widehat"||l==="widecheck"?(d=420,s=2364,p=.42,m=l+"4"):(d=312,s=2340,p=.34,m="tilde4");else{var b=[1,1,2,2,3,3][h];l==="widehat"||l==="widecheck"?(s=[0,1062,2364,2364,2364][b],d=[0,239,300,360,420][b],p=[0,.24,.3,.3,.36,.42][b],m=l+b):(s=[0,600,1033,2339,2340][b],d=[0,260,286,306,312][b],p=[0,.26,.286,.3,.306,.34][b],m="tilde"+b)}var y=new Yi(m),T=new oi([y],{width:"100%",height:ae(p),viewBox:"0 0 "+s+" "+d,preserveAspectRatio:"none"});return{span:W.makeSvgSpan([],[T],n),minWidth:0,height:p}}else{var g=[],w=qB[l],[x,_,C]=w,A=C/1e3,M=x.length,I,R;if(M===1){var z=w[3];I=["hide-tail"],R=[z]}else if(M===2)I=["halfarrow-left","halfarrow-right"],R=["xMinYMin","xMaxYMin"];else if(M===3)I=["brace-left","brace-center","brace-right"],R=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+M+" children.");for(var F=0;F<M;F++){var H=new Yi(x[F]),X=new oi([H],{width:"400em",height:ae(A),viewBox:"0 0 "+s+" "+C,preserveAspectRatio:R[F]+" slice"}),G=W.makeSvgSpan([I[F]],[X],n);if(M===1)return{span:G,minWidth:_,height:A};G.style.height=ae(A),g.push(G)}return{span:W.makeSpan(["stretchy"],g,n),minWidth:_,height:A}}}var{span:i,minWidth:r,height:o}=a();return i.height=o,i.style.height=ae(o),r>0&&(i.style.minWidth=ae(r)),i},GB=function(t,n,a,i,r){var o,s=t.height+t.depth+a+i;if(/fbox|color|angl/.test(n)){if(o=W.makeSpan(["stretchy",n],[],r),n==="fbox"){var l=r.color&&r.getColor();l&&(o.style.borderColor=l)}}else{var c=[];/^[bx]cancel$/.test(n)&&c.push(new Bf({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&c.push(new Bf({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new oi(c,{width:"100%",height:ae(s)});o=W.makeSvgSpan([],[h],r)}return o.height=s,o.style.height=ae(s),o},li={encloseSpan:GB,mathMLnode:UB,svgSpan:WB};function ke(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function r1(e){var t=uu(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function uu(e){return e&&(e.type==="atom"||bB.hasOwnProperty(e.type))?e:null}var o1=(e,t)=>{var n,a,i;e&&e.type==="supsub"?(a=ke(e.base,"accent"),n=a.base,e.base=n,i=fB(De(e,t)),e.base=a):(a=ke(e,"accent"),n=a.base);var r=De(n,t.havingCrampedStyle()),o=a.isShifty&&Oe.isCharacterBox(n),s=0;if(o){var l=Oe.getBaseElem(n),c=De(l,t.havingCrampedStyle());s=Cv(c).skew}var h=a.label==="\\c",d=h?r.height+r.depth:Math.min(r.height,t.fontMetrics().xHeight),m;if(a.isStretchy)m=li.svgSpan(a,t),m=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"elem",elem:m,wrapperClasses:["svg-align"],wrapperStyle:s>0?{width:"calc(100% - "+ae(2*s)+")",marginLeft:ae(2*s)}:void 0}]},t);else{var p,b;a.label==="\\vec"?(p=W.staticSvg("vec",t),b=W.svgData.vec[1]):(p=W.makeOrd({mode:a.mode,text:a.label},t,"textord"),p=Cv(p),p.italic=0,b=p.width,h&&(d+=p.depth)),m=W.makeSpan(["accent-body"],[p]);var y=a.label==="\\textcircled";y&&(m.classes.push("accent-full"),d=r.height);var T=s;y||(T-=b/2),m.style.left=ae(T),a.label==="\\textcircled"&&(m.style.top=".2em"),m=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:-d},{type:"elem",elem:m}]},t)}var g=W.makeSpan(["mord","accent"],[m],t);return i?(i.children[0]=g,i.height=Math.max(g.height,i.height),i.classes[0]="mord",i):g},ek=(e,t)=>{var n=e.isStretchy?li.mathMLnode(e.label):new J.MathNode("mo",[ta(e.label,e.mode)]),a=new J.MathNode("mover",[Ke(e.base,t),n]);return a.setAttribute("accent","true"),a},VB=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));oe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=kd(t[0]),a=!VB.test(e.funcName),i=!a||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:a,isShifty:i,base:n}},htmlBuilder:o1,mathmlBuilder:ek});oe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],a=e.parser.mode;return a==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),a="text"),{type:"accent",mode:a,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:o1,mathmlBuilder:ek});oe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:a}=e,i=t[0];return{type:"accentUnder",mode:n.mode,label:a,base:i}},htmlBuilder:(e,t)=>{var n=De(e.base,t),a=li.svgSpan(e,t),i=e.label==="\\utilde"?.12:0,r=W.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:a,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},t);return W.makeSpan(["mord","accentunder"],[r],t)},mathmlBuilder:(e,t)=>{var n=li.mathMLnode(e.label),a=new J.MathNode("munder",[Ke(e.base,t),n]);return a.setAttribute("accentunder","true"),a}});var Qc=e=>{var t=new J.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};oe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:a,funcName:i}=e;return{type:"xArrow",mode:a.mode,label:i,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,a=t.havingStyle(n.sup()),i=W.wrapFragment(De(e.body,a,t),t),r=e.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(r+"-arrow-pad");var o;e.below&&(a=t.havingStyle(n.sub()),o=W.wrapFragment(De(e.below,a,t),t),o.classes.push(r+"-arrow-pad"));var s=li.svgSpan(e,t),l=-t.fontMetrics().axisHeight+.5*s.height,c=-t.fontMetrics().axisHeight-.5*s.height-.111;(i.depth>.25||e.label==="\\xleftequilibrium")&&(c-=i.depth);var h;if(o){var d=-t.fontMetrics().axisHeight+o.height+.5*s.height+.111;h=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:s,shift:l},{type:"elem",elem:o,shift:d}]},t)}else h=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:s,shift:l}]},t);return h.children[0].children[0].children[1].classes.push("svg-align"),W.makeSpan(["mrel","x-arrow"],[h],t)},mathmlBuilder(e,t){var n=li.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var a;if(e.body){var i=Qc(Ke(e.body,t));if(e.below){var r=Qc(Ke(e.below,t));a=new J.MathNode("munderover",[n,r,i])}else a=new J.MathNode("mover",[n,i])}else if(e.below){var o=Qc(Ke(e.below,t));a=new J.MathNode("munder",[n,o])}else a=Qc(),a=new J.MathNode("mover",[n,a]);return a}});var XB=W.makeSpan;function tk(e,t){var n=Dt(e.body,t,!0);return XB([e.mclass],n,t)}function nk(e,t){var n,a=yn(e.body,t);return e.mclass==="minner"?n=new J.MathNode("mpadded",a):e.mclass==="mord"?e.isCharacterBox?(n=a[0],n.type="mi"):n=new J.MathNode("mi",a):(e.isCharacterBox?(n=a[0],n.type="mo"):n=new J.MathNode("mo",a),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}oe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:a}=e,i=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+a.slice(5),body:wt(i),isCharacterBox:Oe.isCharacterBox(i)}},htmlBuilder:tk,mathmlBuilder:nk});var mu=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};oe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:mu(t[0]),body:wt(t[1]),isCharacterBox:Oe.isCharacterBox(t[1])}}});oe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:a}=e,i=t[1],r=t[0],o;a!=="\\stackrel"?o=mu(i):o="mrel";var s={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:a!=="\\stackrel",body:wt(i)},l={type:"supsub",mode:r.mode,base:s,sup:a==="\\underset"?null:r,sub:a==="\\underset"?r:null};return{type:"mclass",mode:n.mode,mclass:o,body:[l],isCharacterBox:Oe.isCharacterBox(l)}},htmlBuilder:tk,mathmlBuilder:nk});oe({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:mu(t[0]),body:wt(t[0])}},htmlBuilder(e,t){var n=Dt(e.body,t,!0),a=W.makeSpan([e.mclass],n,t);return a.style.textShadow="0.02em 0.01em 0.04px",a},mathmlBuilder(e,t){var n=yn(e.body,t),a=new J.MathNode("mstyle",n);return a.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),a}});var YB={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Dv=()=>({type:"styling",body:[],mode:"math",style:"display"}),Ov=e=>e.type==="textord"&&e.text==="@",KB=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function QB(e,t,n){var a=YB[e];switch(a){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(a,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[t[0]],[]),r={type:"atom",text:a,mode:"math",family:"rel"},o=n.callFunction("\\Big",[r],[]),s=n.callFunction("\\\\cdright",[t[1]],[]),l={type:"ordgroup",mode:"math",body:[i,o,s]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}function JB(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new Z("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var a=[],i=[a],r=0;r<t.length;r++){for(var o=t[r],s=Dv(),l=0;l<o.length;l++)if(!Ov(o[l]))s.body.push(o[l]);else{a.push(s),l+=1;var c=r1(o[l]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var d=0;d<2;d++){for(var m=!0,p=l+1;p<o.length;p++){if(KB(o[p],c)){m=!1,l=p;break}if(Ov(o[p]))throw new Z("Missing a "+c+" character to complete a CD arrow.",o[p]);h[d].body.push(o[p])}if(m)throw new Z("Missing a "+c+" character to complete a CD arrow.",o[l])}else throw new Z('Expected one of "<>AV=|." after @',o[l]);var b=QB(c,h,e),y={type:"styling",body:[b],mode:"math",style:"display"};a.push(y),s=Dv()}r%2===0?a.push(s):a.shift(),a=[],i.push(a)}e.gullet.endGroup(),e.gullet.endGroup();var T=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:T,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}oe({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:a}=e;return{type:"cdlabel",mode:n.mode,side:a.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),a=W.wrapFragment(De(e.label,n,t),t);return a.classes.push("cd-label-"+e.side),a.style.bottom=ae(.8-a.depth),a.height=0,a.depth=0,a},mathmlBuilder(e,t){var n=new J.MathNode("mrow",[Ke(e.label,t)]);return n=new J.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new J.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});oe({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=W.wrapFragment(De(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new J.MathNode("mrow",[Ke(e.fragment,t)])}});oe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,a=ke(t[0],"ordgroup"),i=a.body,r="",o=0;o<i.length;o++){var s=ke(i[o],"textord");r+=s.text}var l=parseInt(r),c;if(isNaN(l))throw new Z("\\@char has non-numeric argument "+r);if(l<0||l>=1114111)throw new Z("\\@char with invalid code point "+r);return l<=65535?c=String.fromCharCode(l):(l-=65536,c=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:c}}});var ak=(e,t)=>{var n=Dt(e.body,t.withColor(e.color),!1);return W.makeFragment(n)},ik=(e,t)=>{var n=yn(e.body,t.withColor(e.color)),a=new J.MathNode("mstyle",n);return a.setAttribute("mathcolor",e.color),a};oe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,a=ke(t[0],"color-token").color,i=t[1];return{type:"color",mode:n.mode,color:a,body:wt(i)}},htmlBuilder:ak,mathmlBuilder:ik});oe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:a}=e,i=ke(t[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var r=n.parseExpression(!0,a);return{type:"color",mode:n.mode,color:i,body:r}},htmlBuilder:ak,mathmlBuilder:ik});oe({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:a}=e,i=a.gullet.future().text==="["?a.parseSizeGroup(!0):null,r=!a.settings.displayMode||!a.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:a.mode,newLine:r,size:i&&ke(i,"size").value}},htmlBuilder(e,t){var n=W.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=ae(ht(e.size,t)))),n},mathmlBuilder(e,t){var n=new J.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",ae(ht(e.size,t)))),n}});var qf={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},rk=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new Z("Expected a control sequence",e);return t},ZB=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},ok=(e,t,n,a)=>{var i=e.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,i,a)};oe({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var a=t.fetch();if(qf[a.text])return(n==="\\global"||n==="\\\\globallong")&&(a.text=qf[a.text]),ke(t.parseFunction(),"internal");throw new Z("Invalid token after macro prefix",a)}});oe({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,a=t.gullet.popToken(),i=a.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Z("Expected a control sequence",a);for(var r=0,o,s=[[]];t.gullet.future().text!=="{";)if(a=t.gullet.popToken(),a.text==="#"){if(t.gullet.future().text==="{"){o=t.gullet.future(),s[r].push("{");break}if(a=t.gullet.popToken(),!/^[1-9]$/.test(a.text))throw new Z('Invalid argument number "'+a.text+'"');if(parseInt(a.text)!==r+1)throw new Z('Argument number "'+a.text+'" out of order');r++,s.push([])}else{if(a.text==="EOF")throw new Z("Expected a macro definition");s[r].push(a.text)}var{tokens:l}=t.gullet.consumeArg();return o&&l.unshift(o),(n==="\\edef"||n==="\\xdef")&&(l=t.gullet.expandTokens(l),l.reverse()),t.gullet.macros.set(i,{tokens:l,numArgs:r,delimiters:s},n===qf[n]),{type:"internal",mode:t.mode}}});oe({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,a=rk(t.gullet.popToken());t.gullet.consumeSpaces();var i=ZB(t);return ok(t,a,i,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});oe({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,a=rk(t.gullet.popToken()),i=t.gullet.popToken(),r=t.gullet.popToken();return ok(t,a,r,n==="\\\\globalfuture"),t.gullet.pushToken(r),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var Gs=function(t,n,a){var i=et.math[t]&&et.math[t].replace,r=e1(i||t,n,a);if(!r)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return r},s1=function(t,n,a,i){var r=a.havingBaseStyle(n),o=W.makeSpan(i.concat(r.sizingClasses(a)),[t],a),s=r.sizeMultiplier/a.sizeMultiplier;return o.height*=s,o.depth*=s,o.maxFontSize=r.sizeMultiplier,o},sk=function(t,n,a){var i=n.havingBaseStyle(a),r=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=ae(r),t.height-=r,t.depth+=r},eF=function(t,n,a,i,r,o){var s=W.makeSymbol(t,"Main-Regular",r,i),l=s1(s,n,i,o);return a&&sk(l,i,n),l},tF=function(t,n,a,i){return W.makeSymbol(t,"Size"+n+"-Regular",a,i)},lk=function(t,n,a,i,r,o){var s=tF(t,n,r,i),l=s1(W.makeSpan(["delimsizing","size"+n],[s],i),me.TEXT,i,o);return a&&sk(l,i,me.TEXT),l},Lm=function(t,n,a){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var r=W.makeSpan(["delimsizinginner",i],[W.makeSpan([],[W.makeSymbol(t,n,a)])]);return{type:"elem",elem:r}},Bm=function(t,n,a){var i=xa["Size4-Regular"][t.charCodeAt(0)]?xa["Size4-Regular"][t.charCodeAt(0)][4]:xa["Size1-Regular"][t.charCodeAt(0)][4],r=new Yi("inner",oB(t,Math.round(1e3*n))),o=new oi([r],{width:ae(i),height:ae(n),style:"width:"+ae(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),s=W.makeSvgSpan([],[o],a);return s.height=n,s.style.height=ae(n),s.style.width=ae(i),{type:"elem",elem:s}},Hf=.008,Jc={type:"kern",size:-1*Hf},nF=["|","\\lvert","\\rvert","\\vert"],aF=["\\|","\\lVert","\\rVert","\\Vert"],ck=function(t,n,a,i,r,o){var s,l,c,h,d="",m=0;s=c=h=t,l=null;var p="Size1-Regular";t==="\\uparrow"?c=h="":t==="\\Uparrow"?c=h="":t==="\\downarrow"?s=c="":t==="\\Downarrow"?s=c="":t==="\\updownarrow"?(s="\\uparrow",c="",h="\\downarrow"):t==="\\Updownarrow"?(s="\\Uparrow",c="",h="\\Downarrow"):nF.includes(t)?(c="",d="vert",m=333):aF.includes(t)?(c="",d="doublevert",m=556):t==="["||t==="\\lbrack"?(s="",c="",h="",p="Size4-Regular",d="lbrack",m=667):t==="]"||t==="\\rbrack"?(s="",c="",h="",p="Size4-Regular",d="rbrack",m=667):t==="\\lfloor"||t===""?(c=s="",h="",p="Size4-Regular",d="lfloor",m=667):t==="\\lceil"||t===""?(s="",c=h="",p="Size4-Regular",d="lceil",m=667):t==="\\rfloor"||t===""?(c=s="",h="",p="Size4-Regular",d="rfloor",m=667):t==="\\rceil"||t===""?(s="",c=h="",p="Size4-Regular",d="rceil",m=667):t==="("||t==="\\lparen"?(s="",c="",h="",p="Size4-Regular",d="lparen",m=875):t===")"||t==="\\rparen"?(s="",c="",h="",p="Size4-Regular",d="rparen",m=875):t==="\\{"||t==="\\lbrace"?(s="",l="",h="",c="",p="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(s="",l="",h="",c="",p="Size4-Regular"):t==="\\lgroup"||t===""?(s="",h="",c="",p="Size4-Regular"):t==="\\rgroup"||t===""?(s="",h="",c="",p="Size4-Regular"):t==="\\lmoustache"||t===""?(s="",h="",c="",p="Size4-Regular"):(t==="\\rmoustache"||t==="")&&(s="",h="",c="",p="Size4-Regular");var b=Gs(s,p,r),y=b.height+b.depth,T=Gs(c,p,r),g=T.height+T.depth,w=Gs(h,p,r),x=w.height+w.depth,_=0,C=1;if(l!==null){var A=Gs(l,p,r);_=A.height+A.depth,C=2}var M=y+x+_,I=Math.max(0,Math.ceil((n-M)/(C*g))),R=M+I*C*g,z=i.fontMetrics().axisHeight;a&&(z*=i.sizeMultiplier);var F=R/2-z,H=[];if(d.length>0){var X=R-y-x,G=Math.round(R*1e3),j=sB(d,Math.round(X*1e3)),$=new Yi(d,j),L=(m/1e3).toFixed(3)+"em",B=(G/1e3).toFixed(3)+"em",V=new oi([$],{width:L,height:B,viewBox:"0 0 "+m+" "+G}),E=W.makeSvgSpan([],[V],i);E.height=G/1e3,E.style.width=L,E.style.height=B,H.push({type:"elem",elem:E})}else{if(H.push(Lm(h,p,r)),H.push(Jc),l===null){var re=R-y-x+2*Hf;H.push(Bm(c,re,i))}else{var le=(R-y-x-_)/2+2*Hf;H.push(Bm(c,le,i)),H.push(Jc),H.push(Lm(l,p,r)),H.push(Jc),H.push(Bm(c,le,i))}H.push(Jc),H.push(Lm(s,p,r))}var O=i.havingBaseStyle(me.TEXT),pe=W.makeVList({positionType:"bottom",positionData:F,children:H},O);return s1(W.makeSpan(["delimsizing","mult"],[pe],O),me.TEXT,i,o)},Fm=80,jm=.08,Um=function(t,n,a,i,r){var o=rB(t,i,a),s=new Yi(t,o),l=new oi([s],{width:"400em",height:ae(n),viewBox:"0 0 400000 "+a,preserveAspectRatio:"xMinYMin slice"});return W.makeSvgSpan(["hide-tail"],[l],r)},iF=function(t,n){var a=n.havingBaseSizing(),i=mk("\\surd",t*a.sizeMultiplier,uk,a),r=a.sizeMultiplier,o=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),s,l=0,c=0,h=0,d;return i.type==="small"?(h=1e3+1e3*o+Fm,t<1?r=1:t<1.4&&(r=.7),l=(1+o+jm)/r,c=(1+o)/r,s=Um("sqrtMain",l,h,o,n),s.style.minWidth="0.853em",d=.833/r):i.type==="large"?(h=(1e3+Fm)*fl[i.size],c=(fl[i.size]+o)/r,l=(fl[i.size]+o+jm)/r,s=Um("sqrtSize"+i.size,l,h,o,n),s.style.minWidth="1.02em",d=1/r):(l=t+o+jm,c=t+o,h=Math.floor(1e3*t+o)+Fm,s=Um("sqrtTall",l,h,o,n),s.style.minWidth="0.742em",d=1.056),s.height=c,s.style.height=ae(l),{span:s,advanceWidth:d,ruleWidth:(n.fontMetrics().sqrtRuleThickness+o)*r}},hk=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],rF=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],dk=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],fl=[0,1.2,1.8,2.4,3],oF=function(t,n,a,i,r){if(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),hk.includes(t)||dk.includes(t))return lk(t,n,!1,a,i,r);if(rF.includes(t))return ck(t,fl[n],!1,a,i,r);throw new Z("Illegal delimiter: '"+t+"'")},sF=[{type:"small",style:me.SCRIPTSCRIPT},{type:"small",style:me.SCRIPT},{type:"small",style:me.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],lF=[{type:"small",style:me.SCRIPTSCRIPT},{type:"small",style:me.SCRIPT},{type:"small",style:me.TEXT},{type:"stack"}],uk=[{type:"small",style:me.SCRIPTSCRIPT},{type:"small",style:me.SCRIPT},{type:"small",style:me.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],cF=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},mk=function(t,n,a,i){for(var r=Math.min(2,3-i.style.size),o=r;o<a.length&&a[o].type!=="stack";o++){var s=Gs(t,cF(a[o]),"math"),l=s.height+s.depth;if(a[o].type==="small"){var c=i.havingBaseStyle(a[o].style);l*=c.sizeMultiplier}if(l>n)return a[o]}return a[a.length-1]},pk=function(t,n,a,i,r,o){t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle");var s;dk.includes(t)?s=sF:hk.includes(t)?s=uk:s=lF;var l=mk(t,n,s,i);return l.type==="small"?eF(t,l.style,a,i,r,o):l.type==="large"?lk(t,l.size,a,i,r,o):ck(t,n,a,i,r,o)},hF=function(t,n,a,i,r,o){var s=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,c=5/i.fontMetrics().ptPerEm,h=Math.max(n-s,a+s),d=Math.max(h/500*l,2*h-c);return pk(t,d,!0,i,r,o)},Za={sqrtImage:iF,sizedDelim:oF,sizeToMaxHeight:fl,customSizedDelim:pk,leftRightDelim:hF},Pv={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},dF=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function pu(e,t){var n=uu(e);if(n&&dF.includes(n.text))return n;throw n?new Z("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new Z("Invalid delimiter type '"+e.type+"'",e)}oe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=pu(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:Pv[e.funcName].size,mclass:Pv[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?W.makeSpan([e.mclass]):Za.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(ta(e.delim,e.mode));var n=new J.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var a=ae(Za.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",a),n.setAttribute("maxsize",a),n}});function Lv(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}oe({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new Z("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:pu(t[0],e).text,color:n}}});oe({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=pu(t[0],e),a=e.parser;++a.leftrightDepth;var i=a.parseExpression(!1);--a.leftrightDepth,a.expect("\\right",!1);var r=ke(a.parseFunction(),"leftright-right");return{type:"leftright",mode:a.mode,body:i,left:n.text,right:r.delim,rightColor:r.color}},htmlBuilder:(e,t)=>{Lv(e);for(var n=Dt(e.body,t,!0,["mopen","mclose"]),a=0,i=0,r=!1,o=0;o<n.length;o++)n[o].isMiddle?r=!0:(a=Math.max(n[o].height,a),i=Math.max(n[o].depth,i));a*=t.sizeMultiplier,i*=t.sizeMultiplier;var s;if(e.left==="."?s=ql(t,["mopen"]):s=Za.leftRightDelim(e.left,a,i,t,e.mode,["mopen"]),n.unshift(s),r)for(var l=1;l<n.length;l++){var c=n[l],h=c.isMiddle;h&&(n[l]=Za.leftRightDelim(h.delim,a,i,h.options,e.mode,[]))}var d;if(e.right===".")d=ql(t,["mclose"]);else{var m=e.rightColor?t.withColor(e.rightColor):t;d=Za.leftRightDelim(e.right,a,i,m,e.mode,["mclose"])}return n.push(d),W.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{Lv(e);var n=yn(e.body,t);if(e.left!=="."){var a=new J.MathNode("mo",[ta(e.left,e.mode)]);a.setAttribute("fence","true"),n.unshift(a)}if(e.right!=="."){var i=new J.MathNode("mo",[ta(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),n.push(i)}return a1(n)}});oe({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=pu(t[0],e);if(!e.parser.leftrightDepth)throw new Z("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=ql(t,[]);else{n=Za.sizedDelim(e.delim,1,t,e.mode,[]);var a={delim:e.delim,options:t};n.isMiddle=a}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?ta("|","text"):ta(e.delim,e.mode),a=new J.MathNode("mo",[n]);return a.setAttribute("fence","true"),a.setAttribute("lspace","0.05em"),a.setAttribute("rspace","0.05em"),a}});var l1=(e,t)=>{var n=W.wrapFragment(De(e.body,t),t),a=e.label.slice(1),i=t.sizeMultiplier,r,o=0,s=Oe.isCharacterBox(e.body);if(a==="sout")r=W.makeSpan(["stretchy","sout"]),r.height=t.fontMetrics().defaultRuleThickness/i,o=-.5*t.fontMetrics().xHeight;else if(a==="phase"){var l=ht({number:.6,unit:"pt"},t),c=ht({number:.35,unit:"ex"},t),h=t.havingBaseSizing();i=i/h.sizeMultiplier;var d=n.height+n.depth+l+c;n.style.paddingLeft=ae(d/2+l);var m=Math.floor(1e3*d*i),p=aB(m),b=new oi([new Yi("phase",p)],{width:"400em",height:ae(m/1e3),viewBox:"0 0 400000 "+m,preserveAspectRatio:"xMinYMin slice"});r=W.makeSvgSpan(["hide-tail"],[b],t),r.style.height=ae(d),o=n.depth+l+c}else{/cancel/.test(a)?s||n.classes.push("cancel-pad"):a==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var y=0,T=0,g=0;/box/.test(a)?(g=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),y=t.fontMetrics().fboxsep+(a==="colorbox"?0:g),T=y):a==="angl"?(g=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),y=4*g,T=Math.max(0,.25-n.depth)):(y=s?.2:0,T=y),r=li.encloseSpan(n,a,y,T,t),/fbox|boxed|fcolorbox/.test(a)?(r.style.borderStyle="solid",r.style.borderWidth=ae(g)):a==="angl"&&g!==.049&&(r.style.borderTopWidth=ae(g),r.style.borderRightWidth=ae(g)),o=n.depth+T,e.backgroundColor&&(r.style.backgroundColor=e.backgroundColor,e.borderColor&&(r.style.borderColor=e.borderColor))}var w;if(e.backgroundColor)w=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:o},{type:"elem",elem:n,shift:0}]},t);else{var x=/cancel|phase/.test(a)?["svg-align"]:[];w=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:r,shift:o,wrapperClasses:x}]},t)}return/cancel/.test(a)&&(w.height=n.height,w.depth=n.depth),/cancel/.test(a)&&!s?W.makeSpan(["mord","cancel-lap"],[w],t):W.makeSpan(["mord"],[w],t)},c1=(e,t)=>{var n=0,a=new J.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ke(e.body,t)]);switch(e.label){case"\\cancel":a.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":a.setAttribute("notation","downdiagonalstrike");break;case"\\phase":a.setAttribute("notation","phasorangle");break;case"\\sout":a.setAttribute("notation","horizontalstrike");break;case"\\fbox":a.setAttribute("notation","box");break;case"\\angl":a.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,a.setAttribute("width","+"+2*n+"pt"),a.setAttribute("height","+"+2*n+"pt"),a.setAttribute("lspace",n+"pt"),a.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);a.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":a.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&a.setAttribute("mathbackground",e.backgroundColor),a};oe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:a,funcName:i}=e,r=ke(t[0],"color-token").color,o=t[1];return{type:"enclose",mode:a.mode,label:i,backgroundColor:r,body:o}},htmlBuilder:l1,mathmlBuilder:c1});oe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:a,funcName:i}=e,r=ke(t[0],"color-token").color,o=ke(t[1],"color-token").color,s=t[2];return{type:"enclose",mode:a.mode,label:i,backgroundColor:o,borderColor:r,body:s}},htmlBuilder:l1,mathmlBuilder:c1});oe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});oe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:a}=e,i=t[0];return{type:"enclose",mode:n.mode,label:a,body:i}},htmlBuilder:l1,mathmlBuilder:c1});oe({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var fk={};function Na(e){for(var{type:t,names:n,props:a,handler:i,htmlBuilder:r,mathmlBuilder:o}=e,s={type:t,numArgs:a.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)fk[n[l]]=s;r&&(_d[t]=r),o&&(Td[t]=o)}var gk={};function S(e,t){gk[e]=t}function Bv(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var fu=e=>{var t=e.parser.settings;if(!t.displayMode)throw new Z("{"+e.envName+"} can be used only in display mode.")};function h1(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function ar(e,t,n){var{hskipBeforeAndAfter:a,addJot:i,cols:r,arraystretch:o,colSeparationType:s,autoTag:l,singleRow:c,emptySingleRow:h,maxNumCols:d,leqno:m}=t;if(e.gullet.beginGroup(),c||e.gullet.macros.set("\\cr","\\\\\\relax"),!o){var p=e.gullet.expandMacroAsText("\\arraystretch");if(p==null)o=1;else if(o=parseFloat(p),!o||o<0)throw new Z("Invalid \\arraystretch: "+p)}e.gullet.beginGroup();var b=[],y=[b],T=[],g=[],w=l!=null?[]:void 0;function x(){l&&e.gullet.macros.set("\\@eqnsw","1",!0)}function _(){w&&(e.gullet.macros.get("\\df@tag")?(w.push(e.subparse([new Mn("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):w.push(!!l&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(x(),g.push(Bv(e));;){var C=e.parseExpression(!1,c?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),C={type:"ordgroup",mode:e.mode,body:C},n&&(C={type:"styling",mode:e.mode,style:n,body:[C]}),b.push(C);var A=e.fetch().text;if(A==="&"){if(d&&b.length===d){if(c||s)throw new Z("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(A==="\\end"){_(),b.length===1&&C.type==="styling"&&C.body[0].body.length===0&&(y.length>1||!h)&&y.pop(),g.length<y.length+1&&g.push([]);break}else if(A==="\\\\"){e.consume();var M=void 0;e.gullet.future().text!==" "&&(M=e.parseSizeGroup(!0)),T.push(M?M.value:null),_(),g.push(Bv(e)),b=[],y.push(b),x()}else throw new Z("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:o,body:y,cols:r,rowGaps:T,hskipBeforeAndAfter:a,hLinesBeforeRow:g,colSeparationType:s,tags:w,leqno:m}}function d1(e){return e.slice(0,1)==="d"?"display":"text"}var Ma=function(t,n){var a,i,r=t.body.length,o=t.hLinesBeforeRow,s=0,l=new Array(r),c=[],h=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),d=1/n.fontMetrics().ptPerEm,m=5*d;if(t.colSeparationType&&t.colSeparationType==="small"){var p=n.havingStyle(me.SCRIPT).sizeMultiplier;m=.2778*(p/n.sizeMultiplier)}var b=t.colSeparationType==="CD"?ht({number:3,unit:"ex"},n):12*d,y=3*d,T=t.arraystretch*b,g=.7*T,w=.3*T,x=0;function _(de){for(var Ln=0;Ln<de.length;++Ln)Ln>0&&(x+=.25),c.push({pos:x,isDashed:de[Ln]})}for(_(o[0]),a=0;a<t.body.length;++a){var C=t.body[a],A=g,M=w;s<C.length&&(s=C.length);var I=new Array(C.length);for(i=0;i<C.length;++i){var R=De(C[i],n);M<R.depth&&(M=R.depth),A<R.height&&(A=R.height),I[i]=R}var z=t.rowGaps[a],F=0;z&&(F=ht(z,n),F>0&&(F+=w,M<F&&(M=F),F=0)),t.addJot&&(M+=y),I.height=A,I.depth=M,x+=A,I.pos=x,x+=M+F,l[a]=I,_(o[a+1])}var H=x/2+n.fontMetrics().axisHeight,X=t.cols||[],G=[],j,$,L=[];if(t.tags&&t.tags.some(de=>de))for(a=0;a<r;++a){var B=l[a],V=B.pos-H,E=t.tags[a],re=void 0;E===!0?re=W.makeSpan(["eqn-num"],[],n):E===!1?re=W.makeSpan([],[],n):re=W.makeSpan([],Dt(E,n,!0),n),re.depth=B.depth,re.height=B.height,L.push({type:"elem",elem:re,shift:V})}for(i=0,$=0;i<s||$<X.length;++i,++$){for(var le=X[$]||{},O=!0;le.type==="separator";){if(O||(j=W.makeSpan(["arraycolsep"],[]),j.style.width=ae(n.fontMetrics().doubleRuleSep),G.push(j)),le.separator==="|"||le.separator===":"){var pe=le.separator==="|"?"solid":"dashed",ye=W.makeSpan(["vertical-separator"],[],n);ye.style.height=ae(x),ye.style.borderRightWidth=ae(h),ye.style.borderRightStyle=pe,ye.style.margin="0 "+ae(-h/2);var _e=x-H;_e&&(ye.style.verticalAlign=ae(-_e)),G.push(ye)}else throw new Z("Invalid separator type: "+le.separator);$++,le=X[$]||{},O=!1}if(!(i>=s)){var Qe=void 0;(i>0||t.hskipBeforeAndAfter)&&(Qe=Oe.deflt(le.pregap,m),Qe!==0&&(j=W.makeSpan(["arraycolsep"],[]),j.style.width=ae(Qe),G.push(j)));var ie=[];for(a=0;a<r;++a){var Ae=l[a],Be=Ae[i];if(Be){var gt=Ae.pos-H;Be.depth=Ae.depth,Be.height=Ae.height,ie.push({type:"elem",elem:Be,shift:gt})}}ie=W.makeVList({positionType:"individualShift",children:ie},n),ie=W.makeSpan(["col-align-"+(le.align||"c")],[ie]),G.push(ie),(i<s-1||t.hskipBeforeAndAfter)&&(Qe=Oe.deflt(le.postgap,m),Qe!==0&&(j=W.makeSpan(["arraycolsep"],[]),j.style.width=ae(Qe),G.push(j)))}}if(l=W.makeSpan(["mtable"],G),c.length>0){for(var Dn=W.makeLineSpan("hline",n,h),On=W.makeLineSpan("hdashline",n,h),Pn=[{type:"elem",elem:l,shift:0}];c.length>0;){var xt=c.pop(),$e=xt.pos-H;xt.isDashed?Pn.push({type:"elem",elem:On,shift:$e}):Pn.push({type:"elem",elem:Dn,shift:$e})}l=W.makeVList({positionType:"individualShift",children:Pn},n)}if(L.length===0)return W.makeSpan(["mord"],[l],n);var Vt=W.makeVList({positionType:"individualShift",children:L},n);return Vt=W.makeSpan(["tag"],[Vt],n),W.makeFragment([l,Vt])},uF={c:"center ",l:"left ",r:"right "},za=function(t,n){for(var a=[],i=new J.MathNode("mtd",[],["mtr-glue"]),r=new J.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<t.body.length;o++){for(var s=t.body[o],l=[],c=0;c<s.length;c++)l.push(new J.MathNode("mtd",[Ke(s[c],n)]));t.tags&&t.tags[o]&&(l.unshift(i),l.push(i),t.leqno?l.unshift(r):l.push(r)),a.push(new J.MathNode("mtr",l))}var h=new J.MathNode("mtable",a),d=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);h.setAttribute("rowspacing",ae(d));var m="",p="";if(t.cols&&t.cols.length>0){var b=t.cols,y="",T=!1,g=0,w=b.length;b[0].type==="separator"&&(m+="top ",g=1),b[b.length-1].type==="separator"&&(m+="bottom ",w-=1);for(var x=g;x<w;x++)b[x].type==="align"?(p+=uF[b[x].align],T&&(y+="none "),T=!0):b[x].type==="separator"&&T&&(y+=b[x].separator==="|"?"solid ":"dashed ",T=!1);h.setAttribute("columnalign",p.trim()),/[sd]/.test(y)&&h.setAttribute("columnlines",y.trim())}if(t.colSeparationType==="align"){for(var _=t.cols||[],C="",A=1;A<_.length;A++)C+=A%2?"0em ":"1em ";h.setAttribute("columnspacing",C.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var M="",I=t.hLinesBeforeRow;m+=I[0].length>0?"left ":"",m+=I[I.length-1].length>0?"right ":"";for(var R=1;R<I.length-1;R++)M+=I[R].length===0?"none ":I[R][0]?"dashed ":"solid ";return/[sd]/.test(M)&&h.setAttribute("rowlines",M.trim()),m!==""&&(h=new J.MathNode("menclose",[h]),h.setAttribute("notation",m.trim())),t.arraystretch&&t.arraystretch<1&&(h=new J.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},bk=function(t,n){t.envName.indexOf("ed")===-1&&fu(t);var a=[],i=t.envName.indexOf("at")>-1?"alignat":"align",r=t.envName==="split",o=ar(t.parser,{cols:a,addJot:!0,autoTag:r?void 0:h1(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:r?2:void 0,leqno:t.parser.settings.leqno},"display"),s,l=0,c={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var h="",d=0;d<n[0].body.length;d++){var m=ke(n[0].body[d],"textord");h+=m.text}s=Number(h),l=s*2}var p=!l;o.body.forEach(function(g){for(var w=1;w<g.length;w+=2){var x=ke(g[w],"styling"),_=ke(x.body[0],"ordgroup");_.body.unshift(c)}if(p)l<g.length&&(l=g.length);else{var C=g.length/2;if(s<C)throw new Z("Too many math in a row: "+("expected "+s+", but got "+C),g[0])}});for(var b=0;b<l;++b){var y="r",T=0;b%2===1?y="l":b>0&&p&&(T=1),a[b]={type:"align",align:y,pregap:T,postgap:0}}return o.colSeparationType=p?"align":"alignat",o};Na({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=uu(t[0]),a=n?[t[0]]:ke(t[0],"ordgroup").body,i=a.map(function(o){var s=r1(o),l=s.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new Z("Unknown column alignment: "+l,o)}),r={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return ar(e.parser,r,d1(e.envName))},htmlBuilder:Ma,mathmlBuilder:za});Na({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",a={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var i=e.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new Z("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),a.cols=[{type:"align",align:n}]}}var r=ar(e.parser,a,d1(e.envName)),o=Math.max(0,...r.body.map(s=>s.length));return r.cols=new Array(o).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[r],left:t[0],right:t[1],rightColor:void 0}:r},htmlBuilder:Ma,mathmlBuilder:za});Na({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=ar(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:Ma,mathmlBuilder:za});Na({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=uu(t[0]),a=n?[t[0]]:ke(t[0],"ordgroup").body,i=a.map(function(o){var s=r1(o),l=s.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new Z("Unknown column alignment: "+l,o)});if(i.length>1)throw new Z("{subarray} can contain only one column");var r={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(r=ar(e.parser,r,"script"),r.body.length>0&&r.body[0].length>1)throw new Z("{subarray} can contain only one column");return r},htmlBuilder:Ma,mathmlBuilder:za});Na({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=ar(e.parser,t,d1(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Ma,mathmlBuilder:za});Na({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:bk,htmlBuilder:Ma,mathmlBuilder:za});Na({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){["gather","gather*"].includes(e.envName)&&fu(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:h1(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return ar(e.parser,t,"display")},htmlBuilder:Ma,mathmlBuilder:za});Na({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:bk,htmlBuilder:Ma,mathmlBuilder:za});Na({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){fu(e);var t={autoTag:h1(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return ar(e.parser,t,"display")},htmlBuilder:Ma,mathmlBuilder:za});Na({type:"array",names:["CD"],props:{numArgs:0},handler(e){return fu(e),JB(e.parser)},htmlBuilder:Ma,mathmlBuilder:za});S("\\nonumber","\\gdef\\@eqnsw{0}");S("\\notag","\\nonumber");oe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new Z(e.funcName+" valid only within array environment")}});var Fv=fk;oe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:a}=e,i=t[0];if(i.type!=="ordgroup")throw new Z("Invalid environment name",i);for(var r="",o=0;o<i.body.length;++o)r+=ke(i.body[o],"textord").text;if(a==="\\begin"){if(!Fv.hasOwnProperty(r))throw new Z("No such environment: "+r,i);var s=Fv[r],{args:l,optArgs:c}=n.parseArguments("\\begin{"+r+"}",s),h={mode:n.mode,envName:r,parser:n},d=s.handler(h,l,c);n.expect("\\end",!1);var m=n.nextToken,p=ke(n.parseFunction(),"environment");if(p.name!==r)throw new Z("Mismatch: \\begin{"+r+"} matched by \\end{"+p.name+"}",m);return d}return{type:"environment",mode:n.mode,name:r,nameGroup:i}}});var yk=(e,t)=>{var n=e.font,a=t.withFont(n);return De(e.body,a)},wk=(e,t)=>{var n=e.font,a=t.withFont(n);return Ke(e.body,a)},jv={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};oe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:a}=e,i=kd(t[0]),r=a;return r in jv&&(r=jv[r]),{type:"font",mode:n.mode,font:r.slice(1),body:i}},htmlBuilder:yk,mathmlBuilder:wk});oe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,a=t[0],i=Oe.isCharacterBox(a);return{type:"mclass",mode:n.mode,mclass:mu(a),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:a}],isCharacterBox:i}}});oe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:a,breakOnTokenText:i}=e,{mode:r}=n,o=n.parseExpression(!0,i),s="math"+a.slice(1);return{type:"font",mode:r,font:s,body:{type:"ordgroup",mode:n.mode,body:o}}},htmlBuilder:yk,mathmlBuilder:wk});var vk=(e,t)=>{var n=t;return e==="display"?n=n.id>=me.SCRIPT.id?n.text():me.DISPLAY:e==="text"&&n.size===me.DISPLAY.size?n=me.TEXT:e==="script"?n=me.SCRIPT:e==="scriptscript"&&(n=me.SCRIPTSCRIPT),n},u1=(e,t)=>{var n=vk(e.size,t.style),a=n.fracNum(),i=n.fracDen(),r;r=t.havingStyle(a);var o=De(e.numer,r,t);if(e.continued){var s=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;o.height=o.height<s?s:o.height,o.depth=o.depth<l?l:o.depth}r=t.havingStyle(i);var c=De(e.denom,r,t),h,d,m;e.hasBarLine?(e.barSize?(d=ht(e.barSize,t),h=W.makeLineSpan("frac-line",t,d)):h=W.makeLineSpan("frac-line",t),d=h.height,m=h.height):(h=null,d=0,m=t.fontMetrics().defaultRuleThickness);var p,b,y;n.size===me.DISPLAY.size||e.size==="display"?(p=t.fontMetrics().num1,d>0?b=3*m:b=7*m,y=t.fontMetrics().denom1):(d>0?(p=t.fontMetrics().num2,b=m):(p=t.fontMetrics().num3,b=3*m),y=t.fontMetrics().denom2);var T;if(h){var w=t.fontMetrics().axisHeight;p-o.depth-(w+.5*d)<b&&(p+=b-(p-o.depth-(w+.5*d))),w-.5*d-(c.height-y)<b&&(y+=b-(w-.5*d-(c.height-y)));var x=-(w-.5*d);T=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:y},{type:"elem",elem:h,shift:x},{type:"elem",elem:o,shift:-p}]},t)}else{var g=p-o.depth-(c.height-y);g<b&&(p+=.5*(b-g),y+=.5*(b-g)),T=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:y},{type:"elem",elem:o,shift:-p}]},t)}r=t.havingStyle(n),T.height*=r.sizeMultiplier/t.sizeMultiplier,T.depth*=r.sizeMultiplier/t.sizeMultiplier;var _;n.size===me.DISPLAY.size?_=t.fontMetrics().delim1:n.size===me.SCRIPTSCRIPT.size?_=t.havingStyle(me.SCRIPT).fontMetrics().delim2:_=t.fontMetrics().delim2;var C,A;return e.leftDelim==null?C=ql(t,["mopen"]):C=Za.customSizedDelim(e.leftDelim,_,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?A=W.makeSpan([]):e.rightDelim==null?A=ql(t,["mclose"]):A=Za.customSizedDelim(e.rightDelim,_,!0,t.havingStyle(n),e.mode,["mclose"]),W.makeSpan(["mord"].concat(r.sizingClasses(t)),[C,W.makeSpan(["mfrac"],[T]),A],t)},m1=(e,t)=>{var n=new J.MathNode("mfrac",[Ke(e.numer,t),Ke(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var a=ht(e.barSize,t);n.setAttribute("linethickness",ae(a))}var i=vk(e.size,t.style);if(i.size!==t.style.size){n=new J.MathNode("mstyle",[n]);var r=i.size===me.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",r),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var o=[];if(e.leftDelim!=null){var s=new J.MathNode("mo",[new J.TextNode(e.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),o.push(s)}if(o.push(n),e.rightDelim!=null){var l=new J.MathNode("mo",[new J.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}return a1(o)}return n};oe({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:a}=e,i=t[0],r=t[1],o,s=null,l=null,c="auto";switch(a){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,s="(",l=")";break;case"\\\\bracefrac":o=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":o=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(a){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:r,hasBarLine:o,leftDelim:s,rightDelim:l,size:c,barSize:null}},htmlBuilder:u1,mathmlBuilder:m1});oe({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:a}=e,i=t[0],r=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:r,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});oe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:a}=e,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:i,token:a}}});var Uv=["display","text","script","scriptscript"],qv=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};oe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,a=t[4],i=t[5],r=kd(t[0]),o=r.type==="atom"&&r.family==="open"?qv(r.text):null,s=kd(t[1]),l=s.type==="atom"&&s.family==="close"?qv(s.text):null,c=ke(t[2],"size"),h,d=null;c.isBlank?h=!0:(d=c.value,h=d.number>0);var m="auto",p=t[3];if(p.type==="ordgroup"){if(p.body.length>0){var b=ke(p.body[0],"textord");m=Uv[Number(b.text)]}}else p=ke(p,"textord"),m=Uv[Number(p.text)];return{type:"genfrac",mode:n.mode,numer:a,denom:i,continued:!1,hasBarLine:h,barSize:d,leftDelim:o,rightDelim:l,size:m}},htmlBuilder:u1,mathmlBuilder:m1});oe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:a,token:i}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:ke(t[0],"size").value,token:i}}});oe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:a}=e,i=t[0],r=UL(ke(t[1],"infix").size),o=t[2],s=r.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:o,continued:!1,hasBarLine:s,barSize:r,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:u1,mathmlBuilder:m1});var xk=(e,t)=>{var n=t.style,a,i;e.type==="supsub"?(a=e.sup?De(e.sup,t.havingStyle(n.sup()),t):De(e.sub,t.havingStyle(n.sub()),t),i=ke(e.base,"horizBrace")):i=ke(e,"horizBrace");var r=De(i.base,t.havingBaseStyle(me.DISPLAY)),o=li.svgSpan(i,t),s;if(i.isOver?(s=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:.1},{type:"elem",elem:o}]},t),s.children[0].children[0].children[1].classes.push("svg-align")):(s=W.makeVList({positionType:"bottom",positionData:r.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:r}]},t),s.children[0].children[0].children[0].classes.push("svg-align")),a){var l=W.makeSpan(["mord",i.isOver?"mover":"munder"],[s],t);i.isOver?s=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:a}]},t):s=W.makeVList({positionType:"bottom",positionData:l.depth+.2+a.height+a.depth,children:[{type:"elem",elem:a},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return W.makeSpan(["mord",i.isOver?"mover":"munder"],[s],t)},mF=(e,t)=>{var n=li.mathMLnode(e.label);return new J.MathNode(e.isOver?"mover":"munder",[Ke(e.base,t),n])};oe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:a}=e;return{type:"horizBrace",mode:n.mode,label:a,isOver:/^\\over/.test(a),base:t[0]}},htmlBuilder:xk,mathmlBuilder:mF});oe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,a=t[1],i=ke(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:wt(a)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=Dt(e.body,t,!1);return W.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=Ki(e.body,t);return n instanceof kn||(n=new kn("mrow",[n])),n.setAttribute("href",e.href),n}});oe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,a=ke(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:a}))return n.formatUnsupportedCmd("\\url");for(var i=[],r=0;r<a.length;r++){var o=a[r];o==="~"&&(o="\\textasciitilde"),i.push({type:"textord",mode:"text",text:o})}var s={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:a,body:wt(s)}}});oe({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:wt(t[0])}},htmlBuilder(e,t){var n=Dt(e.body,t,!1);return W.makeFragment(n)},mathmlBuilder(e,t){return new J.MathNode("mrow",yn(e.body,t))}});oe({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:a,token:i}=e,r=ke(t[0],"raw").string,o=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var s,l={};switch(a){case"\\htmlClass":l.class=r,s={command:"\\htmlClass",class:r};break;case"\\htmlId":l.id=r,s={command:"\\htmlId",id:r};break;case"\\htmlStyle":l.style=r,s={command:"\\htmlStyle",style:r};break;case"\\htmlData":{for(var c=r.split(","),h=0;h<c.length;h++){var d=c[h],m=d.indexOf("=");if(m<0)throw new Z("\\htmlData key/value '"+d+"' missing equals sign");var p=d.slice(0,m),b=d.slice(m+1);l["data-"+p.trim()]=b}s={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(s)?{type:"html",mode:n.mode,attributes:l,body:wt(o)}:n.formatUnsupportedCmd(a)},htmlBuilder:(e,t)=>{var n=Dt(e.body,t,!1),a=["enclosing"];e.attributes.class&&a.push(...e.attributes.class.trim().split(/\s+/));var i=W.makeSpan(a,n,t);for(var r in e.attributes)r!=="class"&&e.attributes.hasOwnProperty(r)&&i.setAttribute(r,e.attributes[r]);return i},mathmlBuilder:(e,t)=>Ki(e.body,t)});oe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:wt(t[0]),mathml:wt(t[1])}},htmlBuilder:(e,t)=>{var n=Dt(e.html,t,!1);return W.makeFragment(n)},mathmlBuilder:(e,t)=>Ki(e.mathml,t)});var qm=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new Z("Invalid size: '"+t+"' in \\includegraphics");var a={number:+(n[1]+n[2]),unit:n[3]};if(!FT(a))throw new Z("Invalid unit: '"+a.unit+"' in \\includegraphics.");return a};oe({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:a}=e,i={number:0,unit:"em"},r={number:.9,unit:"em"},o={number:0,unit:"em"},s="";if(n[0])for(var l=ke(n[0],"raw").string,c=l.split(","),h=0;h<c.length;h++){var d=c[h].split("=");if(d.length===2){var m=d[1].trim();switch(d[0].trim()){case"alt":s=m;break;case"width":i=qm(m);break;case"height":r=qm(m);break;case"totalheight":o=qm(m);break;default:throw new Z("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var p=ke(t[0],"url").url;return s===""&&(s=p,s=s.replace(/^.*[\\/]/,""),s=s.substring(0,s.lastIndexOf("."))),a.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:a.mode,alt:s,width:i,height:r,totalheight:o,src:p}:a.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=ht(e.height,t),a=0;e.totalheight.number>0&&(a=ht(e.totalheight,t)-n);var i=0;e.width.number>0&&(i=ht(e.width,t));var r={height:ae(n+a)};i>0&&(r.width=ae(i)),a>0&&(r.verticalAlign=ae(-a));var o=new mB(e.src,e.alt,r);return o.height=n,o.depth=a,o},mathmlBuilder:(e,t)=>{var n=new J.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var a=ht(e.height,t),i=0;if(e.totalheight.number>0&&(i=ht(e.totalheight,t)-a,n.setAttribute("valign",ae(-i))),n.setAttribute("height",ae(a+i)),e.width.number>0){var r=ht(e.width,t);n.setAttribute("width",ae(r))}return n.setAttribute("src",e.src),n}});oe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:a}=e,i=ke(t[0],"size");if(n.settings.strict){var r=a[1]==="m",o=i.value.unit==="mu";r?(o||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+a+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+a+" works only in math mode")):o&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+a+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(e,t){return W.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=ht(e.dimension,t);return new J.SpaceNode(n)}});oe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:a}=e,i=t[0];return{type:"lap",mode:n.mode,alignment:a.slice(5),body:i}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=W.makeSpan([],[De(e.body,t)]),n=W.makeSpan(["inner"],[n],t)):n=W.makeSpan(["inner"],[De(e.body,t)]);var a=W.makeSpan(["fix"],[]),i=W.makeSpan([e.alignment],[n,a],t),r=W.makeSpan(["strut"]);return r.style.height=ae(i.height+i.depth),i.depth&&(r.style.verticalAlign=ae(-i.depth)),i.children.unshift(r),i=W.makeSpan(["thinbox"],[i],t),W.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:(e,t)=>{var n=new J.MathNode("mpadded",[Ke(e.body,t)]);if(e.alignment!=="rlap"){var a=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",a+"width")}return n.setAttribute("width","0px"),n}});oe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:a}=e,i=a.mode;a.switchMode("math");var r=n==="\\("?"\\)":"$",o=a.parseExpression(!1,r);return a.expect(r),a.switchMode(i),{type:"styling",mode:a.mode,style:"text",body:o}}});oe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new Z("Mismatched "+e.funcName)}});var Hv=(e,t)=>{switch(t.style.size){case me.DISPLAY.size:return e.display;case me.TEXT.size:return e.text;case me.SCRIPT.size:return e.script;case me.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};oe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:wt(t[0]),text:wt(t[1]),script:wt(t[2]),scriptscript:wt(t[3])}},htmlBuilder:(e,t)=>{var n=Hv(e,t),a=Dt(n,t,!1);return W.makeFragment(a)},mathmlBuilder:(e,t)=>{var n=Hv(e,t);return Ki(n,t)}});var _k=(e,t,n,a,i,r,o)=>{e=W.makeSpan([],[e]);var s=n&&Oe.isCharacterBox(n),l,c;if(t){var h=De(t,a.havingStyle(i.sup()),a);c={elem:h,kern:Math.max(a.fontMetrics().bigOpSpacing1,a.fontMetrics().bigOpSpacing3-h.depth)}}if(n){var d=De(n,a.havingStyle(i.sub()),a);l={elem:d,kern:Math.max(a.fontMetrics().bigOpSpacing2,a.fontMetrics().bigOpSpacing4-d.height)}}var m;if(c&&l){var p=a.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+e.depth+o;m=W.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:a.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:ae(-r)},{type:"kern",size:l.kern},{type:"elem",elem:e},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:ae(r)},{type:"kern",size:a.fontMetrics().bigOpSpacing5}]},a)}else if(l){var b=e.height-o;m=W.makeVList({positionType:"top",positionData:b,children:[{type:"kern",size:a.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:ae(-r)},{type:"kern",size:l.kern},{type:"elem",elem:e}]},a)}else if(c){var y=e.depth+o;m=W.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:e},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:ae(r)},{type:"kern",size:a.fontMetrics().bigOpSpacing5}]},a)}else return e;var T=[m];if(l&&r!==0&&!s){var g=W.makeSpan(["mspace"],[],a);g.style.marginRight=ae(r),T.unshift(g)}return W.makeSpan(["mop","op-limits"],T,a)},Tk=["\\smallint"],ws=(e,t)=>{var n,a,i=!1,r;e.type==="supsub"?(n=e.sup,a=e.sub,r=ke(e.base,"op"),i=!0):r=ke(e,"op");var o=t.style,s=!1;o.size===me.DISPLAY.size&&r.symbol&&!Tk.includes(r.name)&&(s=!0);var l;if(r.symbol){var c=s?"Size2-Regular":"Size1-Regular",h="";if((r.name==="\\oiint"||r.name==="\\oiiint")&&(h=r.name.slice(1),r.name=h==="oiint"?"\\iint":"\\iiint"),l=W.makeSymbol(r.name,c,"math",t,["mop","op-symbol",s?"large-op":"small-op"]),h.length>0){var d=l.italic,m=W.staticSvg(h+"Size"+(s?"2":"1"),t);l=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:m,shift:s?.08:0}]},t),r.name="\\"+h,l.classes.unshift("mop"),l.italic=d}}else if(r.body){var p=Dt(r.body,t,!0);p.length===1&&p[0]instanceof ea?(l=p[0],l.classes[0]="mop"):l=W.makeSpan(["mop"],p,t)}else{for(var b=[],y=1;y<r.name.length;y++)b.push(W.mathsym(r.name[y],r.mode,t));l=W.makeSpan(["mop"],b,t)}var T=0,g=0;return(l instanceof ea||r.name==="\\oiint"||r.name==="\\oiiint")&&!r.suppressBaseShift&&(T=(l.height-l.depth)/2-t.fontMetrics().axisHeight,g=l.italic),i?_k(l,n,a,t,o,g,T):(T&&(l.style.position="relative",l.style.top=ae(T)),l)},yc=(e,t)=>{var n;if(e.symbol)n=new kn("mo",[ta(e.name,e.mode)]),Tk.includes(e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new kn("mo",yn(e.body,t));else{n=new kn("mi",[new _a(e.name.slice(1))]);var a=new kn("mo",[ta("","text")]);e.parentIsSupSub?n=new kn("mrow",[n,a]):n=QT([n,a])}return n},pF={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};oe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:a}=e,i=a;return i.length===1&&(i=pF[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:ws,mathmlBuilder:yc});oe({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,a=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:wt(a)}},htmlBuilder:ws,mathmlBuilder:yc});var fF={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};oe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:ws,mathmlBuilder:yc});oe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:ws,mathmlBuilder:yc});oe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(e){var{parser:t,funcName:n}=e,a=n;return a.length===1&&(a=fF[a]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:ws,mathmlBuilder:yc});var kk=(e,t)=>{var n,a,i=!1,r;e.type==="supsub"?(n=e.sup,a=e.sub,r=ke(e.base,"operatorname"),i=!0):r=ke(e,"operatorname");var o;if(r.body.length>0){for(var s=r.body.map(d=>{var m=d.text;return typeof m=="string"?{type:"textord",mode:d.mode,text:m}:d}),l=Dt(s,t.withFont("mathrm"),!0),c=0;c<l.length;c++){var h=l[c];h instanceof ea&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=W.makeSpan(["mop"],l,t)}else o=W.makeSpan(["mop"],[],t);return i?_k(o,n,a,t,t.style,0,0):o},gF=(e,t)=>{for(var n=yn(e.body,t.withFont("mathrm")),a=!0,i=0;i<n.length;i++){var r=n[i];if(!(r instanceof J.SpaceNode))if(r instanceof J.MathNode)switch(r.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var o=r.children[0];r.children.length===1&&o instanceof J.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):a=!1;break}default:a=!1}else a=!1}if(a){var s=n.map(h=>h.toText()).join("");n=[new J.TextNode(s)]}var l=new J.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new J.MathNode("mo",[ta("","text")]);return e.parentIsSupSub?new J.MathNode("mrow",[l,c]):J.newDocumentFragment([l,c])};oe({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:a}=e,i=t[0];return{type:"operatorname",mode:n.mode,body:wt(i),alwaysHandleSupSub:a==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:kk,mathmlBuilder:gF});S("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Gr({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?W.makeFragment(Dt(e.body,t,!1)):W.makeSpan(["mord"],Dt(e.body,t,!0),t)},mathmlBuilder(e,t){return Ki(e.body,t,!0)}});oe({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,a=t[0];return{type:"overline",mode:n.mode,body:a}},htmlBuilder(e,t){var n=De(e.body,t.havingCrampedStyle()),a=W.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,r=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:a},{type:"kern",size:i}]},t);return W.makeSpan(["mord","overline"],[r],t)},mathmlBuilder(e,t){var n=new J.MathNode("mo",[new J.TextNode("")]);n.setAttribute("stretchy","true");var a=new J.MathNode("mover",[Ke(e.body,t),n]);return a.setAttribute("accent","true"),a}});oe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,a=t[0];return{type:"phantom",mode:n.mode,body:wt(a)}},htmlBuilder:(e,t)=>{var n=Dt(e.body,t.withPhantom(),!1);return W.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=yn(e.body,t);return new J.MathNode("mphantom",n)}});oe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,a=t[0];return{type:"hphantom",mode:n.mode,body:a}},htmlBuilder:(e,t)=>{var n=W.makeSpan([],[De(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var a=0;a<n.children.length;a++)n.children[a].height=0,n.children[a].depth=0;return n=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),W.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=yn(wt(e.body),t),a=new J.MathNode("mphantom",n),i=new J.MathNode("mpadded",[a]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});oe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,a=t[0];return{type:"vphantom",mode:n.mode,body:a}},htmlBuilder:(e,t)=>{var n=W.makeSpan(["inner"],[De(e.body,t.withPhantom())]),a=W.makeSpan(["fix"],[]);return W.makeSpan(["mord","rlap"],[n,a],t)},mathmlBuilder:(e,t)=>{var n=yn(wt(e.body),t),a=new J.MathNode("mphantom",n),i=new J.MathNode("mpadded",[a]);return i.setAttribute("width","0px"),i}});oe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,a=ke(t[0],"size").value,i=t[1];return{type:"raisebox",mode:n.mode,dy:a,body:i}},htmlBuilder(e,t){var n=De(e.body,t),a=ht(e.dy,t);return W.makeVList({positionType:"shift",positionData:-a,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new J.MathNode("mpadded",[Ke(e.body,t)]),a=e.dy.number+e.dy.unit;return n.setAttribute("voffset",a),n}});oe({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});oe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,n){var{parser:a}=e,i=n[0],r=ke(t[0],"size"),o=ke(t[1],"size");return{type:"rule",mode:a.mode,shift:i&&ke(i,"size").value,width:r.value,height:o.value}},htmlBuilder(e,t){var n=W.makeSpan(["mord","rule"],[],t),a=ht(e.width,t),i=ht(e.height,t),r=e.shift?ht(e.shift,t):0;return n.style.borderRightWidth=ae(a),n.style.borderTopWidth=ae(i),n.style.bottom=ae(r),n.width=a,n.height=i+r,n.depth=-r,n.maxFontSize=i*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=ht(e.width,t),a=ht(e.height,t),i=e.shift?ht(e.shift,t):0,r=t.color&&t.getColor()||"black",o=new J.MathNode("mspace");o.setAttribute("mathbackground",r),o.setAttribute("width",ae(n)),o.setAttribute("height",ae(a));var s=new J.MathNode("mpadded",[o]);return i>=0?s.setAttribute("height",ae(i)):(s.setAttribute("height",ae(i)),s.setAttribute("depth",ae(-i))),s.setAttribute("voffset",ae(i)),s}});function Ak(e,t,n){for(var a=Dt(e,t,!1),i=t.sizeMultiplier/n.sizeMultiplier,r=0;r<a.length;r++){var o=a[r].classes.indexOf("sizing");o<0?Array.prototype.push.apply(a[r].classes,t.sizingClasses(n)):a[r].classes[o+1]==="reset-size"+t.size&&(a[r].classes[o+1]="reset-size"+n.size),a[r].height*=i,a[r].depth*=i}return W.makeFragment(a)}var Wv=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],bF=(e,t)=>{var n=t.havingSize(e.size);return Ak(e.body,n,t)};oe({type:"sizing",names:Wv,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:a,parser:i}=e,r=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:Wv.indexOf(a)+1,body:r}},htmlBuilder:bF,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),a=yn(e.body,n),i=new J.MathNode("mstyle",a);return i.setAttribute("mathsize",ae(n.sizeMultiplier)),i}});oe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:a}=e,i=!1,r=!1,o=n[0]&&ke(n[0],"ordgroup");if(o)for(var s="",l=0;l<o.body.length;++l){var c=o.body[l];if(s=c.text,s==="t")i=!0;else if(s==="b")r=!0;else{i=!1,r=!1;break}}else i=!0,r=!0;var h=t[0];return{type:"smash",mode:a.mode,body:h,smashHeight:i,smashDepth:r}},htmlBuilder:(e,t)=>{var n=W.makeSpan([],[De(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var a=0;a<n.children.length;a++)n.children[a].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var r=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return W.makeSpan(["mord"],[r],t)},mathmlBuilder:(e,t)=>{var n=new J.MathNode("mpadded",[Ke(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});oe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:a}=e,i=n[0],r=t[0];return{type:"sqrt",mode:a.mode,body:r,index:i}},htmlBuilder(e,t){var n=De(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=W.wrapFragment(n,t);var a=t.fontMetrics(),i=a.defaultRuleThickness,r=i;t.style.id<me.TEXT.id&&(r=t.fontMetrics().xHeight);var o=i+r/4,s=n.height+n.depth+o+i,{span:l,ruleWidth:c,advanceWidth:h}=Za.sqrtImage(s,t),d=l.height-c;d>n.height+n.depth+o&&(o=(o+d-n.height-n.depth)/2);var m=l.height-n.height-o-c;n.style.paddingLeft=ae(h);var p=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+m)},{type:"elem",elem:l},{type:"kern",size:c}]},t);if(e.index){var b=t.havingStyle(me.SCRIPTSCRIPT),y=De(e.index,b,t),T=.6*(p.height-p.depth),g=W.makeVList({positionType:"shift",positionData:-T,children:[{type:"elem",elem:y}]},t),w=W.makeSpan(["root"],[g]);return W.makeSpan(["mord","sqrt"],[w,p],t)}else return W.makeSpan(["mord","sqrt"],[p],t)},mathmlBuilder(e,t){var{body:n,index:a}=e;return a?new J.MathNode("mroot",[Ke(n,t),Ke(a,t)]):new J.MathNode("msqrt",[Ke(n,t)])}});var Gv={display:me.DISPLAY,text:me.TEXT,script:me.SCRIPT,scriptscript:me.SCRIPTSCRIPT};oe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:a,parser:i}=e,r=i.parseExpression(!0,n),o=a.slice(1,a.length-5);return{type:"styling",mode:i.mode,style:o,body:r}},htmlBuilder(e,t){var n=Gv[e.style],a=t.havingStyle(n).withFont("");return Ak(e.body,a,t)},mathmlBuilder(e,t){var n=Gv[e.style],a=t.havingStyle(n),i=yn(e.body,a),r=new J.MathNode("mstyle",i),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},s=o[e.style];return r.setAttribute("scriptlevel",s[0]),r.setAttribute("displaystyle",s[1]),r}});var yF=function(t,n){var a=t.base;if(a)if(a.type==="op"){var i=a.limits&&(n.style.size===me.DISPLAY.size||a.alwaysHandleSupSub);return i?ws:null}else if(a.type==="operatorname"){var r=a.alwaysHandleSupSub&&(n.style.size===me.DISPLAY.size||a.limits);return r?kk:null}else{if(a.type==="accent")return Oe.isCharacterBox(a.base)?o1:null;if(a.type==="horizBrace"){var o=!t.sub;return o===a.isOver?xk:null}else return null}else return null};Gr({type:"supsub",htmlBuilder(e,t){var n=yF(e,t);if(n)return n(e,t);var{base:a,sup:i,sub:r}=e,o=De(a,t),s,l,c=t.fontMetrics(),h=0,d=0,m=a&&Oe.isCharacterBox(a);if(i){var p=t.havingStyle(t.style.sup());s=De(i,p,t),m||(h=o.height-p.fontMetrics().supDrop*p.sizeMultiplier/t.sizeMultiplier)}if(r){var b=t.havingStyle(t.style.sub());l=De(r,b,t),m||(d=o.depth+b.fontMetrics().subDrop*b.sizeMultiplier/t.sizeMultiplier)}var y;t.style===me.DISPLAY?y=c.sup1:t.style.cramped?y=c.sup3:y=c.sup2;var T=t.sizeMultiplier,g=ae(.5/c.ptPerEm/T),w=null;if(l){var x=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(o instanceof ea||x)&&(w=ae(-o.italic))}var _;if(s&&l){h=Math.max(h,y,s.depth+.25*c.xHeight),d=Math.max(d,c.sub2);var C=c.defaultRuleThickness,A=4*C;if(h-s.depth-(l.height-d)<A){d=A-(h-s.depth)+l.height;var M=.8*c.xHeight-(h-s.depth);M>0&&(h+=M,d-=M)}var I=[{type:"elem",elem:l,shift:d,marginRight:g,marginLeft:w},{type:"elem",elem:s,shift:-h,marginRight:g}];_=W.makeVList({positionType:"individualShift",children:I},t)}else if(l){d=Math.max(d,c.sub1,l.height-.8*c.xHeight);var R=[{type:"elem",elem:l,marginLeft:w,marginRight:g}];_=W.makeVList({positionType:"shift",positionData:d,children:R},t)}else if(s)h=Math.max(h,y,s.depth+.25*c.xHeight),_=W.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:s,marginRight:g}]},t);else throw new Error("supsub must have either sup or sub.");var z=jf(o,"right")||"mord";return W.makeSpan([z],[o,W.makeSpan(["msupsub"],[_])],t)},mathmlBuilder(e,t){var n=!1,a,i;e.base&&e.base.type==="horizBrace"&&(i=!!e.sup,i===e.base.isOver&&(n=!0,a=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var r=[Ke(e.base,t)];e.sub&&r.push(Ke(e.sub,t)),e.sup&&r.push(Ke(e.sup,t));var o;if(n)o=a?"mover":"munder";else if(e.sub)if(e.sup){var c=e.base;c&&c.type==="op"&&c.limits&&t.style===me.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(t.style===me.DISPLAY||c.limits)?o="munderover":o="msubsup"}else{var l=e.base;l&&l.type==="op"&&l.limits&&(t.style===me.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===me.DISPLAY)?o="munder":o="msub"}else{var s=e.base;s&&s.type==="op"&&s.limits&&(t.style===me.DISPLAY||s.alwaysHandleSupSub)||s&&s.type==="operatorname"&&s.alwaysHandleSupSub&&(s.limits||t.style===me.DISPLAY)?o="mover":o="msup"}return new J.MathNode(o,r)}});Gr({type:"atom",htmlBuilder(e,t){return W.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new J.MathNode("mo",[ta(e.text,e.mode)]);if(e.family==="bin"){var a=i1(e,t);a==="bold-italic"&&n.setAttribute("mathvariant",a)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var Sk={mi:"italic",mn:"normal",mtext:"normal"};Gr({type:"mathord",htmlBuilder(e,t){return W.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new J.MathNode("mi",[ta(e.text,e.mode,t)]),a=i1(e,t)||"italic";return a!==Sk[n.type]&&n.setAttribute("mathvariant",a),n}});Gr({type:"textord",htmlBuilder(e,t){return W.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=ta(e.text,e.mode,t),a=i1(e,t)||"normal",i;return e.mode==="text"?i=new J.MathNode("mtext",[n]):/[0-9]/.test(e.text)?i=new J.MathNode("mn",[n]):e.text==="\\prime"?i=new J.MathNode("mo",[n]):i=new J.MathNode("mi",[n]),a!==Sk[i.type]&&i.setAttribute("mathvariant",a),i}});var Hm={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Wm={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Gr({type:"spacing",htmlBuilder(e,t){if(Wm.hasOwnProperty(e.text)){var n=Wm[e.text].className||"";if(e.mode==="text"){var a=W.makeOrd(e,t,"textord");return a.classes.push(n),a}else return W.makeSpan(["mspace",n],[W.mathsym(e.text,e.mode,t)],t)}else{if(Hm.hasOwnProperty(e.text))return W.makeSpan(["mspace",Hm[e.text]],[],t);throw new Z('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(Wm.hasOwnProperty(e.text))n=new J.MathNode("mtext",[new J.TextNode("")]);else{if(Hm.hasOwnProperty(e.text))return new J.MathNode("mspace");throw new Z('Unknown type of space "'+e.text+'"')}return n}});var Vv=()=>{var e=new J.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};Gr({type:"tag",mathmlBuilder(e,t){var n=new J.MathNode("mtable",[new J.MathNode("mtr",[Vv(),new J.MathNode("mtd",[Ki(e.body,t)]),Vv(),new J.MathNode("mtd",[Ki(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var Xv={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Yv={"\\textbf":"textbf","\\textmd":"textmd"},wF={"\\textit":"textit","\\textup":"textup"},Kv=(e,t)=>{var n=e.font;if(n){if(Xv[n])return t.withTextFontFamily(Xv[n]);if(Yv[n])return t.withTextFontWeight(Yv[n]);if(n==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(wF[n])};oe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:a}=e,i=t[0];return{type:"text",mode:n.mode,body:wt(i),font:a}},htmlBuilder(e,t){var n=Kv(e,t),a=Dt(e.body,n,!0);return W.makeSpan(["mord","text"],a,n)},mathmlBuilder(e,t){var n=Kv(e,t);return Ki(e.body,n)}});oe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=De(e.body,t),a=W.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,r=W.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:a},{type:"kern",size:3*i},{type:"elem",elem:n}]},t);return W.makeSpan(["mord","underline"],[r],t)},mathmlBuilder(e,t){var n=new J.MathNode("mo",[new J.TextNode("")]);n.setAttribute("stretchy","true");var a=new J.MathNode("munder",[Ke(e.body,t),n]);return a.setAttribute("accentunder","true"),a}});oe({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=De(e.body,t),a=t.fontMetrics().axisHeight,i=.5*(n.height-a-(n.depth+a));return W.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new J.MathNode("mpadded",[Ke(e.body,t)],["vcenter"])}});oe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new Z("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=Qv(e),a=[],i=t.havingStyle(t.style.text()),r=0;r<n.length;r++){var o=n[r];o==="~"&&(o="\\textasciitilde"),a.push(W.makeSymbol(o,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return W.makeSpan(["mord","text"].concat(i.sizingClasses(t)),W.tryCombineChars(a),i)},mathmlBuilder(e,t){var n=new J.TextNode(Qv(e)),a=new J.MathNode("mtext",[n]);return a.setAttribute("mathvariant","monospace"),a}});var Qv=e=>e.body.replace(/ /g,e.star?"":""),zi=YT,Ck=`[ \r
	]`,vF="\\\\[a-zA-Z@]+",xF="\\\\[^\uD800-\uDFFF]",_F="("+vF+")"+Ck+"*",TF=`\\\\(
|[ \r	]+
?)[ \r	]*`,Wf="[-]",kF=new RegExp(Wf+"+$"),AF="("+Ck+"+)|"+(TF+"|")+"([!-\\[\\]---]"+(Wf+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Wf+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+_F)+("|"+xF+")");class Jv{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(AF,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new Mn("EOF",new dn(this,n,n));var a=this.tokenRegex.exec(t);if(a===null||a.index!==n)throw new Z("Unexpected character: '"+t[n]+"'",new Mn(t[n],new dn(this,n,n+1)));var i=a[6]||a[3]||(a[2]?"\\ ":" ");if(this.catcodes[i]===14){var r=t.indexOf(`
`,this.tokenRegex.lastIndex);return r===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=r+1,this.lex()}return new Mn(i,new dn(this,n,this.tokenRegex.lastIndex))}}class SF{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Z("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,a){if(a===void 0&&(a=!1),a){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var r=this.undefStack[this.undefStack.length-1];r&&!r.hasOwnProperty(t)&&(r[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var CF=gk;S("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});S("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});S("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});S("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});S("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});S("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");S("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var Zv={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};S("\\char",function(e){var t=e.popToken(),n,a="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")a=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new Z("\\char` missing argument");a=t.text.charCodeAt(0)}else n=10;if(n){if(a=Zv[t.text],a==null||a>=n)throw new Z("Invalid base-"+n+" digit "+t.text);for(var i;(i=Zv[e.future().text])!=null&&i<n;)a*=n,a+=i,e.popToken()}return"\\@char{"+a+"}"});var p1=(e,t,n,a)=>{var i=e.consumeArg().tokens;if(i.length!==1)throw new Z("\\newcommand's first argument must be a macro name");var r=i[0].text,o=e.isDefined(r);if(o&&!t)throw new Z("\\newcommand{"+r+"} attempting to redefine "+(r+"; use \\renewcommand"));if(!o&&!n)throw new Z("\\renewcommand{"+r+"} when command "+r+" does not yet exist; use \\newcommand");var s=0;if(i=e.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var l="",c=e.expandNextToken();c.text!=="]"&&c.text!=="EOF";)l+=c.text,c=e.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new Z("Invalid number of arguments: "+l);s=parseInt(l),i=e.consumeArg().tokens}return o&&a||e.macros.set(r,{tokens:i,numArgs:s}),""};S("\\newcommand",e=>p1(e,!1,!0,!1));S("\\renewcommand",e=>p1(e,!0,!1,!1));S("\\providecommand",e=>p1(e,!0,!0,!0));S("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});S("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});S("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),zi[n],et.math[n],et.text[n]),""});S("\\bgroup","{");S("\\egroup","}");S("~","\\nobreakspace");S("\\lq","`");S("\\rq","'");S("\\aa","\\r a");S("\\AA","\\r A");S("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");S("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");S("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");S("","\\mathscr{B}");S("","\\mathscr{E}");S("","\\mathscr{F}");S("","\\mathscr{H}");S("","\\mathscr{I}");S("","\\mathscr{L}");S("","\\mathscr{M}");S("","\\mathscr{R}");S("","\\mathfrak{C}");S("","\\mathfrak{H}");S("","\\mathfrak{Z}");S("\\Bbbk","\\Bbb{k}");S("","\\cdotp");S("\\llap","\\mathllap{\\textrm{#1}}");S("\\rlap","\\mathrlap{\\textrm{#1}}");S("\\clap","\\mathclap{\\textrm{#1}}");S("\\mathstrut","\\vphantom{(}");S("\\underbar","\\underline{\\text{#1}}");S("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');S("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");S("\\ne","\\neq");S("","\\neq");S("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");S("","\\notin");S("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");S("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");S("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");S("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");S("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");S("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");S("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");S("","\\perp");S("","\\mathclose{!\\mkern-0.8mu!}");S("","\\notni");S("","\\ulcorner");S("","\\urcorner");S("","\\llcorner");S("","\\lrcorner");S("","\\copyright");S("","\\textregistered");S("","\\textregistered");S("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');S("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');S("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');S("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');S("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");S("","\\vdots");S("\\varGamma","\\mathit{\\Gamma}");S("\\varDelta","\\mathit{\\Delta}");S("\\varTheta","\\mathit{\\Theta}");S("\\varLambda","\\mathit{\\Lambda}");S("\\varXi","\\mathit{\\Xi}");S("\\varPi","\\mathit{\\Pi}");S("\\varSigma","\\mathit{\\Sigma}");S("\\varUpsilon","\\mathit{\\Upsilon}");S("\\varPhi","\\mathit{\\Phi}");S("\\varPsi","\\mathit{\\Psi}");S("\\varOmega","\\mathit{\\Omega}");S("\\substack","\\begin{subarray}{c}#1\\end{subarray}");S("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");S("\\boxed","\\fbox{$\\displaystyle{#1}$}");S("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");S("\\implies","\\DOTSB\\;\\Longrightarrow\\;");S("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");S("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");S("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var ex={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};S("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in ex?t=ex[n]:(n.slice(0,4)==="\\not"||n in et.math&&["bin","rel"].includes(et.math[n].group))&&(t="\\dotsb"),t});var f1={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};S("\\dotso",function(e){var t=e.future().text;return t in f1?"\\ldots\\,":"\\ldots"});S("\\dotsc",function(e){var t=e.future().text;return t in f1&&t!==","?"\\ldots\\,":"\\ldots"});S("\\cdots",function(e){var t=e.future().text;return t in f1?"\\@cdots\\,":"\\@cdots"});S("\\dotsb","\\cdots");S("\\dotsm","\\cdots");S("\\dotsi","\\!\\cdots");S("\\dotsx","\\ldots\\,");S("\\DOTSI","\\relax");S("\\DOTSB","\\relax");S("\\DOTSX","\\relax");S("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");S("\\,","\\tmspace+{3mu}{.1667em}");S("\\thinspace","\\,");S("\\>","\\mskip{4mu}");S("\\:","\\tmspace+{4mu}{.2222em}");S("\\medspace","\\:");S("\\;","\\tmspace+{5mu}{.2777em}");S("\\thickspace","\\;");S("\\!","\\tmspace-{3mu}{.1667em}");S("\\negthinspace","\\!");S("\\negmedspace","\\tmspace-{4mu}{.2222em}");S("\\negthickspace","\\tmspace-{5mu}{.277em}");S("\\enspace","\\kern.5em ");S("\\enskip","\\hskip.5em\\relax");S("\\quad","\\hskip1em\\relax");S("\\qquad","\\hskip2em\\relax");S("\\tag","\\@ifstar\\tag@literal\\tag@paren");S("\\tag@paren","\\tag@literal{({#1})}");S("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new Z("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});S("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");S("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");S("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");S("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");S("\\newline","\\\\\\relax");S("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Ek=ae(xa["Main-Regular"][84][1]-.7*xa["Main-Regular"][65][1]);S("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Ek+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");S("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Ek+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");S("\\hspace","\\@ifstar\\@hspacer\\@hspace");S("\\@hspace","\\hskip #1\\relax");S("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");S("\\ordinarycolon",":");S("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");S("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');S("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');S("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');S("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');S("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');S("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');S("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');S("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');S("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');S("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');S("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');S("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');S("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');S("","\\dblcolon");S("","\\eqcolon");S("","\\coloneqq");S("","\\eqqcolon");S("","\\Coloneqq");S("\\ratio","\\vcentcolon");S("\\coloncolon","\\dblcolon");S("\\colonequals","\\coloneqq");S("\\coloncolonequals","\\Coloneqq");S("\\equalscolon","\\eqqcolon");S("\\equalscoloncolon","\\Eqqcolon");S("\\colonminus","\\coloneq");S("\\coloncolonminus","\\Coloneq");S("\\minuscolon","\\eqcolon");S("\\minuscoloncolon","\\Eqcolon");S("\\coloncolonapprox","\\Colonapprox");S("\\coloncolonsim","\\Colonsim");S("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");S("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");S("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");S("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");S("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");S("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");S("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");S("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");S("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");S("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");S("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");S("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");S("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");S("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");S("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");S("\\ngeqq","\\html@mathml{\\@ngeqq}{}");S("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");S("\\nleqq","\\html@mathml{\\@nleqq}{}");S("\\nleqslant","\\html@mathml{\\@nleqslant}{}");S("\\nshortmid","\\html@mathml{\\@nshortmid}{}");S("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");S("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");S("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");S("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");S("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");S("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");S("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");S("\\imath","\\html@mathml{\\@imath}{}");S("\\jmath","\\html@mathml{\\@jmath}{}");S("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");S("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");S("","\\llbracket");S("","\\rrbracket");S("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");S("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");S("","\\lBrace");S("","\\rBrace");S("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");S("","\\minuso");S("\\darr","\\downarrow");S("\\dArr","\\Downarrow");S("\\Darr","\\Downarrow");S("\\lang","\\langle");S("\\rang","\\rangle");S("\\uarr","\\uparrow");S("\\uArr","\\Uparrow");S("\\Uarr","\\Uparrow");S("\\N","\\mathbb{N}");S("\\R","\\mathbb{R}");S("\\Z","\\mathbb{Z}");S("\\alef","\\aleph");S("\\alefsym","\\aleph");S("\\Alpha","\\mathrm{A}");S("\\Beta","\\mathrm{B}");S("\\bull","\\bullet");S("\\Chi","\\mathrm{X}");S("\\clubs","\\clubsuit");S("\\cnums","\\mathbb{C}");S("\\Complex","\\mathbb{C}");S("\\Dagger","\\ddagger");S("\\diamonds","\\diamondsuit");S("\\empty","\\emptyset");S("\\Epsilon","\\mathrm{E}");S("\\Eta","\\mathrm{H}");S("\\exist","\\exists");S("\\harr","\\leftrightarrow");S("\\hArr","\\Leftrightarrow");S("\\Harr","\\Leftrightarrow");S("\\hearts","\\heartsuit");S("\\image","\\Im");S("\\infin","\\infty");S("\\Iota","\\mathrm{I}");S("\\isin","\\in");S("\\Kappa","\\mathrm{K}");S("\\larr","\\leftarrow");S("\\lArr","\\Leftarrow");S("\\Larr","\\Leftarrow");S("\\lrarr","\\leftrightarrow");S("\\lrArr","\\Leftrightarrow");S("\\Lrarr","\\Leftrightarrow");S("\\Mu","\\mathrm{M}");S("\\natnums","\\mathbb{N}");S("\\Nu","\\mathrm{N}");S("\\Omicron","\\mathrm{O}");S("\\plusmn","\\pm");S("\\rarr","\\rightarrow");S("\\rArr","\\Rightarrow");S("\\Rarr","\\Rightarrow");S("\\real","\\Re");S("\\reals","\\mathbb{R}");S("\\Reals","\\mathbb{R}");S("\\Rho","\\mathrm{P}");S("\\sdot","\\cdot");S("\\sect","\\S");S("\\spades","\\spadesuit");S("\\sub","\\subset");S("\\sube","\\subseteq");S("\\supe","\\supseteq");S("\\Tau","\\mathrm{T}");S("\\thetasym","\\vartheta");S("\\weierp","\\wp");S("\\Zeta","\\mathrm{Z}");S("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");S("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");S("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");S("\\bra","\\mathinner{\\langle{#1}|}");S("\\ket","\\mathinner{|{#1}\\rangle}");S("\\braket","\\mathinner{\\langle{#1}\\rangle}");S("\\Bra","\\left\\langle#1\\right|");S("\\Ket","\\left|#1\\right\\rangle");var Ik=e=>t=>{var n=t.consumeArg().tokens,a=t.consumeArg().tokens,i=t.consumeArg().tokens,r=t.consumeArg().tokens,o=t.macros.get("|"),s=t.macros.get("\\|");t.macros.beginGroup();var l=d=>m=>{e&&(m.macros.set("|",o),i.length&&m.macros.set("\\|",s));var p=d;if(!d&&i.length){var b=m.future();b.text==="|"&&(m.popToken(),p=!0)}return{tokens:p?i:a,numArgs:0}};t.macros.set("|",l(!1)),i.length&&t.macros.set("\\|",l(!0));var c=t.consumeArg().tokens,h=t.expandTokens([...r,...c,...n]);return t.macros.endGroup(),{tokens:h.reverse(),numArgs:0}};S("\\bra@ket",Ik(!1));S("\\bra@set",Ik(!0));S("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");S("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");S("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");S("\\angln","{\\angl n}");S("\\blue","\\textcolor{##6495ed}{#1}");S("\\orange","\\textcolor{##ffa500}{#1}");S("\\pink","\\textcolor{##ff00af}{#1}");S("\\red","\\textcolor{##df0030}{#1}");S("\\green","\\textcolor{##28ae7b}{#1}");S("\\gray","\\textcolor{gray}{#1}");S("\\purple","\\textcolor{##9d38bd}{#1}");S("\\blueA","\\textcolor{##ccfaff}{#1}");S("\\blueB","\\textcolor{##80f6ff}{#1}");S("\\blueC","\\textcolor{##63d9ea}{#1}");S("\\blueD","\\textcolor{##11accd}{#1}");S("\\blueE","\\textcolor{##0c7f99}{#1}");S("\\tealA","\\textcolor{##94fff5}{#1}");S("\\tealB","\\textcolor{##26edd5}{#1}");S("\\tealC","\\textcolor{##01d1c1}{#1}");S("\\tealD","\\textcolor{##01a995}{#1}");S("\\tealE","\\textcolor{##208170}{#1}");S("\\greenA","\\textcolor{##b6ffb0}{#1}");S("\\greenB","\\textcolor{##8af281}{#1}");S("\\greenC","\\textcolor{##74cf70}{#1}");S("\\greenD","\\textcolor{##1fab54}{#1}");S("\\greenE","\\textcolor{##0d923f}{#1}");S("\\goldA","\\textcolor{##ffd0a9}{#1}");S("\\goldB","\\textcolor{##ffbb71}{#1}");S("\\goldC","\\textcolor{##ff9c39}{#1}");S("\\goldD","\\textcolor{##e07d10}{#1}");S("\\goldE","\\textcolor{##a75a05}{#1}");S("\\redA","\\textcolor{##fca9a9}{#1}");S("\\redB","\\textcolor{##ff8482}{#1}");S("\\redC","\\textcolor{##f9685d}{#1}");S("\\redD","\\textcolor{##e84d39}{#1}");S("\\redE","\\textcolor{##bc2612}{#1}");S("\\maroonA","\\textcolor{##ffbde0}{#1}");S("\\maroonB","\\textcolor{##ff92c6}{#1}");S("\\maroonC","\\textcolor{##ed5fa6}{#1}");S("\\maroonD","\\textcolor{##ca337c}{#1}");S("\\maroonE","\\textcolor{##9e034e}{#1}");S("\\purpleA","\\textcolor{##ddd7ff}{#1}");S("\\purpleB","\\textcolor{##c6b9fc}{#1}");S("\\purpleC","\\textcolor{##aa87ff}{#1}");S("\\purpleD","\\textcolor{##7854ab}{#1}");S("\\purpleE","\\textcolor{##543b78}{#1}");S("\\mintA","\\textcolor{##f5f9e8}{#1}");S("\\mintB","\\textcolor{##edf2df}{#1}");S("\\mintC","\\textcolor{##e0e5cc}{#1}");S("\\grayA","\\textcolor{##f6f7f7}{#1}");S("\\grayB","\\textcolor{##f0f1f2}{#1}");S("\\grayC","\\textcolor{##e3e5e6}{#1}");S("\\grayD","\\textcolor{##d6d8da}{#1}");S("\\grayE","\\textcolor{##babec2}{#1}");S("\\grayF","\\textcolor{##888d93}{#1}");S("\\grayG","\\textcolor{##626569}{#1}");S("\\grayH","\\textcolor{##3b3e40}{#1}");S("\\grayI","\\textcolor{##21242c}{#1}");S("\\kaBlue","\\textcolor{##314453}{#1}");S("\\kaGreen","\\textcolor{##71B307}{#1}");var Nk={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class EF{constructor(t,n,a){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new SF(CF,n.macros),this.mode=a,this.stack=[]}feed(t){this.lexer=new Jv(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,a,i;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:a}=this.consumeArg(["]"])}else({tokens:i,start:n,end:a}=this.consumeArg());return this.pushToken(new Mn("EOF",a.loc)),this.pushTokens(i),new Mn("",dn.range(n,a))}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],a=t&&t.length>0;a||this.consumeSpaces();var i=this.future(),r,o=0,s=0;do{if(r=this.popToken(),n.push(r),r.text==="{")++o;else if(r.text==="}"){if(--o,o===-1)throw new Z("Extra }",r)}else if(r.text==="EOF")throw new Z("Unexpected end of input in a macro argument, expected '"+(t&&a?t[s]:"}")+"'",r);if(t&&a)if((o===0||o===1&&t[s]==="{")&&r.text===t[s]){if(++s,s===t.length){n.splice(-s,s);break}}else s=0}while(o!==0||a);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:r}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new Z("The length of delimiters doesn't match the number of args!");for(var a=n[0],i=0;i<a.length;i++){var r=this.popToken();if(a[i]!==r.text)throw new Z("Use of the macro doesn't match its definition",r)}}for(var o=[],s=0;s<t;s++)o.push(this.consumeArg(n&&n[s+1]).tokens);return o}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new Z("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var n=this.popToken(),a=n.text,i=n.noexpand?null:this._getExpansion(a);if(i==null||t&&i.unexpandable){if(t&&i==null&&a[0]==="\\"&&!this.isDefined(a))throw new Z("Undefined control sequence: "+a);return this.pushToken(n),!1}this.countExpansion(1);var r=i.tokens,o=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){r=r.slice();for(var s=r.length-1;s>=0;--s){var l=r[s];if(l.text==="#"){if(s===0)throw new Z("Incomplete placeholder at end of macro body",l);if(l=r[--s],l.text==="#")r.splice(s+1,1);else if(/^[1-9]$/.test(l.text))r.splice(s,2,...o[+l.text-1]);else throw new Z("Not a valid argument number",l)}}}return this.pushTokens(r),r.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new Mn(t)]):void 0}expandTokens(t){var n=[],a=this.stack.length;for(this.pushTokens(t);this.stack.length>a;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(a=>a.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var a=this.lexer.catcodes[t];if(a!=null&&a!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var r=0;if(i.indexOf("#")!==-1)for(var o=i.replace(/##/g,"");o.indexOf("#"+(r+1))!==-1;)++r;for(var s=new Jv(i,this.settings),l=[],c=s.lex();c.text!=="EOF";)l.push(c),c=s.lex();l.reverse();var h={tokens:l,numArgs:r};return h}return i}isDefined(t){return this.macros.has(t)||zi.hasOwnProperty(t)||et.math.hasOwnProperty(t)||et.text.hasOwnProperty(t)||Nk.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:zi.hasOwnProperty(t)&&!zi[t].primitive}}var tx=/^[]/,Zc=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Gm={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},nx={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class gu{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new EF(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new Z("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Mn("}")),this.gullet.pushTokens(t);var a=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,a}parseExpression(t,n){for(var a=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(gu.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||t&&zi[i.text]&&zi[i.text].infix)break;var r=this.parseAtom(n);if(r){if(r.type==="internal")continue}else break;a.push(r)}return this.mode==="text"&&this.formLigatures(a),this.handleInfixNodes(a)}handleInfixNodes(t){for(var n=-1,a,i=0;i<t.length;i++)if(t[i].type==="infix"){if(n!==-1)throw new Z("only one infix operator per group",t[i].token);n=i,a=t[i].replaceWith}if(n!==-1&&a){var r,o,s=t.slice(0,n),l=t.slice(n+1);s.length===1&&s[0].type==="ordgroup"?r=s[0]:r={type:"ordgroup",mode:this.mode,body:s},l.length===1&&l[0].type==="ordgroup"?o=l[0]:o={type:"ordgroup",mode:this.mode,body:l};var c;return a==="\\\\abovefrac"?c=this.callFunction(a,[r,t[n],o],[]):c=this.callFunction(a,[r,o],[]),[c]}else return t}handleSupSubscript(t){var n=this.fetch(),a=n.text;this.consume(),this.consumeSpaces();var i;do{var r;i=this.parseGroup(t)}while(((r=i)==null?void 0:r.type)==="internal");if(!i)throw new Z("Expected group after '"+a+"'",n);return i}formatUnsupportedCmd(t){for(var n=[],a=0;a<t.length;a++)n.push({type:"textord",mode:"text",text:t[a]});var i={type:"text",mode:this.mode,body:n},r={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return r}parseAtom(t){var n=this.parseGroup("atom",t);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var a,i;;){this.consumeSpaces();var r=this.fetch();if(r.text==="\\limits"||r.text==="\\nolimits"){if(n&&n.type==="op"){var o=r.text==="\\limits";n.limits=o,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=r.text==="\\limits");else throw new Z("Limit controls must follow a math operator",r);this.consume()}else if(r.text==="^"){if(a)throw new Z("Double superscript",r);a=this.handleSupSubscript("superscript")}else if(r.text==="_"){if(i)throw new Z("Double subscript",r);i=this.handleSupSubscript("subscript")}else if(r.text==="'"){if(a)throw new Z("Double superscript",r);var s={type:"textord",mode:this.mode,text:"\\prime"},l=[s];for(this.consume();this.fetch().text==="'";)l.push(s),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),a={type:"ordgroup",mode:this.mode,body:l}}else if(Zc[r.text]){var c=tx.test(r.text),h=[];for(h.push(new Mn(Zc[r.text])),this.consume();;){var d=this.fetch().text;if(!Zc[d]||tx.test(d)!==c)break;h.unshift(new Mn(Zc[d])),this.consume()}var m=this.subparse(h);c?i={type:"ordgroup",mode:"math",body:m}:a={type:"ordgroup",mode:"math",body:m}}else break}return a||i?{type:"supsub",mode:this.mode,base:n,sup:a,sub:i}:n}parseFunction(t,n){var a=this.fetch(),i=a.text,r=zi[i];if(!r)return null;if(this.consume(),n&&n!=="atom"&&!r.allowedInArgument)throw new Z("Got function '"+i+"' with no arguments"+(n?" as "+n:""),a);if(this.mode==="text"&&!r.allowedInText)throw new Z("Can't use function '"+i+"' in text mode",a);if(this.mode==="math"&&r.allowedInMath===!1)throw new Z("Can't use function '"+i+"' in math mode",a);var{args:o,optArgs:s}=this.parseArguments(i,r);return this.callFunction(i,o,s,a,t)}callFunction(t,n,a,i,r){var o={funcName:t,parser:this,token:i,breakOnTokenText:r},s=zi[t];if(s&&s.handler)return s.handler(o,n,a);throw new Z("No function handler for "+t)}parseArguments(t,n){var a=n.numArgs+n.numOptionalArgs;if(a===0)return{args:[],optArgs:[]};for(var i=[],r=[],o=0;o<a;o++){var s=n.argTypes&&n.argTypes[o],l=o<n.numOptionalArgs;(n.primitive&&s==null||n.type==="sqrt"&&o===1&&r[0]==null)&&(s="primitive");var c=this.parseGroupOfType("argument to '"+t+"'",s,l);if(l)r.push(c);else if(c!=null)i.push(c);else throw new Z("Null argument, please report this as a bug")}return{args:i,optArgs:r}}parseGroupOfType(t,n,a){switch(n){case"color":return this.parseColorGroup(a);case"size":return this.parseSizeGroup(a);case"url":return this.parseUrlGroup(a);case"math":case"text":return this.parseArgumentGroup(a,n);case"hbox":{var i=this.parseArgumentGroup(a,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var r=this.parseStringGroup("raw",a);return r!=null?{type:"raw",mode:"text",string:r.text}:null}case"primitive":{if(a)throw new Z("A primitive argument cannot be optional");var o=this.parseGroup(t);if(o==null)throw new Z("Expected group as "+t,this.fetch());return o}case"original":case null:case void 0:return this.parseArgumentGroup(a);default:throw new Z("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var a=this.gullet.scanArgument(n);if(a==null)return null;for(var i="",r;(r=this.fetch()).text!=="EOF";)i+=r.text,this.consume();return this.consume(),a.text=i,a}parseRegexGroup(t,n){for(var a=this.fetch(),i=a,r="",o;(o=this.fetch()).text!=="EOF"&&t.test(r+o.text);)i=o,r+=i.text,this.consume();if(r==="")throw new Z("Invalid "+n+": '"+a.text+"'",a);return a.range(i,r)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var a=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!a)throw new Z("Invalid color: '"+n.text+"'",n);var i=a[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var n,a=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",a=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new Z("Invalid size: '"+n.text+"'",n);var r={number:+(i[1]+i[2]),unit:i[3]};if(!FT(r))throw new Z("Invalid unit: '"+r.unit+"'",n);return{type:"size",mode:this.mode,value:r,isBlank:a}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var a=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:a}}parseArgumentGroup(t,n){var a=this.gullet.scanArgument(t);if(a==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var r=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:a.loc,body:r};return n&&this.switchMode(i),o}parseGroup(t,n){var a=this.fetch(),i=a.text,r;if(i==="{"||i==="\\begingroup"){this.consume();var o=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var s=this.parseExpression(!1,o),l=this.fetch();this.expect(o),this.gullet.endGroup(),r={type:"ordgroup",mode:this.mode,loc:dn.range(a,l),body:s,semisimple:i==="\\begingroup"||void 0}}else if(r=this.parseFunction(n,t)||this.parseSymbol(),r==null&&i[0]==="\\"&&!Nk.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Z("Undefined control sequence: "+i,a);r=this.formatUnsupportedCmd(i),this.consume()}return r}formLigatures(t){for(var n=t.length-1,a=0;a<n;++a){var i=t[a],r=i.text;r==="-"&&t[a+1].text==="-"&&(a+1<n&&t[a+2].text==="-"?(t.splice(a,3,{type:"textord",mode:"text",loc:dn.range(i,t[a+2]),text:"---"}),n-=2):(t.splice(a,2,{type:"textord",mode:"text",loc:dn.range(i,t[a+1]),text:"--"}),n-=1)),(r==="'"||r==="`")&&t[a+1].text===r&&(t.splice(a,2,{type:"textord",mode:"text",loc:dn.range(i,t[a+1]),text:r+r}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var a=n.slice(5),i=a.charAt(0)==="*";if(i&&(a=a.slice(1)),a.length<2||a.charAt(0)!==a.slice(-1))throw new Z(`\\verb assertion failed --
                    please report what input caused this bug`);return a=a.slice(1,-1),{type:"verb",mode:"text",body:a,star:i}}nx.hasOwnProperty(n[0])&&!et[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=nx[n[0]]+n.slice(1));var r=kF.exec(n);r&&(n=n.substring(0,r.index),n==="i"?n="":n==="j"&&(n=""));var o;if(et[this.mode][n]){this.settings.strict&&this.mode==="math"&&Ff.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var s=et[this.mode][n].group,l=dn.range(t),c;if(gB.hasOwnProperty(s)){var h=s;c={type:"atom",mode:this.mode,family:h,loc:l,text:n}}else c={type:s,mode:this.mode,loc:l,text:n};o=c}else if(n.charCodeAt(0)>=128)this.settings.strict&&(BT(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),o={type:"textord",mode:"text",loc:dn.range(t),text:n};else return null;if(this.consume(),r)for(var d=0;d<r[0].length;d++){var m=r[0][d];if(!Gm[m])throw new Z("Unknown accent ' "+m+"'",t);var p=Gm[m][this.mode]||Gm[m].text;if(!p)throw new Z("Accent "+m+" unsupported in "+this.mode+" mode",t);o={type:"accent",mode:this.mode,loc:dn.range(t),label:p,isStretchy:!1,isShifty:!0,base:o}}return o}}gu.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var g1=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var a=new gu(t,n);delete a.gullet.macros.current["\\df@tag"];var i=a.parse();if(delete a.gullet.macros.current["\\current@color"],delete a.gullet.macros.current["\\color"],a.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new Z("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:a.subparse([new Mn("\\df@tag")])}]}return i},Mk=function(t,n,a){n.textContent="";var i=b1(t,a).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Mk=function(){throw new Z("KaTeX doesn't work in quirks mode.")});var IF=function(t,n){var a=b1(t,n).toMarkup();return a},NF=function(t,n){var a=new Jg(n);return g1(t,a)},zk=function(t,n,a){if(a.throwOnError||!(t instanceof Z))throw t;var i=W.makeSpan(["katex-error"],[new ea(n)]);return i.setAttribute("title",t.toString()),i.setAttribute("style","color:"+a.errorColor),i},b1=function(t,n){var a=new Jg(n);try{var i=g1(t,a);return BB(i,t,a)}catch(r){return zk(r,t,a)}},MF=function(t,n){var a=new Jg(n);try{var i=g1(t,a);return FB(i,t,a)}catch(r){return zk(r,t,a)}},zF="0.16.27",$F={Span:bc,Anchor:t1,SymbolNode:ea,SvgNode:oi,PathNode:Yi,LineNode:Bf},ax={version:zF,render:Mk,renderToString:IF,ParseError:Z,SETTINGS_SCHEMA:Mh,__parse:NF,__renderToDomTree:b1,__renderToHTMLTree:MF,__setFontMetrics:lB,__defineSymbol:f,__defineFunction:oe,__defineMacro:S,__domTree:$F};const RF={};function pr(e){const t=this,n=e||RF,a=t.data(),i=a.micromarkExtensions||(a.micromarkExtensions=[]),r=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),o=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);i.push(RL(n)),r.push(SL()),o.push(CL(n))}const ix=/[#.]/g;function DF(e,t){const n=e||"",a={};let i=0,r,o;for(;i<n.length;){ix.lastIndex=i;const s=ix.exec(n),l=n.slice(i,s?s.index:n.length);l&&(r?r==="#"?a.id=l:Array.isArray(a.className)?a.className.push(l):a.className=[l]:o=l,i+=l.length),s&&(r=s[0],i++)}return{type:"element",tagName:o||t||"div",properties:a,children:[]}}function $k(e,t,n){const a=n?BF(n):void 0;function i(r,o,...s){let l;if(r==null){l={type:"root",children:[]};const c=o;s.unshift(c)}else{l=DF(r,t);const c=l.tagName.toLowerCase(),h=a?a.get(c):void 0;if(l.tagName=h||c,OF(o))s.unshift(o);else for(const[d,m]of Object.entries(o))PF(e,l.properties,d,m)}for(const c of s)Gf(l.children,c);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function OF(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const a of n){const i=t[a];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const r=i;for(const o of r)if(typeof o!="number"&&typeof o!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function PF(e,t,n,a){const i=P5(e,n);let r;if(a!=null){if(typeof a=="number"){if(Number.isNaN(a))return;r=a}else typeof a=="boolean"?r=a:typeof a=="string"?i.spaceSeparated?r=Nw(a):i.commaSeparated?r=Aw(a):i.commaOrSpaceSeparated?r=Nw(Aw(a).join(" ")):r=rx(i,i.property,a):Array.isArray(a)?r=[...a]:r=i.property==="style"?LF(a):String(a);if(Array.isArray(r)){const o=[];for(const s of r)o.push(rx(i,i.property,s));r=o}i.property==="className"&&Array.isArray(t.className)&&(r=t.className.concat(r)),t[i.property]=r}}function Gf(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)Gf(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?Gf(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function rx(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Bl(n)===Bl(t)))return!0}return n}function LF(e){const t=[];for(const[n,a]of Object.entries(e))t.push([n,a].join(": "));return t.join("; ")}function BF(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const FF=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],jF=$k(L5,"div"),UF=$k(au,"g",FF),Vm={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function qF(e,t){return Rk(e,{})||{type:"root",children:[]}}function Rk(e,t){const n=HF(e,t);return n&&t.afterTransform&&t.afterTransform(e,n),n}function HF(e,t){switch(e.nodeType){case 1:return XF(e,t);case 3:return GF(e);case 8:return VF(e);case 9:return ox(e,t);case 10:return WF();case 11:return ox(e,t);default:return}}function ox(e,t){return{type:"root",children:Dk(e,t)}}function WF(){return{type:"doctype"}}function GF(e){return{type:"text",value:e.nodeValue||""}}function VF(e){return{type:"comment",value:e.nodeValue||""}}function XF(e,t){const n=e.namespaceURI,a=n===Vm.svg?UF:jF,i=n===Vm.html?e.tagName.toLowerCase():e.tagName,r=n===Vm.html&&i==="template"?e.content:e,o=e.getAttributeNames(),s={};let l=-1;for(;++l<o.length;)s[o[l]]=e.getAttribute(o[l])||"";return a(i,s,Dk(r,t))}function Dk(e,t){const n=e.childNodes,a=[];let i=-1;for(;++i<n.length;){const r=Rk(n[i],t);r!==void 0&&a.push(r)}return a}new DOMParser;function YF(e,t){const n=KF(e);return qF(n)}function KF(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const sx=function(e,t,n){const a=pc(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(a(e.children[t],t,e))return e.children[t]},Vr=function(e){if(e==null)return ZF;if(typeof e=="string")return JF(e);if(typeof e=="object")return QF(e);if(typeof e=="function")return y1(e);throw new Error("Expected function, string, or array as `test`")};function QF(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Vr(e[n]);return y1(a);function a(...i){let r=-1;for(;++r<t.length;)if(t[r].apply(this,i))return!0;return!1}}function JF(e){return y1(t);function t(n){return n.tagName===e}}function y1(e){return t;function t(n,a,i){return!!(ej(n)&&e.call(this,n,typeof a=="number"?a:void 0,i||void 0))}}function ZF(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function ej(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const lx=/\n/g,cx=/[\t ]+/g,Vf=Vr("br"),hx=Vr(sj),tj=Vr("p"),dx=Vr("tr"),nj=Vr(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",oj,lj]),Ok=Vr(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Pk(e,t){const n=t||{},a="children"in e?e.children:[],i=Ok(e),r=Fk(e,{whitespace:n.whitespace||"normal"}),o=[];(e.type==="text"||e.type==="comment")&&o.push(...Bk(e,{breakBefore:!0,breakAfter:!0}));let s=-1;for(;++s<a.length;)o.push(...Lk(a[s],e,{whitespace:r,breakBefore:s?void 0:i,breakAfter:s<a.length-1?Vf(a[s+1]):i}));const l=[];let c;for(s=-1;++s<o.length;){const h=o[s];typeof h=="number"?c!==void 0&&h>c&&(c=h):h&&(c!==void 0&&c>-1&&l.push(`
`.repeat(c)||" "),c=-1,l.push(h))}return l.join("")}function Lk(e,t,n){return e.type==="element"?aj(e,t,n):e.type==="text"?n.whitespace==="normal"?Bk(e,n):ij(e):[]}function aj(e,t,n){const a=Fk(e,n),i=e.children||[];let r=-1,o=[];if(nj(e))return o;let s,l;for(Vf(e)||dx(e)&&sx(t,e,dx)?l=`
`:tj(e)?(s=2,l=2):Ok(e)&&(s=1,l=1);++r<i.length;)o=o.concat(Lk(i[r],e,{whitespace:a,breakBefore:r?void 0:s,breakAfter:r<i.length-1?Vf(i[r+1]):l}));return hx(e)&&sx(t,e,hx)&&o.push("	"),s&&o.unshift(s),l&&o.push(l),o}function Bk(e,t){const n=String(e.value),a=[],i=[];let r=0;for(;r<=n.length;){lx.lastIndex=r;const l=lx.exec(n),c=l&&"index"in l?l.index:n.length;a.push(rj(n.slice(r,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),r===0?t.breakBefore:!0,c===n.length?t.breakAfter:!0)),r=c+1}let o=-1,s;for(;++o<a.length;)a[o].charCodeAt(a[o].length-1)===8203||o<a.length-1&&a[o+1].charCodeAt(0)===8203?(i.push(a[o]),s=void 0):a[o]?(typeof s=="number"&&i.push(s),i.push(a[o]),s=0):(o===0||o===a.length-1)&&i.push(0);return i}function ij(e){return[String(e.value)]}function rj(e,t,n){const a=[];let i=0,r;for(;i<e.length;){cx.lastIndex=i;const o=cx.exec(e);r=o?o.index:e.length,!i&&!r&&o&&!t&&a.push(""),i!==r&&a.push(e.slice(i,r)),i=o?r+o[0].length:r}return i!==r&&!n&&a.push(""),a.join(" ")}function Fk(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function oj(e){return!!(e.properties||{}).hidden}function sj(e){return e.tagName==="td"||e.tagName==="th"}function lj(e){return e.tagName==="dialog"&&!(e.properties||{}).open}const cj={},hj=[];function fr(e){const t=e||cj;return function(n,a){Vg(n,"element",function(i,r){const o=Array.isArray(i.properties.className)?i.properties.className:hj,s=o.includes("language-math"),l=o.includes("math-display"),c=o.includes("math-inline");let h=l;if(!s&&!l&&!c)return;let d=r[r.length-1],m=i;if(i.tagName==="code"&&s&&d&&d.type==="element"&&d.tagName==="pre"&&(m=d,d=r[r.length-2],h=!0),!d)return;const p=Pk(m,{whitespace:"pre"});let b;try{b=ax.renderToString(p,{...t,displayMode:h,throwOnError:!0})}catch(T){const g=T,w=g.name.toLowerCase();a.message("Could not render math with KaTeX",{ancestors:[...r,i],cause:g,place:i.position,ruleId:w,source:"rehype-katex"});try{b=ax.renderToString(p,{...t,displayMode:h,strict:"ignore",throwOnError:!1})}catch{b=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(T)},children:[{type:"text",value:p}]}]}}typeof b=="string"&&(b=YF(b).children);const y=d.children.indexOf(m);return d.children.splice(y,1,...b),dT})}}const jk=()=>{const{glossaryMaps:e}=Ve();return N.useCallback(n=>n?eM(n,e):"",[e])},Uk=({explanation:e,isVisible:t})=>{const{t:n}=ft(),a=jk(),[i,r]=N.useState(t);return N.useEffect(()=>{t&&r(!0)},[t]),u.jsxs("div",{className:"mt-4 pt-4 border-t border-[var(--ui-border)]",children:[!t&&u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("button",{onClick:()=>r(!i),className:"bg-[var(--ui-bg)] text-[var(--text-secondary)] font-semibold px-5 py-2 rounded-lg hover:bg-[var(--ui-bg-hover)] transition-colors",children:n(i?"hide_explanation":"show_explanation")})}),u.jsx(Re,{children:i&&u.jsx(ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:u.jsxs("div",{className:t?"":"mt-4 pt-4 border-t border-[var(--ui-border)]",children:[u.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-2",children:n("explanation")}),u.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none text-left prose-p:text-[var(--text-secondary)] prose-li:text-[var(--text-secondary)]",children:u.jsx(xi,{remarkPlugins:[_i,pr],rehypePlugins:[fr],children:a(e)})})]})})})]})},Hl=({message:e,icon:t})=>u.jsxs(ee.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:20,transition:{duration:.15}},className:"fixed bottom-24 lg:bottom-6 left-1/2 -translate-x-1/2 z-[var(--z-tooltip)] glass-pane px-4 py-2 rounded-lg text-sm font-semibold flex items-center gap-2 shadow-lg bg-[var(--bg-translucent)] backdrop-blur-md border border-[var(--ui-border)]",children:[t||u.jsx(fd,{className:"w-5 h-5 text-[var(--success-text)]"}),u.jsx("span",{className:"text-[var(--text-primary)]",children:e})]}),qk=({problem:e,userAnswer:t,onAnswerSelected:n,shouldAutoShowExplanation:a})=>{const{t:i}=ft(),{flaggedItems:r,toggleFlaggedItem:o}=Ve(),[s,l]=N.useState(!1),[c,h]=N.useState(!1);N.useEffect(()=>{h(!1)},[e.id]);const d=r.includes(e.id),m=t!==void 0,p=()=>{d||(l(!0),setTimeout(()=>l(!1),2e3)),o(e.id)},b=c?e.text_zh:e.text_en,y=c?e.text_en:e.text_zh;return u.jsxs("div",{className:"w-full h-full flex flex-col relative z-0",children:[u.jsx(Re,{children:s&&u.jsx(Hl,{message:i("flagged_toast")})}),u.jsxs("div",{className:"glass-pane rounded-2xl md:rounded-[2rem] p-5 sm:p-6 md:p-8 lg:p-10 h-full overflow-y-auto custom-scrollbar shadow-2xl relative border border-[var(--ui-border)]",style:{backdropFilter:"blur(30px) saturate(150%)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.05)"},children:[u.jsx("div",{className:"hidden md:block absolute top-0 right-0 p-8 pointer-events-none opacity-[0.03] select-none",children:u.jsx("span",{className:"text-[8rem] lg:text-[10rem] font-serif font-bold text-[var(--text-primary)] leading-none",children:"Q"})}),u.jsxs("div",{className:"mb-6 lg:mb-10 relative z-10",children:[u.jsxs("div",{className:"flex justify-between items-start gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-0.5 w-6 bg-[var(--accent-solid)] rounded-full"}),u.jsx("div",{className:"font-mono text-[10px] text-[var(--text-subtle)] uppercase tracking-[0.25em] font-bold truncate",children:"Problem"})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[u.jsx(ee.button,{onClick:p,className:`w-9 h-9 md:w-10 md:h-10 rounded-xl flex items-center justify-center border transition-all duration-300 backdrop-blur-md shadow-sm ${d?"bg-[var(--warning-bg)] border-[var(--warning-text)] text-[var(--warning-text)]":"bg-[var(--ui-bg)] border-[var(--ui-border)] text-[var(--text-subtle)] hover:text-[var(--text-primary)] hover:border-[var(--text-primary)] hover:bg-[var(--ui-bg-hover)]"}`,"aria-label":d?"Unflag problem":"Flag problem",whileHover:{scale:1.05},whileTap:{scale:.95},children:d?u.jsx(tu,{className:"w-4 h-4 md:w-4 md:h-4"}):u.jsx(eu,{className:"w-4 h-4 md:w-4 md:h-4"})}),u.jsxs(ee.button,{onClick:()=>h(T=>!T),className:`w-9 h-9 md:w-10 md:h-10 rounded-xl flex items-center justify-center border transition-all duration-300 backdrop-blur-md shadow-sm ${c?"bg-[var(--text-primary)] text-[var(--bg-color)]":"bg-[var(--ui-bg)] text-[var(--text-secondary)]"} border-[var(--ui-border)] hover:bg-[var(--ui-bg-hover)]`,"aria-label":"Switch Language",whileHover:{scale:1.05},whileTap:{scale:.95},children:[u.jsx(Af,{className:"w-4 h-4 md:w-4 md:h-4"}),u.jsx("span",{className:"absolute -bottom-1 -right-1 text-[8px] font-bold px-1 rounded-sm bg-[var(--accent-solid)] text-[var(--accent-solid-text)]",children:c?"":"EN"})]})]})]}),u.jsx("div",{className:"text-base md:text-xl lg:text-2xl font-serif leading-relaxed text-[var(--text-primary)] font-medium tracking-tight",children:u.jsx(Ll,{content:u.jsx("span",{className:"font-sans text-sm",children:y}),children:u.jsx("span",{className:"cursor-help decoration-dashed decoration-[var(--ui-border)] underline underline-offset-4 hover:decoration-[var(--accent-solid)] transition-all",children:u.jsx(qa,{text:b})})})})]}),u.jsx("div",{className:"w-full h-px bg-gradient-to-r from-[var(--ui-border)] via-[var(--ui-border)] to-transparent mb-6 md:mb-8 opacity-50"}),u.jsxs("div",{className:"mb-6 md:mb-8 relative z-10",children:[u.jsxs("div",{className:"font-mono text-[9px] text-[var(--text-subtle)] uppercase tracking-[0.2em] mb-4 md:mb-6 flex items-center gap-3",children:[u.jsx("span",{children:"Select Option"}),u.jsx("div",{className:"h-px flex-1 bg-[var(--ui-border)] opacity-50"})]}),u.jsx(I5,{problem:e,userAnswer:t,onAnswerSelected:n,isRevealed:m,disabled:m,showChinese:c})]}),u.jsx(Re,{children:m&&u.jsx(ee.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.98},transition:{type:"spring",stiffness:400,damping:30},children:u.jsx(Uk,{explanation:e.explanation_zh,isVisible:a})})})]})]})},Xf=({checked:e,onChange:t,id:n})=>{const a={type:"spring",stiffness:900,damping:35};return u.jsx("div",{id:n,onClick:()=>t(!e),className:"flex h-6 w-11 cursor-pointer items-center rounded-full p-0.5 transition-colors duration-200 ease-in-out",style:{backgroundColor:e?"var(--success-solid-bg)":"var(--ui-bg-hover)",justifyContent:e?"flex-end":"flex-start"},children:u.jsx(ee.div,{className:"h-5 w-5 rounded-full bg-white shadow-md",layout:!0,transition:a,drag:"x",dragConstraints:{left:0,right:0},dragElastic:{left:.5,right:.5},onDragEnd:(i,r)=>{e&&r.offset.x<-10?t(!1):!e&&r.offset.x>10&&t(!0)},onDragStart:i=>i.stopPropagation()})})},dj=({onNavigate:e})=>{const{t}=ft(),{flaggedItems:n}=Ve(),{quizState:a,currentIndex:i,answers:r,isFinished:o,goToProblem:s}=fs(),[l,c]=N.useState("all"),[h,d]=N.useState(!1),m=N.useRef(null),p=N.useRef(null);N.useEffect(()=>{const x=_=>{m.current&&!m.current.contains(_.target)&&d(!1)};return h&&document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[h]),N.useEffect(()=>{h&&p.current&&p.current.scrollIntoView({block:"nearest",behavior:"smooth"})},[h]);const{problems:b,score:y}=N.useMemo(()=>{if(!a)return{problems:[],score:0};let x=0;return o&&(x=Array.from(r).reduce((_,[C,A])=>{const M=a.problems.find(I=>I.id===C);return M&&M.answer===A?_+1:_},0)),{problems:a.problems,score:x}},[a,r,o]),T=N.useMemo(()=>{const x=b.length,_=r.size,C=b.filter(I=>n.includes(I.id)).length,A=x-_,M=o?b.filter(I=>{const R=r.get(I.id);return R&&R!==I.answer}).length:0;return{total:x,remaining:A,flaggedCount:C,incorrectCount:M}},[b,r,n,o]),g=N.useMemo(()=>b.map((_,C)=>({..._,originalIndex:C})).filter(_=>{const C=n.includes(_.id),A=r.has(_.id),M=r.get(_.id),I=o&&A&&M!==_.answer;switch(l){case"flagged":return C;case"todo":return!A;case"incorrect":return I;default:return!0}}),[b,r,n,l,o]),w=x=>{s(x),d(!1)};return a?u.jsxs("div",{ref:m,className:"relative z-50",children:[u.jsxs(ee.button,{onClick:()=>d(!h),className:`group flex items-center gap-3 px-3 py-1.5 rounded-lg border transition-all ${h?"bg-[var(--ui-bg)] border-[var(--text-secondary)]":"bg-transparent border-transparent hover:bg-[var(--ui-bg)]"}`,whileTap:{scale:.95},children:[u.jsxs("div",{className:"flex flex-col items-end mr-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-[var(--text-subtle)] uppercase tracking-wider leading-none mb-1",children:t("question")}),u.jsxs("span",{className:"text-sm font-mono font-bold text-[var(--text-primary)] leading-none",children:[i+1," ",u.jsxs("span",{className:"text-[var(--text-subtle)] font-normal",children:["/ ",b.length]})]})]}),u.jsx("div",{className:`p-2 rounded-md transition-colors ${h?"bg-[var(--text-primary)] text-[var(--bg-color)]":"bg-[var(--ui-bg)] text-[var(--text-secondary)] group-hover:text-[var(--text-primary)]"}`,children:u.jsx(xf,{className:"w-5 h-5"})})]}),u.jsx(Re,{children:h&&u.jsxs(ee.div,{initial:{opacity:0,y:15,scale:.95,filter:"blur(10px)"},animate:{opacity:1,y:0,scale:1,filter:"blur(0px)"},exit:{opacity:0,y:15,scale:.95,filter:"blur(10px)"},transition:{type:"spring",duration:.4,bounce:0},className:"absolute top-full mt-4 right-0 w-[340px] max-w-[95vw] glass-pane rounded-2xl shadow-2xl border border-[var(--ui-border)] overflow-hidden flex flex-col",style:{maxHeight:"min(500px, 80vh)"},children:[u.jsxs("div",{className:"flex-shrink-0 bg-[var(--ui-bg)]/50 backdrop-blur-md border-b border-[var(--ui-border)] p-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-sm font-bold text-[var(--text-secondary)] uppercase tracking-widest",children:t("table_of_contents")}),o&&u.jsxs("div",{className:"flex items-center gap-1.5 bg-[var(--accent-bg)] px-2 py-1 rounded-md text-[var(--accent-text)]",children:[u.jsx(S5,{className:"w-4 h-4"}),u.jsxs("span",{className:"text-xs font-bold font-mono",children:[y," / ",b.length]})]})]}),u.jsxs("div",{className:"flex p-1 bg-[var(--ui-bg)] rounded-xl border border-[var(--ui-border)]",children:[u.jsx(eh,{active:l==="all",onClick:()=>c("all"),label:"All",count:T.total}),u.jsx(eh,{active:l==="todo",onClick:()=>c("todo"),label:"To Do",count:T.remaining,disabled:o}),u.jsx(eh,{active:l==="flagged",onClick:()=>c("flagged"),label:"Flagged",count:T.flaggedCount}),o&&u.jsx(eh,{active:l==="incorrect",onClick:()=>c("incorrect"),label:"Wrong",count:T.incorrectCount,isError:!0})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar bg-[var(--bg-color)]/30",children:g.length===0?u.jsxs("div",{className:"h-32 flex flex-col items-center justify-center text-[var(--text-subtle)]",children:[u.jsx(bM,{className:"w-8 h-8 mb-2 opacity-50"}),u.jsx("span",{className:"text-xs font-medium",children:"No questions found"})]}):u.jsx(ee.div,{layout:!0,className:"grid grid-cols-5 gap-2.5",children:u.jsx(Re,{mode:"popLayout",children:g.map(x=>{const _=x.originalIndex,C=_===i,A=n.includes(x.id),M=r.has(x.id),I=r.get(x.id),R=o&&M&&I===x.answer,z=o&&M&&I!==x.answer;let F="bg-[var(--ui-bg)] border-[var(--ui-border)]",H="text-[var(--text-secondary)]";return C?(F="bg-[var(--accent-solid)] border-[var(--accent-solid)] shadow-lg shadow-[var(--accent-solid)]/20",H="text-[var(--accent-solid-text)]"):z?(F="bg-[var(--error-bg)] border-[var(--error-border)]",H="text-[var(--error-text)]"):R?(F="bg-[var(--success-bg)] border-[var(--success-border)]",H="text-[var(--success-text)]"):M&&(F="bg-[var(--text-secondary)]/10 border-[var(--text-secondary)]/20",H="text-[var(--text-primary)]"),u.jsxs(ee.button,{layout:!0,ref:C?p:null,onClick:()=>w(_),initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},whileHover:{scale:1.05,zIndex:10},whileTap:{scale:.9},className:`
                                                        relative h-12 rounded-xl border text-sm font-bold font-mono transition-colors flex items-center justify-center
                                                        ${F} ${H}
                                                    `,children:[_+1,A&&u.jsx("div",{className:"absolute -top-1 -right-1",children:u.jsxs("div",{className:"relative flex items-center justify-center",children:[u.jsx("div",{className:"absolute w-2 h-2 bg-[var(--bg-color)] rounded-full"}),u.jsx(tu,{className:"w-3.5 h-3.5 text-[var(--warning-text)] relative z-10"})]})}),C&&u.jsx(ee.div,{layoutId:"active-ring",className:"absolute -inset-1 rounded-2xl border-2 border-[var(--accent-solid)] opacity-30",transition:{type:"spring",stiffness:300,damping:30}})]},x.id)})})})})]})})]}):null},eh=({active:e,onClick:t,label:n,count:a,disabled:i,isError:r})=>u.jsxs("button",{onClick:t,disabled:i||a===0,className:`
            flex-1 flex flex-col items-center justify-center py-2 rounded-lg transition-all text-[10px] uppercase tracking-wide font-bold gap-0.5
            ${i||a===0?"opacity-30 cursor-not-allowed":"cursor-pointer hover:bg-[var(--ui-bg-hover)]"}
            ${e?r?"bg-[var(--error-bg)] text-[var(--error-text)]":"bg-[var(--bg-color)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-subtle)]"}
        `,children:[u.jsx("span",{children:n}),u.jsx("span",{className:"font-mono opacity-80",children:a})]}),Hk=({onReturnHome:e,isSidebarOpen:t})=>{const[n,a]=N.useState(0),[i,r]=N.useState(!1),{t:o}=ft(),{autoShowExplanation:s,setAutoShowExplanation:l,autoAdvance:c,setAutoAdvance:h}=Ve(),d=N.useRef(null),{quizState:m,answers:p,currentIndex:b,isFinished:y,answerQuestion:T,goToProblem:g,finishQuiz:w,restartQuiz:x}=fs(),_=Pl(0,{stiffness:150,damping:30}),C=pd(_,j=>Math.round(j));N.useEffect(()=>{if(y&&m){const j=Array.from(p).reduce(($,[L,B])=>{const V=m.problems.find(E=>E.id===L);return V&&V.answer===B?$+1:$},0);_.set(j)}},[y,p,_,m]);const A=N.useCallback(()=>{w()},[w]),M=N.useCallback(j=>{if(d.current&&(clearTimeout(d.current),d.current=null),y||!m)return;r(!1);const $=b+j;$>=0&&$<m.problems.length?(a(j),g($)):$>=m.problems.length&&A()},[b,y,g,A,m]),I=N.useCallback((j,$)=>{T(j,$),r(!0)},[T]);N.useEffect(()=>{const j=$=>{const L=$.target;if(!(L.tagName==="INPUT"||L.tagName==="TEXTAREA"||L.isContentEditable)){if($.key==="ArrowRight")M(1);else if($.key==="ArrowLeft")M(-1);else if(!y&&m&&m.problems.length>0){const B={1:"a",2:"b",3:"c",4:"d",a:"a",b:"b",c:"c",d:"d",A:"a",B:"b",C:"c",D:"d"};if(B[$.key]){const V=m.problems[b];V&&!p.has(V.id)&&I(V.id,B[$.key])}}}};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[M,y,m,b,p,I]),N.useEffect(()=>(i&&c&&(d.current=window.setTimeout(()=>{M(1)},800)),()=>{d.current&&(clearTimeout(d.current),d.current=null)}),[i,c,M]);const R={enter:j=>({x:j>0?"110%":"-110%",opacity:1,scale:.95,zIndex:1}),center:{zIndex:2,x:0,opacity:1,scale:1},exit:j=>({zIndex:0,x:j<0?"100%":"-100%",opacity:.8,scale:.95,transition:{duration:.4,ease:[.32,.72,0,1]}})};if(!m)return u.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:u.jsx("div",{className:"text-[var(--text-secondary)] animate-pulse font-mono text-sm tracking-widest",children:"LOADING QUIZ..."})});const z=m.problems,F=m.title;if(z.length===0)return u.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:u.jsxs(ee.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:400,damping:30},className:"glass-pane p-8 rounded-2xl w-full max-w-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-[var(--text-primary)] mb-4",children:F}),u.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:"There are no problems in this quiz."}),u.jsx("button",{onClick:()=>e({type:"home"}),className:"w-full bg-[var(--ui-bg)] text-[var(--text-secondary)] font-semibold px-6 py-3 rounded-xl hover:bg-[var(--ui-bg-hover)] transition-colors",children:o("return_home")})]})});const H={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},X={hidden:{y:15,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:400,damping:30}}},G=Array.from(p).reduce((j,[$,L])=>{const B=z.find(V=>V.id===$);return B&&B.answer===L?j+1:j},0);return y?u.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:u.jsxs(ee.div,{variants:H,initial:"hidden",animate:"visible",className:"glass-pane p-6 md:p-8 rounded-3xl w-full max-w-md shadow-2xl border border-[var(--ui-border)]",children:[u.jsx(ee.h2,{variants:X,className:"text-2xl md:text-3xl font-serif font-bold text-[var(--text-primary)] mb-2",children:o("quiz_completed")}),u.jsx(ee.p,{variants:X,className:"text-lg text-[var(--text-secondary)] mb-8 font-mono text-xs tracking-widest uppercase",children:o("your_score")}),u.jsxs("div",{className:"flex items-baseline justify-center gap-2 mb-4",children:[u.jsx(ee.div,{variants:X,className:"text-6xl md:text-7xl font-bold text-[var(--accent-solid)] font-serif",children:C}),u.jsxs(ee.div,{variants:X,className:"text-xl md:text-2xl font-bold text-[var(--text-subtle)] font-mono",children:["/ ",z.length]})]}),u.jsxs(ee.div,{variants:X,className:"text-sm font-medium text-[var(--text-secondary)] mb-10 font-mono",children:["ACCURACY: ",z.length>0?(G/z.length*100).toFixed(1):0,"%"]}),u.jsxs(ee.div,{className:"space-y-3",variants:H,children:[u.jsx(ee.button,{variants:X,onClick:x,className:"w-full bg-[var(--accent-solid)] text-[var(--accent-solid-text)] font-bold px-6 py-4 rounded-full shadow-lg hover:bg-[var(--accent-solid-hover)] transition-all hover:scale-[1.02] active:scale-0.98",children:o("restart_quiz")}),u.jsx(ee.button,{variants:X,onClick:()=>e({type:"home"}),className:"w-full bg-transparent text-[var(--text-secondary)] font-semibold px-6 py-3 rounded-full hover:bg-[var(--ui-bg)] transition-colors border border-[var(--ui-border)]",children:o("return_home")})]})]})}):u.jsxs("div",{className:"max-w-5xl mx-auto h-full flex flex-col p-2 sm:p-4 lg:p-8 relative pt-20 lg:pt-8",children:[u.jsxs("div",{className:"flex-shrink-0 mb-2 sm:mb-6 relative z-10",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-start gap-3 sm:gap-4",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[u.jsxs("span",{className:"font-mono text-[10px] font-bold text-[var(--accent-solid)] border border-[var(--accent-solid)] px-1.5 py-0.5 rounded",children:["Q.",b+1]}),u.jsxs("span",{className:"font-mono text-[10px] text-[var(--text-subtle)] tracking-widest uppercase",children:["Total ",z.length]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h1",{className:"text-base sm:text-xl md:text-2xl font-serif font-bold text-[var(--text-primary)] leading-tight truncate pr-4",children:F}),u.jsx("div",{className:"flex-shrink-0",children:u.jsx(dj,{onNavigate:e})})]})]}),u.jsxs("div",{className:"flex flex-row items-center justify-end gap-3 self-end md:self-auto bg-[var(--bg-translucent)] backdrop-blur-sm p-1.5 sm:p-2 rounded-full border border-[var(--ui-border)] shadow-sm",children:[u.jsxs("label",{htmlFor:"auto-show-explanation",className:"flex items-center gap-2 text-[10px] font-bold uppercase tracking-wider text-[var(--text-secondary)] cursor-pointer px-1 sm:px-2 select-none",children:[u.jsx("span",{className:"hidden sm:inline",children:o("show_explanation_on_answer")}),u.jsx("span",{className:"sm:hidden",children:"Expl."}),u.jsx(Xf,{id:"auto-show-explanation",checked:s,onChange:l})]}),u.jsx("div",{className:"w-px h-4 bg-[var(--ui-border)]"}),u.jsxs("label",{htmlFor:"auto-advance",className:"flex items-center gap-2 text-[10px] font-bold uppercase tracking-wider text-[var(--text-secondary)] cursor-pointer px-1 sm:px-2 select-none",children:[u.jsx("span",{className:"hidden sm:inline",children:o("auto_advance_on_answer")}),u.jsx("span",{className:"sm:hidden",children:"Auto"}),u.jsx(Xf,{id:"auto-advance",checked:c,onChange:h})]})]})]}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-[var(--ui-border)] mt-2 hidden md:block",children:u.jsx(ee.div,{className:"h-[2px] bg-[var(--accent-solid)] origin-left",animate:{scaleX:(b+1)/z.length},transition:{type:"spring",stiffness:200,damping:30}})}),u.jsx("div",{className:"w-full h-1 bg-[var(--ui-bg)] mt-3 rounded-full overflow-hidden md:hidden",children:u.jsx(ee.div,{className:"h-full bg-[var(--accent-solid)] origin-left",animate:{width:`${(b+1)/z.length*100}%`},transition:{type:"spring",stiffness:200,damping:30}})})]}),u.jsx("div",{className:"flex-1 relative w-full overflow-hidden",children:u.jsx(Re,{custom:n,mode:"popLayout",initial:!1,children:u.jsx(ee.div,{custom:n,variants:R,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30,mass:.8},className:"absolute inset-0 w-full h-full",drag:t?!1:"x",dragConstraints:{left:0,right:0},dragElastic:.2,onDragEnd:(j,{offset:$,velocity:L})=>{Math.abs($.y)>Math.abs($.x)||($.x<-50||L.x<-400?M(1):($.x>50||L.x>400)&&M(-1))},onClick:j=>j.stopPropagation(),children:u.jsx("div",{className:"h-full pb-20 lg:pb-0 overflow-y-auto custom-scrollbar",children:u.jsx(qk,{problem:z[b],onAnswerSelected:j=>I(z[b].id,j),userAnswer:p.get(z[b].id),shouldAutoShowExplanation:p.has(z[b].id)&&s})})},b)})}),u.jsxs("div",{className:"hidden lg:flex justify-between items-center mt-6 flex-shrink-0 gap-4 pointer-events-none relative z-10",children:[u.jsxs(ee.button,{onClick:()=>M(-1),disabled:b===0||y,className:"pointer-events-auto flex items-center gap-3 px-6 py-4 bg-[var(--bg-color)] text-[var(--text-primary)] rounded-full border border-[var(--ui-border)] shadow-lg disabled:opacity-30 disabled:cursor-not-allowed hover:bg-[var(--ui-bg)] hover:border-[var(--text-primary)] transition-all group",whileTap:{scale:.95},children:[u.jsx(Cr,{className:"w-5 h-5 transition-transform group-hover:-translate-x-1"}),u.jsx("span",{className:"font-bold text-sm tracking-wide",children:o("previous_question")})]}),u.jsxs(ee.button,{onClick:()=>M(1),disabled:y,className:"pointer-events-auto flex items-center gap-3 px-8 py-4 bg-[var(--accent-solid)] text-[var(--accent-solid-text)] rounded-full shadow-xl shadow-[var(--accent-solid)]/20 disabled:opacity-30 disabled:cursor-not-allowed hover:bg-[var(--accent-solid-hover)] transition-all group hover:scale-105 active:scale-95",whileTap:{scale:.95},animate:i?{scale:[1,1.03,1]}:{},transition:i?{duration:.2,ease:"easeInOut"}:{},children:[u.jsx("span",{className:"font-bold text-sm tracking-wide",children:b===z.length-1?o("results"):o("next_question")}),u.jsx(Jn,{className:"w-5 h-5 transition-transform group-hover:translate-x-1"})]})]}),u.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 glass-pane border-t border-[var(--ui-border)] p-3 px-4 flex justify-between items-center gap-3 z-[var(--z-mobile-nav)] pb-safe",children:[u.jsx("button",{onClick:()=>M(-1),disabled:b===0,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-[var(--ui-bg)] text-[var(--text-primary)] rounded-xl font-bold disabled:opacity-40 disabled:cursor-not-allowed active:scale-95 transition-transform",children:u.jsx(Cr,{className:"w-5 h-5"})}),u.jsxs("button",{onClick:()=>M(1),disabled:y,className:"flex-[2] flex items-center justify-center gap-2 px-4 py-3 bg-[var(--accent-solid)] text-[var(--accent-solid-text)] rounded-xl font-bold shadow-lg disabled:opacity-40 disabled:cursor-not-allowed active:scale-95 transition-transform",children:[b===z.length-1?o("results"):o("next_question")," ",u.jsx(Jn,{className:"w-5 h-5"})]})]})]})},uj=({title:e,subtitle:t})=>{const{t:n}=ft();return u.jsxs("div",{className:"flex flex-col items-start space-y-1 md:space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-1 md:mb-2",children:[u.jsx("div",{className:"h-px w-8 bg-[var(--text-primary)] opacity-30"}),u.jsx("span",{className:"text-[10px] md:text-xs font-bold font-mono text-[var(--text-secondary)] uppercase tracking-[0.2em]",children:n("welcome_back")})]}),u.jsx("h1",{className:"text-3xl sm:text-4xl md:text-6xl font-bold text-[var(--text-primary)] font-serif leading-none tracking-tight",children:e}),u.jsx("p",{className:"text-sm md:text-base text-[var(--text-secondary)] max-w-2xl font-light leading-relaxed opacity-70 mt-2",children:t})]})},th=({onAction:e,label:t,subLabel:n,icon:a,recentQuiz:i,isPrimary:r=!1,indexStr:o="01",className:s="",resumeLabel:l})=>u.jsxs(ee.button,{onClick:e,whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},className:`relative overflow-hidden rounded-3xl p-5 md:p-8 text-left shadow-lg transition-all duration-300 group min-h-[160px] md:min-h-[240px] flex flex-col justify-between glass-pane border w-full
                ${r?"border-[var(--text-primary)] bg-[var(--text-primary)] text-[var(--bg-color)]":"border-[var(--ui-border)] hover:border-[var(--text-subtle)]"} ${s}`,children:[u.jsx("div",{className:`absolute top-2 right-4 md:top-4 md:right-6 font-mono text-5xl md:text-7xl font-bold tracking-tighter select-none pointer-events-none transition-transform duration-500 group-hover:scale-110 group-hover:-rotate-12 ${r?"opacity-10 text-[var(--bg-color)]":"opacity-5 text-[var(--text-primary)]"}`,children:o}),u.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between gap-4",children:[u.jsxs("div",{className:"flex justify-between items-start w-full",children:[u.jsx("div",{className:`h-10 w-10 md:h-14 md:w-14 rounded-2xl flex items-center justify-center border transition-all duration-500 group-hover:rotate-12 group-hover:scale-110
                         ${r?"bg-[var(--bg-color)] text-[var(--text-primary)] border-transparent":"bg-[var(--ui-bg)] text-[var(--text-primary)] border-[var(--ui-border)]"}`,children:u.jsx("div",{className:"scale-90 md:scale-100",children:a})}),i&&r&&l&&u.jsx("span",{className:"px-2 py-0.5 md:px-3 md:py-1 rounded-full bg-[var(--bg-color)] text-[var(--text-primary)] text-[8px] md:text-[9px] font-mono font-bold uppercase tracking-wider border border-transparent shadow-lg animate-pulse",children:l})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("h2",{className:`text-xl md:text-3xl lg:text-4xl font-bold font-serif leading-none tracking-tight transition-transform duration-300 group-hover:translate-x-2 ${r?"text-[var(--bg-color)]":"text-[var(--text-primary)]"}`,children:t}),u.jsxs("p",{className:`text-[10px] md:text-xs font-mono uppercase tracking-[0.15em] flex items-center gap-2 ${r?"text-[var(--bg-color)] opacity-70":"text-[var(--text-secondary)] opacity-60"}`,children:[n," ",u.jsx(Jn,{className:"w-3 h-3"})]})]})]}),u.jsx("div",{className:`absolute inset-0 transition-opacity duration-500 pointer-events-none opacity-0 group-hover:opacity-100 
                ${r?"bg-gradient-to-tr from-white/20 to-transparent":"bg-gradient-to-tr from-[var(--text-primary)]/5 to-transparent"}`})]}),ux=({icon:e,title:t,count:n,onClick:a,indexStr:i,countLabel:r})=>u.jsxs(ee.button,{onClick:a,whileHover:{y:-4,scale:1.02},whileTap:{scale:.98},className:"flex flex-row md:flex-col items-center md:items-start justify-between p-4 md:p-6 rounded-2xl md:rounded-[1.5rem] border border-[var(--ui-border)] bg-[var(--bg-translucent)] backdrop-blur-xl hover:border-[var(--text-subtle)] transition-all h-full w-full gap-4 group shadow-sm hover:shadow-lg relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-2 right-3 md:top-5 md:right-5 font-mono text-[10px] md:text-xs text-[var(--text-subtle)] opacity-40 font-bold tracking-widest",children:i}),u.jsx("div",{className:"p-2.5 md:p-3 w-fit rounded-xl md:rounded-2xl bg-[var(--ui-bg)] text-[var(--text-primary)] group-hover:scale-110 group-hover:bg-[var(--text-primary)] group-hover:text-[var(--bg-color)] transition-all duration-300 border border-[var(--ui-border)] shrink-0",children:e}),u.jsxs("div",{className:"text-left flex-1 md:w-full",children:[u.jsx("h3",{className:"text-lg md:text-xl font-bold text-[var(--text-primary)] leading-tight font-serif group-hover:translate-x-1 transition-transform",children:t}),n!==void 0&&r&&u.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mt-1 md:mt-2",children:[u.jsx("div",{className:"h-px w-4 md:w-6 bg-[var(--text-subtle)]"}),u.jsxs("p",{className:"text-[9px] md:text-[10px] text-[var(--text-secondary)] font-mono uppercase tracking-widest",children:[n," ",r]})]})]})]}),mx=({chapter:e,index:t,onClick:n,language:a,problemCount:i,mode:r="reading",questionsLabel:o,finalsLabel:s})=>{const l=e.title[a],c=e.subtitle?e.subtitle[a]:e.title[a==="en"?"zh":"en"],h=t.toString().padStart(2,"0"),d=r==="reading"?e.disabled:!i||i===0,m=e.highlight;return u.jsxs(ee.button,{onClick:d?void 0:n,disabled:d,whileHover:d?{}:{scale:1.01,x:4},whileTap:d?{}:{scale:.99},className:`w-full flex items-center justify-between p-4 rounded-2xl border transition-all relative overflow-hidden group text-left shadow-sm
                ${d?"border-[var(--ui-border)] bg-[var(--ui-bg)] opacity-60 cursor-not-allowed grayscale":"bg-[var(--bg-translucent)] backdrop-blur-md hover:bg-[var(--ui-bg)] hover:shadow-md"}
                ${m?"border-[var(--warning-text)] border-2 bg-[var(--warning-bg)]/10":"border-[var(--ui-border)] hover:border-[var(--text-subtle)]"}
                `,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`font-mono text-lg md:text-xl font-bold transition-all ${d?"text-[var(--text-subtle)]":"text-[var(--text-subtle)] opacity-40 group-hover:text-[var(--accent-solid)] group-hover:opacity-100"} ${m?"text-[var(--warning-text)] opacity-100":""}`,children:h}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("h3",{className:`font-bold font-serif text-base md:text-lg mb-0.5 transition-transform truncate ${d?"text-[var(--text-secondary)]":"text-[var(--text-primary)] group-hover:translate-x-1"}`,children:l}),u.jsx("p",{className:`text-[10px] font-mono uppercase tracking-wide truncate ${d?"text-[var(--text-subtle)] font-bold":"text-[var(--text-secondary)] opacity-60 group-hover:opacity-80"}`,children:c}),r==="practice"&&i!==void 0&&!d&&u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx("div",{className:"h-0.5 w-4 bg-[var(--accent-solid)] opacity-30"}),u.jsxs("span",{className:"text-[10px] font-mono font-bold text-[var(--accent-text)]",children:[i," ",o]})]})]})]}),!d&&!m&&u.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full border border-[var(--ui-border)] flex items-center justify-center text-[var(--text-subtle)] group-hover:bg-[var(--text-primary)] group-hover:text-[var(--bg-color)] group-hover:border-[var(--text-primary)] transition-all transform group-hover:rotate-0 -rotate-45 shrink-0",children:u.jsx(Jn,{className:"w-3 h-3 md:w-4 md:h-4"})}),m&&u.jsx("div",{className:"absolute top-3 right-3 px-2 py-0.5 rounded-full bg-[var(--warning-solid-bg)] text-[var(--warning-solid-text)] text-[8px] font-bold uppercase tracking-wider shadow-sm",children:s})]})},mj=({setView:e})=>{var X;const{t}=ft(),{flaggedItems:n,subject:a,subjectData:i,readingSettings:r,setPreferredMode:o,language:s,lastActiveChapterId:l}=Ve(),c=N.useRef(null),[h,d]=N.useState([]),m=r.preferredMode,{scrollYProgress:p}=er({container:c}),[b,y]=N.useState(!1);N.useEffect(()=>{if(a)try{const G=Sa.getItem(hn.QUIZ_HISTORY);if(G){const $=JSON.parse(G).filter(L=>L.subjectId===a.id);d($.slice(0,5))}}catch(G){console.error("Could not parse quiz history",G)}},[a]),N.useEffect(()=>p.onChange(G=>{y(G>.1)}),[p]);const T=()=>{var G;(G=c.current)==null||G.scrollTo({top:0,behavior:"smooth"})},g=G=>{o(G)},w=G=>{e({type:"textbook",chapterId:G})},x=G=>{const j=G.replace(/\D/g,"");if(!j||!i)return;const $=i.problems.filter(V=>V.chapter===j);if($.length===0)return;const L=i.chapterList.find(V=>V.id===G),B=L?L.title[s]:`${t("chapter")} ${j}`;e({type:"quiz",id:`chapter-${j}-quiz-${Date.now()}`,problems:$,title:B,startIndex:0,chapterId:G})},_=()=>{e({type:"question_bank_quiz"})},C=()=>{var j;const G=l||((j=i==null?void 0:i.chapterList[0])==null?void 0:j.id);G&&e({type:"textbook",chapterId:G})},A=()=>{o("practice"),e({type:"home"})},M=N.useMemo(()=>{if(!i)return{};const G={};return i.problems.forEach(j=>{const $=`chapter${j.chapter}`;G[$]=(G[$]||0)+1}),G},[i]),I=N.useMemo(()=>{if(!l||!i)return null;const G=i.chapterList.find(j=>j.id===l);return G?G.title[s]:null},[l,i,s]);if(!a||!i)return null;const R=a.type==="programming",z=a.type==="quiz",F={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},H={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:400,damping:30}}};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{ref:c,className:"h-full overflow-y-auto px-4 sm:px-6 lg:px-12 relative custom-scrollbar",children:[u.jsx(tr,{containerRef:c}),u.jsxs("div",{className:"max-w-[1300px] mx-auto pb-32 pt-20 lg:pt-12",children:[u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end justify-between gap-6 mb-10 md:mb-12",children:[u.jsx(uj,{title:a.name[s],subtitle:a.name[s==="en"?"zh":"en"]}),u.jsx("div",{className:"w-full md:w-72 flex-shrink-0",children:u.jsx(ca,{options:[{label:t("mode_reading"),value:"reading"},{label:t("mode_practice"),value:"practice"}],value:m,onChange:g})})]}),u.jsx(Re,{mode:"wait",children:u.jsxs(ee.div,{variants:F,initial:"hidden",animate:"visible",exit:{opacity:0,transition:{duration:.15}},className:"space-y-6 md:space-y-10",children:[m==="practice"&&u.jsxs(u.Fragment,{children:[z&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[u.jsx(ee.div,{variants:H,className:"h-full",children:u.jsx(th,{onAction:_,label:t("start_quiz_session"),subLabel:t("subtitle_randomized_practice"),icon:u.jsx(Zo,{className:"w-6 h-6 md:w-7 md:h-7"}),isPrimary:!0,recentQuiz:h.length>0?h[0]:null,resumeLabel:t("resume_label"),indexStr:"01"})}),u.jsx(ee.div,{variants:H,className:"h-full",children:u.jsx(th,{onAction:()=>e({type:"overview"}),label:t("practice_bank_title"),subLabel:t("practice_bank_subtitle"),icon:u.jsx($g,{className:"w-6 h-6 md:w-7 md:h-7"}),indexStr:"02"})})]}),R&&u.jsx(ee.div,{variants:H,children:u.jsx(th,{onAction:()=>e({type:"programming"}),label:t("programming_exercises"),subLabel:t("subtitle_coding_practice"),icon:u.jsx(qr,{className:"w-6 h-6 md:w-7 md:h-7"}),isPrimary:!0,indexStr:"01"})}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[u.jsx(ee.div,{variants:H,children:u.jsx(ux,{icon:u.jsx(eu,{className:"w-5 h-5"}),title:t("starred_items"),count:n.length,onClick:()=>e({type:"bookmarks"}),indexStr:"03",countLabel:t("items_count")})}),z&&u.jsx(ee.div,{variants:H,children:u.jsx(ux,{icon:u.jsx(A5,{className:"w-5 h-5"}),title:t("quiz_history"),count:h.length,onClick:()=>e({type:"history"}),indexStr:"04",countLabel:t("items_count")})})]}),z&&u.jsxs(ee.div,{variants:H,children:[u.jsxs("div",{className:"flex items-center gap-6 mb-4 md:mb-6 mt-6 md:mt-10",children:[u.jsxs("h2",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-[0.2em] flex items-center gap-2",children:[u.jsx(_f,{className:"w-4 h-4"}),t("practice_questions_for_chapter")]}),u.jsx("div",{className:"h-px flex-1 bg-[var(--ui-border)] opacity-60"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:i.chapterList.map((G,j)=>u.jsx(mx,{index:j,chapter:G,onClick:()=>x(G.id),language:s,problemCount:M[G.id]||0,mode:"practice",questionsLabel:t("questions_count"),finalsLabel:t("finals_tag")},G.id))})]})]}),m==="reading"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[u.jsx(ee.div,{variants:H,className:"flex-[3]",children:u.jsx(th,{onAction:C,label:I||((X=i.chapterList[0])==null?void 0:X.title[s])||"Read",subLabel:t(l?"resume_reading":"start_reading"),icon:u.jsx(ps,{className:"w-7 h-7"}),isPrimary:!0,indexStr:"00"})}),u.jsx(ee.div,{variants:H,className:"flex-1 min-w-[260px]",children:u.jsxs("button",{onClick:A,className:"w-full h-full relative overflow-hidden rounded-3xl p-6 text-left shadow-lg transition-all duration-300 group flex flex-col justify-between border border-[var(--ui-border)] bg-[var(--bg-translucent)] hover:bg-[var(--ui-bg)] hover:border-[var(--text-subtle)] min-h-[140px] md:min-h-auto",children:[u.jsx("div",{className:"absolute top-4 right-6 font-mono text-3xl font-bold tracking-tighter opacity-10 text-[var(--text-primary)]",children:"Q"}),u.jsx("div",{className:"h-12 w-12 rounded-2xl flex items-center justify-center bg-[var(--ui-bg)] text-[var(--text-primary)] border border-[var(--ui-border)] group-hover:scale-110 transition-transform",children:u.jsx(Zo,{className:"w-6 h-6"})}),u.jsxs("div",{className:"mt-4",children:[u.jsx("h3",{className:"text-xl font-bold font-serif text-[var(--text-primary)] leading-tight mb-1",children:t("practice_bank_title")}),u.jsx("p",{className:"text-[10px] font-mono uppercase tracking-widest text-[var(--text-secondary)] opacity-60",children:t("practice_bank_subtitle")})]})]})})]}),u.jsxs(ee.div,{variants:H,children:[u.jsxs("div",{className:"flex items-center gap-6 mb-4 md:mb-6 mt-6",children:[u.jsxs("h2",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-[0.2em] flex items-center gap-2",children:[u.jsx(_f,{className:"w-4 h-4"}),t("by_chapter")]}),u.jsx("div",{className:"h-px flex-1 bg-[var(--ui-border)] opacity-60"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:i.chapterList.map((G,j)=>u.jsx(mx,{index:j,chapter:G,onClick:()=>w(G.id),language:s,mode:"reading",questionsLabel:t("questions_count"),finalsLabel:t("finals_tag")},G.id))})]})]})]},m)})]})]}),u.jsx(Hr,{show:b,onClick:T})]})},pj=({setView:e})=>{const{t}=ft(),{flaggedItems:n,subjectData:a,toggleFlaggedItem:i,language:r}=Ve(),[o,s]=N.useState(""),l=N.useRef(null),{scrollYProgress:c}=er({container:l}),[h,d]=N.useState(!1),[m,p]=N.useState(!1),[b,y]=N.useState(null),[T,g]=N.useState(null),[w,x]=N.useState(!1);N.useEffect(()=>c.onChange(X=>{d(X>.1)}),[c]);const _=()=>{var X;(X=l.current)==null||X.scrollTo({top:0,behavior:"smooth"})},C=N.useMemo(()=>(a==null?void 0:a.problems)||[],[a]),A=N.useMemo(()=>{if(!o)return C;const X=o.toLowerCase();return C.filter(G=>G.text_en.toLowerCase().includes(X)||G.text_zh.toLowerCase().includes(X)||G.number.toLowerCase().includes(X))},[o,C]),M=N.useMemo(()=>A.reduce((X,G)=>(X[G.chapter]||(X[G.chapter]=[]),X[G.chapter].push(G),X),{}),[A]),I=N.useMemo(()=>Object.keys(M).sort((X,G)=>parseInt(X)-parseInt(G)),[M]),R=X=>{g(G=>G===X?null:X)},z=(X,G)=>{X.stopPropagation(),n.includes(G)||(x(!0),setTimeout(()=>x(!1),2e3)),i(G)},F=X=>{const G=document.getElementById(`chapter-${X}`);if(G&&l.current){const j=G.offsetTop-120;l.current.scrollTo({top:j,behavior:"smooth"}),p(!1)}},H=X=>{if(!(a!=null&&a.chapterList))return null;const G=a.chapterList.find($=>$.id===`chapter${X}`||$.id===X);if(G)return G.title[r];const j=parseInt(X)-1;return j>=0&&j<a.chapterList.length?a.chapterList[j].title[r]:null};return N.useEffect(()=>{if(!l.current)return;const X=new IntersectionObserver(G=>{G.forEach(j=>{if(j.isIntersecting){const $=j.target.getAttribute("data-chapter");$&&y($)}})},{root:l.current,rootMargin:"-20% 0px -60% 0px",threshold:0});return I.forEach(G=>{const j=document.getElementById(`chapter-${G}`);j&&X.observe(j)}),()=>X.disconnect()},[I]),a?u.jsxs("div",{className:"h-full flex flex-col relative",children:[u.jsx(tr,{containerRef:l}),u.jsx(Re,{children:w&&u.jsx(Hl,{message:t("flagged_toast")})}),u.jsxs("div",{className:"flex-1 flex overflow-hidden w-full",children:[u.jsxs("aside",{className:"hidden lg:flex flex-col w-72 flex-shrink-0 border-r border-[var(--ui-border)] bg-transparent backdrop-blur-sm",children:[u.jsxs("div",{className:"p-6 border-b border-[var(--ui-border)]",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 text-[var(--accent-solid)]",children:[u.jsx($g,{className:"w-5 h-5"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:t("question_bank")})]}),u.jsx("h1",{className:"text-3xl font-serif font-bold text-[var(--text-primary)]",children:t("table_of_contents")})]}),u.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-1",children:u.jsxs("div",{className:"relative pl-2",children:[u.jsx("div",{className:"absolute left-[19px] top-4 bottom-4 w-px bg-[var(--ui-border)]"}),I.map(X=>{const G=b===X,j=H(X);return u.jsxs("button",{onClick:()=>F(X),className:`relative w-full text-left pl-10 pr-3 py-3 rounded-lg transition-all group ${G?"bg-[var(--ui-bg)]/50":"hover:bg-[var(--ui-bg)]/30"}`,children:[u.jsx("div",{className:`absolute left-[16px] top-1/2 -translate-y-1/2 w-[7px] h-[7px] rounded-full border transition-all z-10 ${G?"bg-[var(--accent-solid)] border-[var(--accent-solid)] scale-125":"bg-[var(--bg-color)] border-[var(--text-subtle)] group-hover:border-[var(--text-secondary)]"}`}),u.jsxs("div",{className:`text-xs font-mono mb-0.5 transition-colors ${G?"text-[var(--text-primary)] font-bold":"text-[var(--text-subtle)]"}`,children:[t("chapter")," ",X]}),j&&u.jsx("div",{className:`text-sm truncate leading-tight transition-colors font-serif ${G?"text-[var(--text-primary)] font-bold":"text-[var(--text-secondary)]"}`,children:j})]},X)})]})})]}),u.jsxs("main",{ref:l,className:"flex-1 overflow-y-auto relative custom-scrollbar scroll-smooth bg-transparent",children:[u.jsx("div",{className:"sticky top-0 z-[var(--z-sticky-l1)] pt-20 lg:pt-6 px-4 sm:px-8 pb-6 bg-[var(--bg-color)]/10 backdrop-blur-lg border-b border-transparent",children:u.jsxs("div",{className:"max-w-4xl mx-auto flex gap-4 items-center",children:[u.jsxs("div",{className:"relative w-full",children:[u.jsx("input",{type:"text",value:o,onChange:X=>s(X.target.value),placeholder:t("search_placeholder"),className:"w-full bg-[var(--bg-color)]/50 border border-[var(--ui-border)] backdrop-blur-md rounded-full py-3 pl-12 pr-4 text-base text-[var(--text-primary)] focus:ring-1 focus:ring-[var(--text-primary)] outline-none transition-all shadow-sm placeholder:text-[var(--text-subtle)]"}),u.jsx(nu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--text-subtle)] pointer-events-none"})]}),u.jsxs("div",{className:"lg:hidden relative",children:[u.jsxs("button",{onClick:()=>p(!m),className:"flex items-center gap-2 bg-[var(--bg-color)]/80 backdrop-blur-md text-[var(--text-primary)] px-4 py-3 rounded-full shadow-sm text-sm font-bold border border-[var(--ui-border)] whitespace-nowrap",children:[u.jsx("span",{children:b?`CH ${b}`:t("by_chapter")}),u.jsx(Tf,{className:"w-4 h-4"})]}),u.jsx(Re,{children:m&&u.jsx(ee.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute top-full right-0 mt-2 w-64 glass-pane rounded-xl shadow-2xl overflow-hidden max-h-80 overflow-y-auto border border-[var(--ui-border)] z-[var(--z-sticky-l2)]",children:I.map(X=>u.jsxs("button",{onClick:()=>F(X),className:`w-full text-left px-5 py-3 text-sm border-b border-[var(--ui-border)] last:border-0 hover:bg-[var(--ui-bg)] ${b===X?"font-bold text-[var(--accent-text)] bg-[var(--accent-bg)]":"text-[var(--text-secondary)]"}`,children:[t("chapter")," ",X]},X))})})]})]})}),u.jsx("div",{className:"px-4 sm:px-8 max-w-4xl mx-auto pb-32",children:I.length>0?u.jsx("div",{className:"space-y-16",children:I.map(X=>{const G=H(X);return u.jsxs("section",{id:`chapter-${X}`,"data-chapter":X,className:"scroll-mt-40",children:[u.jsxs("div",{className:"flex flex-col items-start gap-1 mb-8 border-b border-[var(--ui-border)]/50 pb-4",children:[u.jsxs("span",{className:"text-xs font-bold text-[var(--text-subtle)] uppercase tracking-widest font-mono",children:[t("chapter")," ",X]}),u.jsx("h2",{className:"text-3xl font-bold font-serif text-[var(--text-primary)]",children:G||`${t("chapter")} ${X}`})]}),u.jsx("div",{className:"grid grid-cols-1",children:M[X].map(j=>{const $=n.includes(j.id),L=T===j.id;return u.jsxs("div",{className:"group relative py-8 border-b border-[var(--ui-border)]/30 transition-all duration-500",children:[u.jsxs("div",{onClick:()=>R(j.id),className:"cursor-pointer flex gap-5 items-start",children:[u.jsx("div",{className:"flex-shrink-0 mt-1.5",children:u.jsx("span",{className:`font-mono text-xs font-bold px-2 py-1 rounded border transition-colors ${L?"bg-[var(--text-primary)] text-[var(--bg-color)] border-[var(--text-primary)]":"bg-transparent text-[var(--text-subtle)] border-[var(--ui-border)]"}`,children:j.number})}),u.jsx("div",{className:"flex-grow",children:u.jsx("p",{className:`text-xl md:text-2xl font-serif leading-relaxed transition-colors duration-300 ${L?"text-[var(--text-primary)] font-medium":"text-[var(--text-secondary)] group-hover:text-[var(--text-primary)]"}`,children:u.jsx(qa,{text:j.text_en,highlight:o})})}),u.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3 pt-1",children:[u.jsx("button",{onClick:B=>z(B,j.id),className:`p-2 rounded-full transition-all hover:bg-[var(--ui-bg)] ${$?"text-[var(--warning-text)]":"text-[var(--text-subtle)] hover:text-[var(--warning-text)]"}`,children:$?u.jsx(tu,{className:"w-5 h-5"}):u.jsx(eu,{className:"w-5 h-5"})}),u.jsx("div",{className:`transition-transform duration-300 ${L?"rotate-180":"rotate-0"}`,children:u.jsx(Tf,{className:"w-5 h-5 text-[var(--text-subtle)]"})})]})]}),u.jsx(Re,{children:L&&u.jsx(ee.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:[.04,.62,.23,.98]},className:"overflow-hidden",children:u.jsx("div",{className:"pt-8 pl-0 sm:pl-14",children:u.jsxs("div",{className:"border-l-2 border-[var(--ui-border)] pl-6 space-y-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-xs font-bold text-[var(--text-subtle)] uppercase tracking-widest",children:t("options")}),u.jsx(I5,{problem:j,isRevealed:!0,onAnswerSelected:()=>{},disabled:!0})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-xs font-bold text-[var(--text-subtle)] uppercase tracking-widest",children:t("explanation")}),u.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none text-[var(--text-secondary)]",children:u.jsx(Uk,{explanation:j.explanation_zh,isVisible:!0})})]})]})})})})]},j.id)})})]},X)})}):u.jsx("div",{className:"text-center py-32 text-[var(--text-secondary)] rounded-2xl border-dashed border-2 border-[var(--ui-border)]",children:u.jsx("p",{className:"text-lg",children:t("search_no_results")})})})]})]}),u.jsx(Hr,{show:h,onClick:_})]}):null},fj={enter:e=>({x:e>0?"110%":"-110%",opacity:1,scale:.95,zIndex:1}),center:{zIndex:2,x:0,opacity:1,scale:1},exit:e=>({zIndex:0,x:e<0?"100%":"-100%",opacity:.8,scale:.95,transition:{duration:.4,ease:[.32,.72,0,1]}})},gj=({id:e,setView:t,isSidebarOpen:n})=>{const[a,i]=N.useState(0),{t:r}=ft(),{subjectData:o,flaggedItems:s,toggleFlaggedItem:l}=Ve(),[c,h]=N.useState(!1),d=N.useMemo(()=>(o==null?void 0:o.problems)||[],[o]),m=N.useMemo(()=>d.findIndex(y=>y.id===e),[e,d]),p=d[m],b=y=>{const T=m+y;if(T>=0&&T<d.length){i(y);const g=d[T].id;t({type:"problem",id:g})}};return p?u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsx("div",{className:"flex-shrink-0 px-4 sm:px-8 pt-20 lg:pt-4",children:u.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[u.jsxs("p",{className:"text-sm font-semibold text-center text-[var(--text-secondary)] mb-2",children:[r("problem_header")," ",p.number," (",m+1," / ",d.length,")"]}),u.jsx("div",{className:"w-full bg-[var(--ui-bg)] rounded-full h-1.5",children:u.jsx(ee.div,{className:"bg-[var(--accent-solid)] h-1.5 rounded-full",animate:{width:`${(m+1)/d.length*100}%`},transition:{type:"spring",stiffness:200,damping:25}})})]})}),u.jsx("div",{className:"flex-1 w-full flex justify-center items-center relative min-h-0 pt-4 overflow-hidden",children:u.jsxs("div",{className:"relative w-full max-w-4xl h-full",children:[u.jsx("button",{onClick:()=>b(-1),disabled:m<=0,className:"hidden lg:flex items-center justify-center absolute top-1/2 -translate-y-1/2 right-full mr-4 w-12 h-12 bg-[var(--ui-bg)] rounded-full text-[var(--text-secondary)] disabled:opacity-50 hover:bg-[var(--ui-bg-hover)] transition-colors z-[var(--z-content-overlay)]",children:u.jsx(Cr,{className:"w-6 h-6"})}),u.jsx("button",{onClick:()=>b(1),disabled:m>=d.length-1,className:"hidden lg:flex items-center justify-center absolute top-1/2 -translate-y-1/2 left-full ml-4 w-12 h-12 bg-[var(--ui-bg)] rounded-full text-[var(--text-secondary)] disabled:opacity-50 hover:bg-[var(--ui-bg-hover)] transition-colors z-[var(--z-content-overlay)]",children:u.jsx(Jn,{className:"w-6 h-6"})}),u.jsxs("div",{className:"relative w-full h-full",children:[u.jsx("div",{className:"lg:hidden absolute inset-y-0 left-0 flex items-center justify-center w-10 pointer-events-none z-[var(--z-content-overlay)]",children:u.jsx(Cr,{className:"w-8 h-8 text-[var(--text-subtle)] opacity-30"})}),u.jsx("div",{className:"lg:hidden absolute inset-y-0 right-0 flex items-center justify-center w-10 pointer-events-none z-[var(--z-content-overlay)]",children:u.jsx(Jn,{className:"w-8 h-8 text-[var(--text-subtle)] opacity-30"})}),u.jsx(Re,{children:c&&u.jsx(Hl,{message:r("flagged_toast")})}),u.jsx(Re,{initial:!1,custom:a,mode:"popLayout",children:u.jsx(ee.div,{className:"absolute inset-0 w-full h-full",custom:a,variants:fj,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30,mass:.8},drag:n?!1:"x",dragConstraints:{left:0,right:0},dragElastic:.2,onDragEnd:(y,{offset:T,velocity:g})=>{Math.abs(T.y)>Math.abs(T.x)||(T.x<-100||g.x<-400?b(1):(T.x>100||g.x>400)&&b(-1))},children:u.jsx("div",{className:"h-full overflow-y-auto pb-24 lg:pb-0 px-4",children:u.jsx("div",{className:"mb-6",children:u.jsx(qk,{problem:p,onAnswerSelected:()=>{},userAnswer:p.answer,shouldAutoShowExplanation:!0})})})},e)})]})]})}),u.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 glass-pane border-t-0 p-3 flex justify-between items-center gap-4 z-[var(--z-mobile-nav)]",children:[u.jsxs("button",{onClick:()=>b(-1),disabled:m<=0,className:"flex items-center gap-1 px-3 py-2 bg-[var(--ui-bg)] text-[var(--text-secondary)] rounded-lg disabled:opacity-50 hover:bg-[var(--ui-bg-hover)]",children:[u.jsx(Cr,{className:"w-5 h-5"})," ",r("previous_question")]}),u.jsxs("span",{className:"text-sm font-semibold text-[var(--text-secondary)]",children:[m+1," / ",d.length]}),u.jsxs("button",{onClick:()=>b(1),disabled:m>=d.length-1,className:"flex items-center gap-1 px-3 py-2 bg-[var(--ui-bg)] text-[var(--text-secondary)] rounded-lg disabled:opacity-50 hover:bg-[var(--ui-bg-hover)]",children:[r("next_question")," ",u.jsx(Jn,{className:"w-5 h-5"})]})]})]}):u.jsx("div",{className:"text-center py-10",children:"Problem not found."})},bj=({setView:e})=>{const[t,n]=N.useState([]),[a,i]=N.useState(null),{t:r}=ft(),{subject:o}=Ve(),s=N.useRef(null),{scrollYProgress:l}=er({container:s}),[c,h]=N.useState(!1);N.useEffect(()=>l.onChange(m=>{h(m>.1)}),[l]);const d=()=>{var m;(m=s.current)==null||m.scrollTo({top:0,behavior:"smooth"})};return N.useEffect(()=>{try{const m=Sa.getItem(hn.QUIZ_HISTORY);if(m){const p=JSON.parse(m);n(o?p.filter(b=>b.subjectId===o.id):[])}}catch(m){console.error("Failed to parse quiz history from localStorage",m)}},[o]),a?u.jsx(yj,{result:a,onBack:()=>i(null),setView:e}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{ref:s,className:"h-full overflow-y-auto px-4 sm:px-6 lg:p-8 relative pt-24 lg:pt-8",children:[u.jsx(tr,{containerRef:s}),u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-4 my-8",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl glass-pane flex items-center justify-center",children:u.jsx(A5,{className:"w-7 h-7 text-[var(--accent-text)]"})}),u.jsx("h1",{className:"text-3xl font-bold text-[var(--text-primary)]",children:r("history_title")})]}),t.length===0?u.jsx("div",{className:"text-center py-10 glass-pane p-4 rounded-2xl",children:u.jsx("p",{className:"text-[var(--text-secondary)]",children:r("history_no_quizzes")})}):u.jsx("div",{className:"space-y-4 pb-16",children:t.map(m=>u.jsx(ee.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.2},className:"glass-pane p-4 rounded-2xl",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{className:"flex-1 mb-4 sm:mb-0",children:[u.jsx("h2",{className:"font-bold text-[var(--text-primary)]",children:m.quizTitle}),u.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:new Date(m.date).toLocaleString()})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xs text-[var(--text-secondary)] uppercase font-semibold",children:r("history_score")}),u.jsxs("p",{className:"font-bold text-lg text-[var(--accent-text)]",children:[m.score," / ",m.totalQuestions]})]}),u.jsx("button",{onClick:()=>i(m),className:"bg-[var(--ui-bg)] text-[var(--text-secondary)] font-semibold px-4 py-2 rounded-lg hover:bg-[var(--ui-bg-hover)] transition-colors",children:r("history_view_details")})]})]})},m.id))})]})]}),u.jsx(Hr,{show:c,onClick:d})]})},yj=({result:e,onBack:t,setView:n})=>{const{t:a}=ft(),[i,r]=N.useState(null);N.useEffect(()=>{(async()=>{var c;const l=(c=T5[e.subjectId])==null?void 0:c.loader;if(l)try{const d=((await l()).problems||[]).reduce((m,p)=>(m[p.id]=p,m),{});r(d)}catch(h){console.error("Failed to load problems for quiz history",h),r({})}else r({})})()},[e.subjectId]);const o=e.totalQuestions>0?(e.score/e.totalQuestions*100).toFixed(1):0;return i===null?u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsx("p",{className:"text-[var(--text-secondary)]",children:"Loading quiz details..."})}):u.jsxs("div",{className:"max-w-4xl mx-auto h-full overflow-y-auto px-4 sm:px-6 lg:p-8 pt-24 lg:pt-8",children:[u.jsxs("button",{onClick:t,className:"text-sm font-semibold text-[var(--accent-text)] my-6",children:[" ",a("quiz_history")]}),u.jsx("div",{className:"glass-pane p-6 rounded-2xl mb-6",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-[var(--text-primary)]",children:e.quizTitle}),u.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:new Date(e.date).toLocaleString()})]}),u.jsxs("div",{className:"flex items-center gap-2 text-[var(--success-text)]",children:[u.jsx(S5,{className:"w-8 h-8"}),u.jsxs("span",{className:"text-3xl font-bold",children:[o,"%"]})]})]})}),u.jsx("div",{className:"space-y-3 pb-16",children:e.answeredQuestions.map(s=>{const l=i[s.problemId];if(!l)return null;const c=l.options.find(d=>d.key===l.answer),h=l.options.find(d=>d.key===s.userAnswer);return u.jsxs("div",{className:"glass-pane p-4 rounded-2xl",children:[u.jsxs("p",{className:"text-sm font-semibold text-[var(--text-secondary)] mb-2",children:[a("problem_header")," ",l.number]}),u.jsx("p",{className:"mb-4 text-[var(--text-primary)]",children:l.text_en}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${s.isCorrect?"bg-[var(--success-bg)]":"bg-[var(--error-bg)]"}`,children:[u.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center mt-0.5 ${s.isCorrect?"bg-[var(--success-solid-bg)] text-[var(--success-solid-text)]":"bg-[var(--error-solid-bg)] text-[var(--error-solid-text)]"}`,children:s.isCorrect?u.jsx(fd,{className:"w-3 h-3"}):u.jsx(Dr,{className:"w-3 h-3"})}),u.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[u.jsxs("span",{className:"font-semibold",children:[a("history_your_answer"),": "]}),h?`(${s.userAnswer.toUpperCase()}) ${h.text_en}`:"Not answered"]})]}),!s.isCorrect&&u.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-[var(--success-bg)]",children:[u.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center mt-0.5 bg-[var(--success-solid-bg)] text-[var(--success-solid-text)]",children:u.jsx(fd,{className:"w-3 h-3"})}),u.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[u.jsxs("span",{className:"font-semibold",children:[a("history_correct_answer"),": "]}),`(${l.answer.toUpperCase()}) ${c==null?void 0:c.text_en}`]})]})]}),u.jsxs("button",{onClick:()=>n({type:"problem",id:l.id}),className:"text-xs text-[var(--accent-text)] mt-3 font-semibold hover:underline",children:[a("show_explanation")," "]})]},s.problemId)})})]})};function wj(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),a="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+a+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",s={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},h={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},m={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},p=t.optional(i)+e.IDENT_RE+"\\s*\\(",b=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],y=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],T=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],g=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],_={type:y,keyword:b,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:T},C={className:"function.dispatch",relevance:0,keywords:{_hint:g},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},A=[C,d,s,n,e.C_BLOCK_COMMENT_MODE,h,c],M={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:_,contains:A.concat([{begin:/\(/,end:/\)/,keywords:_,contains:A.concat(["self"]),relevance:0}]),relevance:0},I={className:"function",begin:"("+o+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:_,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:a,keywords:_,relevance:0},{begin:p,returnBegin:!0,contains:[m],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,h]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,c,h,s,{begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,c,h,s]}]},s,n,e.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:_,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(M,I,C,A,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:_,contains:["self",s]},{begin:e.IDENT_RE+"::",keywords:_},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function vj(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=wj(e),a=n.keywords;return a.type=[...a.type,...t.type],a.literal=[...a.literal,...t.literal],a.built_in=[...a.built_in,...t.built_in],a._hints=t._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function xj(e){const t=e.regex,n={},a={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},a]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},r=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,i]};i.contains.push(s);const l={match:/\\"/},c={className:"string",begin:/'/,end:/'/},h={match:/\\'/},d={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},m=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],p=e.SHEBANG({binary:`(${m.join("|")})`,relevance:10}),b={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},y=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],T=["true","false"],g={match:/(\/[a-z._-]+)+/},w=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],x=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],_=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],C=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:y,literal:T,built_in:[...w,...x,"set","shopt",..._,...C]},contains:[p,e.SHEBANG(),b,d,r,o,g,s,l,c,h,n]}}function _j(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),a="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="("+a+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",s={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},h={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},m={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},p=t.optional(i)+e.IDENT_RE+"\\s*\\(",T={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},g=[d,s,n,e.C_BLOCK_COMMENT_MODE,h,c],w={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:T,contains:g.concat([{begin:/\(/,end:/\)/,keywords:T,contains:g.concat(["self"]),relevance:0}]),relevance:0},x={begin:"("+o+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:T,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:a,keywords:T,relevance:0},{begin:p,returnBegin:!0,contains:[e.inherit(m,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:T,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,c,h,s,{begin:/\(/,end:/\)/,keywords:T,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,c,h,s]}]},s,n,e.C_BLOCK_COMMENT_MODE,d]};return{name:"C",aliases:["h"],keywords:T,disableAutodetect:!0,illegal:"</",contains:[].concat(w,x,g,[d,{begin:e.IDENT_RE+"::",keywords:T},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:d,strings:c,keywords:T}}}function Tj(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),a="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+a+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",s={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},h={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},m={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},p=t.optional(i)+e.IDENT_RE+"\\s*\\(",b=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],y=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],T=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],g=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],_={type:y,keyword:b,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:T},C={className:"function.dispatch",relevance:0,keywords:{_hint:g},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},A=[C,d,s,n,e.C_BLOCK_COMMENT_MODE,h,c],M={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:_,contains:A.concat([{begin:/\(/,end:/\)/,keywords:_,contains:A.concat(["self"]),relevance:0}]),relevance:0},I={className:"function",begin:"("+o+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:_,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:a,keywords:_,relevance:0},{begin:p,returnBegin:!0,contains:[m],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,h]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,c,h,s,{begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,c,h,s]}]},s,n,e.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:_,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(M,I,C,A,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:_,contains:["self",s]},{begin:e.IDENT_RE+"::",keywords:_},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function kj(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],a=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],r=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],o={keyword:i.concat(r),built_in:t,literal:a},s=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},h={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},d=e.inherit(h,{illegal:/\n/}),m={className:"subst",begin:/\{/,end:/\}/,keywords:o},p=e.inherit(m,{illegal:/\n/}),b={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,p]},y={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},m]},T=e.inherit(y,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},p]});m.contains=[y,b,h,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.C_BLOCK_COMMENT_MODE],p.contains=[T,b,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const g={variants:[c,y,b,h,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},w={begin:"<",end:">",contains:[{beginKeywords:"in out"},s]},x=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",_={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:o,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},g,l,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},s,w,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[s,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[s,w,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+x+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:o,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,w],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,relevance:0,contains:[g,l,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},_]}}const Aj=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Sj=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Cj=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Ej=[...Sj,...Cj],Ij=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Nj=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Mj=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),zj=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function $j(e){const t=e.regex,n=Aj(e),a={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",r=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",s=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,a,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Nj.join("|")+")"},{begin:":(:)?("+Mj.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+zj.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...s,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...s,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:r},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:Ij.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...s,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Ej.join("|")+")\\b"}]}}function Rj(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function Dj(e){const r={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:r,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:r,illegal:/["']/}]}]}}function Oj(e){const t=e.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(n,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function Pj(e){const t=e.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},a=e.COMMENT();a.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},r={className:"literal",begin:/\bon|off|true|false|yes|no\b/},o={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},s={begin:/\[/,end:/\]/,contains:[a,r,i,o,n,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,c=/"(\\"|[^"])*"/,h=/'[^']*'/,d=t.either(l,c,h),m=t.concat(d,"(\\s*\\.\\s*",d,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[a,{className:"section",begin:/\[+/,end:/\]+/},{begin:m,className:"attr",starts:{end:/$/,contains:[a,s,r,i,o,n]}}]}}var lo="[0-9](_*[0-9])*",nh=`\\.(${lo})`,ah="[0-9a-fA-F](_*[0-9a-fA-F])*",px={className:"number",variants:[{begin:`(\\b(${lo})((${nh})|\\.)?|(${nh}))[eE][+-]?(${lo})[fFdD]?\\b`},{begin:`\\b(${lo})((${nh})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${nh})[fFdD]?\\b`},{begin:`\\b(${lo})[fFdD]\\b`},{begin:`\\b0[xX]((${ah})\\.?|(${ah})?\\.(${ah}))[pP][+-]?(${lo})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${ah})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Wk(e,t,n){return n===-1?"":e.replace(t,a=>Wk(e,t,n-1))}function Lj(e){const t=e.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",a=n+Wk("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},h={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[h,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+a+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[c,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,px,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},px,c]}}const fx="[A-Za-z$_][0-9A-Za-z$_]*",Bj=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Fj=["true","false","null","undefined","NaN","Infinity"],Gk=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Vk=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Xk=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],jj=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Uj=[].concat(Xk,Gk,Vk);function qj(e){const t=e.regex,n=(B,{after:V})=>{const E="</"+B[0].slice(1);return B.input.indexOf(E,V)!==-1},a=fx,i={begin:"<>",end:"</>"},r=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(B,V)=>{const E=B[0].length+B.index,re=B.input[E];if(re==="<"||re===","){V.ignoreMatch();return}re===">"&&(n(B,{after:E})||V.ignoreMatch());let le;const O=B.input.substring(E);if(le=O.match(/^\s*=/)){V.ignoreMatch();return}if((le=O.match(/^\s+extends\s+/))&&le.index===0){V.ignoreMatch();return}}},s={$pattern:fx,keyword:Bj,literal:Fj,built_in:Uj,"variable.language":jj},l="[0-9](_?[0-9])*",c=`\\.(${l})`,h="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${h})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${h})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},m={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"xml"}},b={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"css"}},y={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"graphql"}},T={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,m]},w={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:a+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},x=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,b,y,T,{match:/\$\d+/},d];m.contains=x.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(x)});const _=[].concat(w,m.contains),C=_.concat([{begin:/(\s*)\(/,end:/\)/,keywords:s,contains:["self"].concat(_)}]),A={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:C},M={variants:[{match:[/class/,/\s+/,a,/\s+/,/extends/,/\s+/,t.concat(a,"(",t.concat(/\./,a),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,a],scope:{1:"keyword",3:"title.class"}}]},I={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Gk,...Vk]}},R={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},z={variants:[{match:[/function/,/\s+/,a,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[A],illegal:/%/},F={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function H(B){return t.concat("(?!",B.join("|"),")")}const X={match:t.concat(/\b/,H([...Xk,"super","import"].map(B=>`${B}\\s*\\(`)),a,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},G={begin:t.concat(/\./,t.lookahead(t.concat(a,/(?![0-9A-Za-z$_(])/))),end:a,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},j={match:[/get|set/,/\s+/,a,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},A]},$="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",L={match:[/const|var|let/,/\s+/,a,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead($)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[A]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:I},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),R,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,b,y,T,w,{match:/\$\d+/},d,I,{scope:"attr",match:a+t.lookahead(":"),relevance:0},L,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[w,e.REGEXP_MODE,{className:"function",begin:$,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:r},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},z,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[A,e.inherit(e.TITLE_MODE,{begin:a,className:"title.function"})]},{match:/\.\.\./,relevance:0},G,{match:"\\$"+a,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[A]},X,F,M,j,{match:/\$[(.]/}]}}function Hj(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},a=["true","false","null"],i={scope:"literal",beginKeywords:a.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:a},contains:[t,n,e.QUOTE_STRING_MODE,i,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var co="[0-9](_*[0-9])*",ih=`\\.(${co})`,rh="[0-9a-fA-F](_*[0-9a-fA-F])*",Wj={className:"number",variants:[{begin:`(\\b(${co})((${ih})|\\.)?|(${ih}))[eE][+-]?(${co})[fFdD]?\\b`},{begin:`\\b(${co})((${ih})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${ih})[fFdD]?\\b`},{begin:`\\b(${co})[fFdD]\\b`},{begin:`\\b0[xX]((${rh})\\.?|(${rh})?\\.(${rh}))[pP][+-]?(${co})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${rh})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Gj(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},a={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},r={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[r,i]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,r,i]}]};i.contains.push(o);const s={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(o,{className:"string"}),"self"]}]},c=Wj,h=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),d={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},m=d;return m.variants[1].contains=[d],d.variants[1].contains=[m],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,h,n,a,s,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[d,e.C_LINE_COMMENT_MODE,h],relevance:0},e.C_LINE_COMMENT_MODE,h,s,l,o,e.C_NUMBER_MODE]},h]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},s,l]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},c]}}const Vj=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Xj=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Yj=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Kj=[...Xj,...Yj],Qj=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Yk=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Kk=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Jj=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),Zj=Yk.concat(Kk).sort().reverse();function eU(e){const t=Vj(e),n=Zj,a="and or not only",i="[\\w-]+",r="("+i+"|@\\{"+i+"\\})",o=[],s=[],l=function(x){return{className:"string",begin:"~?"+x+".*?"+x}},c=function(x,_,C){return{className:x,begin:_,relevance:C}},h={$pattern:/[a-z-]+/,keyword:a,attribute:Qj.join(" ")},d={begin:"\\(",end:"\\)",contains:s,keywords:h,relevance:0};s.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,l("'"),l('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,d,c("variable","@@?"+i,10),c("variable","@\\{"+i+"\\}"),c("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const m=s.concat({begin:/\{/,end:/\}/,contains:o}),p={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(s)},b={begin:r+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Jj.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:s}}]},y={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:h,returnEnd:!0,contains:s,relevance:0}},T={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:m}},g={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:r,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,p,c("keyword","all\\b"),c("variable","@\\{"+i+"\\}"),{begin:"\\b("+Kj.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,c("selector-tag",r,0),c("selector-id","#"+r),c("selector-class","\\."+r,0),c("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+Yk.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+Kk.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:m},{begin:"!important"},t.FUNCTION_DISPATCH]},w={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[g]};return o.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,y,T,w,b,g,p,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:o}}function tU(e){const t="\\[=*\\[",n="\\]=*\\]",a={begin:t,end:n,contains:["self"]},i=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,n,{contains:[a],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:n,contains:[a],relevance:5}])}}function nU(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},a={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,n]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},r={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,n,a,i,r,o]}}function aU(e){const t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},a={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},r={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},s=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,s,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},h={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},d=e.inherit(c,{contains:[]}),m=e.inherit(h,{contains:[]});c.contains.push(m),h.contains.push(d);let p=[n,l];return[c,h,d,m].forEach(g=>{g.contains=g.contains.concat(p)}),p=p.concat(c,h),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:p},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:p}]}]},n,r,c,h,{className:"quote",begin:"^>\\s+",contains:p,end:"$"},i,a,l,o,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function iU(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,s={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},l={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:s,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function rU(e){const t=e.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],a=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},r={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},o={begin:/->\{/,end:/\}/},s={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},l={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[s]},c={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},h=[e.BACKSLASH_ESCAPE,r,l],d=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],m=(y,T,g="\\1")=>{const w=g==="\\1"?g:t.concat(g,T);return t.concat(t.concat("(?:",y,")"),T,/(?:\\.|[^\\\/])*?/,w,/(?:\\.|[^\\\/])*?/,g,a)},p=(y,T,g)=>t.concat(t.concat("(?:",y,")"),T,/(?:\\.|[^\\\/])*?/,g,a),b=[l,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:h,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},c,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:m("s|tr|y",t.either(...d,{capture:!0}))},{begin:m("s|tr|y","\\(","\\)")},{begin:m("s|tr|y","\\[","\\]")},{begin:m("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:p("(?:m|qr)?",/\//,/\//)},{begin:p("m|qr",t.either(...d,{capture:!0}),/\1/)},{begin:p("m|qr",/\(/,/\)/)},{begin:p("m|qr",/\[/,/\]/)},{begin:p("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,s]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,s,c]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return r.contains=b,o.contains=b,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:b}}function oU(e){const t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,a=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),r=t.concat(/[A-Z]+/,n),o={scope:"variable",match:"\\$+"+a},s={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},l={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},c=e.inherit(e.APOS_STRING_MODE,{illegal:null}),h=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(l)}),d={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(l),"on:begin":(G,j)=>{j.data._beginMatch=G[1]||G[2]},"on:end":(G,j)=>{j.data._beginMatch!==G[1]&&j.ignoreMatch()}},m=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),p=`[ 	
]`,b={scope:"string",variants:[h,c,d,m]},y={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},T=["false","null","true"],g=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],w=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],_={keyword:g,literal:(G=>{const j=[];return G.forEach($=>{j.push($),$.toLowerCase()===$?j.push($.toUpperCase()):j.push($.toLowerCase())}),j})(T),built_in:w},C=G=>G.map(j=>j.replace(/\|\d+$/,"")),A={variants:[{match:[/new/,t.concat(p,"+"),t.concat("(?!",C(w).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},M=t.concat(a,"\\b(?!\\()"),I={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),M],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,t.concat(/::/,t.lookahead(/(?!class\b)/)),M],scope:{1:"title.class",3:"variable.constant"}},{match:[i,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},R={scope:"attr",match:t.concat(a,t.lookahead(":"),t.lookahead(/(?!::)/))},z={relevance:0,begin:/\(/,end:/\)/,keywords:_,contains:[R,o,I,e.C_BLOCK_COMMENT_MODE,b,y,A]},F={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",C(g).join("\\b|"),"|",C(w).join("\\b|"),"\\b)"),a,t.concat(p,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[z]};z.contains.push(F);const H=[R,I,e.C_BLOCK_COMMENT_MODE,b,y,A],X={begin:t.concat(/#\[\s*\\?/,t.either(i,r)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:T,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:T,keyword:["new","array"]},contains:["self",...H]},...H,{scope:"meta",variants:[{match:i},{match:r}]}]};return{case_insensitive:!1,keywords:_,contains:[X,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},s,{scope:"variable.language",match:/\$this\b/},o,F,I,{match:[/const/,/\s/,a],scope:{1:"keyword",3:"variable.constant"}},A,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:_,contains:["self",X,o,I,e.C_BLOCK_COMMENT_MODE,b,y]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},b,y]}}function sU(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function lU(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function cU(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),a=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],s={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:a,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:s,illegal:/#/},h={begin:/\{\{/,relevance:0},d={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l,h,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l,h,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,h,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,h,c]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},m="[0-9](_?[0-9])*",p=`(\\b(${m}))?\\.(${m})|\\b(${m})\\.`,b=`\\b|${a.join("|")}`,y={className:"number",relevance:0,variants:[{begin:`(\\b(${m})|(${p}))[eE][+-]?(${m})[jJ]?(?=${b})`},{begin:`(${p})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${b})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${b})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${b})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${b})`},{begin:`\\b(${m})[jJ](?=${b})`}]},T={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:s,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},g={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:["self",l,y,d,e.HASH_COMMENT_MODE]}]};return c.contains=[d,y,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:s,illegal:/(<\/|\?)|=>/,contains:[l,y,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},d,T,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[g]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[y,g,d]}]}}function hU(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function dU(e){const t=e.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,a=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,r=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,a]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,a]},{scope:{1:"punctuation",2:"number"},match:[r,a]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,a]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:r},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function uU(e){const t=e.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",a=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=t.concat(a,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},s={className:"doctag",begin:"@[A-Za-z]+"},l={begin:"#<",end:">"},c=[e.COMMENT("#","$",{contains:[s]}),e.COMMENT("^=begin","^=end",{contains:[s],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],h={className:"subst",begin:/#\{/,end:/\}/,keywords:o},d={className:"string",contains:[e.BACKSLASH_ESCAPE,h],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,h]})]}]},m="[1-9](_?[0-9])*|0",p="[0-9](_?[0-9])*",b={className:"number",relevance:0,variants:[{begin:`\\b(${m})(\\.(${p}))?([eE][+-]?(${p})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},y={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},A=[d,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:o},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:a,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[y]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[d,{begin:n}],relevance:0},b,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,h],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(l,c),relevance:0}].concat(l,c);h.contains=A,y.contains=A;const z=[{begin:/^\s*=>/,starts:{end:"$",contains:A}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:o,contains:A}}];return c.unshift(l),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(z).concat(c).concat(A)}}function mU(e){const t=e.regex,n=/(r#)?/,a=t.concat(n,e.UNDERSCORE_IDENT_RE),i=t.concat(n,e.IDENT_RE),r={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,t.lookahead(/\s*\(/))},o="([ui](8|16|32|64|128|size)|f(32|64))?",s=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],l=["true","false","Some","None","Ok","Err"],c=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],h=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:h,keyword:s,literal:l,built_in:c},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+o},{begin:"\\b0o([0-7_]+)"+o},{begin:"\\b0x([A-Fa-f0-9_]+)"+o},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+o}],relevance:0},{begin:[/fn/,/\s+/,a],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,a],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,a,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,a],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,a],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:c,type:h}},{className:"punctuation",begin:"->"},r]}}const pU=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),fU=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],gU=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],bU=[...fU,...gU],yU=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),wU=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),vU=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),xU=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function _U(e){const t=pU(e),n=vU,a=wU,i="@[a-z-]+",r="and or not only",s={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+bU.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+a.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},s,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+xU.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,s,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:r,attribute:yU.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},s,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function TU(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function kU(e){const t=e.regex,n=e.COMMENT("--","$"),a={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},r=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],s=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],h=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],d=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],m=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],p=h,b=[...c,...l].filter(C=>!h.includes(C)),y={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},T={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},g={match:t.concat(/\b/,t.either(...p),/\s*\(/),relevance:0,keywords:{built_in:p}};function w(C){return t.concat(/\b/,t.either(...C.map(A=>A.replace(/\s+/,"\\s+"))),/\b/)}const x={scope:"keyword",match:w(m),relevance:0};function _(C,{exceptions:A,when:M}={}){const I=M;return A=A||[],C.map(R=>R.match(/\|\d+$/)||A.includes(R)?R:I(R)?`${R}|0`:R)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:_(b,{when:C=>C.length<3}),literal:r,type:s,built_in:d},contains:[{scope:"type",match:w(o)},x,g,y,a,i,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,T]}}function Qk(e){return e?typeof e=="string"?e:e.source:null}function Os(e){return He("(?=",e,")")}function He(...e){return e.map(n=>Qk(n)).join("")}function AU(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function Kt(...e){return"("+(AU(e).capture?"":"?:")+e.map(a=>Qk(a)).join("|")+")"}const w1=e=>He(/\b/,e,/\w$/.test(e)?/\b/:/\B/),SU=["Protocol","Type"].map(w1),gx=["init","self"].map(w1),CU=["Any","Self"],Xm=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],bx=["false","nil","true"],EU=["assignment","associativity","higherThan","left","lowerThan","none","right"],IU=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],yx=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],Jk=Kt(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),Zk=Kt(Jk,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),Ym=He(Jk,Zk,"*"),e6=Kt(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Ad=Kt(e6,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),fa=He(e6,Ad,"*"),oh=He(/[A-Z]/,Ad,"*"),NU=["attached","autoclosure",He(/convention\(/,Kt("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",He(/objc\(/,fa,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],MU=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function zU(e){const t={match:/\s+/,relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),a=[e.C_LINE_COMMENT_MODE,n],i={match:[/\./,Kt(...SU,...gx)],className:{2:"keyword"}},r={match:He(/\./,Kt(...Xm)),relevance:0},o=Xm.filter($e=>typeof $e=="string").concat(["_|0"]),s=Xm.filter($e=>typeof $e!="string").concat(CU).map(w1),l={variants:[{className:"keyword",match:Kt(...s,...gx)}]},c={$pattern:Kt(/\b\w+/,/#\w+/),keyword:o.concat(IU),literal:bx},h=[i,r,l],d={match:He(/\./,Kt(...yx)),relevance:0},m={className:"built_in",match:He(/\b/,Kt(...yx),/(?=\()/)},p=[d,m],b={match:/->/,relevance:0},y={className:"operator",relevance:0,variants:[{match:Ym},{match:`\\.(\\.|${Zk})+`}]},T=[b,y],g="([0-9]_*)+",w="([0-9a-fA-F]_*)+",x={className:"number",relevance:0,variants:[{match:`\\b(${g})(\\.(${g}))?([eE][+-]?(${g}))?\\b`},{match:`\\b0x(${w})(\\.(${w}))?([pP][+-]?(${g}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},_=($e="")=>({className:"subst",variants:[{match:He(/\\/,$e,/[0\\tnr"']/)},{match:He(/\\/,$e,/u\{[0-9a-fA-F]{1,8}\}/)}]}),C=($e="")=>({className:"subst",match:He(/\\/,$e,/[\t ]*(?:[\r\n]|\r\n)/)}),A=($e="")=>({className:"subst",label:"interpol",begin:He(/\\/,$e,/\(/),end:/\)/}),M=($e="")=>({begin:He($e,/"""/),end:He(/"""/,$e),contains:[_($e),C($e),A($e)]}),I=($e="")=>({begin:He($e,/"/),end:He(/"/,$e),contains:[_($e),A($e)]}),R={className:"string",variants:[M(),M("#"),M("##"),M("###"),I(),I("#"),I("##"),I("###")]},z=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],F={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:z},H=$e=>{const Vt=He($e,/\//),de=He(/\//,$e);return{begin:Vt,end:de,contains:[...z,{scope:"comment",begin:`#(?!.*${de})`,end:/$/}]}},X={scope:"regexp",variants:[H("###"),H("##"),H("#"),F]},G={match:He(/`/,fa,/`/)},j={className:"variable",match:/\$\d+/},$={className:"variable",match:`\\$${Ad}+`},L=[G,j,$],B={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:MU,contains:[...T,x,R]}]}},V={scope:"keyword",match:He(/@/,Kt(...NU),Os(Kt(/\(/,/\s+/)))},E={scope:"meta",match:He(/@/,fa)},re=[B,V,E],le={match:Os(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:He(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Ad,"+")},{className:"type",match:oh,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:He(/\s+&\s+/,Os(oh)),relevance:0}]},O={begin:/</,end:/>/,keywords:c,contains:[...a,...h,...re,b,le]};le.contains.push(O);const pe={match:He(fa,/\s*:/),keywords:"_|0",relevance:0},ye={begin:/\(/,end:/\)/,relevance:0,keywords:c,contains:["self",pe,...a,X,...h,...p,...T,x,R,...L,...re,le]},_e={begin:/</,end:/>/,keywords:"repeat each",contains:[...a,le]},Qe={begin:Kt(Os(He(fa,/\s*:/)),Os(He(fa,/\s+/,fa,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:fa}]},ie={begin:/\(/,end:/\)/,keywords:c,contains:[Qe,...a,...h,...T,x,R,...re,le,ye],endsParent:!0,illegal:/["']/},Ae={match:[/(func|macro)/,/\s+/,Kt(G.match,fa,Ym)],className:{1:"keyword",3:"title.function"},contains:[_e,ie,t],illegal:[/\[/,/%/]},Be={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[_e,ie,t],illegal:/\[|%/},gt={match:[/operator/,/\s+/,Ym],className:{1:"keyword",3:"title"}},Dn={begin:[/precedencegroup/,/\s+/,oh],className:{1:"keyword",3:"title"},contains:[le],keywords:[...EU,...bx],end:/}/},On={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},Pn={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},xt={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,fa,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:c,contains:[_e,...h,{begin:/:/,end:/\{/,keywords:c,contains:[{scope:"title.class.inherited",match:oh},...h],relevance:0}]};for(const $e of R.variants){const Vt=$e.contains.find(Ln=>Ln.label==="interpol");Vt.keywords=c;const de=[...h,...p,...T,x,R,...L];Vt.contains=[...de,{begin:/\(/,end:/\)/,contains:["self",...de]}]}return{name:"Swift",keywords:c,contains:[...a,Ae,Be,On,Pn,xt,gt,Dn,{beginKeywords:"import",end:/$/,contains:[...a],relevance:0},X,...h,...p,...T,x,R,...L,...re,le,ye]}}const Sd="[A-Za-z$_][0-9A-Za-z$_]*",t6=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],n6=["true","false","null","undefined","NaN","Infinity"],a6=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],i6=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],r6=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],o6=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],s6=[].concat(r6,a6,i6);function $U(e){const t=e.regex,n=(B,{after:V})=>{const E="</"+B[0].slice(1);return B.input.indexOf(E,V)!==-1},a=Sd,i={begin:"<>",end:"</>"},r=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(B,V)=>{const E=B[0].length+B.index,re=B.input[E];if(re==="<"||re===","){V.ignoreMatch();return}re===">"&&(n(B,{after:E})||V.ignoreMatch());let le;const O=B.input.substring(E);if(le=O.match(/^\s*=/)){V.ignoreMatch();return}if((le=O.match(/^\s+extends\s+/))&&le.index===0){V.ignoreMatch();return}}},s={$pattern:Sd,keyword:t6,literal:n6,built_in:s6,"variable.language":o6},l="[0-9](_?[0-9])*",c=`\\.(${l})`,h="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${h})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${h})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},m={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"xml"}},b={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"css"}},y={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"graphql"}},T={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,m]},w={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:a+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},x=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,b,y,T,{match:/\$\d+/},d];m.contains=x.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(x)});const _=[].concat(w,m.contains),C=_.concat([{begin:/(\s*)\(/,end:/\)/,keywords:s,contains:["self"].concat(_)}]),A={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:C},M={variants:[{match:[/class/,/\s+/,a,/\s+/,/extends/,/\s+/,t.concat(a,"(",t.concat(/\./,a),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,a],scope:{1:"keyword",3:"title.class"}}]},I={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...a6,...i6]}},R={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},z={variants:[{match:[/function/,/\s+/,a,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[A],illegal:/%/},F={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function H(B){return t.concat("(?!",B.join("|"),")")}const X={match:t.concat(/\b/,H([...r6,"super","import"].map(B=>`${B}\\s*\\(`)),a,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},G={begin:t.concat(/\./,t.lookahead(t.concat(a,/(?![0-9A-Za-z$_(])/))),end:a,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},j={match:[/get|set/,/\s+/,a,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},A]},$="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",L={match:[/const|var|let/,/\s+/,a,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead($)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[A]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:I},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),R,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,b,y,T,w,{match:/\$\d+/},d,I,{scope:"attr",match:a+t.lookahead(":"),relevance:0},L,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[w,e.REGEXP_MODE,{className:"function",begin:$,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:r},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},z,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[A,e.inherit(e.TITLE_MODE,{begin:a,className:"title.function"})]},{match:/\.\.\./,relevance:0},G,{match:"\\$"+a,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[A]},X,F,M,j,{match:/\$[(.]/}]}}function RU(e){const t=e.regex,n=$U(e),a=Sd,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],r={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},s={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],c={$pattern:Sd,keyword:t6.concat(l),literal:n6,built_in:s6.concat(i),"variable.language":o6},h={className:"meta",begin:"@"+a},d=(y,T,g)=>{const w=y.contains.findIndex(x=>x.label===T);if(w===-1)throw new Error("can not find mode to replace");y.contains.splice(w,1,g)};Object.assign(n.keywords,c),n.exports.PARAMS_CONTAINS.push(h);const m=n.contains.find(y=>y.scope==="attr"),p=Object.assign({},m,{match:t.concat(a,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,m,p]),n.contains=n.contains.concat([h,r,o,p]),d(n,"shebang",e.SHEBANG()),d(n,"use_strict",s);const b=n.contains.find(y=>y.label==="func.def");return b.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function DU(e){const t=e.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},a={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,r=/\d{4}-\d{1,2}-\d{1,2}/,o=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,s=/\d{1,2}(:\d{1,2}){1,2}/,l={className:"literal",variants:[{begin:t.concat(/# */,t.either(r,i),/ *#/)},{begin:t.concat(/# */,s,/ *#/)},{begin:t.concat(/# */,o,/ *#/)},{begin:t.concat(/# */,t.either(r,i),/ +/,t.either(o,s),/ *#/)}]},c={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},h={className:"label",begin:/^\w+:/},d=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),m=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,a,l,c,h,d,m,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[m]}]}}function OU(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const n=e.COMMENT(/;;/,/$/),a=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},r={className:"variable",begin:/\$[\w_]+/},o={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},s={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},l={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},c={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:a},contains:[n,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},r,o,i,e.QUOTE_STRING_MODE,l,c,s]}}function PU(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),a=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},r={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(r,{begin:/\(/,end:/\)/}),s=e.inherit(e.APOS_STRING_MODE,{className:"string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:a,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[r,l,s,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[r,o,l,s]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function LU(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",a={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},r={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},o={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,i]},s=e.inherit(o,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),m={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},p={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},b={begin:/\{/,end:/\}/,contains:[p],illegal:"\\n",relevance:0},y={begin:"\\[",end:"\\]",contains:[p],illegal:"\\n",relevance:0},T=[a,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},m,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},b,y,r,o],g=[...T];return g.pop(),g.push(s),p.contains=g,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:T}}const BU={arduino:vj,bash:xj,c:_j,cpp:Tj,csharp:kj,css:$j,diff:Rj,go:Dj,graphql:Oj,ini:Pj,java:Lj,javascript:qj,json:Hj,kotlin:Gj,less:eU,lua:tU,makefile:nU,markdown:aU,objectivec:iU,perl:rU,php:oU,"php-template":sU,plaintext:lU,python:cU,"python-repl":hU,r:dU,ruby:uU,rust:mU,scss:_U,shell:TU,sql:kU,swift:zU,typescript:RU,vbnet:DU,wasm:OU,xml:PU,yaml:LU};function l6(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t],a=typeof n;(a==="object"||a==="function")&&!Object.isFrozen(n)&&l6(n)}),e}class wx{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function c6(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function $i(e,...t){const n=Object.create(null);for(const a in e)n[a]=e[a];return t.forEach(function(a){for(const i in a)n[i]=a[i]}),n}const FU="</span>",vx=e=>!!e.scope,jU=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((a,i)=>`${a}${"_".repeat(i+1)}`)].join(" ")}return`${t}${e}`};class UU{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=c6(t)}openNode(t){if(!vx(t))return;const n=jU(t.scope,{prefix:this.classPrefix});this.span(n)}closeNode(t){vx(t)&&(this.buffer+=FU)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const xx=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class v1{constructor(){this.rootNode=xx(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n=xx({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(a=>this._walk(t,a)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{v1._collapse(n)}))}}class qU extends v1{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,n){const a=t.root;n&&(a.scope=`language:${n}`),this.add(a)}toHTML(){return new UU(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function Wl(e){return e?typeof e=="string"?e:e.source:null}function h6(e){return Xr("(?=",e,")")}function HU(e){return Xr("(?:",e,")*")}function WU(e){return Xr("(?:",e,")?")}function Xr(...e){return e.map(n=>Wl(n)).join("")}function GU(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function x1(...e){return"("+(GU(e).capture?"":"?:")+e.map(a=>Wl(a)).join("|")+")"}function d6(e){return new RegExp(e.toString()+"|").exec("").length-1}function VU(e,t){const n=e&&e.exec(t);return n&&n.index===0}const XU=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function _1(e,{joinWith:t}){let n=0;return e.map(a=>{n+=1;const i=n;let r=Wl(a),o="";for(;r.length>0;){const s=XU.exec(r);if(!s){o+=r;break}o+=r.substring(0,s.index),r=r.substring(s.index+s[0].length),s[0][0]==="\\"&&s[1]?o+="\\"+String(Number(s[1])+i):(o+=s[0],s[0]==="("&&n++)}return o}).map(a=>`(${a})`).join(t)}const YU=/\b\B/,u6="[a-zA-Z]\\w*",T1="[a-zA-Z_]\\w*",m6="\\b\\d+(\\.\\d+)?",p6="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",f6="\\b(0b[01]+)",KU="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",QU=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Xr(t,/.*\b/,e.binary,/\b.*/)),$i({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,a)=>{n.index!==0&&a.ignoreMatch()}},e)},Gl={begin:"\\\\[\\s\\S]",relevance:0},JU={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Gl]},ZU={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Gl]},eq={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},bu=function(e,t,n={}){const a=$i({scope:"comment",begin:e,end:t,contains:[]},n);a.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=x1("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return a.contains.push({begin:Xr(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),a},tq=bu("//","$"),nq=bu("/\\*","\\*/"),aq=bu("#","$"),iq={scope:"number",begin:m6,relevance:0},rq={scope:"number",begin:p6,relevance:0},oq={scope:"number",begin:f6,relevance:0},sq={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Gl,{begin:/\[/,end:/\]/,relevance:0,contains:[Gl]}]},lq={scope:"title",begin:u6,relevance:0},cq={scope:"title",begin:T1,relevance:0},hq={begin:"\\.\\s*"+T1,relevance:0},dq=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var sh=Object.freeze({__proto__:null,APOS_STRING_MODE:JU,BACKSLASH_ESCAPE:Gl,BINARY_NUMBER_MODE:oq,BINARY_NUMBER_RE:f6,COMMENT:bu,C_BLOCK_COMMENT_MODE:nq,C_LINE_COMMENT_MODE:tq,C_NUMBER_MODE:rq,C_NUMBER_RE:p6,END_SAME_AS_BEGIN:dq,HASH_COMMENT_MODE:aq,IDENT_RE:u6,MATCH_NOTHING_RE:YU,METHOD_GUARD:hq,NUMBER_MODE:iq,NUMBER_RE:m6,PHRASAL_WORDS_MODE:eq,QUOTE_STRING_MODE:ZU,REGEXP_MODE:sq,RE_STARTERS_RE:KU,SHEBANG:QU,TITLE_MODE:lq,UNDERSCORE_IDENT_RE:T1,UNDERSCORE_TITLE_MODE:cq});function uq(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function mq(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function pq(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=uq,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function fq(e,t){Array.isArray(e.illegal)&&(e.illegal=x1(...e.illegal))}function gq(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function bq(e,t){e.relevance===void 0&&(e.relevance=1)}const yq=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(a=>{delete e[a]}),e.keywords=n.keywords,e.begin=Xr(n.beforeMatch,h6(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},wq=["of","and","for","in","not","or","if","then","parent","list","value"],vq="keyword";function g6(e,t,n=vq){const a=Object.create(null);return typeof e=="string"?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach(function(r){Object.assign(a,g6(e[r],t,r))}),a;function i(r,o){t&&(o=o.map(s=>s.toLowerCase())),o.forEach(function(s){const l=s.split("|");a[l[0]]=[r,xq(l[0],l[1])]})}}function xq(e,t){return t?Number(t):_q(e)?0:1}function _q(e){return wq.includes(e.toLowerCase())}const _x={},Er=e=>{console.error(e)},Tx=(e,...t)=>{console.log(`WARN: ${e}`,...t)},no=(e,t)=>{_x[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),_x[`${e}/${t}`]=!0)},Cd=new Error;function b6(e,t,{key:n}){let a=0;const i=e[n],r={},o={};for(let s=1;s<=t.length;s++)o[s+a]=i[s],r[s+a]=!0,a+=d6(t[s-1]);e[n]=o,e[n]._emit=r,e[n]._multi=!0}function Tq(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Er("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Cd;if(typeof e.beginScope!="object"||e.beginScope===null)throw Er("beginScope must be object"),Cd;b6(e,e.begin,{key:"beginScope"}),e.begin=_1(e.begin,{joinWith:""})}}function kq(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Er("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Cd;if(typeof e.endScope!="object"||e.endScope===null)throw Er("endScope must be object"),Cd;b6(e,e.end,{key:"endScope"}),e.end=_1(e.end,{joinWith:""})}}function Aq(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function Sq(e){Aq(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),Tq(e),kq(e)}function Cq(e){function t(o,s){return new RegExp(Wl(o),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(s?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(s,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,s]),this.matchAt+=d6(s)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const s=this.regexes.map(l=>l[1]);this.matcherRe=t(_1(s,{joinWith:"|"}),!0),this.lastIndex=0}exec(s){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(s);if(!l)return null;const c=l.findIndex((d,m)=>m>0&&d!==void 0),h=this.matchIndexes[c];return l.splice(0,c),Object.assign(l,h)}}class a{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(s){if(this.multiRegexes[s])return this.multiRegexes[s];const l=new n;return this.rules.slice(s).forEach(([c,h])=>l.addRule(c,h)),l.compile(),this.multiRegexes[s]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(s,l){this.rules.push([s,l]),l.type==="begin"&&this.count++}exec(s){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let c=l.exec(s);if(this.resumingScanAtSamePosition()&&!(c&&c.index===this.lastIndex)){const h=this.getMatcher(0);h.lastIndex=this.lastIndex+1,c=h.exec(s)}return c&&(this.regexIndex+=c.position+1,this.regexIndex===this.count&&this.considerAll()),c}}function i(o){const s=new a;return o.contains.forEach(l=>s.addRule(l.begin,{rule:l,type:"begin"})),o.terminatorEnd&&s.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&s.addRule(o.illegal,{type:"illegal"}),s}function r(o,s){const l=o;if(o.isCompiled)return l;[mq,gq,Sq,yq].forEach(h=>h(o,s)),e.compilerExtensions.forEach(h=>h(o,s)),o.__beforeBegin=null,[pq,fq,bq].forEach(h=>h(o,s)),o.isCompiled=!0;let c=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),c=o.keywords.$pattern,delete o.keywords.$pattern),c=c||/\w+/,o.keywords&&(o.keywords=g6(o.keywords,e.case_insensitive)),l.keywordPatternRe=t(c,!0),s&&(o.begin||(o.begin=/\B|\b/),l.beginRe=t(l.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(l.endRe=t(l.end)),l.terminatorEnd=Wl(l.end)||"",o.endsWithParent&&s.terminatorEnd&&(l.terminatorEnd+=(o.end?"|":"")+s.terminatorEnd)),o.illegal&&(l.illegalRe=t(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(h){return Eq(h==="self"?o:h)})),o.contains.forEach(function(h){r(h,l)}),o.starts&&r(o.starts,s),l.matcher=i(l),l}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=$i(e.classNameAliases||{}),r(e)}function y6(e){return e?e.endsWithParent||y6(e.starts):!1}function Eq(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return $i(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:y6(e)?$i(e,{starts:e.starts?$i(e.starts):null}):Object.isFrozen(e)?$i(e):e}var Iq="11.11.1";class Nq extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}}const Km=c6,kx=$i,Ax=Symbol("nomatch"),Mq=7,w6=function(e){const t=Object.create(null),n=Object.create(null),a=[];let i=!0;const r="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let s={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:qU};function l($){return s.noHighlightRe.test($)}function c($){let L=$.className+" ";L+=$.parentNode?$.parentNode.className:"";const B=s.languageDetectRe.exec(L);if(B){const V=I(B[1]);return V||(Tx(r.replace("{}",B[1])),Tx("Falling back to no-highlight mode for this block.",$)),V?B[1]:"no-highlight"}return L.split(/\s+/).find(V=>l(V)||I(V))}function h($,L,B){let V="",E="";typeof L=="object"?(V=$,B=L.ignoreIllegals,E=L.language):(no("10.7.0","highlight(lang, code, ...args) has been deprecated."),no("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),E=$,V=L),B===void 0&&(B=!0);const re={code:V,language:E};G("before:highlight",re);const le=re.result?re.result:d(re.language,re.code,B);return le.code=re.code,G("after:highlight",le),le}function d($,L,B,V){const E=Object.create(null);function re(q,Y){return q.keywords[Y]}function le(){if(!de.keywords){_t.addText(qe);return}let q=0;de.keywordPatternRe.lastIndex=0;let Y=de.keywordPatternRe.exec(qe),ne="";for(;Y;){ne+=qe.substring(q,Y.index);const ce=xt.case_insensitive?Y[0].toLowerCase():Y[0],we=re(de,ce);if(we){const[bt,Ra]=we;if(_t.addText(ne),ne="",E[ce]=(E[ce]||0)+1,E[ce]<=Mq&&(Yr+=Ra),bt.startsWith("_"))ne+=Y[0];else{const na=xt.classNameAliases[bt]||bt;ye(Y[0],na)}}else ne+=Y[0];q=de.keywordPatternRe.lastIndex,Y=de.keywordPatternRe.exec(qe)}ne+=qe.substring(q),_t.addText(ne)}function O(){if(qe==="")return;let q=null;if(typeof de.subLanguage=="string"){if(!t[de.subLanguage]){_t.addText(qe);return}q=d(de.subLanguage,qe,!0,Ln[de.subLanguage]),Ln[de.subLanguage]=q._top}else q=p(qe,de.subLanguage.length?de.subLanguage:null);de.relevance>0&&(Yr+=q.relevance),_t.__addSublanguage(q._emitter,q.language)}function pe(){de.subLanguage!=null?O():le(),qe=""}function ye(q,Y){q!==""&&(_t.startScope(Y),_t.addText(q),_t.endScope())}function _e(q,Y){let ne=1;const ce=Y.length-1;for(;ne<=ce;){if(!q._emit[ne]){ne++;continue}const we=xt.classNameAliases[q[ne]]||q[ne],bt=Y[ne];we?ye(bt,we):(qe=bt,le(),qe=""),ne++}}function Qe(q,Y){return q.scope&&typeof q.scope=="string"&&_t.openNode(xt.classNameAliases[q.scope]||q.scope),q.beginScope&&(q.beginScope._wrap?(ye(qe,xt.classNameAliases[q.beginScope._wrap]||q.beginScope._wrap),qe=""):q.beginScope._multi&&(_e(q.beginScope,Y),qe="")),de=Object.create(q,{parent:{value:de}}),de}function ie(q,Y,ne){let ce=VU(q.endRe,ne);if(ce){if(q["on:end"]){const we=new wx(q);q["on:end"](Y,we),we.isMatchIgnored&&(ce=!1)}if(ce){for(;q.endsParent&&q.parent;)q=q.parent;return q}}if(q.endsWithParent)return ie(q.parent,Y,ne)}function Ae(q){return de.matcher.regexIndex===0?(qe+=q[0],1):(xs=!0,0)}function Be(q){const Y=q[0],ne=q.rule,ce=new wx(ne),we=[ne.__beforeBegin,ne["on:begin"]];for(const bt of we)if(bt&&(bt(q,ce),ce.isMatchIgnored))return Ae(Y);return ne.skip?qe+=Y:(ne.excludeBegin&&(qe+=Y),pe(),!ne.returnBegin&&!ne.excludeBegin&&(qe=Y)),Qe(ne,q),ne.returnBegin?0:Y.length}function gt(q){const Y=q[0],ne=L.substring(q.index),ce=ie(de,q,ne);if(!ce)return Ax;const we=de;de.endScope&&de.endScope._wrap?(pe(),ye(Y,de.endScope._wrap)):de.endScope&&de.endScope._multi?(pe(),_e(de.endScope,q)):we.skip?qe+=Y:(we.returnEnd||we.excludeEnd||(qe+=Y),pe(),we.excludeEnd&&(qe=Y));do de.scope&&_t.closeNode(),!de.skip&&!de.subLanguage&&(Yr+=de.relevance),de=de.parent;while(de!==ce.parent);return ce.starts&&Qe(ce.starts,q),we.returnEnd?0:Y.length}function Dn(){const q=[];for(let Y=de;Y!==xt;Y=Y.parent)Y.scope&&q.unshift(Y.scope);q.forEach(Y=>_t.openNode(Y))}let On={};function Pn(q,Y){const ne=Y&&Y[0];if(qe+=q,ne==null)return pe(),0;if(On.type==="begin"&&Y.type==="end"&&On.index===Y.index&&ne===""){if(qe+=L.slice(Y.index,Y.index+1),!i){const ce=new Error(`0 width match regex (${$})`);throw ce.languageName=$,ce.badRule=On.rule,ce}return 1}if(On=Y,Y.type==="begin")return Be(Y);if(Y.type==="illegal"&&!B){const ce=new Error('Illegal lexeme "'+ne+'" for mode "'+(de.scope||"<unnamed>")+'"');throw ce.mode=de,ce}else if(Y.type==="end"){const ce=gt(Y);if(ce!==Ax)return ce}if(Y.type==="illegal"&&ne==="")return qe+=`
`,1;if(vs>1e5&&vs>Y.index*3)throw new Error("potential infinite loop, way more iterations than matches");return qe+=ne,ne.length}const xt=I($);if(!xt)throw Er(r.replace("{}",$)),new Error('Unknown language: "'+$+'"');const $e=Cq(xt);let Vt="",de=V||$e;const Ln={},_t=new s.__emitter(s);Dn();let qe="",Yr=0,$a=0,vs=0,xs=!1;try{if(xt.__emitTokens)xt.__emitTokens(L,_t);else{for(de.matcher.considerAll();;){vs++,xs?xs=!1:de.matcher.considerAll(),de.matcher.lastIndex=$a;const q=de.matcher.exec(L);if(!q)break;const Y=L.substring($a,q.index),ne=Pn(Y,q);$a=q.index+ne}Pn(L.substring($a))}return _t.finalize(),Vt=_t.toHTML(),{language:$,value:Vt,relevance:Yr,illegal:!1,_emitter:_t,_top:de}}catch(q){if(q.message&&q.message.includes("Illegal"))return{language:$,value:Km(L),illegal:!0,relevance:0,_illegalBy:{message:q.message,index:$a,context:L.slice($a-100,$a+100),mode:q.mode,resultSoFar:Vt},_emitter:_t};if(i)return{language:$,value:Km(L),illegal:!1,relevance:0,errorRaised:q,_emitter:_t,_top:de};throw q}}function m($){const L={value:Km($),illegal:!1,relevance:0,_top:o,_emitter:new s.__emitter(s)};return L._emitter.addText($),L}function p($,L){L=L||s.languages||Object.keys(t);const B=m($),V=L.filter(I).filter(z).map(pe=>d(pe,$,!1));V.unshift(B);const E=V.sort((pe,ye)=>{if(pe.relevance!==ye.relevance)return ye.relevance-pe.relevance;if(pe.language&&ye.language){if(I(pe.language).supersetOf===ye.language)return 1;if(I(ye.language).supersetOf===pe.language)return-1}return 0}),[re,le]=E,O=re;return O.secondBest=le,O}function b($,L,B){const V=L&&n[L]||B;$.classList.add("hljs"),$.classList.add(`language-${V}`)}function y($){let L=null;const B=c($);if(l(B))return;if(G("before:highlightElement",{el:$,language:B}),$.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",$);return}if($.children.length>0&&(s.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn($)),s.throwUnescapedHTML))throw new Nq("One of your code blocks includes unescaped HTML.",$.innerHTML);L=$;const V=L.textContent,E=B?h(V,{language:B,ignoreIllegals:!0}):p(V);$.innerHTML=E.value,$.dataset.highlighted="yes",b($,B,E.language),$.result={language:E.language,re:E.relevance,relevance:E.relevance},E.secondBest&&($.secondBest={language:E.secondBest.language,relevance:E.secondBest.relevance}),G("after:highlightElement",{el:$,result:E,text:V})}function T($){s=kx(s,$)}const g=()=>{_(),no("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function w(){_(),no("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let x=!1;function _(){function $(){_()}if(document.readyState==="loading"){x||window.addEventListener("DOMContentLoaded",$,!1),x=!0;return}document.querySelectorAll(s.cssSelector).forEach(y)}function C($,L){let B=null;try{B=L(e)}catch(V){if(Er("Language definition for '{}' could not be registered.".replace("{}",$)),i)Er(V);else throw V;B=o}B.name||(B.name=$),t[$]=B,B.rawDefinition=L.bind(null,e),B.aliases&&R(B.aliases,{languageName:$})}function A($){delete t[$];for(const L of Object.keys(n))n[L]===$&&delete n[L]}function M(){return Object.keys(t)}function I($){return $=($||"").toLowerCase(),t[$]||t[n[$]]}function R($,{languageName:L}){typeof $=="string"&&($=[$]),$.forEach(B=>{n[B.toLowerCase()]=L})}function z($){const L=I($);return L&&!L.disableAutodetect}function F($){$["before:highlightBlock"]&&!$["before:highlightElement"]&&($["before:highlightElement"]=L=>{$["before:highlightBlock"](Object.assign({block:L.el},L))}),$["after:highlightBlock"]&&!$["after:highlightElement"]&&($["after:highlightElement"]=L=>{$["after:highlightBlock"](Object.assign({block:L.el},L))})}function H($){F($),a.push($)}function X($){const L=a.indexOf($);L!==-1&&a.splice(L,1)}function G($,L){const B=$;a.forEach(function(V){V[B]&&V[B](L)})}function j($){return no("10.7.0","highlightBlock will be removed entirely in v12.0"),no("10.7.0","Please use highlightElement now."),y($)}Object.assign(e,{highlight:h,highlightAuto:p,highlightAll:_,highlightElement:y,highlightBlock:j,configure:T,initHighlighting:g,initHighlightingOnLoad:w,registerLanguage:C,unregisterLanguage:A,listLanguages:M,getLanguage:I,registerAliases:R,autoDetection:z,inherit:kx,addPlugin:H,removePlugin:X}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=Iq,e.regex={concat:Xr,lookahead:h6,either:x1,optional:WU,anyNumberOfTimes:HU};for(const $ in sh)typeof sh[$]=="object"&&l6(sh[$]);return Object.assign(e,sh),e},ns=w6({});ns.newInstance=()=>w6({});var zq=ns;ns.HighlightJS=ns;ns.default=ns;const $q=Vl(zq),Sx={},Rq="hljs-";function Dq(e){const t=$q.newInstance();return e&&r(e),{highlight:n,highlightAuto:a,listLanguages:i,register:r,registerAlias:o,registered:s};function n(l,c,h){const d=h||Sx,m=typeof d.prefix=="string"?d.prefix:Rq;if(!t.getLanguage(l))throw new Error("Unknown language: `"+l+"` is not registered");t.configure({__emitter:Oq,classPrefix:m});const p=t.highlight(c,{ignoreIllegals:!0,language:l});if(p.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:p.errorRaised});const b=p._emitter.root,y=b.data;return y.language=p.language,y.relevance=p.relevance,b}function a(l,c){const d=(c||Sx).subset||i();let m=-1,p=0,b;for(;++m<d.length;){const y=d[m];if(!t.getLanguage(y))continue;const T=n(y,l,c);T.data&&T.data.relevance!==void 0&&T.data.relevance>p&&(p=T.data.relevance,b=T)}return b||{type:"root",children:[],data:{language:void 0,relevance:p}}}function i(){return t.listLanguages()}function r(l,c){if(typeof l=="string")t.registerLanguage(l,c);else{let h;for(h in l)Object.hasOwn(l,h)&&t.registerLanguage(h,l[h])}}function o(l,c){if(typeof l=="string")t.registerAliases(typeof c=="string"?c:[...c],{languageName:l});else{let h;for(h in l)if(Object.hasOwn(l,h)){const d=l[h];t.registerAliases(typeof d=="string"?d:[...d],{languageName:h})}}}function s(l){return!!t.getLanguage(l)}}class Oq{constructor(t){this.options=t,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(t){if(t==="")return;const n=this.stack[this.stack.length-1],a=n.children[n.children.length-1];a&&a.type==="text"?a.value+=t:n.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,n){const a=this.stack[this.stack.length-1],i=t.root.children;n?a.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):a.children.push(...i)}openNode(t){const n=this,a=t.split(".").map(function(o,s){return s?o+"_".repeat(s):n.options.classPrefix+o}),i=this.stack[this.stack.length-1],r={type:"element",tagName:"span",properties:{className:a},children:[]};i.children.push(r),this.stack.push(r)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const Pq={};function ao(e){const t=e||Pq,n=t.aliases,a=t.detect||!1,i=t.languages||BU,r=t.plainText,o=t.prefix,s=t.subset;let l="hljs";const c=Dq(i);if(n&&c.registerAlias(n),o){const h=o.indexOf("-");l=h===-1?o:o.slice(0,h)}return function(h,d){cu(h,"element",function(m,p,b){if(m.tagName!=="code"||!b||b.type!=="element"||b.tagName!=="pre")return;const y=Lq(m);if(y===!1||!y&&!a||y&&r&&r.includes(y))return;Array.isArray(m.properties.className)||(m.properties.className=[]),m.properties.className.includes(l)||m.properties.className.unshift(l);const T=Pk(m,{whitespace:"pre"});let g;try{g=y?c.highlight(y,T,{prefix:o}):c.highlightAuto(T,{prefix:o,subset:s})}catch(w){const x=w;if(y&&/Unknown language/.test(x.message)){d.message("Cannot highlight as `"+y+"`, its not registered",{ancestors:[b,m],cause:x,place:m.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw x}!y&&g.data&&g.data.language&&m.properties.className.push("language-"+g.data.language),g.children.length>0&&(m.children=g.children)})}}function Lq(e){const t=e.properties.className;let n=-1;if(!Array.isArray(t))return;let a;for(;++n<t.length;){const i=String(t[n]);if(i==="no-highlight"||i==="nohighlight")return!1;!a&&i.slice(0,5)==="lang-"&&(a=i.slice(5)),!a&&i.slice(0,9)==="language-"&&(a=i.slice(9))}return a}const Bq=({progress:e,label:t})=>{const[n,a]=N.useState(0),i=Pl(e,{stiffness:400,damping:40,restDelta:.001});return K9(e,"change",r=>{a(Math.round(r*100))}),u.jsxs(ee.div,{className:"absolute bottom-6 left-6 z-[var(--z-fab)] flex items-center gap-3 pl-4 pr-5 py-3 glass-pane rounded-full shadow-xl border border-[var(--ui-border)] bg-[var(--bg-translucent)] backdrop-blur-md max-w-[calc(100%-8rem)] transition-all hover:border-[var(--text-secondary)]",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1,type:"spring",stiffness:300,damping:30},children:[t&&u.jsx("span",{className:"text-xs font-bold text-[var(--text-secondary)] truncate max-w-[160px] sm:max-w-[240px] border-r border-[var(--ui-border)] pr-3 mr-1 hidden sm:block",children:t}),u.jsxs("div",{className:"flex flex-col justify-center gap-1",children:[u.jsxs("div",{className:"flex justify-between items-center w-28",children:[u.jsx("span",{className:"text-[10px] font-bold text-[var(--text-subtle)] uppercase tracking-wider",children:"Progress"}),u.jsxs("span",{className:"text-xs font-bold font-mono text-[var(--text-primary)]",children:[n,"%"]})]}),u.jsx("div",{className:"w-28 h-1.5 bg-[var(--ui-bg)] rounded-full overflow-hidden",children:u.jsx(ee.div,{className:"h-full bg-[var(--accent-solid)] origin-left rounded-full",style:{scaleX:i}})})]})]})},wr=e=>{if(["string","number"].includes(typeof e))return e.toString();if(e instanceof Array)return e.map(wr).join("");if(typeof e=="object"&&e){if(e.value)return e.value;if(e.children)return wr(e.children);if(e.props&&e.props.children)return wr(e.props.children)}return""},Qm=({id:e})=>u.jsx("a",{href:`#${e}`,className:"ml-2 opacity-0 group-hover:opacity-100 text-[var(--text-subtle)] hover:text-[var(--accent-solid)] transition-opacity duration-200 inline-flex items-center align-middle","aria-label":"Link to section",children:u.jsx(gM,{className:"w-4 h-4"})}),yi=(e,t,n,a)=>Object.keys(t).length===0||n.source==="(?:)"||n.source==="(?!"?e:Io.Children.map(e,i=>{if(typeof i=="string"){if(i.length<3||!n.test(i))return i;n.lastIndex=0;const r=i.split(n);return r.length===1?i:r.map((o,s)=>{if(!o)return o;const l=o.toLowerCase(),c=t[l];return c?a.has(l)?o:(a.add(l),u.jsx(Ll,{content:u.jsxs("div",{className:"text-left max-w-xs",children:[u.jsxs("p",{className:"font-bold font-serif text-base",children:[c.term," ",u.jsxs("span",{className:"text-[var(--text-secondary)] font-normal text-sm",children:["(",c.chinese,")"]})]}),u.jsx("p",{className:"mt-2 text-sm leading-relaxed text-gray-200",children:c.definition}),u.jsx("p",{className:"mt-1 text-xs text-gray-400 border-t border-gray-600 pt-1 mt-2",children:c.definition_zh})]}),children:u.jsx("span",{className:"border-b-[1.5px] border-dotted border-[var(--accent-solid)]/40 cursor-help font-medium text-[var(--text-primary)] hover:bg-[var(--accent-bg)] hover:border-transparent transition-all rounded-sm px-0.5 mx-[-0.125rem] decoration-clone",children:o})},`${s}-${o}`)):o})}return Io.isValidElement(i)&&i.props.children?Io.cloneElement(i,{...i.props,children:yi(i.props.children,t,n,a)}):i}),Fq=(e,t,n)=>N.useMemo(()=>({h1:({node:a,...i})=>{const r=Hs(wr(a));return u.jsxs("h1",{id:r,className:"group scroll-mt-32 text-[var(--text-primary)] mb-12 mt-8 font-serif text-4xl md:text-5xl font-bold tracking-tight leading-tight relative",...i,children:[yi(i.children,e,t,new Set),u.jsx(Qm,{id:r})]})},h2:({node:a,...i})=>{const r=Hs(wr(a));return u.jsxs("h2",{id:r,className:"group scroll-mt-32 text-[var(--text-primary)] mt-16 mb-8 font-serif text-2xl md:text-3xl font-bold border-b border-[var(--ui-border)] pb-3 flex items-baseline gap-2",...i,children:[u.jsx("span",{className:"text-[var(--accent-solid)] opacity-40 text-lg mr-1 font-sans",children:"#"}),u.jsx("span",{className:"flex-1",children:yi(i.children,e,t,new Set)}),u.jsx(Qm,{id:r})]})},h3:({node:a,...i})=>{const r=Hs(wr(a));return u.jsxs("h3",{id:r,className:"group scroll-mt-28 text-[var(--text-primary)] mt-10 mb-4 font-sans text-xl font-bold tracking-wide flex items-center",...i,children:[yi(i.children,e,t,new Set),u.jsx(Qm,{id:r})]})},h4:({node:a,...i})=>u.jsx("h4",{id:Hs(wr(a)),className:"scroll-mt-24 text-[var(--text-secondary)] mt-8 mb-3 font-sans text-lg font-semibold",...i,children:yi(i.children,e,t,new Set)}),p:({children:a})=>u.jsx("p",{className:"text-[var(--text-secondary)] mb-6 leading-relaxed",children:yi(a,e,t,new Set)}),ul:({children:a})=>u.jsx("ul",{className:"list-disc list-outside ml-6 mb-6 space-y-2 marker:text-[var(--text-subtle)] text-[var(--text-secondary)]",children:a}),ol:({children:a})=>u.jsx("ol",{className:"list-decimal list-outside ml-6 mb-6 space-y-2 marker:text-[var(--text-primary)] marker:font-bold text-[var(--text-secondary)]",children:a}),li:({children:a})=>u.jsx("li",{className:"pl-1",children:yi(a,e,t,new Set)}),blockquote:({children:a})=>u.jsx("blockquote",{className:"relative my-8 pl-6 py-1 border-l-4 border-[var(--accent-solid)] bg-[var(--ui-bg)] rounded-r-lg italic text-[var(--text-secondary)]",children:u.jsx("div",{className:"py-4 pr-4",children:a})}),code:({node:a,inline:i,className:r,children:o,...s})=>{const l=/language-(\w+)/.exec(r||"");return!i&&l?u.jsxs("div",{className:"relative group my-8 rounded-lg overflow-hidden shadow-lg border border-[var(--ui-border)] bg-[#1e1e1e]",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-[#252526] border-b border-white/10",children:[u.jsxs("div",{className:"flex gap-1.5",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-[#ff5f56]"}),u.jsx("div",{className:"w-3 h-3 rounded-full bg-[#ffbd2e]"}),u.jsx("div",{className:"w-3 h-3 rounded-full bg-[#27c93f]"})]}),u.jsx("span",{className:"text-xs font-mono text-gray-400 uppercase tracking-wider",children:l[1]})]}),u.jsx("code",{className:`${r} block overflow-x-auto p-5 text-gray-200 text-sm font-mono leading-relaxed`,...s,children:o})]}):u.jsx("code",{className:"bg-[var(--accent-bg)] text-[var(--text-primary)] px-1.5 py-0.5 rounded text-[0.9em] font-mono border border-[var(--ui-border)] tracking-tight whitespace-pre-wrap break-words",...s,children:o})},pre:({children:a})=>u.jsx("pre",{className:"not-prose my-0 bg-transparent p-0",children:a}),a:({node:a,...i})=>{var r,o;return u.jsx("a",{...i,className:"text-[var(--accent-solid)] font-semibold underline decoration-2 decoration-[var(--accent-solid)]/30 hover:decoration-[var(--accent-solid)] underline-offset-2 transition-all",target:(r=i.href)!=null&&r.startsWith("http")?"_blank":void 0,rel:(o=i.href)!=null&&o.startsWith("http")?"noopener noreferrer":void 0})},hr:()=>u.jsxs("div",{className:"my-16 flex items-center justify-center opacity-30",children:[u.jsx("div",{className:"h-px w-24 bg-[var(--text-secondary)]"}),u.jsx("div",{className:"mx-4 text-[var(--text-secondary)] text-xl tracking-[0.5em]",children:"***"}),u.jsx("div",{className:"h-px w-24 bg-[var(--text-secondary)]"})]}),table:({node:a,...i})=>u.jsx("div",{className:"my-10 w-full overflow-hidden rounded-xl border border-[var(--ui-border)] shadow-sm bg-[var(--bg-color)]",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsx("table",{className:"w-full text-sm text-left border-collapse",...i})})}),thead:({children:a})=>u.jsx("thead",{className:"bg-[var(--ui-bg)] text-[var(--text-primary)] font-bold uppercase tracking-wider text-xs border-b border-[var(--ui-border)]",children:a}),tbody:({children:a})=>u.jsx("tbody",{className:"divide-y divide-[var(--ui-border)]",children:a}),tr:({children:a})=>u.jsx("tr",{className:"transition-colors hover:bg-[var(--ui-bg-hover)]",children:a}),th:({children:a,...i})=>u.jsx("th",{className:"px-6 py-4 font-semibold text-[var(--text-primary)] whitespace-nowrap",...i,children:a}),td:({children:a,...i})=>u.jsx("td",{className:"px-6 py-4 text-[var(--text-secondary)]",...i,children:yi(a,e,t,new Set)}),img:({node:a,...i})=>u.jsxs("figure",{className:"my-12 group",children:[u.jsx("div",{className:"relative rounded-xl overflow-hidden border border-[var(--ui-border)] bg-[var(--ui-bg)]/30 shadow-sm group-hover:shadow-md transition-shadow",children:u.jsx("img",{...i,className:"w-full max-h-[600px] object-contain cursor-zoom-in transition-transform duration-500 group-hover:scale-[1.01]",onClick:()=>n({src:i.src,alt:i.alt})})}),i.alt&&u.jsx("figcaption",{className:"text-center text-sm text-[var(--text-subtle)] mt-3 font-medium px-4 italic",children:i.alt})]})}),[e,t,n]),jq=({chapterId:e,onNavigate:t})=>{const{t:n}=ft(),{subjectData:a,language:i}=Ve(),r=(a==null?void 0:a.chapterList)||[],o=r.findIndex(c=>c.id===e),s=o>0?r[o-1]:null,l=o<r.length-1?r[o+1]:null;return!s&&!l?null:u.jsxs("div",{className:"mt-32 pt-16 border-t border-[var(--ui-border)] flex flex-col sm:flex-row justify-between gap-8",children:[s?u.jsxs("button",{onClick:()=>t({type:"textbook",chapterId:s.id}),className:"text-left group flex-1 p-8 -mx-8 sm:mx-0 rounded-[2rem] hover:bg-[var(--ui-bg)] transition-all border border-transparent hover:border-[var(--ui-border)]",children:[u.jsxs("p",{className:"text-xs font-bold text-[var(--text-subtle)] uppercase tracking-widest mb-3 group-hover:text-[var(--accent-text)] transition-colors",children:[" ",n("previous_chapter")]}),u.jsx("p",{className:"font-bold text-[var(--text-primary)] text-2xl font-serif group-hover:translate-x-2 transition-transform",children:s.title[i]})]}):u.jsx("div",{className:"flex-1"}),l?u.jsxs("button",{onClick:()=>t({type:"textbook",chapterId:l.id}),className:"text-right group flex-1 p-8 -mx-8 sm:mx-0 rounded-[2rem] hover:bg-[var(--ui-bg)] transition-all border border-transparent hover:border-[var(--ui-border)]",children:[u.jsxs("p",{className:"text-xs font-bold text-[var(--text-subtle)] uppercase tracking-widest mb-3 group-hover:text-[var(--accent-text)] transition-colors",children:[n("next_chapter")," "]}),u.jsx("p",{className:"font-bold text-[var(--text-primary)] text-2xl font-serif group-hover:-translate-x-2 transition-transform",children:l.title[i]})]}):u.jsx("div",{className:"flex-1"})]})},Uq=({src:e,alt:t,onClose:n})=>(N.useEffect(()=>{const a=i=>{i.key==="Escape"&&n()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[n]),u.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-[var(--z-modal-backdrop)] bg-black/95 flex items-center justify-center p-4 cursor-zoom-out backdrop-blur-md",onClick:n,children:[u.jsx(ee.img,{src:e,alt:t,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:30,stiffness:400},className:"max-w-full max-h-[90vh] rounded-2xl shadow-2xl cursor-default object-contain border border-white/10",onClick:a=>a.stopPropagation()}),u.jsx("button",{onClick:n,className:"absolute top-6 right-6 p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors backdrop-blur-md border border-white/10","aria-label":"Close image",children:u.jsx(Dr,{className:"w-6 h-6"})}),t&&u.jsx("div",{className:"absolute bottom-6 left-0 right-0 text-center pointer-events-none",children:u.jsx("span",{className:"inline-block px-5 py-2.5 rounded-full bg-black/60 text-white text-sm font-medium backdrop-blur-md border border-white/10",children:t})})]})),qq=({chapterId:e,setView:t,setActiveTocId:n})=>{const{subjectData:a,glossaryMaps:i,readingSettings:r,language:o,setLastActiveChapterId:s}=Ve(),l=jk(),{fontSize:c,lineHeight:h,pageWidth:d,readTheme:m,initialMode:p,displayMode:b}=r,y=N.useRef(null),T=N.useRef(null),{scrollYProgress:g}=er({container:y}),[w,x]=N.useState(!1),[_,C]=N.useState(null),{glossaryMap:A,glossaryRegex:M}=N.useMemo(()=>i?{glossaryMap:i.glossaryMap,glossaryRegex:i.glossaryRegex}:{glossaryMap:{},glossaryRegex:/(?!)/},[i]),I=N.useMemo(()=>a==null?void 0:a.textbookData[e],[a,e]);N.useEffect(()=>{e&&s(e)},[e,s]),N.useEffect(()=>g.onChange(j=>{x(j>.1)}),[g]),N.useEffect(()=>{if(!y.current)return;const j=y.current.querySelectorAll("h1, h2, h3, h4, h5, h6"),$=new IntersectionObserver(L=>{const B=L.filter(V=>V.isIntersecting);B.length>0&&(B.sort((V,E)=>V.boundingClientRect.top-E.boundingClientRect.top),n(B[0].target.id))},{root:y.current,rootMargin:"-10% 0px -80% 0px"});return j.forEach(L=>$.observe(L)),()=>$.disconnect()},[e,y,n,p,b]),N.useEffect(()=>{const j=()=>{if(!y.current)return;const L=y.current.getBoundingClientRect().top+y.current.clientHeight/2,B=y.current.querySelectorAll("p, h1, h2, h3, h4, h5, h6, li");let V=null,E=1/0;B.forEach(re=>{const le=re.getBoundingClientRect(),O=le.top+le.height/2,pe=Math.abs(L-O);pe<E&&(E=pe,V=re)}),V&&(T.current=V)},$=y.current;return $&&$.addEventListener("scroll",j,{passive:!0}),()=>$==null?void 0:$.removeEventListener("scroll",j)},[]),N.useLayoutEffect(()=>{T.current&&T.current.scrollIntoView({block:"center",behavior:"auto"})},[d,c,h,b]);const R=()=>{var j;return(j=y.current)==null?void 0:j.scrollTo({top:0,behavior:"smooth"})},z=N.useMemo(()=>{if(!I)return{en:"",zh:""};const j=l(I.content.zh);return{en:I.content.en,zh:j}},[I,l]),F=N.useMemo(()=>{if(b!=="bilingual")return[];if(!z.zh&&!z.en)return[];const j=z.zh.split(/\n{2,}/).filter(V=>V.trim()),$=z.en.split(/\n{2,}/).filter(V=>V.trim()),L=[],B=Math.max(j.length,$.length);for(let V=0;V<B;V++)L.push({zh:j[V]||"",en:$[V]||""});return L},[b,z]),H=Fq(A,M,C),X=m!=="default"?`reading-theme-${m}`:"",G=["prose-container","h-full","overflow-y-auto","relative","custom-scrollbar","scroll-smooth"].join(" ");return u.jsxs("div",{className:"h-full flex flex-col relative w-full",style:{"--prose-font-size":`${c}px`,"--prose-line-height":h},children:[u.jsxs("div",{ref:y,className:G,children:[u.jsx(tr,{containerRef:y}),u.jsx("div",{className:"min-h-full py-20 md:py-32 px-4 sm:px-6 md:px-12 flex justify-center",children:u.jsxs(ee.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.22,1,.36,1]},className:`
                    w-full ${d} ${X} layout-transition
                    glass-pane rounded-[2.5rem] p-8 md:p-20 lg:p-24 shadow-2xl border border-[var(--ui-border)]
                    bg-[var(--bg-translucent)] backdrop-blur-2xl relative
                `,children:[u.jsx("div",{className:"absolute top-10 right-10 opacity-10 font-mono text-8xl font-bold select-none pointer-events-none text-[var(--text-primary)]",children:e.replace(/\D/g,"").padStart(2,"0")}),u.jsxs("div",{className:"absolute top-10 left-10 flex items-center gap-3 opacity-40 pointer-events-none select-none text-[var(--text-primary)]",children:[u.jsx("div",{className:"h-px w-16 bg-[var(--text-primary)]"}),u.jsx("span",{className:"font-mono text-xs uppercase tracking-[0.3em] font-bold",children:"Reading Mode"})]}),u.jsxs("div",{className:"prose prose-slate dark:prose-invert mx-auto max-w-none mt-8",style:{fontSize:"var(--prose-font-size)",lineHeight:"var(--prose-line-height)"},children:[!I||!a?u.jsx("div",{className:"text-center py-20 text-[var(--text-secondary)]",children:"Chapter not found."}):u.jsx(Re,{mode:"wait",children:u.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:p?u.jsxs("div",{className:"prose-raw font-mono whitespace-pre-wrap text-sm leading-relaxed p-6 bg-[var(--ui-bg)] rounded-xl border border-[var(--ui-border)]",children:[b==="en"&&z.en,b==="zh"&&z.zh,b==="bilingual"&&F.map((j,$)=>u.jsx(Io.Fragment,{children:o==="zh"?u.jsxs(u.Fragment,{children:[j.zh&&u.jsxs(u.Fragment,{children:[j.zh,`

`]}),j.en&&u.jsx("div",{className:"en-translation prose-raw border-l-2 pl-4 my-6 text-[var(--text-secondary)]",children:j.en})]}):u.jsxs(u.Fragment,{children:[j.en&&u.jsxs(u.Fragment,{children:[j.en,`

`]}),j.zh&&u.jsx("div",{className:"en-translation prose-raw border-l-2 pl-4 my-6 text-[var(--text-secondary)]",children:j.zh})]})},$))]}):u.jsxs(u.Fragment,{children:[b==="en"&&u.jsx(xi,{remarkPlugins:[_i,pr],rehypePlugins:[fr,ao],components:H,children:z.en}),b==="zh"&&u.jsx(xi,{remarkPlugins:[_i,pr],rehypePlugins:[fr,ao],components:H,children:z.zh}),b==="bilingual"&&F.map((j,$)=>u.jsxs("div",{className:"mb-12 relative group",children:[u.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[2px] bg-gradient-to-b from-[var(--ui-border)] to-transparent opacity-0 group-hover:opacity-50 transition-opacity rounded-full -ml-6 hidden md:block"}),o==="zh"?u.jsxs(u.Fragment,{children:[j.zh&&u.jsx("div",{className:"mb-4",children:u.jsx(xi,{remarkPlugins:[_i,pr],rehypePlugins:[fr,ao],components:H,children:j.zh})}),j.en&&u.jsx("div",{className:"en-translation",children:u.jsx(xi,{remarkPlugins:[_i,pr],rehypePlugins:[fr,ao],components:H,children:j.en})})]}):u.jsxs(u.Fragment,{children:[j.en&&u.jsx("div",{className:"mb-4",children:u.jsx(xi,{remarkPlugins:[_i,pr],rehypePlugins:[fr,ao],components:H,children:j.en})}),j.zh&&u.jsx("div",{className:"en-translation",children:u.jsx(xi,{remarkPlugins:[_i,pr],rehypePlugins:[fr,ao],components:H,children:j.zh})})]})]},$))]})},`${b}-${p}`)}),I&&a&&u.jsx(jq,{chapterId:e,onNavigate:t})]})]})})]}),u.jsx(Bq,{progress:g,label:I==null?void 0:I.title[o]}),u.jsx(Hr,{show:w,onClick:R}),u.jsx(Re,{children:_&&u.jsx(Uq,{src:_.src,alt:_.alt,onClose:()=>C(null)})})]})},Hq=({setView:e})=>{const{t}=ft(),{subjectData:n}=Ve(),{quizState:a,updateQuiz:i,startQuiz:r}=fs(),o=N.useMemo(()=>(n==null?void 0:n.problems)||[],[n]),s=N.useMemo(()=>{if(!o)return[];const I=new Set(o.map(R=>R.chapter));return Array.from(I).sort((R,z)=>parseInt(R)-parseInt(z))},[o]),[l,c]=N.useState([]),[h,d]=N.useState(20),[m,p]=N.useState("shuffled");N.useEffect(()=>{if(a&&a.problems.length>0){const I=new Set(a.problems.map(R=>R.chapter));c(Array.from(I)),d(a.problems.length)}},[a]);const b=N.useMemo(()=>o.reduce((I,R)=>{const z=`${R.chapter}`;return I[z]||(I[z]=[]),I[z].push(R),I},{}),[o]),y=N.useMemo(()=>l.length===0?o.length:l.reduce((I,R)=>{var z;return I+(((z=b[R])==null?void 0:z.length)||0)},0),[l,b,o.length]);N.useEffect(()=>{const I=y>0?y:1;h>I&&d(I),h===0&&I>0&&d(1)},[y,h]);const T=I=>{c(R=>R.includes(I)?R.filter(z=>z!==I):[...R,I])},g=()=>c(s),w=()=>c([]),x=()=>{let I=o;l.length>0&&(I=o.filter(z=>l.includes(z.chapter)));let R;return m==="shuffled"?R=[...I].sort(()=>Math.random()-.5).slice(0,h):R=I.slice(0,h),R},_=()=>l.length>0&&l.length<s.length?`${t("start_quiz_session")} (${l.map(I=>`${t("chapter_short")}${I}${t("chapter_unit")}`).join(", ")})`:t("start_quiz_session"),C=()=>{const I=x(),R=_(),z=`shuffle-${Date.now()}`;r({id:z,problems:I,title:R,startIndex:0}),e({type:"quiz",id:z,problems:I,title:R,startIndex:0})},A=()=>{const I=x(),R=_();i(I,R),M()},M=()=>{a&&e({type:"quiz",id:a.id,problems:a.problems,title:a.title,startIndex:0})};return n?u.jsx("div",{className:"h-full overflow-y-auto pt-20 lg:pt-0",children:u.jsx("div",{className:"max-w-3xl mx-auto flex items-center justify-center min-h-full py-8 px-4 sm:px-6 lg:p-8",children:u.jsxs(ee.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"w-full glass-pane rounded-2xl p-6 md:p-8",children:[u.jsx("div",{className:"flex items-center justify-between mb-8",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[var(--accent-bg)] flex items-center justify-center flex-shrink-0",children:u.jsx(qr,{className:"w-7 h-7 text-[var(--accent-text)]"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-[var(--text-primary)]",children:t("quiz_settings")}),u.jsx("p",{className:"text-md text-[var(--text-secondary)] mt-1",children:t("quiz_description")})]})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(Cx,{label:t("quiz_mode"),children:u.jsx(ca,{options:[{label:t("quiz_mode_shuffled"),value:"shuffled"},{label:t("quiz_mode_sequential"),value:"sequential"}],value:m,onChange:I=>p(I)})}),u.jsx(Cx,{label:t("quiz_num_questions"),children:u.jsxs("div",{className:"flex items-center gap-2 w-full",children:[u.jsx("input",{id:"question-count",type:"range",value:h,max:y||1,min:"1",disabled:(y||1)<=1,onChange:I=>d(parseInt(I.target.value,10)),className:"w-full cursor-pointer disabled:opacity-50"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm font-semibold w-12 text-center tabular-nums",children:[h," / ",y||o.length]}),u.jsx("button",{onClick:()=>d(y),className:"px-3 py-2 rounded-lg bg-[var(--ui-bg)] text-[var(--text-secondary)] text-xs font-semibold hover:bg-[var(--ui-bg-hover)] transition-colors",children:t("quiz_all_questions")})]})]})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-3 gap-2",children:[u.jsx("h3",{className:"text-md font-medium text-[var(--text-primary)]",children:t("quiz_include_chapters")}),u.jsxs("div",{className:"flex-shrink-0 space-x-2",children:[u.jsx("button",{onClick:g,className:"text-sm font-semibold bg-[var(--ui-bg)] hover:bg-[var(--ui-bg-hover)] text-[var(--text-secondary)] px-3 py-1.5 rounded-md transition-colors",children:t("select_all")}),u.jsx("button",{onClick:w,className:"text-sm font-semibold bg-[var(--ui-bg)] hover:bg-[var(--ui-bg-hover)] text-[var(--text-secondary)] px-3 py-1.5 rounded-md transition-colors",children:t("deselect_all")})]})]}),u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3 max-h-48 overflow-y-auto p-3 bg-black/5 dark:bg-white/5 rounded-lg overscroll-contain",children:s.map(I=>u.jsx("button",{onClick:()=>T(I),className:`p-3 rounded-lg text-sm font-semibold transition-colors ${l.includes(I)?"bg-[var(--accent-solid)] text-[var(--accent-solid-text)]":"bg-[var(--bg-translucent)] text-[var(--text-secondary)] hover:bg-[var(--ui-bg-hover)]"}`,children:`${t("chapter")} ${I}${t("chapter_unit")}`},I))})]})]}),u.jsx("div",{className:"mt-8 flex flex-col sm:flex-row gap-3",children:a?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:M,className:"flex-1 px-4 py-3 rounded-xl bg-transparent border border-[var(--ui-border)] text-[var(--text-secondary)] font-semibold hover:bg-[var(--ui-bg)] transition-colors",children:"Cancel (Resume)"}),u.jsx("button",{onClick:C,disabled:h===0||y===0&&l.length>0,className:"flex-1 px-4 py-3 rounded-xl bg-[var(--error-bg)] text-[var(--error-text)] border border-[var(--error-border)] font-semibold hover:bg-[var(--error-border)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Restart New"}),u.jsxs("button",{onClick:A,disabled:h===0||y===0&&l.length>0,className:"flex-[2] px-4 py-3 rounded-xl bg-[var(--accent-solid)] text-[var(--accent-solid-text)] font-semibold hover:bg-[var(--accent-solid-hover)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[u.jsx(C5,{className:"w-5 h-5"})," Update & Continue"]})]}):u.jsxs("button",{onClick:C,disabled:h===0||y===0&&l.length>0,className:"w-full px-4 py-3 rounded-xl bg-[var(--accent-solid)] text-[var(--accent-solid-text)] font-semibold hover:bg-[var(--accent-solid-hover)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[u.jsx(Zo,{className:"w-5 h-5"})," ",t("start_quiz")]})})]})})}):null},Cx=({label:e,children:t})=>u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[u.jsx("label",{className:"text-md font-medium text-[var(--text-primary)] sm:w-1/3 flex-shrink-0",children:e}),u.jsx("div",{className:"flex items-center justify-start sm:justify-start w-full",children:t})]}),Wq=({setView:e})=>{const{t}=ft(),{flaggedItems:n,subjectData:a,subject:i}=Ve(),r=N.useRef(null),{scrollYProgress:o}=er({container:r}),[s,l]=N.useState(!1);N.useEffect(()=>o.onChange(y=>{l(y>.1)}),[o]);const c=()=>{var y;(y=r.current)==null||y.scrollTo({top:0,behavior:"smooth"})},h=Io.useMemo(()=>{if(!a)return[];const y=[];return a.problems&&a.problems.forEach(T=>{n.includes(T.id)&&y.push({type:"problem",data:T})}),a.exercises&&a.exercises.forEach(T=>{n.includes(T.id)&&y.push({type:"exercise",data:T})}),y.sort((T,g)=>{const w=parseInt(T.data.chapter),x=parseInt(g.data.chapter);if(w!==x)return w-x;const _=parseInt(T.data.number.split(".").pop()||"0"),C=parseInt(g.data.number.split(".").pop()||"0");return _-C})},[n,a]),d=h.filter(y=>y.type==="problem").map(y=>y.data),m=()=>{d.length>0&&e({type:"quiz",id:`bookmarks-${Date.now()}`,problems:d,title:t("bookmarks_title"),startIndex:0})},p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.03}}},b={hidden:{y:15,opacity:0},visible:{y:0,opacity:1}};return a?u.jsxs(u.Fragment,{children:[u.jsxs("div",{ref:r,className:"h-full overflow-y-auto px-4 sm:px-6 lg:p-8 relative pt-24 lg:pt-8",children:[u.jsx(tr,{containerRef:r}),u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-4 my-8",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl glass-pane flex items-center justify-center",children:u.jsx(oM,{className:"w-7 h-7 text-[var(--accent-text)]"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-[var(--text-primary)]",children:t("bookmarks_title")}),u.jsx("p",{className:"text-md text-[var(--text-secondary)] mt-1",children:t("bookmarks_description")})]})]}),(i==null?void 0:i.type)==="quiz"&&d.length>0&&u.jsx("div",{className:"mb-6",children:u.jsxs("button",{onClick:m,className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-[var(--accent-solid)] text-[var(--accent-solid-text)] font-semibold hover:bg-[var(--accent-solid-hover)] transition-colors",children:[t("bookmarks_start_quiz")," (",d.length,")"]})}),h.length===0?u.jsxs("div",{className:"text-center py-20 glass-pane rounded-2xl",children:[u.jsx(tu,{className:"w-12 h-12 text-[var(--text-subtle)] mx-auto mb-4"}),u.jsx("p",{className:"text-[var(--text-secondary)]",children:t("bookmarks_no_problems")})]}):u.jsx(ee.div,{variants:p,initial:"hidden",animate:"visible",className:"space-y-3 pb-16",children:h.map(y=>u.jsx(ee.button,{variants:b,onClick:()=>e({type:y.type,id:y.data.id}),className:"w-full glass-pane p-4 rounded-xl text-left transition-all hover:border-[var(--accent-text)]/50",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("p",{className:"text-xs font-semibold bg-[var(--accent-bg)] text-[var(--accent-text)] px-2 py-0.5 rounded-full inline-block",children:[y.type==="problem"?t("problem_header"):t("exercise_header")," ",y.data.number]}),u.jsx("p",{className:"mt-2 text-sm text-[var(--text-primary)] line-clamp-2 pr-4",children:y.type==="problem"?y.data.text_en:y.data.title_en})]}),u.jsx(Jn,{className:"w-6 h-6 text-[var(--text-subtle)] flex-shrink-0 ml-4"})]})},y.data.id))})]})]}),u.jsx(Hr,{show:s,onClick:c})]}):null},Gq=({setView:e})=>{const{t}=ft(),{subjectData:n}=Ve(),[a,i]=N.useState(""),[r,o]=N.useState("programming"),s=N.useRef(null),{scrollYProgress:l}=er({container:s}),[c,h]=N.useState(!1);N.useEffect(()=>l.onChange(_=>{h(_>.1)}),[l]);const d=()=>{var _;(_=s.current)==null||_.scrollTo({top:0,behavior:"smooth"})},m=N.useMemo(()=>(n==null?void 0:n.exercises)||[],[n]),p=N.useMemo(()=>{let _=m;if(r!=="all"&&(_=_.filter(A=>A.type===r)),!a)return _;const C=a.toLowerCase();return _.filter(A=>A.title_en.toLowerCase().includes(C)||A.title_zh.toLowerCase().includes(C)||A.description_en.toLowerCase().includes(C)||A.description_zh.toLowerCase().includes(C)||A.number.toLowerCase().includes(C))},[a,m,r]),b=N.useMemo(()=>p.reduce((_,C)=>(_[C.chapter]||(_[C.chapter]=[]),_[C.chapter].push(C),_),{}),[p]),y=_=>{e({type:"exercise",id:_})},T=_=>{switch(_){case"easy":return"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300";case"hard":return"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}},g=[{label:t("filter_programming"),value:"programming"},{label:t("filter_short_answer"),value:"short_answer"},{label:t("filter_making_a_difference"),value:"making_a_difference"},{label:t("filter_all"),value:"all"}];if(!n)return null;const w={visible:{transition:{staggerChildren:.03}},hidden:{}},x={visible:{opacity:1,y:0,transition:{type:"spring",stiffness:400,damping:30}},hidden:{opacity:0,y:20},exit:{opacity:0,scale:.95,transition:{duration:.15}}};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{ref:s,className:"h-full overflow-y-auto relative",children:[u.jsx(tr,{containerRef:s}),u.jsxs("div",{className:"sticky top-0 z-[var(--z-sticky-l2)] bg-[var(--bg-color)]/80 backdrop-blur-md pt-20 lg:pt-4 pb-4 space-y-4",children:[u.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"relative w-full",children:[u.jsx("input",{type:"text",value:a,onChange:_=>i(_.target.value),placeholder:t("search_placeholder"),className:"w-full glass-pane rounded-full py-3 pl-12 pr-4 text-[var(--text-primary)] focus:ring-2 focus:ring-[var(--accent-solid)] outline-none transition-all"}),u.jsx(nu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--text-subtle)] pointer-events-none"})]})}),u.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-center",children:u.jsx(ca,{options:g,value:r,onChange:_=>o(_)})})]}),u.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx(ee.div,{layout:!0,className:"pb-24 pt-8",children:Object.keys(b).length>0?Object.entries(b).sort(([_],[C])=>parseInt(_)-parseInt(C)).map(([_,C])=>u.jsxs(ee.div,{layout:"position",className:"mb-12",children:[u.jsx("h2",{className:"text-2xl font-bold text-[var(--text-secondary)] border-b-2 border-[var(--ui-border)] py-3 mb-6",children:`${t("chapter")} ${_}${t("chapter_unit")}`}),u.jsx(ee.div,{layout:!0,variants:w,initial:"hidden",animate:"visible",className:"space-y-4",children:u.jsx(Re,{children:C.map(A=>{const M=A.title_en,I=A.title_zh,R=A.description_en;return u.jsx(ee.div,{layout:!0,variants:x,exit:x.exit,whileHover:{y:-2,transition:{duration:.15}},whileTap:{scale:.99,y:0},children:u.jsxs("button",{onClick:()=>y(A.id),className:"w-full glass-pane rounded-xl p-5 text-left flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[u.jsxs("div",{className:"flex-grow min-w-0",children:[u.jsxs("p",{className:"text-xs font-semibold text-[var(--text-subtle)] mb-2",children:[t("exercise_header")," ",A.number]}),u.jsx("h3",{className:"font-bold text-[var(--text-primary)]",children:M}),u.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-1",children:I}),u.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-3 line-clamp-2",children:R})]}),u.jsx("div",{className:"flex-shrink-0 mt-2 sm:mt-0",children:u.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full ${T(A.difficulty)}`,children:A.difficulty})})]})},A.id)})})})]},_)):u.jsx("div",{className:"text-center py-20 text-[var(--text-secondary)] glass-pane rounded-xl",children:u.jsx("p",{children:t("search_no_results")})})})})]}),u.jsx(Hr,{show:c,onClick:d})]})},Vq={enter:e=>({x:e>0?"50%":"-50%",opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:e=>({zIndex:0,x:e<0?"50%":"-50%",opacity:0})},Xq=({id:e,setView:t,isSidebarOpen:n})=>{const[a,i]=N.useState(0),{t:r}=ft(),{subjectData:o}=Ve(),[s,l]=N.useState(""),[c,h]=N.useState(""),[d,m]=N.useState(!1),[p,b]=N.useState(!1),[y,T]=N.useState(!1),g=N.useRef(null),w=N.useRef(null),x=N.useRef(null),_=N.useMemo(()=>(o==null?void 0:o.exercises)||[],[o]),C=N.useMemo(()=>_.findIndex(B=>B.id===e),[e,_]),A=_[C];N.useEffect(()=>{A&&(l(A.templateCode||""),h(""),m(!1))},[e,A]);const M=B=>{const V=C+B;if(V>=0&&V<_.length){i(B);const E=_[V].id;t({type:"exercise",id:E})}},I=()=>{m(!0),h(""),setTimeout(()=>{h(A.sampleOutput||"Execution complete. No output."),m(!1)},250)},R=()=>{l(A.templateCode||""),T(!0),setTimeout(()=>T(!1),2e3)},z=()=>{b(!0),setTimeout(()=>b(!1),2e3)},F=B=>{if(B.key==="Tab"){B.preventDefault();const V=B.currentTarget,E=V.selectionStart,re=V.selectionEnd,O=s.substring(0,E)+"  "+s.substring(re);l(O),requestAnimationFrame(()=>{V.selectionStart=V.selectionEnd=E+2})}},H=()=>{g.current&&w.current&&(w.current.scrollTop=g.current.scrollTop)},X=B=>{switch(B){case"easy":return"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300";case"hard":return"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}};if(!A)return u.jsx("div",{className:"text-center py-10",children:"Exercise not found."});const G=A.title_en,j=A.title_zh,$=A.description_en,L=s.split(`
`).length;return u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsx("div",{className:"flex-shrink-0 px-4 sm:px-8 pt-20 lg:pt-4",children:u.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[u.jsxs("p",{className:"text-sm font-semibold text-center text-[var(--text-secondary)] mb-2",children:[r("exercise_header")," ",A.number," (",C+1," / ",_.length,")"]}),u.jsx("div",{className:"w-full bg-[var(--ui-bg)] rounded-full h-1.5 overflow-hidden",children:u.jsx(ee.div,{className:"bg-[var(--accent-solid)] h-1.5 rounded-full",animate:{width:`${(C+1)/_.length*100}%`},transition:{type:"spring",stiffness:200,damping:25}})})]})}),u.jsx("div",{className:"flex-1 w-full flex justify-center items-center relative min-h-0 pt-4",children:u.jsxs("div",{className:"relative w-full max-w-4xl",children:[u.jsx("button",{onClick:()=>M(-1),disabled:C<=0,className:"hidden lg:flex items-center justify-center absolute top-1/2 -translate-y-1/2 right-full mr-4 w-12 h-12 bg-[var(--ui-bg)] rounded-full text-[var(--text-secondary)] disabled:opacity-50 hover:bg-[var(--ui-bg-hover)] transition-colors z-[var(--z-content-overlay)]",children:u.jsx(Cr,{className:"w-6 h-6"})}),u.jsx("button",{onClick:()=>M(1),disabled:C>=_.length-1,className:"hidden lg:flex items-center justify-center absolute top-1/2 -translate-y-1/2 left-full ml-4 w-12 h-12 bg-[var(--ui-bg)] rounded-full text-[var(--text-secondary)] disabled:opacity-50 hover:bg-[var(--ui-bg-hover)] transition-colors z-[var(--z-content-overlay)]",children:u.jsx(Jn,{className:"w-6 h-6"})}),u.jsxs("div",{className:"relative w-full h-full",children:[u.jsxs(Re,{children:[p&&u.jsx(Hl,{message:r("code_submitted")}),y&&u.jsx(Hl,{message:r("code_reset")})]}),u.jsx(Re,{initial:!1,custom:a,mode:"wait",children:u.jsx(ee.div,{className:"w-full h-full",custom:a,variants:Vq,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:500,damping:50},drag:n?!1:"x",dragConstraints:{left:0,right:0},dragElastic:.25,onDragEnd:(B,{offset:V,velocity:E})=>{if(Math.abs(V.y)>Math.abs(V.x))return;const re=100;V.x<-re||E.x<-400?M(1):(V.x>re||E.x>400)&&M(-1)},children:u.jsxs("div",{ref:x,className:"h-full overflow-y-auto pb-24 lg:pb-8 px-4 space-y-6 relative",children:[u.jsx(tr,{containerRef:x}),u.jsxs("div",{className:"glass-pane rounded-2xl p-6 sm:p-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4",children:[u.jsxs("div",{children:[u.jsxs("span",{className:"text-sm font-semibold bg-[var(--accent-bg)] text-[var(--accent-text)] px-3 py-1 rounded-full",children:[r("exercise_header")," ",A.number]}),u.jsx("h1",{className:"text-2xl font-bold text-[var(--text-primary)] mt-4",children:G}),u.jsx("p",{className:"text-md text-[var(--text-secondary)]",children:j})]}),u.jsx("div",{className:`mt-2 sm:mt-0 px-3 py-1 text-sm font-semibold rounded-full flex-shrink-0 self-start ${X(A.difficulty)}`,children:A.difficulty})]}),u.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none text-left mt-6",children:u.jsx(xi,{remarkPlugins:[_i],children:$})})]}),u.jsxs("div",{className:"glass-pane rounded-2xl p-4 sm:p-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-3 mb-4",children:[u.jsxs("h2",{className:"text-lg font-bold text-[var(--text-primary)] flex items-center gap-2",children:[u.jsx(qr,{className:"w-6 h-6"})," ",r("code_editor")]}),u.jsxs("div",{className:"flex items-center gap-2 self-end sm:self-center",children:[u.jsx(Ll,{content:r("reset_code"),children:u.jsx("button",{onClick:R,className:"ide-button",children:u.jsx(C5,{className:"w-5 h-5"})})}),u.jsx(Ll,{content:r("submit_code"),children:u.jsx("button",{onClick:z,className:"ide-button",children:u.jsx(fM,{className:"w-5 h-5"})})}),u.jsxs("button",{onClick:I,disabled:d,className:"flex items-center gap-2 px-4 py-2 bg-[var(--success-solid-bg)] text-[var(--success-solid-text)] rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50",children:[u.jsx(Zo,{className:"w-5 h-5"})," ",r("run_code")]})]})]}),u.jsxs("div",{className:"bg-[#1e1e1e] rounded-lg overflow-hidden relative border border-gray-700 shadow-inner flex",children:[u.jsx("div",{ref:w,className:"flex-none w-10 bg-[#1e1e1e] text-gray-600 text-right pr-3 pt-4 font-mono text-sm select-none leading-relaxed tracking-wide overflow-hidden border-r border-gray-800",style:{fontFamily:"JetBrains Mono, monospace"},children:Array.from({length:Math.max(L,10)}).map((B,V)=>u.jsx("div",{className:"h-[24px] leading-[24px]",children:V+1},V))}),u.jsx("textarea",{ref:g,value:s,onChange:B=>l(B.target.value),onKeyDown:F,onScroll:H,className:"flex-1 h-80 bg-transparent text-gray-200 font-mono p-4 pl-3 resize-y outline-none leading-[24px] tracking-wide whitespace-pre",style:{fontFamily:"JetBrains Mono, monospace"},spellCheck:"false"})]})]}),u.jsx(Re,{children:(d||c)&&u.jsxs(ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"glass-pane rounded-2xl p-4 sm:p-6 overflow-hidden",children:[u.jsx("h2",{className:"text-lg font-bold text-[var(--text-primary)] mb-4",children:r("output")}),u.jsx("pre",{className:"bg-[#1e1e1e] rounded-lg p-4 text-gray-300 font-mono text-sm whitespace-pre-wrap min-h-[5rem] border border-gray-700",children:d?u.jsx("span",{className:"animate-pulse text-yellow-400",children:r("running_code")}):c})]})}),A.sampleOutput&&u.jsxs("div",{className:"glass-pane rounded-2xl p-4 sm:p-6",children:[u.jsx("h2",{className:"text-lg font-bold text-[var(--text-primary)] mb-4",children:r("sample_output")}),u.jsx("pre",{className:"bg-[#1e1e1e] rounded-lg p-4 text-gray-300 font-mono text-sm whitespace-pre-wrap border border-gray-700",children:A.sampleOutput})]})]})},e)})]})]})}),u.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 glass-pane border-t-0 p-3 flex justify-between items-center gap-4 z-[var(--z-mobile-nav)]",children:[u.jsxs("button",{onClick:()=>M(-1),disabled:C<=0,className:"flex items-center gap-1 px-3 py-2 bg-[var(--ui-bg)] text-[var(--text-secondary)] rounded-lg disabled:opacity-50 hover:bg-[var(--ui-bg-hover)]",children:[u.jsx(Cr,{className:"w-5 h-5"})," ",u.jsx("span",{className:"hidden sm:inline",children:r("previous_question")})]}),u.jsxs("span",{className:"text-sm font-semibold text-[var(--text-secondary)]",children:[C+1," / ",_.length]}),u.jsxs("button",{onClick:()=>M(1),disabled:C>=_.length-1,className:"flex items-center gap-1 px-3 py-2 bg-[var(--ui-bg)] text-[var(--text-secondary)] rounded-lg disabled:opacity-50 hover:bg-[var(--ui-bg-hover)]",children:[u.jsx("span",{className:"hidden sm:inline",children:r("next_question")})," ",u.jsx(Jn,{className:"w-5 h-5"})]})]}),u.jsx("style",{children:".ide-button { display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; border-radius: 8px; background-color: var(--ui-bg); color: var(--text-secondary); transition: all 0.2s; } .ide-button:hover { background-color: var(--ui-bg-hover); color: var(--text-primary); }"})]})},Yq=({onClose:e,onNavigate:t})=>{const{subjectData:n,language:a}=Ve(),{t:i}=ft(),[r,o]=N.useState(""),[s,l]=N.useState(""),[c,h]=N.useState(-1),d=N.useRef(null),m=N.useRef(null);N.useEffect(()=>{const _=setTimeout(()=>{l(r)},300);return()=>clearTimeout(_)},[r]);const{problems:p,glossary:b,exercises:y}=N.useMemo(()=>({problems:(n==null?void 0:n.problems)||[],glossary:(n==null?void 0:n.glossaryData)||[],exercises:(n==null?void 0:n.exercises)||[]}),[n]),T=N.useMemo(()=>{if(!s.trim())return[];const _=s.toLowerCase(),C=p.filter(I=>I.text_en.toLowerCase().includes(_)||I.text_zh.toLowerCase().includes(_)||I.number.includes(_)).slice(0,10).map(I=>({type:"problem",data:I})),A=b.filter(I=>I.term.toLowerCase().includes(_)||I.chinese.toLowerCase().includes(_)||I.definition.toLowerCase().includes(_)).slice(0,10).map(I=>({type:"glossary",data:I})),M=y.filter(I=>I.title_en.toLowerCase().includes(_)||I.title_zh.toLowerCase().includes(_)||I.description_en.toLowerCase().includes(_)||I.description_zh.toLowerCase().includes(_)||I.number.includes(_)).slice(0,10).map(I=>({type:"exercise",data:I}));return[...C,...M,...A]},[s,p,b,y]);N.useEffect(()=>{var C;(C=d.current)==null||C.focus();const _=A=>{if(A.key==="Escape"){e();return}if(T.length!==0){if(A.key==="ArrowDown")A.preventDefault(),h(M=>(M+1)%T.length);else if(A.key==="ArrowUp")A.preventDefault(),h(M=>(M-1+T.length)%T.length);else if(A.key==="Enter"&&c>=0&&c<T.length){const M=T[c];M.type==="problem"?t({type:"problem",id:M.data.id}):M.type==="exercise"?t({type:"exercise",id:M.data.id}):t({type:"glossary"})}}};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[e,T,c,t]),N.useEffect(()=>{h(-1)},[s]),N.useEffect(()=>{var C;const _=(C=m.current)==null?void 0:C.querySelector("[data-active='true']");_==null||_.scrollIntoView({block:"nearest"})},[c]);const g=T.filter(_=>_.type==="problem"),w=T.filter(_=>_.type==="glossary"),x=T.filter(_=>_.type==="exercise");return u.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-[var(--z-modal-backdrop)] bg-black/50 flex items-start justify-center pt-16 md:pt-24",onClick:e,children:u.jsxs(ee.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},exit:{y:-30,opacity:0},transition:{type:"spring",stiffness:500,damping:40},className:"w-[95vw] max-w-2xl glass-pane rounded-2xl shadow-2xl flex flex-col",onClick:_=>_.stopPropagation(),children:[u.jsxs("div",{className:"p-4 border-b border-[var(--ui-border)] flex items-center gap-2",children:[u.jsx(nu,{className:"w-6 h-6 text-[var(--text-subtle)]"}),u.jsx("input",{ref:d,type:"text",value:r,onChange:_=>o(_.target.value),placeholder:i("search_modal_placeholder"),className:"w-full bg-transparent text-lg text-[var(--text-primary)] outline-none"}),u.jsx("button",{onClick:e,className:"p-2 -m-2 text-[var(--text-secondary)] hover:bg-[var(--ui-bg-hover)] rounded-full",children:u.jsx(Dr,{className:"w-6 h-6"})})]}),u.jsx("div",{ref:m,className:"overflow-y-auto max-h-[60vh]",children:u.jsx(Re,{children:r.trim()===""?u.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"p-12 text-center text-[var(--text-secondary)]",children:i("search_modal_placeholder")}):T.length===0?u.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"p-12 text-center text-[var(--text-secondary)]",children:i("search_no_results")}):u.jsxs("div",{className:"divide-y divide-[var(--ui-border)]",children:[g.length>0&&u.jsx(Jm,{icon:u.jsx(qr,{className:"w-5 h-5"}),title:i("search_results_title"),children:g.map(_=>{const C=T.findIndex(A=>A.type==="problem"&&A.data.id===_.data.id);return u.jsxs(Zm,{onClick:()=>t({type:"problem",id:_.data.id}),isActive:C===c,onMouseEnter:()=>h(C),children:[u.jsx("p",{className:"font-semibold",children:u.jsx(qa,{text:`${i("problem_header")} ${_.data.number}`,highlight:s})}),u.jsx("p",{className:"text-sm text-[var(--text-secondary)] line-clamp-2",children:u.jsx(qa,{text:_.data.text_en,highlight:s})})]},_.data.id)})}),x.length>0&&u.jsx(Jm,{icon:u.jsx(hM,{className:"w-5 h-5"}),title:i("exercise_results_title"),children:x.map(_=>{const C=T.findIndex(A=>A.type==="exercise"&&A.data.id===_.data.id);return u.jsxs(Zm,{onClick:()=>t({type:"exercise",id:_.data.id}),isActive:C===c,onMouseEnter:()=>h(C),children:[u.jsx("p",{className:"font-semibold",children:u.jsx(qa,{text:`${i("exercise_header")} ${_.data.number}: ${_.data.title_en}`,highlight:s})}),u.jsx("p",{className:"text-sm text-[var(--text-secondary)] line-clamp-2",children:u.jsx(qa,{text:_.data.description_en,highlight:s})})]},_.data.id)})}),w.length>0&&u.jsx(Jm,{icon:u.jsx(ps,{className:"w-5 h-5"}),title:i("glossary"),children:w.map(_=>{const C=T.findIndex(A=>A.type==="glossary"&&A.data.term===_.data.term);return u.jsxs(Zm,{onClick:()=>t({type:"glossary"}),isActive:C===c,onMouseEnter:()=>h(C),children:[u.jsxs("p",{className:"font-semibold",children:[u.jsx(qa,{text:_.data.term,highlight:s})," ",u.jsxs("span",{className:"text-[var(--text-subtle)] font-normal",children:["(",_.data.chinese,")"]})]}),u.jsx("p",{className:"text-sm text-[var(--text-secondary)] line-clamp-2",children:u.jsx(qa,{text:a==="zh"?_.data.definition_zh:_.data.definition,highlight:s})})]},_.data.term)})})]})})})]})})},Jm=({icon:e,title:t,children:n})=>u.jsxs("div",{className:"p-2",children:[u.jsxs("h3",{className:"px-3 py-1 text-xs font-semibold text-[var(--text-subtle)] uppercase tracking-wider flex items-center gap-2",children:[e," ",t]}),u.jsx("div",{children:n})]}),Zm=({onClick:e,children:t,isActive:n,onMouseEnter:a})=>u.jsxs("button",{onClick:e,onMouseEnter:a,"data-active":n,className:`w-full text-left px-3 py-2.5 rounded-lg transition-colors flex justify-between items-center group ${n?"bg-[var(--ui-bg-hover)]":"hover:bg-[var(--ui-bg-hover)]"}`,children:[u.jsx("div",{className:"min-w-0",children:t}),u.jsx(Jn,{className:"w-5 h-5 text-[var(--text-subtle)] flex-shrink-0 ml-4 transition-transform group-hover:translate-x-1"})]}),Kq=12,Qq=24,Ex=({children:e})=>u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("h4",{className:"text-[10px] font-bold text-[var(--text-subtle)] uppercase tracking-widest",children:e}),u.jsx("div",{className:"h-px flex-1 bg-[var(--ui-border)] opacity-50"})]}),Ps=({icon:e,label:t})=>u.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-[var(--text-secondary)] mb-2 select-none",children:[e&&u.jsx("span",{className:"text-[var(--text-subtle)]",children:e}),u.jsx("span",{children:t})]}),Jq=({isOpen:e,setIsOpen:t,view:n})=>{const{t:a}=ft(),{readingSettings:i,theme:r,setTheme:o,language:s,setLanguage:l,setFontSize:c,setLineHeight:h,setPageWidth:d,setReadTheme:m,setInitialMode:p,setDisplayMode:b}=Ve(),[y,T]=N.useState(!!document.fullscreenElement);N.useEffect(()=>{const x=()=>T(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",x),()=>document.removeEventListener("fullscreenchange",x)},[]);const g=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()};N.useEffect(()=>{const x=_=>{_.key==="Escape"&&t(!1)};return e&&window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,t]);const w=n.type==="textbook";return u.jsxs("div",{className:"relative flex flex-col items-end z-[var(--z-fab)]",children:[u.jsx(Re,{children:e&&u.jsxs(ee.div,{variants:{open:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:500,damping:40}},closed:{opacity:0,y:15,scale:.95,transition:{duration:.15}}},initial:"closed",animate:"open",exit:"closed",className:"fixed bottom-4 left-4 right-4 lg:absolute lg:bottom-[calc(100%+1rem)] lg:right-0 lg:left-auto lg:w-[22rem] glass-pane rounded-2xl shadow-2xl text-[var(--text-primary)] overflow-hidden ring-1 ring-[var(--ui-border)] origin-bottom-right z-[var(--z-modal-content)]",children:[u.jsxs("div",{className:"flex justify-between items-center px-5 py-4 border-b border-[var(--ui-border)] bg-[var(--bg-translucent)]/50 backdrop-blur-md",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(kf,{className:"w-4 h-4 text-[var(--accent-solid)]"}),u.jsx("h3",{className:"font-bold text-xs uppercase tracking-widest text-[var(--text-primary)]",children:a("sidebar_tab_settings")})]}),u.jsx("button",{onClick:()=>t(!1),className:"text-[var(--text-subtle)] hover:text-[var(--text-primary)] transition-colors",children:u.jsx(Dr,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-5 max-h-[60vh] overflow-y-auto space-y-6 custom-scrollbar",children:[u.jsxs("div",{children:[u.jsx(Ex,{children:a("tools")}),u.jsxs("div",{className:"mb-4",children:[u.jsx(Ps,{icon:u.jsx(Af,{className:"w-3.5 h-3.5"}),label:a("ui_language")}),u.jsx(ca,{options:[{label:"English",value:"en"},{label:"",value:"zh"}],value:s,onChange:x=>l(x)})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"bg-[var(--ui-bg)] rounded-xl p-3 flex flex-col items-center justify-center gap-2 hover:bg-[var(--ui-bg-hover)] transition-colors",children:[u.jsx("span",{className:"text-[10px] font-bold text-[var(--text-subtle)] uppercase",children:a("reading_settings_theme")}),u.jsx(ca,{options:[{label:"",value:"light"},{label:"",value:"dark"}],value:r,onChange:x=>{o(x),x==="dark"&&m("default")}})]}),u.jsxs("div",{className:"bg-[var(--ui-bg)] rounded-xl p-3 flex flex-col items-center justify-center gap-2 hover:bg-[var(--ui-bg-hover)] transition-colors",children:[u.jsx("span",{className:"text-[10px] font-bold text-[var(--text-subtle)] uppercase",children:a("settings_display")}),u.jsxs("button",{onClick:g,className:"flex items-center gap-2 text-xs font-semibold bg-[var(--bg-color)] px-3 py-1.5 rounded-full border border-[var(--ui-border)] shadow-sm hover:border-[var(--accent-solid)] transition-colors w-full justify-center h-8",children:[y?u.jsx(cM,{className:"w-4 h-4"}):u.jsx(lM,{className:"w-4 h-4"}),u.jsx("span",{children:y?"Exit":"Full"})]})]})]})]}),u.jsx(Re,{initial:!1,children:w&&u.jsx(ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-6 overflow-hidden",children:u.jsxs("div",{children:[u.jsx(Ex,{children:a("reading_settings_title")}),u.jsxs("div",{className:"mb-4",children:[u.jsx(Ps,{icon:u.jsx(Af,{className:"w-3.5 h-3.5"}),label:a("reading_settings_language")}),u.jsx(ca,{options:[{label:a("reading_settings_lang_zh"),value:"zh"},{label:a("reading_settings_lang_bilingual"),value:"bilingual"},{label:a("reading_settings_lang_en"),value:"en"}],value:i.displayMode,onChange:b})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx(Ps,{icon:u.jsx(mM,{className:"w-3.5 h-3.5"}),label:a("reading_settings_font_size")}),u.jsxs("span",{className:"text-xs font-mono bg-[var(--ui-bg)] px-1.5 py-0.5 rounded text-[var(--text-secondary)]",children:[i.fontSize,"px"]})]}),u.jsxs("div",{className:"bg-[var(--ui-bg)] rounded-full px-4 py-3 flex items-center gap-3",children:[u.jsx("span",{className:"text-xs font-bold text-[var(--text-subtle)]",children:"A"}),u.jsx("input",{type:"range",min:Kq,max:Qq,step:1,value:i.fontSize,onChange:x=>c(Number(x.target.value)),className:"w-full accent-[var(--accent-solid)] cursor-pointer"}),u.jsx("span",{className:"text-lg font-bold text-[var(--text-subtle)]",children:"A"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx(Ps,{label:a("reading_settings_line_height")}),u.jsx(ca,{options:[{label:"1.5",value:"1.5"},{label:"1.7",value:"1.7"},{label:"2.0",value:"2.0"}],value:i.lineHeight.toFixed(1),onChange:x=>h(parseFloat(x))})]}),u.jsxs("div",{children:[u.jsx(Ps,{label:a("reading_settings_page_width")}),u.jsx(ca,{options:[{label:"S",value:"max-w-4xl"},{label:"M",value:"max-w-5xl"},{label:"L",value:"max-w-6xl"}],value:i.pageWidth,onChange:d})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r==="light"&&u.jsxs("div",{className:"flex items-center justify-between bg-[var(--ui-bg)] p-3 rounded-xl",children:[u.jsx("span",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase",children:a("settings_paper")}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>m("default"),className:`w-6 h-6 rounded-full border border-stone-200 bg-[#f4f1ea] transition-all relative ${i.readTheme==="default"?"ring-2 ring-[var(--accent-solid)] ring-offset-1 ring-offset-[var(--ui-bg)]":"hover:scale-110"}`,"aria-label":"Default Paper"}),u.jsx("button",{onClick:()=>m("sepia"),className:`w-6 h-6 rounded-full bg-[#DBCDBA] border border-[#c4b5a3] transition-all relative ${i.readTheme==="sepia"?"ring-2 ring-[var(--accent-solid)] ring-offset-1 ring-offset-[var(--ui-bg)]":"hover:scale-110"}`,"aria-label":"Sepia Paper"})]})]}),u.jsxs("div",{className:"flex items-center justify-between bg-[var(--ui-bg)] p-3 rounded-xl",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(qr,{className:"w-4 h-4 text-[var(--text-subtle)]"}),u.jsx("span",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase",children:a("reading_settings_formatting")})]}),u.jsx(Xf,{id:"initial-mode-toggle",checked:i.initialMode,onChange:p})]})]})]})})})]})]})}),u.jsx(ee.button,{onClick:()=>t(!e),className:`hidden lg:flex w-14 h-14 rounded-full items-center justify-center shadow-lg transition-colors z-20 ${e?"bg-[var(--ui-bg)] text-[var(--text-primary)]":"bg-[var(--accent-solid)] text-[var(--accent-solid-text)] hover:bg-[var(--accent-solid-hover)]"}`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":"Settings",children:u.jsx(Re,{mode:"wait",children:u.jsx(ee.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.15},className:"flex items-center justify-center w-full h-full",children:e?u.jsx(Dr,{className:"w-6 h-6 flex-shrink-0"}):u.jsx(kf,{className:"w-6 h-6 flex-shrink-0"})},e?"close":"open")})})]})},Zq={type:"spring",stiffness:500,damping:40},eH=({chapterId:e,activeTocId:t})=>{var p,b;const{t:n}=ft(),{subjectData:a,language:i}=Ve(),[r,o]=N.useState(!1),s=N.useRef(null),[l,c]=N.useState(null),h=i==="zh"?(p=a==null?void 0:a.textbookData[e])==null?void 0:p.content.zh:(b=a==null?void 0:a.textbookData[e])==null?void 0:b.content.en,d=N.useMemo(()=>{if(!h)return[];const y=/^(##|###)\s(.+)/gm,T=[...h.matchAll(y)],g=[];let w=null;return T.forEach(x=>{const _=x[1].length,C=x[2].trim(),A=Hs(C);_===2?(w={title:C,slug:A,children:[]},g.push(w)):_===3&&w&&w.children.push({title:C,slug:A})}),g},[h]),m=y=>{const T=document.querySelector(".prose-container"),g=document.getElementById(y);if(T&&g){const w=T.getBoundingClientRect().top,_=g.getBoundingClientRect().top-w;T.scrollTo({top:T.scrollTop+_,behavior:"smooth"})}o(!1)};return N.useEffect(()=>{if(t){const y=d.find(T=>T.slug===t||T.children.some(g=>g.slug===t));y&&c(y.slug)}},[t,d]),N.useEffect(()=>{const y=T=>{s.current&&!s.current.contains(T.target)&&o(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),d.length===0?null:u.jsxs("div",{ref:s,className:"relative z-[var(--z-content-overlay)]",children:[u.jsxs(ee.button,{onClick:()=>o(y=>!y),className:"h-12 px-5 bg-[var(--accent-solid)] rounded-full text-[var(--accent-solid-text)] flex items-center justify-center gap-2 shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":n("sidebar_toc_header"),children:[u.jsx($g,{className:"w-5 h-5"}),u.jsx("span",{className:"text-sm font-semibold whitespace-nowrap",children:n("sidebar_toc_header")})]}),u.jsx(Re,{children:r&&u.jsx(ee.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:Zq,className:"absolute top-full mt-2 left-0 w-72 glass-pane rounded-xl p-2 shadow-lg",children:u.jsx("div",{className:"max-h-80 overflow-y-auto space-y-1",children:d.map(y=>{const T=l===y.slug;return u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>c(T?null:y.slug),className:"w-full flex justify-between items-center p-2 rounded-md text-sm font-semibold text-left hover:bg-[var(--ui-bg-hover)]",children:[u.jsx("a",{href:`#${y.slug}`,onClick:g=>{g.preventDefault(),m(y.slug)},className:`flex-1 truncate pr-2 ${t===y.slug?"text-[var(--accent-text)]":""}`,children:y.title}),y.children.length>0&&u.jsx(Tf,{className:`w-4 h-4 transition-transform ${T?"rotate-0":"-rotate-90"}`})]}),u.jsx(Re,{children:T&&y.children.length>0&&u.jsx(ee.div,{initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},className:"pl-4 overflow-hidden",children:y.children.map(g=>u.jsx("a",{href:`#${g.slug}`,onClick:w=>{w.preventDefault(),m(g.slug)},className:`block p-2 rounded-md text-sm truncate hover:bg-[var(--ui-bg-hover)] ${t===g.slug?"text-[var(--accent-text)] font-medium":"text-[var(--text-secondary)]"}`,children:g.title},g.slug))})})]},y.slug)})})})})]})},tH=({chapterId:e,initialMode:t,onNavigate:n,setView:a,isSidebarOpen:i,setActiveTocId:r,activeTocId:o,onToggleMode:s})=>{const{t:l}=ft(),{subjectData:c,language:h}=Ve(),{startQuiz:d,quizState:m}=fs(),[p,b]=N.useState(t);return N.useEffect(()=>{b(t)},[e,t]),N.useEffect(()=>{if(c&&p==="quiz"){const y=e.replace(/\D/g,""),T=c.problems.filter(x=>x.chapter===y),g=c.chapterList.find(x=>x.id===e),w=g?g.title[h]:`${l("chapter")} ${y}`;T.length>0&&(m==null?void 0:m.chapterId)!==e&&d({problems:T,title:w,startIndex:0,chapterId:e})}},[p,e,c,h,d,l,m==null?void 0:m.chapterId]),u.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[u.jsx("div",{className:`absolute inset-0 w-full h-full transition-transform duration-500 ease-in-out ${p==="reading"?"translate-x-0":"-translate-x-full"}`,style:{zIndex:p==="reading"?1:0},children:u.jsx(qq,{chapterId:e,setView:a,setActiveTocId:r})}),u.jsx("div",{className:`absolute inset-0 w-full h-full transition-transform duration-500 ease-in-out ${p==="reading"?"translate-x-full":"translate-x-0"}`,style:{zIndex:p==="quiz"?1:0},children:u.jsx(Hk,{onReturnHome:a,isSidebarOpen:i})})]})},nH=()=>{const[e,t]=N.useState({type:"home"}),[n,a]=N.useState([]),[i,r]=N.useState(!1),[o,s]=N.useState(!1),[l,c]=N.useState(!1),h=N.useRef(null),{t:d}=ft(),{setSubject:m,subjectData:p,language:b}=Ve(),{endQuiz:y,startQuiz:T,quizState:g}=fs(),[w,x]=N.useState(0),[_,C]=N.useState(null);N.useEffect(()=>{e.type==="quiz"&&!e.chapterId&&e.problems&&(g==null?void 0:g.id)!==e.id&&T({id:e.id,problems:e.problems,title:e.title,startIndex:e.startIndex||0})},[e,g==null?void 0:g.id,T]);const A=(L,B)=>{x(B),L.type!=="quiz"&&L.type,t(L),window.innerWidth<1024&&r(!1),C(null)},M=L=>{a(B=>[...B,e]),A(L,1),s(!1)},I=L=>{a([]),A(L,0),s(!1)},R=()=>{if(n.length>0){const L=n[n.length-1],B=n.slice(0,-1);a(B),A(L,-1)}},z=e.type==="textbook"||e.type==="quiz"&&!!e.chapterId,F=e.type==="textbook"||e.type==="quiz"?e.chapterId:null,H=N.useMemo(()=>{if(!F||!p)return!1;const L=F.replace(/\D/g,""),B=p.problems.some(E=>E.chapter===L),V=p.chapterList.some(E=>E.id===F&&!E.disabled);return e.type==="quiz"?V:e.type==="textbook"?B:!1},[F,p,e.type]),X=()=>{if(!(!F||!p))if(e.type==="textbook"){const L=F.replace(/\D/g,""),B=p.problems.filter(re=>re.chapter===L),V=p.chapterList.find(re=>re.id===F),E=V?V.title[b]:`${d("chapter")} ${L}`;A({type:"quiz",id:`chapter-${L}-quiz-${Date.now()}`,problems:B,title:E,startIndex:0,chapterId:F},0)}else e.type==="quiz"&&A({type:"textbook",chapterId:F},0)},G=()=>{if(z&&F)return u.jsx(tH,{chapterId:F,initialMode:e.type==="textbook"?"reading":"quiz",onNavigate:M,setView:M,isSidebarOpen:i,setActiveTocId:C,activeTocId:_,onToggleMode:X},F);switch(e.type){case"overview":return u.jsx(pj,{setView:M});case"glossary":return u.jsx(FM,{setView:M});case"problem":return u.jsx(gj,{id:e.id,setView:M,isSidebarOpen:i});case"exercise":return u.jsx(Xq,{id:e.id,setView:M,isSidebarOpen:i});case"programming":return u.jsx(Gq,{setView:M});case"history":return u.jsx(bj,{setView:M});case"question_bank_quiz":return u.jsx(Hq,{setView:M});case"quiz":return u.jsx(Hk,{onReturnHome:M,isSidebarOpen:i});case"bookmarks":return u.jsx(Wq,{setView:M});case"home":default:return u.jsx(mj,{setView:M})}},j=()=>z&&F?F:e.type==="problem"||e.type==="exercise"?e.id:e.type,$={enter:L=>({opacity:0,x:L>0?20:L<0?-20:0,y:L===0?10:0,transition:{type:"spring",stiffness:400,damping:35,mass:.8}}),center:{opacity:1,x:0,y:0,transition:{type:"spring",stiffness:400,damping:35,mass:.8}},exit:L=>({opacity:0,x:L>0?-20:L<0?20:0,y:L===0?-10:0,transition:{duration:.15,ease:"easeIn"}})};return u.jsxs("div",{className:"h-full",children:[u.jsxs("div",{className:"absolute top-3 left-4 right-4 z-[var(--z-fab)] flex justify-between items-start pointer-events-none",children:[u.jsxs("div",{className:"flex flex-col items-start gap-2 pointer-events-auto",children:[u.jsxs("div",{className:"flex items-center gap-2 p-1 rounded-full transition-colors duration-300",children:[u.jsx(ee.button,{onClick:()=>r(L=>!L),className:"w-10 h-10 md:w-12 md:h-12 bg-[var(--accent-solid)] rounded-full text-[var(--accent-solid-text)] flex items-center justify-center shadow-lg hover:bg-[var(--accent-solid-hover)] transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":"Toggle menu",children:u.jsx(Re,{mode:"wait",children:u.jsx(ee.div,{initial:{opacity:0,scale:.6,rotate:-45},animate:{opacity:1,scale:1,rotate:0},exit:{opacity:0,scale:.6,rotate:45},transition:{duration:.15,ease:"easeOut"},children:i?u.jsx(Dr,{className:"w-5 h-5 md:w-6 md:h-6"}):u.jsx(sM,{className:"w-5 h-5 md:w-6 md:h-6"})},i?"close":"open")})}),u.jsx(Re,{children:n.length>0&&u.jsxs(ee.button,{onClick:R,className:"h-10 md:h-12 px-3 md:px-4 bg-[var(--accent-solid)] rounded-full text-[var(--accent-solid-text)] flex items-center justify-center gap-2 shadow-lg hover:bg-[var(--accent-solid-hover)] transition-colors",initial:{scale:.8,opacity:0,x:-15},animate:{scale:1,opacity:1,x:0},exit:{scale:.8,opacity:0,x:-15},whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":d("go_back"),children:[u.jsx(pM,{className:"w-4 h-4 md:w-5 md:h-5"}),u.jsx("span",{className:"text-sm font-semibold whitespace-nowrap hidden sm:inline",children:d("go_back")})]},"back")}),u.jsxs(ee.button,{onClick:()=>m(null),className:"h-10 md:h-12 px-3 md:px-4 bg-[var(--accent-solid)] rounded-full text-[var(--accent-solid-text)] flex items-center justify-center gap-2 shadow-lg hover:bg-[var(--accent-solid-hover)] transition-colors",initial:{scale:.8,opacity:0,x:-15},animate:{scale:1,opacity:1,x:0},exit:{scale:.8,opacity:0,x:-15},whileHover:{scale:1.05},whileTap:{scale:.95},children:[u.jsx(iM,{className:"w-4 h-4 md:w-5 md:h-5"}),u.jsx("span",{className:"text-sm font-semibold whitespace-nowrap hidden sm:inline",children:d("change_subject")})]}),u.jsx(Re,{children:H&&u.jsx(ee.button,{onClick:X,className:"h-10 md:h-12 px-3 md:px-4 bg-[var(--accent-solid)] rounded-full text-[var(--accent-solid-text)] flex items-center justify-center gap-2 shadow-lg hover:bg-[var(--accent-solid-hover)] transition-colors",initial:{scale:.8,opacity:0,x:-15},animate:{scale:1,opacity:1,x:0},exit:{scale:.8,opacity:0,x:-15},whileHover:{scale:1.05},whileTap:{scale:.95},children:e.type==="textbook"?u.jsxs(u.Fragment,{children:[u.jsx(Zo,{className:"w-4 h-4 md:w-5 md:h-5"}),u.jsx("span",{className:"text-sm font-semibold whitespace-nowrap hidden sm:inline",children:"Quiz"})]}):u.jsxs(u.Fragment,{children:[u.jsx(ps,{className:"w-4 h-4 md:w-5 md:h-5"}),u.jsx("span",{className:"text-sm font-semibold whitespace-nowrap hidden sm:inline",children:"Text"})]})},"switch-mode")})]}),u.jsx(Re,{children:e.type==="textbook"&&!i&&u.jsx(ee.div,{className:"flex flex-col items-start gap-3 pointer-events-auto mt-1",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:u.jsx(eH,{chapterId:e.chapterId,activeTocId:_})})})]}),u.jsx("div",{className:"pointer-events-auto hidden lg:block"})]}),u.jsx(Re,{children:i&&u.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!1),className:"lg:hidden fixed inset-0 bg-black/30 z-[var(--z-sidebar-backdrop)] backdrop-blur-sm"})}),u.jsx(BM,{view:e,onNavigate:M,onResetNavigate:I,isOpen:i,setIsOpen:r,onOpenSearch:()=>s(!0),onOpenSettings:()=>{c(!0),r(!1)}}),u.jsxs("div",{className:`relative h-full flex flex-col overflow-hidden lg:glass-pane lg:rounded-2xl transition-[margin-left] duration-300 ease-in-out 
          ${i?"lg:ml-72 xl:ml-72 2xl:ml-80":"lg:ml-0"}
      `,children:[u.jsx("main",{ref:h,className:"flex-1 overflow-hidden",style:{position:"relative"},children:u.jsx(Re,{mode:"wait",custom:w,children:u.jsx(ee.div,{custom:w,variants:$,initial:"enter",animate:"center",exit:"exit",className:"h-full",children:G()},j())})}),u.jsx("div",{className:"pointer-events-none",children:u.jsx("div",{className:"absolute bottom-20 right-4 lg:bottom-6 lg:right-6 z-[var(--z-fab)] pointer-events-auto",children:u.jsx(Jq,{isOpen:l,setIsOpen:c,view:e})})})]}),u.jsx(Re,{children:o&&u.jsx(Yq,{onClose:()=>s(!1),onNavigate:M})})]})},aH=()=>{const{subject:e,isSubjectLoading:t}=Ve();return u.jsxs("div",{className:"relative h-screen overflow-hidden lg:p-6",children:[u.jsx(MM,{}),u.jsx(Re,{mode:"wait",children:e?t?u.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},className:"w-full h-full flex items-center justify-center",children:u.jsx("div",{className:"text-lg font-semibold text-[var(--text-secondary)]",children:"Loading..."})},"loading"):u.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"h-full",children:u.jsx(zM,{children:u.jsx(nH,{})})},"main-app"):u.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"w-full h-full",children:u.jsx(xM,{})},"subject-selection")})]})},v6=document.getElementById("root");if(!v6)throw new Error("Could not find root element to mount to");const iH=y7.createRoot(v6);iH.render(u.jsx(Io.StrictMode,{children:u.jsx(aM,{children:u.jsx(aH,{})})}));
